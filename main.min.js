var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),game;!function(e){var t=function(){function e(){}return e.prototype.addMessage=function(e,t){EventBus.getIns().addMessage(e,t,this)},e.prototype.removeMessage=function(e,t){EventBus.getIns().removeMessage(e,t)},e.prototype.sendMessage=function(e,t){void 0===t&&(t=null),EventBus.getIns().sendMessage(e,t)},e.prototype.ei=function(e,t,a){e.addEventListener(t,a,this)},e.prototype.removeEI=function(e,t,a){e.removeEventListener(t,a,this)},e}();e.GameDM=t,__reflect(t.prototype,"game.GameDM")}(game||(game={}));var BaseGameEntity=function(){function e(t){this.m_ID=0,this.m_iType=0,this.m_bTag=!1,this.m_vPosition=new Vector2D(0,0),this.m_vScale=new Vector2D(0,0),this.m_dBoundingRadius=0;var a=this;a.m_dBoundingRadius=0,a.m_vScale=new Vector2D(1,1),a.m_iType=e.default_entity_type,a.m_bTag=!1,a.SetID(t)}return e.prototype.HandleMessage=function(e){return!1},e.prototype.Update=function(){},e.prototype.Pos=function(){return this.m_vPosition},e.prototype.SetPos=function(e){this.m_vPosition=e.clone()},e.prototype.BRadius=function(){return this.m_dBoundingRadius},e.prototype.SetBRadius=function(e){this.m_dBoundingRadius=e},e.prototype.ID=function(){return this.m_ID},e.prototype.IsTagged=function(){return this.m_bTag},e.prototype.Tag=function(){this.m_bTag=!0},e.prototype.UnTag=function(){this.m_bTag=!1},e.prototype.Scale=function(){return this.m_vScale},e.prototype.SetScale=function(e){this.m_dBoundingRadius*=BallUtils.MaxOf(e.x,e.y)/BallUtils.MaxOf(this.m_vScale.x,this.m_vScale.y),this.m_vScale=e},e.prototype.SetScaleNum=function(e){this.m_dBoundingRadius*=e/BallUtils.MaxOf(this.m_vScale.x,this.m_vScale.y),this.m_vScale=new Vector2D(e,e)},e.prototype.EntityType=function(){return this.m_iType},e.prototype.SetEntityType=function(e){this.m_iType=e},e.prototype.SetID=function(e){var t=this;t.m_ID=e},e.default_entity_type=-1,e}();__reflect(BaseGameEntity.prototype,"BaseGameEntity");var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._switchTop=function(e){var t=this;if(e!=t._obTopM){if(null!=t._obTopM){var a=t._obTopM.parent;null!=a&&a.removeChild(t._obTopM),t._obTopM._isSubCreated&&t._obTopM.onHide(!1),egret.Tween.get(t._obTopM).to({alpha:0},250,egret.Ease.cubicOut).call(t.closeTopfun,t)}t._obTopM=e,null!=e&&(dm.VDM.s_root.addChild(e),e._isSubCreated&&e.onShow(!1),egret.Tween.get(e).to({alpha:1},250,egret.Ease.cubicOut).call(t.opentopok,t))}},t.prototype.opentopok=function(){var e=this;e._obTopM},t.prototype.closeTopfun=function(){var e=this;e._obTopM},t}(e.GameDM);e.TopP_DM=t,__reflect(t.prototype,"game.TopP_DM")}(game||(game={}));var net;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.endian=egret.Endian.LITTLE_ENDIAN,t}return __extends(t,e),t.prototype.CheckPos=function(e){return e=e,-1==e?!0:0==e||e>=0&&e<this.length?(this.position=Math.floor(e),!0):!1},t.prototype.AddBool=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeBoolean(e),!0):!1},t.prototype.AddByte=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeByte(e),!0):!1},t.prototype.AddShort=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeShort(e),!0):!1},t.prototype.AddWord=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeShort(e),!0):!1},t.prototype.AddInt=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeInt(e),!0):!1},t.prototype.AddDword=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeUnsignedInt(e),!0):!1},t.prototype.AddFloat=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeFloat(e),!0):!1},t.prototype.AddDouble=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeDouble(e),!0):!1},t.prototype.AddShortString=function(e,t){void 0===t&&(t=-1);var a=this;if(!a.CheckPos(t))return!1;var i=Math.floor(a.position);a.writeShort(0),a.writeMultiByte(e,"utf-8"),a.writeByte(0);var n=Math.floor(a.position-i-2);return a.position=Math.floor(i),a.writeShort(n),a.position=Math.floor(i+2+n),!0},t.prototype.AddString=function(e,t){void 0===t&&(t=-1);var a=this;return a.CheckPos(t)?(a.writeMultiByte(e,"utf-8"),!0):!1},t.prototype.AddArray=function(e,t,a){void 0===t&&(t=-1),void 0===a&&(a=5);var i=this;if(!e||e.length<=0||!i.CheckPos(t))return!1;switch(a){case define.DataType.BYTE:case define.DataType.UBYTE:for(var n in e){var o=e[n];i.AddByte(o)}break;case define.DataType.SHORT:for(var r in e){var s=e[r];i.AddShort(s)}break;case define.DataType.WORD:for(var l in e){var p=e[l];i.AddWord(p)}break;case define.DataType.INT:for(var c in e){var u=e[c];i.AddInt(u)}break;case define.DataType.DWORD:for(var m in e){var g=e[m];i.AddDword(g)}break;case define.DataType.FLOAT:for(var _ in e){var h=e[_];i.AddFloat(h)}break;case define.DataType.DOUBLE:for(var d in e){var y=e[d];i.AddDouble(y)}break;case define.DataType.STRING:for(var v in e){var f=e[v];i.AddString(f)}break;default:return!1}return!0},t.prototype.GetBool=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<1?!1:t.readBoolean()},t.prototype.GetByte=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<1?0:t.readByte()},t.prototype.GetUByte=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<1?0:t.readUnsignedByte()},t.prototype.GetShort=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<2?0:t.readShort()},t.prototype.GetWord=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<2?0:t.readUnsignedShort()},t.prototype.GetInt=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<4?0:t.readInt()},t.prototype.GetDword=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<4?0:t.readUnsignedInt()},t.prototype.GetFloat=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<4?0:t.readFloat()},t.prototype.GetDouble=function(e){void 0===e&&(e=-1);var t=this;return!t.CheckPos(e)||t.bytesAvailable<8?0:t.readDouble()},t.prototype.GetShortString=function(e){void 0===e&&(e=-1);var t=this;if(t.bytesAvailable<=4||!t.CheckPos(e))return"";var a=Math.floor(t.readUnsignedShort());return t.bytesAvailable<a?"":t.readMultiByte(a,"utf-8")},t.prototype.GetString=function(e){void 0===e&&(e=-1);var t=this;if(t.bytesAvailable<=4||!t.CheckPos(e))return"";var a=Math.floor(t.readUnsignedInt());return t.bytesAvailable<a?"":t.readMultiByte(a,"utf-8")},t.prototype.GetStringLen=function(e){void 0===e&&(e=0);var t=this;if(t.bytesAvailable<=4&&e>4)return"";if(0==e){var a=Math.floor(t.readUnsignedInt());return t.bytesAvailable<a?"":t.readMultiByte(a,"utf-8")}return t.bytesAvailable<e?"":t.readMultiByte(e,"utf-8")},t.prototype.GetArray=function(e,t,a){void 0===t&&(t=-1),void 0===a&&(a=5);var i=this;if(0==e||!i.CheckPos(t))return null;for(var n=[];e>0;)n.push(0),e--;var o;switch(a){case define.DataType.BYTE:for(o in n)n[o]=i.GetByte();break;case define.DataType.UBYTE:for(o in n)n[o]=i.GetUByte();break;case define.DataType.SHORT:for(o in n)n[o]=i.GetShort();break;case define.DataType.WORD:for(o in n)n[o]=i.GetWord();break;case define.DataType.INT:for(o in n)n[o]=i.GetInt();break;case define.DataType.DWORD:for(o in n)n[o]=i.GetDword();break;case define.DataType.FLOAT:for(o in n)n[o]=i.GetFloat();break;case define.DataType.DOUBLE:for(o in n)n[o]=i.GetDouble();break;case define.DataType.STRING:for(o in n)n[o]=i.GetString();break;default:return null}return n},t}(egret.ByteArray);e.NetBasePack=t,__reflect(t.prototype,"net.NetBasePack")}(net||(net={}));var MovingEntity=function(e){function t(t,a,i,n,o,r,s,l,p,c){var u=e.call(this,t)||this;u.m_vVelocity=new Vector2D(0,0),u.m_vHeading=new Vector2D(0,0),u.m_vSide=new Vector2D(0,0),u.m_dMass=0,u.m_dMaxSpeed=0,u.m_dMaxForce=0,u.m_dMaxTurnRate=0,u.m_vhomePosition=new Vector2D(0,0);var m=u;return m.m_vHeading.copyOther(r),m.m_vVelocity.copyOther(n),m.m_dMass=s,m.m_vSide.copyOther(m.m_vHeading.Perp()),m.m_dMaxSpeed=o,m.m_dMaxTurnRate=p,m.m_dMaxForce=c,m.m_vPosition.copyOther(a),m.m_vhomePosition.copyOther(a),m.m_dBoundingRadius=i,m.m_vScale.copyOther(l),u}return __extends(t,e),t.prototype.Velocity=function(){return this.m_vVelocity},t.prototype.SetVelocity=function(e){this.m_vVelocity.copyOther(e)},t.prototype.Mass=function(){return this.m_dMass},t.prototype.Side=function(){return this.m_vSide},t.prototype.MaxSpeed=function(){return this.m_dMaxSpeed},t.prototype.SetMaxSpeed=function(e){this.m_dMaxSpeed=e},t.prototype.MaxForce=function(){return this.m_dMaxForce},t.prototype.SetMaxForce=function(e){this.m_dMaxForce=e},t.prototype.IsSpeedMaxedOut=function(){return this.m_dMaxSpeed*this.m_dMaxSpeed>=this.m_vVelocity.lengthSQ},t.prototype.Speed=function(){return this.m_vVelocity.length},t.prototype.SpeedSq=function(){return this.m_vVelocity.lengthSQ},t.prototype.Heading=function(){return this.m_vHeading},t.prototype.MaxTurnRate=function(){return this.m_dMaxTurnRate},t.prototype.SetMaxTurnRate=function(e){this.m_dMaxTurnRate=e},t.prototype.HomePosition=function(){return this.m_vhomePosition},t.prototype.RotateHeadingToFacePosition=function(e){var t=this,a=Vector2D.Vec2DNormalize(Vector2D.mathJianOther(e,t.m_vPosition)),i=t.m_vHeading.dotProd(a);i=BallUtils.Clamp(i,-1,1);var n=Math.acos(i);if(1e-5>n)return!0;n>t.m_dMaxTurnRate&&(n=t.m_dMaxTurnRate);var o=new C2DMatrix;return o.Rotate(n*t.m_vHeading.Sign(a)),o.TransformVector2Ds(t.m_vHeading),o.TransformVector2Ds(t.m_vVelocity),t.m_vSide.copyOther(t.m_vHeading.Perp()),!1},t.prototype.SetHeading=function(e){var t=this;e.lengthSQ-1<1e-5&&(t.m_vHeading.copyOther(e),t.m_vSide.copyOther(t.m_vHeading.Perp()))},t}(BaseGameEntity);__reflect(MovingEntity.prototype,"MovingEntity");var ProcessorBase=function(){function e(){}return e.prototype.getCmd=function(){return""},e.prototype.getResName=function(){var e=this.getCmd();return BufRequests.getBufVo(e).responsestr},e.prototype.execute=function(e){},e}();__reflect(ProcessorBase.prototype,"ProcessorBase");var ResName=function(){function e(){}return e.getItemIcon=function(e){var t=GlobalConfig.getItemVo(e);return t?GlobalEnum.getIconName(t.icon):void 0},e.decideLoadArr=function(e){for(var e=e,t="",a=e.length-1;a>=0;a--)t=e[a],RES.getRes(t)&&e.splice(a,1)},e.getPlayerIcon=function(e){return"player_icon_"+e},e.getRankPlayerbg=function(e,t,a,i,n,o){void 0===a&&(a=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!1);var r="";switch(e){case playerlocation.location_1:r=n?"tab_bbqy_a1":i?"tab_kjzx_f1":a?"tab_kapai_a3":o?"tab_zx_g6":t?"tab_zx_d1":"tab_ckjlb1_6";break;case playerlocation.location_2:case playerlocation.location_3:case playerlocation.location_4:case playerlocation.location_5:case playerlocation.location_6:case playerlocation.location_7:case playerlocation.location_8:case playerlocation.location_9:case playerlocation.location_10:r=n?"tab_bbqy_a2":i?"tab_kjzx_j7":a?"tab_kapai_a4":o?"tab_zx_g4":t?"tab_zx_d2":"tab_ckjlb1_7";break;case playerlocation.location_11:case playerlocation.location_12:case playerlocation.location_13:r=n?"tab_bbqy_a3":i?"tab_kjzx_j8":a?"tab_kapai_a5":o?"tab_zx_g5":t?"tab_zx_d3":"tab_ckjlb1_5";break;case playerlocation.location_14:r=n?"tab_bbqy_a4":i?"tab_kjzx_j9":a?"tab_kapai_a6":o?"tab_zx_g3":t?"tab_zx_d4":"tab_ckjlb1_4";break;default:r=n?"tab_bbqy_a4":i?"tab_kjzx_j9":a?"tab_kapai_a6":o?"tab_zx_g3":t?"tab_zx_d4":""}return r},e.getPlayerbg=function(){},e.getResuleImgStr=function(e){var t=e.split(":"),a="";if(t.length>1){var i=parseInt(t[0]),n=parseInt(t[1]);i>n?a="tab_xzs_f6":i==n?a="tab_xzs_g2":n>i&&(a="tab_xzs_f7")}return a},e.getMinItemIcon=function(t){var a,i=GlobalEnum;switch(t=parseInt(t)){case i.itemid_fighting:a="tab_common_1";break;case i.itemid_fastfight_time:a="smalicon_goumaicishu";break;case i.itemid_herostar:a="smalicon_23";break;case i.itemid_coachstar:a="";break;case i.itemid_herocar:a="smalicon_202001";break;case i.itemid_clublv:case i.itemid_clubgrade:case i.itemid_buildtactics:a="smalicon_21";break;case i.itemid_clearancecondition:a="active_icon_11";break;case i.itemid_promotionmatch:a="smalicon_jinjisai";break;case i.itemid_tourmatch:a="smalicon_xunhuisai";break;case i.itemid_dekaron:a="smalicon_rongyaozhilu";break;case i.itemid_achievementlv:a="smalicon_dengji";break;case i.itemid_equipmentquality:a="smalicon_zhuangbei";break;case i.itemid_equipmentquality:a="smalicon_zhuangbei";break;case i.itemid_playerstarty:a="smalicon_qiuyuan";break;case i.itemid_peakseason:a="smalicon_danfengjifen";break;case i.itemid_playerquality:a="smalicon_qiuyuan";break;default:var n=GlobalConfig.getItemVo(t);if(n){var o="smalicon_"+n.icon;RES.hasRes(o)&&(a=o)}}return a||(a=e.getItemIcon(t)),a},e.getNewTraitPath=function(e){var t;switch(e){case playertrait.trait_N:t="tab_kapai_a8";break;case playertrait.trait_R:t="tab_kapai_a9";break;case playertrait.trait_SR:t="tab_kapai_b1";break;case playertrait.trait_SSR:t="tab_kapai_b2";break;case playertrait.trait_UR:t="tab_zx_h1"}return t},e.getNewTraitBgImg=function(e){var t;switch(e){case playertrait.trait_N:t="tab_kapai_b3";break;case playertrait.trait_R:t="tab_kapai_b4";break;case playertrait.trait_SR:t="tab_kapai_b5";break;case playertrait.trait_SSR:t="tab_kapai_b6";break;case playertrait.trait_UR:t="tab_zx_h2"}return t},e.getHeroTraitBgImg=function(e){var t;switch(e){case playertrait.trait_N:t="tab_qdty_c3";break;case playertrait.trait_R:t="tab_qdty_c4";break;case playertrait.trait_SR:t="tab_qdty_c5";break;case playertrait.trait_SSR:t="tab_qdty_c6";break;case playertrait.trait_UR:t="tab_zx_h8"}return t},e.getRankbg=function(e){var t=";";switch(e){case 1:t="tab_ph_b1";break;case 2:case 3:t="tab_ph_b2";break;default:t="tab_ph_a6"}return t},e.getNewTraitstrokeCol=function(e){var t;switch(e){case playertrait.trait_N:t=4997697;break;case playertrait.trait_R:t=670038;break;case playertrait.trait_SR:t=3414613;break;case playertrait.trait_SSR:t=5192995;break;case playertrait.trait_UR:t=16711680}return t},e.getTraitPathMin=function(e){var t;switch(e){case playertrait.trait_N:t="tab_kjzx_e5";break;case playertrait.trait_R:t="tab_kjzx_e4";break;case playertrait.trait_SR:t="tab_kjzx_e3";break;case playertrait.trait_SSR:t="tab_kjzx_e2";break;case playertrait.trait_UR:t="tab_kjzx_o1"}return t},e.getPingimg=function(e){var t,a,i,n=[],o=e.length;if(o){i=e.charAt(0);for(var r=0;o>r;r++)t=e.charAt(r),t&&(a="-"==t?"tab_qy_p_"+i+"2":"+"==t?"tab_qy_p_"+i+"1":"tab_qy_p_"+i+"0",n.push(a))}return n},e.getRankImg=function(e){var t="";return 1==e?t="tab_tzzl_c8":2==e?t="tab_tzzl_c9":3==e&&(t="tab_tzzl_d1"),t},e.getDragonArr=function(e){var t=e+"_ske",a=e+"_tex_json",i=e+"_tex";return[t,a,i]},e.getDragonFastArr=function(t){return e.getDragonArr(t)},e.getSYMovieArr=function(e){var t=e,a=e+"_json";return[t,a]},e.DecideLoadArr=function(e){for(var e=e,t="",a=!0,i=e.length-1;i>=0;i--)t=e[i],RES.getRes(t)?e.splice(i,1):a=!1;return a},e.getAchieveBgForType=function(e){var t="";switch(e){case achieveClassType.type_a:t="tab_cj_b1";break;case achieveClassType.type_b:t="tab_cj_b2";break;case achieveClassType.type_c:t="tab_cj_b3"}return t},e.getBuildImg=function(e,t,a,i){void 0===i&&(i=!0);var n,o,r="";switch(a=!0,e){case stafftype.type_player:if(i){var s=GlobalAllProxy.getInstance().playerProxy.clubData;s&&(t=s.grade)}n=GlobalConfig.getClubgradeVO(t),o="build_jlb_";break;case stafftype.type_tactical:n=GlobalConfig.getTacticsCenterVO(t),o="build_zszx_";break;case stafftype.type_tech:n=GlobalConfig.getTechCenterVO(t),o="build_kjzx_";break;case stafftype.type_scout:n=GlobalConfig.getScoutCenterVO(t),o="build_qtzx_"}if(n){var l=n.geticon();r=a?o+"a"+l:o+"b"+l}return r},e.getBuildComVo=function(e,t,a){void 0===a&&(a=!0);var i;switch(e){case stafftype.type_player:if(a){var n=GlobalAllProxy.getInstance().playerProxy.clubData;n&&(t=n.grade)}i=GlobalConfig.getClubgradeVO(t);break;case stafftype.type_tactical:i=GlobalConfig.getTacticsCenterVO(t);break;case stafftype.type_tech:i=GlobalConfig.getTechCenterVO(t);break;case stafftype.type_scout:i=GlobalConfig.getScoutCenterVO(t)}return i},e.getHeroRebornImg=function(e){var t="";switch(e){case 1:t="tab_xlzx1_d7";break;case 2:t="tab_xlzx1_d8";break;case 3:t="tab_xlzx1_d9"}return t},e.getMinHeroRebornImg=function(e){var t="";switch(e){case 1:t="smalicon_zhuansheng1";break;case 2:t="smalicon_zhuansheng2";break;case 3:t="smalicon_zhuansheng3"}return t},e.titleFont_zi="titleFont_zi",e.btnFont_zi="btnFont_zi",e.firstFont_zi="firstFont_zi",e.mainFontA_zi="mainFontA_zi",e.mainFontB_zi="mainFontB_zi",e.fnt_title="fnt_title",e.fnt_fight="fnt_fight",e.fnt_main="fnt_main",e.fnt_league="fnt_league",e.spa_main_a=-12,e.spa_title_a=-5,e.spa_title_b=-6,e.spa_fight_a=-8,e.H_main=30,e.H_title=38,e.H_fight=42,e.table_zhuye_04="table_zhuye_04",e.table_zhuye_05="table_zhuye_05",e.logo_load="logo_loading_",e.logo_nosave_load="logo_nosave_loading_",e.logo_kuang_img="tab_dh_kuang_",e.logo_kuang_mask="tab_dh_mask_",e.logo_init_mask="sjdh_tu_1",e.player_icon="player_icon_a",e.panel_advance_Load="panel_advance_Load",e.animo_move_texiao="animo_move_texiao",e.animo_recruit_player="animo_recruit_player",e.animo_upgrade="animo_upgrade",e.animo_main_mcs="animo_main_mcs",e.animo_panel_mcs="animo_panel_mcs",e.animo_skill_mcs="animo_skill_mcs",e.animo_fight_all="animo_fight_all",e.animo_login_all="animo_fight_all",e.mc_award_lingqu="mc_award_lingqu",e.mc_ball_fire="mc_ball_fire",e.numchange="numchange",e.mc_main_tanchutiao="mc_main_tanchutiao",e.mc_main_liuguang="mc_main_liuguang",e.mc_main_julebu="mc_main_julebu",e.mc_main_train="mc_main_train",e.mc_main_qiutanzhongxin="mc_main_qiutanzhongxin",e.mc_main_zhuangbeiyanjiu="mc_main_zhuangbeiyanjiu",e.mc_game_zhanlitisheng="mc_game_zhanlitisheng",e.mc_fight_lose="mc_fight_lose",e.mc_win="mc_win",e.itemcreatmc="itemcreatmc",e.itemovermc="itemovermc",e.itemmovemc="itemmovemc",e.mc_guide="mc_guide",e.mc_flash="mc_flash",e.mc_fight_dianqiu="mc_fight_dianqiu",e.mc_fight_rest="mc_fight_rest",e.mc_fight_goal="mc_fight_goal",e.mc_fight_jiashisai="mc_fight_jiashisai",e.mc_fight_yellowcard="mc_fight_yellowcard",e.mc_fight_redcard="mc_fight_redcard",e.fx_seekPlayer_F="fx_seekPlayer_F",e.fx_seekPlayer_goldCard="fx_seekPlayer_goldCard",e.fx_seekPlayer_blueCard="fx_seekPlayer_blueCard",e.fx_seekPlayer_purCard="fx_seekPlayer_purCard",e.fx_seekPlayer_urCard="fx_seekPlayer_urCard",e.mc_car_golden="mc_car_golden",e.fx_contentLevelUp="fx_contentLevelUp",e.mc_manlevel="mc_manlevel",e.mc_buildingLV="mc_buildingLV",e.mc_buildingSLV="mc_buildingSLV",e.mc_levelup="mc_levelup",e.mc_leveldown="mc_leveldown",e.mc_defend="mc_defend",e.mc_choosing="mc_choosing",e.mc_mouse="mc_mouse",e.mc_function="mc_function",e.mc_draw="mc_draw",e.mc_zhuangbeishengjie="mc_zhuangbeishengjie",e.mc_zhuangbeishenping="mc_zhuangbeishenping",e.mc_gailiang2="mc_gailiang2",e.mc_tech_gailiang="mc_tech_gailiang",e.mc_skill2_c="mc_skill2_c",e.mc_skill2_p="mc_skill2_p",e.mc_center_yizhang="mc_center_yizhang",e.mc_break="mc_break",e.mc_center_suc="mc_center_suc",e.mc_zhaomuzhu_blue="mc_zhaomuzhu_blue",e.mc_zhaomuzhu_gold="mc_zhaomuzhu_gold",e.mc_zidongbisai="mc_zidongbisai",e.mc_center="mc_center",e.mc_guaji="mc_guaji",e.mc_zhanshushengji="mc_zhanshushengji",e.mc_starlv_35="mc_starlv_35",e.mc_starlv_246="mc_starlv_246",e.mc_vipLV="mc_vipLV",e.mc_fire="mc_fire",e.mc_chengjiu1="mc_chengjiu1",e.mc_chengjiu2="mc_chengjiu2",e.mc_jingjisai="mc_jingjisai",e.mc_rongyao_lan="mc_rongyao_lan",e.mc_rongyao_huang="mc_rongyao_huang",e.mc_lingqujiangli="mc_lingqujiangli",e.mc_center3="mc_center3",e.mc_shuaguang2="mc_shuaguang2",e.mc_zhuansheng="mc_zhuansheng",e.mc_zhanshu="mc_zhanshu",e.mc_enter="mc_enter",e.mc_fight_qiangduan="mc_fight_qiangduan",e.mc_fight_renyiqiu_fail="mc_fight_renyiqiu_fail",e.mc_fight_renyiqiu="mc_fight_renyiqiu",e.mc_fight_dianqiu_fail="mc_fight_dianqiu_fail",e.mc_fight_dianqiu_suc="mc_fight_dianqiu_suc",e.mc_fight_jiewei="mc_fight_jiewei",e.mc_fight_fail="mc_fight_fail",e.mc_fight_jiaoqiu="mc_fight_jiaoqiu",e.mc_biao="mc_biao",e.mc_login_guang="mc_login_guang",e.mc_qiuyuanzhuangbei2="mc_qiuyuanzhuangbei2",e.mc_qiuyuanzhuangbei="mc_qiuyuanzhuangbei",e.mc_guanjunliansai="mc_guanjunliansai",e.mc_jiaolianshengjie="mc_jiaolianshengjie",e.mc_jiaolianshengxing="mc_jiaolianshengxing",e.mc_main_tanchutiao_new="mc_main_tanchutiao_new",e.mc_lock="mc_lock",e.mc_stars="mc_stars",e.mc_guajikapai="mc_guajikapai",e.coach_class_arr=["tab_jl_a6","tab_jl_a7","tab_jl_a8","tab_jl_a9","tab_jl_b1","tab_jl_b2","tab_jl_b2"],e.coach_headclass_arr=["tab_jl_i5","tab_jl_i6","tab_jl_i7","tab_jl_i8","tab_jl_i9","tab_jl_j1","tab_jl_j1"],e.equip_type_img_0="icon_bag_equipment_19",e.equip_type_img_1="icon_bag_equipment_17",e.equip_type_img_2="icon_bag_equipment_16",e.equip_type_img_3="icon_bag_equipment_20",e.equip_type_img_4="icon_bag_equipment_24",e.equip_type_img_5="icon_bag_equipment_15",e.equip_type_img_6="icon_bag_equipment_22",e.equip_type_img_7="icon_bag_equipment_23",e.equip_type_img_8="icon_bag_equipment_23",e.equip_type_img_9="icon_bag_equipment_18",e.gem_color_1="icon_bag_equipment_03",e.gem_color_3="icon_bag_equipment_04",e.gem_color_2="icon_bag_equipment_05",e.gem_color_0="icon_bag_equipment_06",e.gem_color_max_3="icon_bag_equipment_11",e.gem_color_max_1="icon_bag_equipment_12",e.gem_color_max_2="icon_bag_equipment_10",e.gem_color_max_0="icon_bag_equipment_09",e.text_bag_equipment_09="text_bag_equipment_09",e.text_bag_equipment_10="text_bag_equipment_10",e.icon_bag_equipment_15="icon_bag_equipment_15",e.icon_bag_equipment_21="icon_bag_equipment_21",e.table_biaotidi_01="table_biaotidi_01",e.tab_yys_b8="tab_yys_b8",e.table_bag_equipment_16="table_bag_equipment_16",e.icon_mall_vip_01="icon_mall_vip_01",e.icon_mall_vip_02="icon_mall_vip_02",e.icon_home_vip_01="icon_home_vip_01",e.icon_mall_vip_03="icon_mall_vip_03",e.text_Role_Copyskills_01="text_Role_Copyskills_01",e.text_Role_Copyskills_02="text_Role_Copyskills_02",e.text_Role_Athleticskills_01="text_Role_Athleticskills_01",e.text_Role_Athleticskills_02="text_Role_Athleticskills_02",e.btn_Role_Thefirstrelease_01="btn_Role_Thefirstrelease_01",e.btn_Role_Moveup_01="btn_Role_Moveup_01",e.sever_stata_arr=["tab_xf_a8","","tab_xf_a7","tab_xf_a9"],e.club_grade_arr=["tab_jlb_lv1","tab_jlb_lv2","tab_jlb_lv3","tab_jlb_lv4","tab_jlb_lv5","tab_jlb_lv6","tab_jlb_lv7"],e.club_sm_grade_arr=["tab_zjm_h3","tab_zjm_h4","tab_zjm_h5","tab_zjm_h6","tab_zjm_h7","tab_zjm_h8","tab_zjm_h9"],e.equip_tao_arr=["tab_kjzx_k2","tab_kjzx_k3","tab_kjzx_k4","tab_kjzx_k5","tab_kjzx_k6","tab_kjzx_k7"],e}();__reflect(ResName.prototype,"ResName");var game;!function(e){var t=function(){function t(){}return t.prototype.call=function(t,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0),e.NetP.re(t,a,i,n,o)},t.prototype.callB=function(t,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0),e.NetB.re(t,a,i,n,o)},t.prototype.generalCallback=function(e){},t.prototype.getMessage=function(e){return BufHandler.instance.getMessage(e)},t.prototype.getMessageInObj=function(e,t){},t.prototype.timePlay=function(e){},t.prototype.callProBSim=function(e,t,a,i,n){void 0===a&&(a="c"),void 0===i&&(i=null),void 0===n&&(n=!0);var o,r=BufRequests.getBufVo(e).requeststr;if(r&&t){var s=this.getMessage(r);o=new s(t)}this.callProB(e,o,t,a,i,n)},t.prototype.callProB=function(e,t,a,i,n,o){void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0);var a=a;BufHandler.instance.SendData(e,t,a,i,n,o)},t.prototype.refreshGame=function(){},t.prototype.zeroPointRefresh=function(e){},t}();e.BaseProxy=t,__reflect(t.prototype,"game.BaseProxy")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.prototype.objectToThis=function(e){try{var t=this;for(var a in e)t.hasOwnProperty(a)&&(t[a]=e[a])}catch(i){}},e.prototype.clone=function(){var e,t,a=egret.getQualifiedClassName(this),i=egret.getDefinitionByName(a),n=new i,o=this;for(t in o)e=o[t],e instanceof Function||(n[t]=o[t]);return n},e}();e.BaseVO=t,__reflect(t.prototype,"game.BaseVO")}(game||(game={}));var game;!function(e){var t=function(){function t(){this._loader=new egret.URLLoader}return t.prototype.onNetR=function(e){},t.prototype.getCmd=function(){return""},t.prototype.re=function(e){var t=this;t._vo=e;var a=Global.serverPath,i={action:e.sendCommand,custom:e.sendParams},n="data="+JSON.stringify(i),o=new egret.HttpRequest;o.responseType=egret.HttpResponseType.TEXT,o.open(a,egret.HttpMethod.POST),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.once(egret.Event.COMPLETE,t.complete_loader,t),o.once(egret.IOErrorEvent.IO_ERROR,t.loadError,t),e.needload&&LoadingMaskView.show(GameEnum.NET_LOAD+e.sendCommand),o.send(n)},t.prototype.complete_loader=function(t){var a,i=this,n=t.currentTarget,o=n.response;o="undefined"==o?"":o;try{a=JSON.parse(o)}catch(t){}if(null!=a){var r=!1,s=a.msg,l=parseInt(a.ret);r=l?!1:!0,i._vo.returnResult=r,i._vo.returnError=s,i._vo.returnErrorNumber=0,i._vo.returnErrorType=0,i._vo.returnParams=a,r||s&&""!=s&&FLOAT.NShowPutong([s])}else i._vo.returnResult=!1,i._vo.returnError=Language.ins.alert_no_link,i._vo.returnErrorNumber=0,i._vo.returnErrorType=2,i._vo.returnParams=o;LoadingMaskView.remove(GameEnum.NET_LOAD+i._vo.sendCommand),i.onNetR(i._vo),e.NetP.remand(i)},t.prototype.loadError=function(t){var a=this;LoadingMaskView.remove(GameEnum.NET_LOAD+a._vo.sendCommand),a._vo.returnResult=!1,a._vo.returnError=Language.ins.alert_no_link,a._vo.returnErrorNumber=0,a._vo.returnErrorType=2,a._vo.returnParams={},FLOAT.NShowPutong([Language.ins.alert_other_link]),a.onNetR(a._vo),e.NetP.remand(a)},t}();e.NetPc=t,__reflect(t.prototype,"game.NetPc")}(game||(game={}));var net;!function(e){var t=function(e){function t(t,a){var i=e.call(this)||this,n=i;return n.m_netSocket=t,n.m_packStore=a,n.InitHandleFunc(),i}return __extends(t,e),Object.defineProperty(t.prototype,"socket",{get:function(){return this.m_netSocket},enumerable:!0,configurable:!0}),t.prototype.InitHandleFunc=function(){},t.prototype.SendData=function(e,t,a,i,n,o){void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0);var r=this,s=new NetBufVO;s.type=i;var l=a;s.sendParams=l,s.ver=PFAll.game_version,s.sendSaveData=n,s.needload=o,s.sendCommand=e,r.m_netSocket.SendPackUnit(e,t,s)},t.prototype.RegistHandlerCla=function(e){this.m_packStore.RegistCmdClass(e)},t.prototype.Trace=function(e){},t}(egret.HashObject);e.NetBufHandlerBase=t,__reflect(t.prototype,"net.NetBufHandlerBase")}(net||(net={}));var skins;!function(e){var t=function(){function e(){}return e.prototype.runto=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=!0);var i=this;return null==t&&(t=[]),t=t.concat(i.resList),i.decideLoadArr(t),a?(i.s_obHost=e,t.length>0?(RES.createGroup(i.resGroupName,t,!0),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,i.groupIOError_res,i),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,i.groupComplete_res,i),LoadingMaskView.show(egret.getQualifiedClassName(e)),RES.loadGroup(i.resGroupName)):i.loadcomfun()):i.loadcomfun(),t},e.prototype.decideLoadArr=function(e){for(var e=e,t="",a=e.length-1;a>=0;a--)t=e[a],RES.getRes(t)&&e.splice(a,1)},e.prototype.loadcomfun=function(){var e=this;e.s_obHost&&e.s_obHost.setLoadError(!1),e.s_obHost.skinName=e.wingSkinName,e.s_obHost.res2setLoaded()},e.prototype.groupComplete_res=function(e){var t=this;t.resGroupName==e.groupName&&(utils.GameComUtil.log("@加载界面资源成功"+t.resGroupName),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,t.groupIOError_res,t),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.groupComplete_res,t),t.loadcomfun())},e.prototype.groupIOError_res=function(e){var t=this;return t.resGroupName==e.groupName?(utils.GameComUtil.log("@加载资源失败"+t.resGroupName,!0),void(t.s_obHost&&t.s_obHost.setLoadError(!0))):void 0},e}();e.BaseSkinDR=t,__reflect(t.prototype,"skins.BaseSkinDR")}(skins||(skins={}));var State=function(){function e(){}return e.prototype.dispose=function(){},e.prototype.Enter=function(e){},e.prototype.Execute=function(e){},e.prototype.Exit=function(e){},e.prototype.OnMessage=function(e,t){return!1},e}();__reflect(State.prototype,"State");var net;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_dwMsgSize=0,t.m_dwMsgMagic=4058174404,t.m_wMsgType=0,t.m_wMsgCmd=0,t.m_dwMsgErrno=0,t.m_dwMsgParams=[0,0],t.Clear(),t}return __extends(t,e),t.prototype.Clear=function(){var e=this;e.length=Math.floor(0),e.m_dwMsgSize=Math.floor(0),e.m_dwMsgMagic=Math.floor(4058174404),e.m_wMsgType=Math.floor(0),e.m_wMsgCmd=Math.floor(0),e.m_dwMsgErrno=Math.floor(Global.version),e.m_dwMsgParams[0]=0,e.m_dwMsgParams[1]=0},t}(e.NetBasePack);e.NetPackUnit=t,__reflect(t.prototype,"net.NetPackUnit")}(net||(net={}));var PFBase=function(){function e(){}return e.prototype.InitPF=function(){},e.prototype.InitConfig=function(){},e.prototype.sendQuitGame=function(){},e.prototype.loginGameOK=function(){},e.prototype.ReshLoad=function(){},e.prototype.pay=function(e){},e.prototype.logingame=function(){},e.prototype.refreshGame=function(){},e.prototype.ReportLog=function(e){},e.prototype.followMe=function(){},e.prototype.toIosEvaluation=function(){},e.prototype.shareGame=function(e){},e.prototype.collectGame=function(){},e.prototype.errorPlay=function(e,t){void 0===t&&(t=!0);var a=this,i=new AlertVO;i.info=e,t?JAlert.show(i,Language.ins.title_tishi,a.ReshLoad,a,a.ReshLoad):JAlert.showinfostr(e,Language.ins.title_tishi,null,null)},e}();__reflect(PFBase.prototype,"PFBase");var HashMap=function(){function e(e){void 0===e&&(e=!1),this._length=0,this._weakKeys=e,this._length=0,this._content=new Object(e)}return e.prototype.containsKey=function(e){return e in this._content?!0:!1},e.prototype.containsValue=function(e){for(var t=this._content.length,a=0;t>a;a++){var i=this._content[a];if(i===e)return!0}return!1},e.prototype.add=function(e,t){return null==e?(console.log("[HashMap]Cannot put a value with undefined or null key!"),this._length):(this.containsKey(e)||this._length++,this._content[e]=t,this._length)},e.prototype.remove=function(e){if(!this.containsKey(e))return null;var t=this._content[e];return delete this._content[e],this._length--,t},e.prototype.removeFirst=function(){if(this._length>0){var e=this.getKeys()[0];return this.remove(e)}return null},e.prototype.clear=function(){for(var e in this._content)delete this._content[e];this._length=0},e.prototype.clone=function(){var t=new e(this._weakKeys);for(var a in this._content)t.add(a,this._content[a]);return t},e.prototype.isEmpty=function(){return 0==this._length},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weakKeys",{get:function(){return this._weakKeys},enumerable:!0,configurable:!0}),e.prototype.getKey=function(e){for(var t in this._content)if(this._content[t]===e)return t;return null},e.prototype.getKeys=function(){null==this._keys&&(this._keys=new Array),this._keys.length=this._length;var e=0;for(var t in this._content)this._keys[e]=t,e++;return this._keys},e.prototype.getValue=function(e){var t=this._content[e];return void 0!==t?t:null},e.prototype.getValues=function(){null==this._values&&(this._values=new Array),this._values.length=this._length;var e=0;for(var t in this._content){var a=this._content[t];this._values[e]=a,e++}return this._values},e}();__reflect(HashMap.prototype,"HashMap");var vm;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._blTimeout4First=!1,t
}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.isChildrenCreated=!0,t.OpenLoad(!1)},t.prototype.OpenLoad=function(e){var t=this;t.isChildrenCreated&&t._isSubCreated?t.onShow(e):t.startLoadRes?(t._blTimeout4First=!0,t.startLoadRes()):t._showV()},t.prototype.getLoadPathArr=function(){return[]},t.prototype.setLoadError=function(e){this.isloaderror=e},t.prototype.isNeedLoad=function(e){void 0===e&&(e=!1);var t=this,a=!1;return t.isloaderror&&(a=!0),e&&a&&t.OpenLoad(!1),a},t.prototype._res2setLoaded=function(){var e=this,e=this;e.isChildrenCreated&&(e.onShow(!0),LoadingMaskView.remove(egret.getQualifiedClassName(e)))},t.prototype.res2setLoaded=function(){var e=this;e._blTimeout4First&&(e._blTimeout4First=!1,e.visible=!1,e._nTimeoutA=egret.setTimeout(e._showV,e,10))},t.prototype.onShow=function(e){e&&this.advanceLoad()},t.prototype.getAdvanceDRArr=function(){return[]},t.prototype.getAdvanceStrArr=function(){return[]},t.prototype.advanceLoad=function(){var e,t=this.getAdvanceDRArr(),a=this.getAdvanceStrArr();if(t.length||a.length){for(var i,n=ResName.panel_advance_Load,o=[],r=0,s=t.length;s>r;r++)i=t[r],e=new i,o=o.concat(e.resList);o=o.concat(a),o=utils.GameComUtil.excRepeat(o),ResName.decideLoadArr(o),o.length>0&&(RES.createGroup(n,o,!0),RES.loadGroup(n))}},t.prototype.isOpend=function(){var e=this,t=!1;return null!=e.stage&&e._isSubCreated&&(t=!0),t},t.prototype._showV=function(){var e=this;e.touchChildren=!0,e._isSubCreated=!0,egret.clearTimeout(e._nTimeoutA),e.visible=!0,e._res2setLoaded()},t.prototype.removeEvent=function(){},t.prototype.addMessage=function(e,t){EventBus.getIns().addMessage(e,t,this)},t.prototype.removeMessage=function(e,t){EventBus.getIns().removeMessage(e,t)},t.prototype.sendMessage=function(e,t){void 0===t&&(t=null),EventBus.getIns().sendMessage(e,t)},t.prototype.onHideComplete=function(e){},t}(eui.Component);e.InnerVM=t,__reflect(t.prototype,"vm.InnerVM")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.showType=0,t.visible=!1,t}return __extends(t,e),t.prototype.switchBtnGroup=function(e,t,a){e.visible=a,t.visible=!a},t.prototype.hideOs=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var i,n=t.length,o=0;n>o;o++)i=t[o],e?i.visible=!1:i.alpha=0},t.prototype.isOpend=function(){var e=this,t=!1;return null!=e.stage&&e._isSubCreated&&(t=!0),t},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.isChildrenCreated=!0,t.OpenLoad(!0)},t.prototype.isNeedLoad=function(e){void 0===e&&(e=!1);var t=this,a=!1;return t.isloaderror&&(a=!0),e&&a&&t.OpenLoad(!1),a},t.prototype.setLoadError=function(e){var t=this;t.isloaderror=e},t.prototype.OpenLoad=function(e){var t=this;t.isChildrenCreated&&t._isSubCreated?t.onShow(e):t.startLoadRes?(t._isstartLoadRes=!0,t.startLoadRes()):t._res2setLoaded()},t.prototype._res2setLoaded=function(){var e=this;e.isChildrenCreated&&(e._isstartLoadRes&&(e._isstartLoadRes=!1),e.onShow(!0),e._isSubCreated=!0,PanelDM.getIns().loadAndOpen(e))},t.prototype.res2setLoaded=function(){var e=this,t=e.getLayer();PanelLayer.viPanel==t&&(e.alpha=0,PanelLayer.viPanel==e.getLayer()),e.touchChildren=!1,egret.setTimeout(e.waitloaded,e,100)},t.prototype.waitloaded=function(){var e=this,t=e.getLayer();if(PanelLayer.panel==t)e.visible=!0,e.touchChildren=!0;else{egret.Tween.removeTweens(e);var a=egret.Tween.get(e);a.to({alpha:1},250,egret.Ease.cubicOut).call(e.tweendown,e)}e._res2setLoaded()},t.prototype.tweendown=function(){this.touchChildren=!0},t.prototype.onShow=function(e){var t=this;t.visible=!0,t.touchChildren=!0,LoadingMaskView.remove(egret.getQualifiedClassName(t)),e&&t.advanceLoad()},t.prototype.getAdvanceDRArr=function(){return[]},t.prototype.getAdvanceStrArr=function(){return[]},t.prototype.advanceLoad=function(){var e,t=this.getAdvanceDRArr(),a=this.getAdvanceStrArr();if(t.length||a.length){for(var i,n=ResName.panel_advance_Load,o=[],r=0,s=t.length;s>r;r++)i=t[r],e=new i,o=o.concat(e.resList);o=o.concat(a),o=utils.GameComUtil.excRepeat(o),ResName.decideLoadArr(o),o.length>0&&(RES.createGroup(n,o,!0),RES.loadGroup(n))}},t.prototype.onHide=function(e){this.panelVo=null},t.prototype.onHideComplete=function(e){},t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.close=function(){PanelDM.getIns().close(egret.getDefinitionByName(egret.getQualifiedClassName(this)))},t.prototype.addMessage=function(e,t){EventBus.getIns().addMessage(e,t,this)},t.prototype.removeMessage=function(e,t){EventBus.getIns().removeMessage(e,t)},t.prototype.sendMessage=function(e,t){void 0===t&&(t=null),EventBus.getIns().sendMessage(e,t)},t.prototype.ei=function(e,t,a){e.addEventListener(t,a,this)},t.prototype.removeEI=function(e,t,a){e.removeEventListener(t,a,this)},t}(eui.Component);e.VM=t,__reflect(t.prototype,"vm.VM")}(vm||(vm={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(eui.ToggleButton);e.KTabBarButton=t,__reflect(t.prototype,"game.KTabBarButton")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._arrT=[],t._arrVI=[],t._mask=new eui.Rect;var a=t;return a._mask.percentWidth=a._mask.percentHeight=100,a._mask.fillColor=0,a._mask.fillAlpha=.75,t}return __extends(t,e),t.prototype._tryTopA=function(e){var t=this;t._mTopVIPanel&&e.addChild(t._mTopVIPanel),t._mTopPostPanel&&e.addChild(t._mTopPostPanel),null!=t._mAlert&&(e.addChild(t._mask),e.addChild(t._mAlert)),null!=t._guidePanel&&e.addChild(t._guidePanel)},t.prototype._showVI=function(e,t){var a=this;if(-1==a._arrT.indexOf(e)){var i=dm.VDM.s_root;a._arrT.push(e),a._arrVI.push(t),i.addChild(a._mask),i.addChild(t),TweenLite.killTweensOf(t,!0),(t._isSubCreated||!t.startLoadRes)&&(t.alpha=0,t.scaleX=.5,t.scaleY=.5,SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_vipanelchange),TweenLite.to(t,.3,{alpha:1,scaleX:1,scaleY:1,delay:.1,ease:Back.easeOut,onComplete:a.openviok.bind(a),onCompleteParams:[t]})),t._isSubCreated&&t.onShow(!1),a._tryTopA(i)}},t.prototype.openviok=function(e){},t.prototype._isVI=function(e){return this._arrT.indexOf(e)>-1},t.prototype._switchTopVIPanel=function(e,t){var a=this;a._cTopVIPanel=t,a._mTopVIPanel=e;var i=dm.VDM.s_root;i.addChild(e),a._mTopVIPanel._isSubCreated&&a._mTopVIPanel.onShow(!1),null!=a._mAlert&&(i.addChild(a._mask),i.addChild(a._mAlert)),null!=a._guidePanel&&i.addChild(a._guidePanel)},t.prototype._switchTopPostPanel=function(e,t){var a=this;a._cTopPostPanel=t,a._mTopPostPanel=e;var i=dm.VDM.s_root;i.addChild(e),null!=a._mAlert&&(i.addChild(a._mask),i.addChild(a._mAlert)),null!=a._guidePanel&&i.addChild(a._guidePanel)},t.prototype._closeTopVIPanel=function(){var e=this;null!=e._mTopVIPanel&&(dm.VDM.s_root.removeChild(e._mTopVIPanel),e._mTopVIPanel._isSubCreated&&e._mTopVIPanel.onHide(!1),e._mTopVIPanel=null)},t.prototype._closeTopPostPanel=function(){var e=this;null!=e._mTopPostPanel&&(dm.VDM.s_root.removeChild(e._mTopPostPanel),e._mTopPostPanel._isSubCreated&&e._mTopPostPanel.onHide(!1),e._mTopPostPanel=null)},t.prototype._alert=function(e,t){var a=this;a._cAlert=t,a._mAlert=e;var i=dm.VDM.s_root;i.addChild(a._mask),i.addChild(e),TweenLite.killTweensOf(e,!0),e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.visible=!0,TweenLite.to(e,.3,{alpha:1,scaleX:1,scaleY:1,ease:Back.easeOut}),a._mAlert._isSubCreated&&a._mAlert.onShow(!1)},t.prototype._tip=function(e,t){var a=this;a._cTip=t,a._mTip=e;var i=dm.VDM.s_root;i.addChild(e),null!=a._mAlert&&(i.addChild(a._mask),i.addChild(a._mAlert)),null!=a._guidePanel&&i.addChild(a._guidePanel),a._mTip._isSubCreated&&a._mTip.onShow(!1)},t.prototype._closeAlert=function(){var e=this;if(null!=e._mAlert){var t=dm.VDM.s_root;TweenLite.killTweensOf(e._mAlert,!0),TweenLite.to(e._mAlert,.15,{alpha:0,scaleX:.5,scaleY:.5,ease:Back.easeIn,onComplete:e.alertcloseok.bind(e),onCompleteParams:[e._mAlert]}),e._mAlert._isSubCreated&&e._mAlert.onHide(!1);var a=e._arrVI.length;if(a>0){var i=t.getChildIndex(e._arrVI[a-1]);t.addChildAt(e._mask,i)}else null!=e._mask.parent&&t.removeChild(e._mask);e._mAlert=null}},t.prototype._closeTip=function(){var e=this;if(null!=e._mTip){var t=dm.VDM.s_root;null!=e._mTip.parent&&t.removeChild(e._mTip),e._mTip._isSubCreated&&e._mTip.onHide(!1),e._mTip=null}},t.prototype.alertcloseok=function(e){null!=e.parent&&e.parent.removeChild(e)},t.prototype.clearVIPanels=function(){for(var e,t=this,a=dm.VDM.s_root,i=t._arrVI.length,n=0;i>n;n++)e=t._arrVI[n],null!=e.parent&&a.removeChild(e),e._isSubCreated&&e.onHide(!1);t._arrT=[],t._arrVI=[],null==t._mAlert&&null!=t._mask.parent&&a.removeChild(t._mask)},t.prototype._closeVI=function(e){var t=this,a=t._arrT.indexOf(e);if(a>-1){var i=dm.VDM.s_root;t._arrT.splice(a,1);var n=t._arrVI.splice(a,1),o=n[0];if(o.touchChildren=!1,TweenLite.killTweensOf(o,!0),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_vipanelchange),TweenLite.to(o,.2,{alpha:0,scaleX:.5,scaleY:.5,ease:Back.easeIn,onComplete:t.vicloseok.bind(t),onCompleteParams:[o]}),null==t._mAlert)if(t._arrT.length>0){var r=i.getChildIndex(t._arrVI[t._arrVI.length-1]),s=i.getChildIndex(t._mask);s>-1&&r>s?dm.VDM.s_root.addChildAt(t._mask,r-1):dm.VDM.s_root.addChildAt(t._mask,r)}else null!=t._mask.parent&&i.removeChild(t._mask)}},t.prototype.vicloseok=function(e){e&&e.onHide(!1),e&&e.parent&&(e.parent.removeChild(e),"function"==typeof e.onHideComplete&&e.onHideComplete())},t}(e.TopP_DM);e.VIPanel_DM=t,__reflect(t.prototype,"game.VIPanel_DM")}(game||(game={}));var PlayerBase=function(e){function t(a,i){var n=e.call(this,i.severid,i.initpos,10*i.scale,i.velocity,i.max_speed,i.heading,i.mass,new Vector2D(i.scale,i.scale),i.max_turn_rate,i.max_force)||this;n.m_iHomeRegion=0,n.m_iDefaultRegion=0,n.m_dDistSqToBall=0,n.m_vecPlayerVB=[],n.home_region=0,n.heading=new Vector2D(0,0),n.velocity=new Vector2D(0,0),n.mass=0,n.max_force=0,n.max_speed=0,n.max_turn_rate=0,n.scale=0;var o=n,r=i.region,s=i.roletype,r=i.region;o.m_data=i,o.m_pTeam=a,o.m_dDistSqToBall=BallUtils.MaxFloat,o.m_iHomeRegion=r,o.m_iDefaultRegion=r,o.m_PlayerRole=s;for(var l,p,c,u=4,m=[new Vector2D(-3,8),new Vector2D(3,10),new Vector2D(3,-10),new Vector2D(-3,-8)],g=0;u>g;++g)l=m[g],p=Math.abs(l.x),c=Math.abs(l.y),o.m_vecPlayerVB.push(l),p>o.m_dBoundingRadius&&(o.m_dBoundingRadius=p),c>o.m_dBoundingRadius&&(o.m_dBoundingRadius=c);return o.m_pSteering=new SteeringBehaviors(o,o.m_pTeam.Pitch(),o.Ball()),o.m_pSteering.SetTarget(o.HomePosition()),t.m_Members.push(o),n}return __extends(t,e),t.prototype.dispose=function(){},t.prototype.Role=function(){return this.m_PlayerRole},t.prototype.DistSqToBall=function(){return this.m_dDistSqToBall},t.prototype.SetDistSqToBall=function(e){this.m_dDistSqToBall=e},t.prototype.SetDefaultHomeRegion=function(){this.m_iHomeRegion=this.m_iDefaultRegion},t.prototype.Steering=function(){return this.m_pSteering},t.prototype.SetHomeRegion=function(e){var t=this,a=e!=t.m_iHomeRegion;t.m_iHomeRegion=e;var i=t.Data();if(i.region=e,!a&&Math.random()<.5);else{var n=t.Ball().Pos(),o=i.getPlyaerPosVct(t.Pitch(),i.region,n);t.m_vhomePosition.copyOther(o)}},t.prototype.Team=function(){return this.m_pTeam},t.GetAllMembers=function(){return t.m_Members},t.prototype.Data=function(){return this.m_data},t.prototype.setData=function(e){this.m_data=e},t.prototype.TrackBall=function(){this.RotateHeadingToFacePosition(this.Ball().Pos())},t.prototype.TrackTarget=function(){var e=this;e.SetHeading(Vector2D.Vec2DNormalize(Vector2D.mathJianOther(e.Steering().Target(),e.Pos())))},t.prototype.SortByDistanceToOpponentsGoal=function(e,t){return e.DistToOppGoal()<t.DistToOppGoal()},t.prototype.SortByReversedDistanceToOpponentsGoal=function(e,t){return e.DistToOppGoal()>t.DistToOppGoal()},t.prototype.PositionInFrontOfPlayer=function(e){var t=this,a=Vector2D.mathJianOther(e,t.Pos());return a.dotProd(t.Heading())>0?!0:!1},t.prototype.isThreatened=function(e){void 0===e&&(e=0/0);var t=ParamLoader.instance,a=this;isNaN(e)&&(e=t.PlayerComfortZoneSq);for(var i,n=a.Team().Opponents().Members(),o=0,r=n.length;r>o;o++)if(i=n[o],a.PositionInFrontOfPlayer(i.Pos())&&Vector2D.Vec2DDistanceSq(a.Pos(),i.Pos())<e)return!0;return!1},t.prototype.FindSupport=function(){var e=this;if(null==e.Team().SupportingPlayer()){var t=e.Team().DetermineBestSupportingAttacker();e.Team().SetSupportingPlayer(t),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),e.Team().SupportingPlayer().ID(),MessageType.Msg_SupportAttacker,null)}var t=e.Team().DetermineBestSupportingAttacker();t&&t!=e.Team().SupportingPlayer()&&(e.Team().SupportingPlayer()&&MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),e.Team().SupportingPlayer().ID(),MessageType.Msg_GoHome,null),e.Team().SetSupportingPlayer(t),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),e.Team().SupportingPlayer().ID(),MessageType.Msg_SupportAttacker,null))},t.prototype.DistToOppGoal=function(){return Math.abs(this.Pos().x-this.Team().OpponentsGoal().Center().x)},t.prototype.DistToHomeGoal=function(){return Math.abs(this.Pos().x-this.Team().HomeGoal().Center().x)},t.prototype.isControllingPlayer=function(){return this.Team().ControllingPlayer()==this},t.prototype.BallWithinKeeperRange=function(){var e=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(this.Pos(),this.Ball().Pos())<e.KeeperInBallRangeSq},t.prototype.BallWithinReceivingRange=function(){var e=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(this.Pos(),this.Ball().Pos())<e.BallWithinReceivingRangeSq},t.prototype.BallWithinKickingRange=function(){var e=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(this.Ball().Pos(),this.Pos())<e.PlayerKickingDistanceSq},t.prototype.InHomeRegion=function(){var e=this;return e.m_PlayerRole==player_role.goal_keeper?e.Pitch().GetRegionFromIndex(e.m_iHomeRegion).Inside(e.Pos(),region_modifier.normal):Vector2D.Vec2DDistanceSq(this.Pos(),e.HomePosition())<=ParamLoader.instance.player_can_R},t.prototype.AtTarget=function(){var e=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(this.Pos(),this.Steering().Target())<e.PlayerInTargetRangeSq},t.prototype.isClosestTeamMemberToBall=function(){return this.Team().PlayerClosestToBall()==this},t.prototype.isClosestPlayerOnPitchToBall=function(){var e=this;return e.isClosestTeamMemberToBall()&&e.DistSqToBall()<e.Team().Opponents().ClosestDistToBallSq()},t.prototype.InHotRegion=function(){var e=this;return Math.abs(e.Pos().y-e.Team().OpponentsGoal().Center().y)<e.Pitch().PlayingArea().Length()/3},t.prototype.isAheadOfAttacker=function(){var e=this;return Math.abs(e.Pos().x-e.Team().OpponentsGoal().Center().x)<Math.abs(e.Team().ControllingPlayer().Pos().x-e.Team().OpponentsGoal().Center().x)},t.prototype.Ball=function(){return this.Team().Pitch().Ball()},t.prototype.Pitch=function(){return this.Team().Pitch()},t.prototype.HomeRegion=function(){return this.Pitch().GetRegionFromIndex(this.m_iHomeRegion)},t.m_Members=[],t}(MovingEntity);__reflect(PlayerBase.prototype,"PlayerBase");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["scouttypes"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComCardPoolVO=t,__reflect(t.prototype,"game.ComCardPoolVO")}(game||(game={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","font_fight_num_zi","font_zhanliadd_zi","tab_yys_c5","font_zhanlired_zi","font_num_vip_zi","tab_xzs_eb7","btn_common_1","smalicon_100002","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="AlertZhanliSkin",a.wingSkinName=AlertZhanliSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertZhanliSkinDR=t,__reflect(t.prototype,"skins.AlertZhanliSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_tzzl_d4","tab_ph_a4","tab_tzzl_c8"],a.resGroupName="AnswerAwardSkin",a.wingSkinName=AnswerAwardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerAwardSkinDR=t,__reflect(t.prototype,"skins.AnswerAwardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_tzzl_c8","sjdh_tu_1","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","tab_ph_a4","tab_ph_b5"],a.resGroupName="AnswerRankSkin",a.wingSkinName=AnswerRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerRankSkinDR=t,__reflect(t.prototype,"skins.AnswerRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2"],a.resGroupName="AnswerResultSkin",a.wingSkinName=AnswerResultSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerResultSkinDR=t,__reflect(t.prototype,"skins.AnswerResultSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dati_e5","tab_hdsc_v2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_hdsc_t9","tab_hdsc_w6"],a.resGroupName="AnswerScoreRewardSkin",a.wingSkinName=AnswerScoreRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerScoreRewardSkinDR=t,__reflect(t.prototype,"skins.AnswerScoreRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_e7","tab_kjzx_a5","tab_dati_b7","tab_dati_b5","tab_dati_a2","tab_dati_a4","tab_zs_e7","tab_dati_a5","tab_dati_a6","tab_dati_b6","rect_answer_black","tab_dati_b3","tab_dati_b1","tab_kjzx_h9","tab_dati_a9","tab_yys_c3","tab_cjs_b1","tab_kjzx_g3","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_3"],a.resGroupName="AnswerSkin1",a.wingSkinName=AnswerSkin1,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerSkin1DR=t,__reflect(t.prototype,"skins.AnswerSkin1DR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ryzl1_c5","tab_dati_c9","tab_kjzx_a5","tab_dati_b7","tab_dati_b5","tab_dati_c6","tab_dati_c5","tab_dati_b9","tab_dati_c3","tab_dati_c4","tab_dati_c2","tab_dati_a4","tab_dati_d2","tab_dati_c1","tab_dati_a16","tab_dati_b6","rect_answer_black","tab_dati_b3","tab_dati_b1","tab_dati_e7","tab_dati_e6","tab_kjzx_g9","tab_kjzx_h9","tab_dati_a2","tab_dati_d8","tab_dati_d7","tab_dati_d1","tab_zjm_b2","tab_cjs_b1","tab_kjzx_g3","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_3"],a.resGroupName="AnswerSkin",a.wingSkinName=AnswerSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AnswerSkinDR=t,__reflect(t.prototype,"skins.AnswerSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e6","tab_kjzx_a5","tab_zx_h7","tab_kjzx_a4","tab_friend_a4","tab_shop_c6","tab_shop_c5","tab_kjzx_f6","btn_common_3","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="BackPackBgSkin",a.wingSkinName=BackPackBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BackPackBgSkinDR=t,__reflect(t.prototype,"skins.BackPackBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_a3","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_1"],a.resGroupName="BackPackInfoSkin",a.wingSkinName=BackPackInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BackPackInfoSkinDR=t,__reflect(t.prototype,"skins.BackPackInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_zs_b9","tab_yys_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_8","btn_common_6","btn_common_9"],a.resGroupName="BackPackSynthesisInfoSkin",a.wingSkinName=BackPackSynthesisInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BackPackSynthesisInfoSkinDR=t,__reflect(t.prototype,"skins.BackPackSynthesisInfoSkinDR")}(skins||(skins={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,a){function i(i){t.call(a,i,e)}if(RES.hasRes(e)){var n=RES.getRes(e);n?i(n):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjbjc_b1","tab_sjbjc_b2","tab_guoqi_17","tab_yys_a3","smalicon_100017","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1","smalicon_100002"],a.resGroupName="BetAlertChampionSkin",a.wingSkinName=BetAlertChampionSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetAlertChampionSkinDR=t,__reflect(t.prototype,"skins.BetAlertChampionSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjbjc_b7","tab_jl_d2","tab_guoqi_17","tab_yys_a3","smalicon_100017","tab_sjbjc_b5","tab_sjbjc_b4","tab_sjbjc_b6","tab_vip_e2","rect_black","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1","smalicon_100002","tab_cjs_b1","tab_kjzx_g3"],a.resGroupName="BetAlertMatchSkin",a.wingSkinName=BetAlertMatchSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetAlertMatchSkinDR=t,__reflect(t.prototype,"skins.BetAlertMatchSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjbjc_b1","tab_sjbjc_b2","tab_guoqi_17","tab_yys_a3","smalicon_100017","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1","smalicon_100002"],a.resGroupName="BetChampionSkin",a.wingSkinName=BetChampionSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetChampionSkinDR=t,__reflect(t.prototype,"skins.BetChampionSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjbjc_b7","tab_jl_d2","tab_guoqi_17","tab_yys_a3","smalicon_100017","tab_sjbjc_b5","tab_sjbjc_b3","tab_sjbjc_b4","tab_sjbjc_b6","tab_vip_e2","rect_black","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1","smalicon_100002","tab_cjs_b1","tab_kjzx_g3"],a.resGroupName="BetMatchSkin",a.wingSkinName=BetMatchSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetMatchSkinDR=t,__reflect(t.prototype,"skins.BetMatchSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_b7","tab_sjbjc_c4","tab_kuafu_d2","tab_kuafu_d1","tab_zm_e6","tab_kuafu_b8","smalicon_100017","tab_xzs_eb7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_sc_a9","btn_common_3","tab_sc_a4","tab_sc_a8","smalicon_100002","rect_shop_red","tab_sc_b6","font_vipshop_zi","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="BetShopSkin",a.wingSkinName=BetShopSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetShopSkinDR=t,__reflect(t.prototype,"skins.BetShopSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjbjc_a9","tab_sjbjc_c5","tab_sjbjc_a2","tab_yyhd_b2","tab_yyhd_a1","tab_sjbjc_a4","tab_sjbjc_a5","smalicon_100017","tab_yyhd_b3","tab_yyhd_a9","tab_sjbjc_a3","tab_sjbjc_a1","tab_kjzx_a5","tab_ph_a1","tab_kjzx_d5","tab_kjzx_d6","tab_hdsc_u7","tab_hdsc_u8","tab_kjzx_f6","tab_sjbjc_a7","tab_sjbjc_a6","tab_guoqi_01","btn_common_3","tab_kuafu_b7","tab_sjbjc_b9","tab_sjbjc_c1","syls_36","tab_jl_d2","tab_sjbjc_c2","tab_sjbjc_c3","tab_xzs_f6","tab_xzs_f7","tab_xzs_g2"],a.resGroupName="BetSkin",a.wingSkinName=BetSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BetSkinDR=t,__reflect(t.prototype,"skins.BetSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_jy_i9","build_jlb_a1","tab_jlbsj_a3","tab_jlb_lv2","rect_black","tab_jy_j1","tab_zs_b9","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_xlzx1_e9","tab_xlzx1_f1","tab_bsks_a4","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","btn_common_1","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","smalicon_100001","tab_lt_a3","tab_kjzx_g3"],a.resGroupName="BuildClubInfoSkin",a.wingSkinName=BuildClubInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildClubInfoSkinDR=t,__reflect(t.prototype,"skins.BuildClubInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e6","tab_jy_d8","build_qtzx_a1","tab_jy_a8","tab_jy_c8","tab_jy_a7","build_zszx_a1","build_kjzx_a1","build_jlb_a1","tab_jy_l6","sjdh_tu_1","tab_jy_i3","tab_zjm_d8","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","rect_black","tab_zjm_i2","tab_zjm_e1","tab_jy_i4","tab_jy_d6","tab_tips_a4","tab_yys_a3","tab_tips_a9","tab_jy_c9","tab_icon_min","btn_common_1","smalicon_100002","tab_jy_i1","tab_jy_b3","tab_jy_c1"],a.resGroupName="BuildFriendSkin",a.wingSkinName=BuildFriendSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildFriendSkinDR=t,__reflect(t.prototype,"skins.BuildFriendSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_jy_e7","build_jlb_a1","tab_jy_i5","tab_jy_h1","smalicon_100002","btn_common_7","tab_jy_k15","tab_jy_d3","tab_jy_l2","tab_jy_k6","tab_jy_k7","tab_jy_l7","sjdh_tu_1","tab_jy_l1","tab_jy_k9","tab_jlbsj_a3","tab_jlb_lv2","tab_tips_a4","tab_yys_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","btn_common_3","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="BuildInfoSkin",a.wingSkinName=BuildInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildInfoSkinDR=t,__reflect(t.prototype,"skins.BuildInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_jy_h8","sjdh_tu_1","tab_zjm_d8","tab_jy_b9","tab_kjzx_g9"],a.resGroupName="BuildInviteSkin",a.wingSkinName=BuildInviteSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildInviteSkinDR=t,__reflect(t.prototype,"skins.BuildInviteSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e6","tab_jy_d8","tab_jy_e1","tab_jy_e2","tab_jy_d9","build_qtzx_a1","tab_jy_a8","tab_jy_c8","icon_100004","build_zszx_a1","icon_100003","build_kjzx_a1","tab_sszx_a6","icon_100005","build_jlb_a1","icon_100001","tab_jy_l3","sjdh_tu_1","tab_jy_l6","tab_jy_a1","tab_jy_k15","tab_jy_j9","tab_jy_c9","tab_lt_a3","tab_jy_k2","tab_jy_b1","smalicon_100003","tab_jy_k4","tab_jy_b4","tab_jy_k3","tab_jy_k1","btn_common_1","smalicon_100002"],a.resGroupName="BuildManageSkin",a.wingSkinName=BuildManageSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildManageSkinDR=t,__reflect(t.prototype,"skins.BuildManageSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_jy_h8","tab_jy_h7","tab_jy_h6","sjdh_tu_1","tab_zjm_d8"],a.resGroupName="BuildNewsSkin",a.wingSkinName=BuildNewsSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildNewsSkinDR=t,__reflect(t.prototype,"skins.BuildNewsSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_l5","tab_fx_m8","tab_hdsc_v21","tab_fx_m9","tab_fx_k1","build_jlb_a7","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="BuildSharSkin",a.wingSkinName=BuildSharSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildSharSkinDR=t,__reflect(t.prototype,"skins.BuildSharSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_xhs_a1","tab_jy_d3","btn_common_6","tab_jy_k15","tab_jy_h9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_jy_f8","tab_jy_h1","tab_kjzx_a6","btn_common_8","tab_jy_g3"],a.resGroupName="BuildStaffSkin",a.wingSkinName=BuildStaffSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildStaffSkinDR=t,__reflect(t.prototype,"skins.BuildStaffSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_jy_j6","build_kjzx_a1","tab_jlbsj_a3","tab_jlb_lv2","tab_jy_j8","tab_jy_j7","build_kjzx_a4","tab_zs_b9","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_xlzx1_e9","tab_xlzx1_f1","tab_bsks_a4","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="BuildUpLevelSkin",a.wingSkinName=BuildUpLevelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.BuildUpLevelSkinDR=t,__reflect(t.prototype,"skins.BuildUpLevelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v4","tab_hdsc_v5","tab_hdsc_v9","tab_tyk_a2","tab_hdsc_f2","tab_hdsc_j2","tab_hdsc_g5","tab_man_a1","tab_hdsc_t7","tab_lt_a3","tab_hdsc_g2","tab_hdsc_t8","tab_hdsc_f8","tab_hdsc_g1","icon_103","tab_hy_a5","tab_vip_c2","tab_kjzx_g9","rect_black","icon_104","icon_105","tab_hdsc_y1","icon_106","tab_hdsc_y2","tab_hdqr_b9","tab_vip_a4","tab_vip_a6","tab_hdsc_g4","tab_hdsc_t1","tab_hdsc_w2","tab_hdsc_w6","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="CarnivalActivitySkin",a.wingSkinName=CarnivalActivitySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CarnivalActivitySkinDR=t,__reflect(t.prototype,"skins.CarnivalActivitySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=[],a.resGroupName="ChatBarrageSkin",a.wingSkinName=ChatBarrageSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ChatBarrageSkinDR=t,__reflect(t.prototype,"skins.ChatBarrageSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;
return a.resList=["tab_lt_e7","tab_lt_d1","tab_mail_a8","tab_lt_e8","tab_lt_e1","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6","btn_common_3","tab_lt_e4","sjdh_tu_1","tab_zjm_d8","smalicon_zhouka","tab_zjm_i2","tab_zjm_i1","tab_lt_e5","tab_mail_a3","tab_lt_f1","tab_gh_e5","tab_gh_f9"],a.resGroupName="ChatSkin",a.wingSkinName=ChatSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ChatSkinDR=t,__reflect(t.prototype,"skins.ChatSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f5","tab_kjzx_f7","tab_jlbsj_a1","tab_jlbsj_a4","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","rect_black","tab_zjm_i2","tab_zjm_i1","tab_vip_a9","font_num_vip_zi","sjdh_tu_1","tab_jlbsj_b1","tab_xzs_dw_7","tab_jlbx_a9","tab_jlbsj_a9","tab_yys_c5","tab_cj_c8","tab_jlbx_b1","tab_jlbx_a6","tab_jlbx_a7","tab_kjzx_d5","tab_kjzx_d6","tab_kjzx_h9","tab_bsks_a1","font_fight_num_zi","font_fight_num_zi","tab_yys_e2","tab_gh_f1","tab_gh_b4","tab_gh_d6","tab_gh_d2","tab_gh_d1","tab_gh_c7","tab_gh_d5","tab_gh_c9","tab_gh_c5","tab_gh_a8","tab_gh_b1","tab_mail_a8","tab_jl_a3","tab_zl_b3","tab_zl_a3","tab_jl_d5","tab_jl_d2","tab_zl_a5","tab_zl_a4","tab_zl_a1","font_fight_num_zi","tab_jlbx_b5","tab_tx_a9","tab_tx_c4","font_fight_num_zi","font_fight_num_zi","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","tab_bsjg_a2","tab_bsjg_a3","tab_cjs_b1","tab_kjzx_g3","tab_qy_a7","tab_qy_a8","tab_kjzx_f6","tab_jlbsj_a6","tab_cj_b3","achieve_icon_1","tab_jlbx_b2","tab_jlbsj_a5","tab_ph_a6","tab_ckjlb1_4","smalicon_zhuansheng1","tab_kjzx_e2","tab_jl_i4"],a.resGroupName="ClubDetailSkin",a.wingSkinName=ClubDetailSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubDetailSkinDR=t,__reflect(t.prototype,"skins.ClubDetailSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_d9","tab_jjsx_e3","sjdh_tu_1","tab_jjsx_b3","tab_jjsx_b9","tab_jjsx_d6","tab_jjsx_a9","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_yys_c5","tab_jjsx_e1","tab_jjsx_c1","tab_jjsx_d7","tab_jjsx_b5","tab_jjsx_b1","font_fight_num_zi","tab_jjsx_c2","tab_jjsx_d8","tab_jjsx_b7","tab_jjsx_b2","font_fight_num_zi","smalicon_zhanshu","tab_sszx_a6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="ClubFightMapInfoSkin",a.wingSkinName=ClubFightMapInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubFightMapInfoSkinDR=t,__reflect(t.prototype,"skins.ClubFightMapInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_bj","tab_jjsx_a4","tab_zs_c9","tab_lt_a3","tab_yys_a3","btn_common_6","tab_jjsx_e4","tab_jlb_lv6","tab_jjsx_f1","tab_jjsx_g4","tab_jjsx_f2","icon_101","tab_hy_a5","tab_vip_c2","tab_kjzx_g9","tab_jjs_a2","tab_jjs_b2","rect_black","icon_102","icon_104","icon_105","tab_jjs_b5","sjdh_tu_1","tab_jjsx_d4","tab_zs_d9","tab_jjs_b3","tab_jjsx_d3","smalicon_zhuangbei","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_vip_a4","tab_vip_a6"],a.resGroupName="ClubFightMapSkin",a.wingSkinName=ClubFightMapSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubFightMapSkinDR=t,__reflect(t.prototype,"skins.ClubFightMapSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_jlbsj_a1","tab_jlbx_a9","tab_jlbsj_a3","tab_jlb_lv2","tab_jlbsj_a2","tab_zs_c9","tab_yys_c5","smalicon_100001","tab_jy_g5","build_jlb_a2","tab_sszx_a6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","btn_common_1","smalicon_100002"],a.resGroupName="ClubGradeInfoSkin",a.wingSkinName=ClubGradeInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubGradeInfoSkinDR=t,__reflect(t.prototype,"skins.ClubGradeInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","tab_yys_a3","btn_common_8","btn_common_6","btn_common_9"],a.resGroupName="ClubRecruitStaffSkin",a.wingSkinName=ClubRecruitStaffSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubRecruitStaffSkinDR=t,__reflect(t.prototype,"skins.ClubRecruitStaffSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_jjsx_f4","tab_yys_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1","smalicon_100002"],a.resGroupName="ClubSweepSkin",a.wingSkinName=ClubSweepSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ClubSweepSkinDR=t,__reflect(t.prototype,"skins.ClubSweepSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ryzl1_c5","tab_jl_d1","tab_kjzx_a5","tab_jl_a8","tab_jl_d9","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_zs_c9","tab_jl_h7","tab_jl_a5","tab_jl_b7","tab_jl_b6","tab_jl_b8","tab_jl_b9","tab_jl_h6","btn_common_1","smalicon_100002","tab_jl_c2","tab_jl_j1","tab_jl_b3","tab_jl_d8","tab_jl_e1"],a.resGroupName="CoachBgSkin",a.wingSkinName=CoachBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachBgSkinDR=t,__reflect(t.prototype,"skins.CoachBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_a5","tab_jl_g9","tab_jlji_a5","tab_jlji_a2","tab_jl_d5","tab_jl_d2","tab_jlji_a4","tab_jlji_a1","smalicon_100001","tab_jlji_a3","tab_tp_b3","tab_jl_c3","rect_black","btn_common_3"],a.resGroupName="CoachExcitaPanelSkin",a.wingSkinName=CoachExcitaPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachExcitaPanelSkinDR=t,__reflect(t.prototype,"skins.CoachExcitaPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_a5","tab_jl_g9","tab_jl_d2","tab_jl_e5","tab_jl_e2","tab_jl_a3","tab_jl_b5","tab_jl_d5","tab_jl_c5","tab_jl_c9","tab_jl_d4","tab_jl_i4","tab_tp_b3","tab_jl_c3","rect_black"],a.resGroupName="CoachInfoPanelSkin",a.wingSkinName=CoachInfoPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachInfoPanelSkinDR=t,__reflect(t.prototype,"skins.CoachInfoPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_jl_h5","tab_jl_k5","tab_jl_a3","tab_zl_a3","tab_jl_d5","tab_jl_d2","tab_zl_a5","tab_zl_a4","tab_zl_a1","tab_zjm_i3","font_fight_num_zi","tab_jl_i4"],a.resGroupName="CoachLookSkin",a.wingSkinName=CoachLookSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachLookSkinDR=t,__reflect(t.prototype,"skins.CoachLookSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_a5","tab_jlxl_a8","tab_jlxl_a9","tab_jlxl_b1","tab_jlxl_a1","tab_jlxl_a7","tab_jlxl_a6","tab_jlxl_b4","tab_jlxl_b2","tab_jlxl_a4","tab_jlxl_a2","tab_jlxl_b3","tab_jlxl_a3","tab_zjm_i2","tab_zjm_i1","btn_common_1","smalicon_100002"],a.resGroupName="CoachTrainSkin",a.wingSkinName=CoachTrainSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachTrainSkinDR=t,__reflect(t.prototype,"skins.CoachTrainSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_a5","tab_jl_g9","tab_jl_e2","tab_jlji_a5","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_zjm_i4","btn_common_7","tab_jl_d2","tab_jl_i4","tab_zs_b9","tab_jl_h2","tab_jl_c5","tab_jl_c9","tab_jl_d4","tab_jl_h4","tab_xlzx1_e8","tab_xlzx1_e6","tab_tp_b3","tab_jl_c3","rect_black","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="CoachUpgradeSkin",a.wingSkinName=CoachUpgradeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachUpgradeSkinDR=t,__reflect(t.prototype,"skins.CoachUpgradeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_h9","tab_qy_c3"],a.resGroupName="CoachUpInfoSkin",a.wingSkinName=CoachUpInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.CoachUpInfoSkinDR=t,__reflect(t.prototype,"skins.CoachUpInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e6","tab_hy_a8","tab_kjzx_a5","tab_hy_a2","tab_ph_b3","icon_105","icon_106","tab_kjzx_g9","icon_101","tab_hy_a5","tab_hy_a6","rect_black","icon_102","icon_103","icon_104","smalicon_100013","tab_hy_b3","tab_hy_a3","tab_hy_a4","tab_yk_a1","tab_hy_q9","tab_hy_a7","smalicon_100001","tab_sszx_a6","btn_common_3","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="DayTaskSkin",a.wingSkinName=DayTaskSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.DayTaskSkinDR=t,__reflect(t.prototype,"skins.DayTaskSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_jjsn_d7","sjdh_tu_1","tab_ryzl1_a5","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","tab_ph_a4","tab_ph_b5"],a.resGroupName="FightDekaronRankSkin",a.wingSkinName=FightDekaronRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronRankSkinDR=t,__reflect(t.prototype,"skins.FightDekaronRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_tp_c2","tab_ryzl1_a5","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="FightDekaronResultSkin",a.wingSkinName=FightDekaronResultSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronResultSkinDR=t,__reflect(t.prototype,"skins.FightDekaronResultSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_tp_c2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="FightDekaronRewardSkin",a.wingSkinName=FightDekaronRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronRewardSkinDR=t,__reflect(t.prototype,"skins.FightDekaronRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ryzl1_c5","tab_ryzl1_f2","tab_ryzl1_h9","tab_tzzl_e3","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_ryzl1_h8","tab_ryzl1_h1","tab_ryzl1_f7","tab_ryzl1_h2","rect_black","tab_ryzl1_h7","tab_ryzl1_j9","tab_ryzl1_f6","tab_ryzl1_h3","tab_ryzl1_h6","tab_ryzl1_j8","tab_ryzl1_f5","tab_ryzl1_h4","tab_ryzl1_i1","sjdh_tu_1","tab_ryzl1_d4","tab_ryzl1_c3","tab_ryzl1_c4","tab_tzzl_d7","tab_qdty_a4","tab_ryzl1_b1","tab_ryzl1_d8","tab_ryzl1_d9","tab_ryzl1_a5","tab_ryzl1_k5","tab_ryzl1_b8","tab_ryzl1_a1","tab_ryzl1_h5","tab_ryzl1_b5","tab_tzzl_d9","btn_common_6","tab_tzzl_d8","font_fight_num_zi","tab_zx_c5","tab_jy_f1","tab_xzs_dw_8","tab_ryzl1_j2","tab_ryzl1_j5","tab_kjzx_g9","btn_common_1","smalicon_100002","tab_ryzl1_b3","btn_common_3"],a.resGroupName="FightDekaronRoadSkin",a.wingSkinName=FightDekaronRoadSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronRoadSkinDR=t,__reflect(t.prototype,"skins.FightDekaronRoadSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_tzzl_e1","tab_ty_a2","tab_sszx_a6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_3"],a.resGroupName="FightDekaronShopSkin",a.wingSkinName=FightDekaronShopSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronShopSkinDR=t,__reflect(t.prototype,"skins.FightDekaronShopSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="FightDekaronStopSkin",a.wingSkinName=FightDekaronStopSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronStopSkinDR=t,__reflect(t.prototype,"skins.FightDekaronStopSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_ryzl1_d4","tab_ryzl1_c4","tab_tzzl_e2","rect_black","tab_qdty_a4","tab_yys_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","btn_common_1","smalicon_100002"],a.resGroupName="FightDekaronSweepSkin",a.wingSkinName=FightDekaronSweepSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightDekaronSweepSkinDR=t,__reflect(t.prototype,"skins.FightDekaronSweepSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_cjs_b6","tab_sszx_b8","tab_sszx_b9","tab_sszx_a7","tab_sszx_b4","tab_sszx_b3","tab_sszx_a6","tab_sszx_a2","tab_sszx_a9","tab_sszx_a1","tab_sszx_a8","tab_kuafu_b6","tab_kuafu_c2","tab_kuafu_c8","tab_sszx_a4","tab_sszx_b2","tab_sszx_a3","tab_sszx_b1","tab_sszx_b6","tab_sszx_c1"],a.resGroupName="FightEnterSkin",a.wingSkinName=FightEnterSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightEnterSkinDR=t,__reflect(t.prototype,"skins.FightEnterSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_xlzx1_e7","tab_kjzx_f7","tab_xhs_a4","tab_jjsx_f4","tab_xlzx1_e8","tab_xhs_a7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_icon_min","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="FightFastSkin",a.wingSkinName=FightFastSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightFastSkinDR=t,__reflect(t.prototype,"skins.FightFastSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_xlzx1_e7","tab_xlzx1_e8","tab_xhs_a1","tab_kjzx_f7","tab_jjsx_f4","tab_gj1_a8","tab_gj1_b1","tab_gj1_a9","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","sjdh_tu_1","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_icon_min"],a.resGroupName="FightNextSkin",a.wingSkinName=FightNextSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightNextSkinDR=t,__reflect(t.prototype,"skins.FightNextSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","tab_ckjlb1_4","smalicon_zhuansheng1","tab_kjzx_e2","tab_ph_b5","tab_bsks_a4"],a.resGroupName="FightOffLineListSkin",a.wingSkinName=FightOffLineListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightOffLineListSkinDR=t,__reflect(t.prototype,"skins.FightOffLineListSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_xlzx1_e7","tab_xlzx1_e8","tab_kjzx_f7","tab_xhs_a4","tab_bsks_a1","tab_xhs_a3","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","font_zhanliadd_zi","btn_common_7","tab_jjsx_f4","tab_xhs_b4","tab_xhs_b5","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_icon_min"],a.resGroupName="FightOffLineSkin",a.wingSkinName=FightOffLineSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightOffLineSkinDR=t,__reflect(t.prototype,"skins.FightOffLineSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ph_a1","tab_bsks_a8","tab_zx_a3","tab_bsks_a7","tab_xhs_a9","tab_xhs_a8","sjdh_tu_1","tab_zjm_d8","tab_gj1_a7","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","font_fight_num_zi","tab_zs_b6","tab_xhs_b2","tab_bsks_d1","tab_gjjq_c1","tab_bsks_c9","rect_black","tab_zs_b7","tab_xhs_b1","tab_xhs_b3","tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_bsks_a1","tab_kjzx_h9","tab_bsks_a2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_bsks_d7","tab_bsks_d8","tab_bsks_d4","tab_bsks_d5","tab_bsks_d6","tab_bsks_b8","tab_bsks_a5","tab_bsks_b7","tab_kjzx_f6","tab_ph_a6","tab_xzs_e1","tab_ckjlb1_4","smalicon_zhuansheng1","tab_kjzx_e2","tab_jjsn_b4","tab_yys_c5","tab_zs_ca3","tab_bsks_a3","tab_zs_d1","tab_zs_d2","tab_zs_d3","tab_zs_d4","tab_zs_d5"],a.resGroupName="FightPrewarSkin",a.wingSkinName=FightPrewarSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightPrewarSkinDR=t,__reflect(t.prototype,"skins.FightPrewarSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_bsks_b1","fight_result_guang","tab_bsks_b4","sjdh_tu_1","tab_kjzx_h9","tab_bsks_a2","tab_bsks_c1","tab_bsks_a6","tab_bsks_b6","tab_bsks_b2","tab_gjjq_g1","tab_gjjq_g2","tab_jjsn_c7","font_score_zi","font_score_zi","tab_bsks_c2","tab_ph_a1","syls_49","tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_kjzx_f6","btn_common_1","smalicon_100002","tab_ph_a6","tab_ckjlb1_4","tab_kjzx_e2","smalicon_zhuansheng1","tab_gjjq_b9","tab_vip_a4","tab_vip_a6","rect_black"],a.resGroupName="FightResultSkin",a.wingSkinName=FightResultSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FightResultSkinDR=t,__reflect(t.prototype,"skins.FightResultSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_c3","tab_hdsc_c8","tab_hdsc_w3","tab_hdsc_c6","tab_hdsc_y7","tab_hdsc_y6","tab_tyk_a2","tab_hdsc_y8","btn_common_1","smalicon_100002","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="FirstRechargeSkin",a.wingSkinName=FirstRechargeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FirstRechargeSkinDR=t,__reflect(t.prototype,"skins.FirstRechargeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_mail_a8","tab_ms_b8","sjdh_tu_1","tab_zjm_d8","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","btn_common_3"],a.resGroupName="FriendAskSkin",a.wingSkinName=FriendAskSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendAskSkinDR=t,__reflect(t.prototype,"skins.FriendAskSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_bjt_a1","tab_kjzx_a4","tab_friend_a4","tab_ms_b9","rect_black","tab_tips_a4","sjdh_tu_1","btn_common_3","tab_kjzx_f6"],a.resGroupName="FriendBgSkin",a.wingSkinName=FriendBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendBgSkinDR=t,__reflect(t.prototype,"skins.FriendBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_mail_a8","btn_common_1","smalicon_100002","tab_ms_b8","sjdh_tu_1","tab_zjm_d8","tab_friend_a1","tab_friend_a2","tab_friend_a3","tab_lt_a3","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi"],a.resGroupName="FriendListSkin",a.wingSkinName=FriendListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendListSkinDR=t,__reflect(t.prototype,"skins.FriendListSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_lt_e1","rect_friend_blue","btn_common_3","btn_common_1","smalicon_100002","tab_ms_b8","sjdh_tu_1","tab_zjm_d8","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_friend_a6"],a.resGroupName="FriendLookUpSkin",a.wingSkinName=FriendLookUpSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendLookUpSkinDR=t,__reflect(t.prototype,"skins.FriendLookUpSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_yys_c3","tab_yys_c5","tab_ryzl1_c2"],a.resGroupName="FriendShipRewardSkin",a.wingSkinName=FriendShipRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendShipRewardSkinDR=t,__reflect(t.prototype,"skins.FriendShipRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsq_b4","tab_ryzl1_a1","tab_jjsq_a7","tab_jjsq_b3","tab_jjsq_a2","icon_106","tab_jjsq_a3","font_friendship_num_zi","rect_black","tab_jjsq_a1","tab_jjsq_a5","tab_jjsq_a6","icon_101","tab_kjzx_g9","icon_102","icon_103","icon_104","tab_jjsq_f2","tab_jjsq_e9","tab_tx_b2","tab_jjsq_f1","tab_zx_c5","tab_jy_f1","tab_yys_b3","tab_jjsn_b4","btn_common_3","btn_common_1","smalicon_100002","tab_jjsq_a8","sjdh_tu_1","tab_zx_a1n","font_fight_num_zi","tab_zjm_i3","tab_xzs_f6","tab_jjsq_b5"],a.resGroupName="FriendShipSkin",a.wingSkinName=FriendShipSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.FriendShipSkinDR=t,__reflect(t.prototype,"skins.FriendShipSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_gz_a1"],a.resGroupName="GameFollowSkin",a.wingSkinName=GameFollowSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GameFollowSkinDR=t,__reflect(t.prototype,"skins.GameFollowSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["syls","tab_zjm_b2","tab_ty_a3","font_fight_time_zi","tab_zjm_f2","tab_zjm_f1","syls_50","tab_gjjq_g8","tab_gjjq_g9","tab_gjjq_h1","tab_gjjq_c2","player_icon_a","syls_13","syls_37","tab_gjjq_f2","rect_black","syls_49","tab_gj1_e3","tab_gj1_e2","tab_gj1_d9","tab_gj1_d8","tab_gj1_d5","tab_gj1_d6","tab_gj1_d7","tab_gj1_d4","tab_gj1_a7","tab_gj1_e1","tab_zs_ca3","tab_zs_e1","tab_qdty_a5","tab_gjjq_f4","tab_zs_b9","tab_xhs_b3","tab_gjjq_e7","tab_gjjq_b8","font_fight_wait_zi","tab_gjjq_g7","tab_gjjq_g4","tab_lt_a3","tab_gj1_a4","tab_gjjq_c6","tab_gjjq_d1","tab_gjjq_e6","tab_gjjq_e9","tab_tips_a4","tab_gj1_c2","tab_xlzx1_a8","smalicon_100006","tab_gj1_a3","font_score_zi","font_score_zi","sjdh_tu_1","tab_zjm_d8","tab_yys_f1","tab_gjjq_c5","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_zdtp_a1","font_fight_num_zi","tab_gjjq_e8","syls_34","tab_gjjq_e5","tab_yys_a4","tab_gjjq_e1","tab_gjjq_e4","tab_gjjq_e3","tab_gjjq_d2","font_fight_num_zi","tab_xhs_b2","tab_gjjq_d3","font_fight_num_zi","tab_gjjq_c7","rect_white","tab_gjjq_c8","syls_12","tab_zx_a3","tab_zs_d1","tab_zs_d2","tab_zs_d3","tab_zs_d4","tab_zs_d5","tab_zs_c5","tab_zs_c8","tab_gj1_b2","tab_cjs_b1","tab_kjzx_g3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_gjjq_g5","tab_gjjq_g6","btn_common_3","btn_common_1","smalicon_100002","tab_gj1_c3","tab_gj1_c4","tab_kjzx_e2","tab_gj1_c5","syls_45","syls_46","syls_47","tab_gj1_c9","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","tab_gj1_d1","tab_icon_min","tab_gjjq_d7","player_icon_124010003"],a.resGroupName="GameMainSkin",a.wingSkinName=GameMainSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GameMainSkinDR=t,__reflect(t.prototype,"skins.GameMainSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xsyd_d3","tab_xsyd_d4","tab_ryzl1_b3"],a.resGroupName="GuideDownSkin",a.wingSkinName=GuideDownSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuideDownSkinDR=t,__reflect(t.prototype,"skins.GuideDownSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xsyd_a4","tab_xsyd_d1","tab_xsyd_c8","tab_xsyd_c7","sjdh_tu_1","tab_ryzl1_b3"],a.resGroupName="GuideFirstFightSkin",a.wingSkinName=GuideFirstFightSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuideFirstFightSkinDR=t,__reflect(t.prototype,"skins.GuideFirstFightSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xsyd_b9","tab_xsyd_b8"],a.resGroupName="GuideGetHeroSkin",a.wingSkinName=GuideGetHeroSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuideGetHeroSkinDR=t,__reflect(t.prototype,"skins.GuideGetHeroSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_a8","tab_yys_e2","tab_jlbsj_b1","tab_lt_e1","tab_hdsc_v21","tab_gh_c2","tab_gh_e9","btn_common_3","tab_gh_c1","tab_gh_d8","tab_zjm_d8","btn_common_7"],a.resGroupName="GuildApplySkin",a.wingSkinName=GuildApplySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildApplySkinDR=t,__reflect(t.prototype,"skins.GuildApplySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v21","tab_gh_c2","tab_gh_e9","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_gh_c1","sjdh_tu_1","tab_zjm_d8","btn_common_7","btn_common_3"],a.resGroupName="GuildApprovalSkin",a.wingSkinName=GuildApprovalSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildApprovalSkinDR=t,__reflect(t.prototype,"skins.GuildApprovalSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1"],a.resGroupName="GuildChangeNameSkin",a.wingSkinName=GuildChangeNameSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildChangeNameSkinDR=t,__reflect(t.prototype,"skins.GuildChangeNameSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="GuildChangeNoticeSkin",a.wingSkinName=GuildChangeNoticeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildChangeNoticeSkinDR=t,__reflect(t.prototype,"skins.GuildChangeNoticeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1"],a.resGroupName="GuildCreateSkin",a.wingSkinName=GuildCreateSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildCreateSkinDR=t,__reflect(t.prototype,"skins.GuildCreateSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xsyd_c3","tab_dlcj_a5","tab_xsyd_b8","tab_xsyd_c4","tab_dlcj_a9","tab_ryzl1_b3"],a.resGroupName="GuildeAddHeroSkin",a.wingSkinName=GuildeAddHeroSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildeAddHeroSkinDR=t,__reflect(t.prototype,"skins.GuildeAddHeroSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e2","tab_gh_f1","tab_gh_b4","tab_jlbsj_b1","tab_gh_d6","tab_gh_d2","tab_gh_d1","tab_gh_c7","tab_gh_d5","tab_gh_c9","tab_gh_c5","tab_gh_a8","tab_gh_b1","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_qy_a7","tab_qy_a8","rect_black"],a.resGroupName="GuildInfoSkin",a.wingSkinName=GuildInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildInfoSkinDR=t,__reflect(t.prototype,"skins.GuildInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_a8","tab_kjzx_a5","tab_ph_a1","tab_kjzx_d5","tab_kjzx_d6","rect_black","tab_tips_a4","sjdh_tu_1","btn_common_1","smalicon_100002","btn_common_3","tab_ph_a6","tab_ph_a4","tab_zjm_d8","tab_ph_b5","tab_gh_f3","tab_gh_f4","tab_gh_f5"],a.resGroupName="GuildListSkin",a.wingSkinName=GuildListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildListSkinDR=t,__reflect(t.prototype,"skins.GuildListSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6"],a.resGroupName="GuildLogSkin",a.wingSkinName=GuildLogSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildLogSkinDR=t,__reflect(t.prototype,"skins.GuildLogSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_ph_a4","tab_gh_d8","btn_common_7","tab_jjsn_d7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6"],a.resGroupName="GuildRankSkin",a.wingSkinName=GuildRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildRankSkinDR=t,__reflect(t.prototype,"skins.GuildRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_gh_d7","tab_gh_e3","tab_gh_e6","tab_gh_e2","rect_friend_blue","tab_gh_e1","sjdh_tu_1","tab_gh_e4"],a.resGroupName="GuildRedBaoSkin",a.wingSkinName=GuildRedBaoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildRedBaoSkinDR=t,__reflect(t.prototype,"skins.GuildRedBaoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_cz_a9","rect_black","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_cjs_b1","tab_kjzx_g3","btn_common_3"],a.resGroupName="GuildSetUpSkin",a.wingSkinName=GuildSetUpSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildSetUpSkinDR=t,__reflect(t.prototype,"skins.GuildSetUpSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_a8","tab_kjzx_a5","tab_gh_b8","tab_gh_c6","tab_gh_b9","tab_gh_c3","tab_gh_d4","icon_106","smalicon_100001","tab_gh_a2","tab_gh_d3","icon_107","smalicon_100002","tab_gh_f2","tab_hy_a5","tab_vip_c2","tab_kjzx_g9","rect_black","btn_common_1","tab_vip_a4","tab_vip_a6"],a.resGroupName="GuildSignGifSkin",a.wingSkinName=GuildSignGifSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.GuildSignGifSkinDR=t,__reflect(t.prototype,"skins.GuildSignGifSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_a8","tab_yys_e2","tab_gh_b6","tab_gh_b1","tab_gh_a1","tab_gh_b4","tab_gh_c8","tab_jlbsj_b1","tab_gh_c9","tab_gh_c5","tab_gh_d6","tab_gh_d2","tab_gh_d1","tab_gh_c7","tab_gh_d5","tab_hdsc_v21","tab_hdqr_b9","tab_gh_b2","tab_gh_b3","tab_gh_e8","tab_gh_e7","tab_gh_a9","tab_gh_a4","tab_gh_a6","tab_gh_a5","tab_gh_a3","tab_gh_a7","btn_common_3","tab_qy_a7","tab_qy_a8","rect_black"],a.resGroupName="GuildSkin",a.wingSkinName=GuildSkin,t
}return __extends(t,e),t}(e.BaseSkinDR);e.GuildSkinDR=t,__reflect(t.prototype,"skins.GuildSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["help_img_0","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2"],a.resGroupName="HelpSkin",a.wingSkinName=HelpSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HelpSkinDR=t,__reflect(t.prototype,"skins.HelpSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e2","tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_ph_a6","tab_zx_d8","smalicon_zhuansheng1","tab_zx_d6","tab_kjzx_e2","tab_zx_d9","tab_zx_d7","tab_bsks_c9","rect_black","tab_zx_g8","tab_zx_g6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6"],a.resGroupName="HeroChangeSkin",a.wingSkinName=HeroChangeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroChangeSkinDR=t,__reflect(t.prototype,"skins.HeroChangeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zx_a3","tab_zx_d5","tab_qt_d4","tab_qdty_c9","btn_common_3","smalicon_22","tab_zjm_i3","tab_qdty_c8","tab_qdty_a8","tab_zx_e8","tab_zx_h5","tab_zx_h4","rect_black","tab_qdty_c2","btn_common_1","smalicon_100002","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="HeroFormaPanelSkin",a.wingSkinName=HeroFormaPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroFormaPanelSkinDR=t,__reflect(t.prototype,"skins.HeroFormaPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a8","tab_lt_a3","tab_kjzx_h9","tab_zs_c9","tab_qdty_b6","tab_qdty_a6","tab_bsks_a1","tab_qdty_b1","tab_qdty_a5","tab_qdty_b2","tab_zs_b7","tab_zs_b1","btn_common_3","tab_zs_ca3","tab_zs_e1","tab_jb_a5","tab_sszx_a6","tab_qdty_a4","tab_kjzx_g9"],a.resGroupName="HeroFormationSkin",a.wingSkinName=HeroFormationSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroFormationSkinDR=t,__reflect(t.prototype,"skins.HeroFormationSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_zx_f2","tab_zx_g9","tab_kapai_b1","tab_kapai_b2","tab_xlzx1_k5","tab_xlzx1_k3","tab_xlzx1_k4"],a.resGroupName="HeroGroomTeamSkin",a.wingSkinName=HeroGroomTeamSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroGroomTeamSkinDR=t,__reflect(t.prototype,"skins.HeroGroomTeamSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_a3","tab_yys_c5","btn_common_6","tab_kjzx_h9","tab_qd1_a6","tab_zs_b1","tab_qy_c3","tab_qy_p_C0","tab_qy_p_C1","tab_qy_c4","tab_qy_c6","tab_qy_c5","tab_qy_c7","tab_jb_b1","tab_mail_a8","tab_tips_a4","tab_yys_a4","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","smalicon_100006","tab_zs_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_qy_a7","tab_qy_a8","rect_black","tab_qy_e3","tab_qy_a9","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","btn_common_1","smalicon_100002","tab_kjzx_f6","tab_qdty_c4","tab_jb_a1","tab_kapai_b8","tab_jb_a5","tab_zm_e5","tab_jb_a3"],a.resGroupName="HeroInfoSkin",a.wingSkinName=HeroInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroInfoSkinDR=t,__reflect(t.prototype,"skins.HeroInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ph_a1","tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_kjzx_a4","btn_common_5","btn_common_3","tab_ph_a6","tab_xzs_e1","tab_ckjlb1_4","smalicon_zhuansheng1","tab_kjzx_e2","tab_jjsn_b4","tab_zx_a2"],a.resGroupName="HeroListPanelSkin",a.wingSkinName=HeroListPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroListPanelSkinDR=t,__reflect(t.prototype,"skins.HeroListPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jlb_a2","tab_tp_b9","tab_zs_d9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="HeroLockInfoSkin",a.wingSkinName=HeroLockInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroLockInfoSkinDR=t,__reflect(t.prototype,"skins.HeroLockInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_e6","tab_kjzx_a5","tab_yys_a3","tab_tj_a3","tab_tj_a2","tab_tj_a1","tab_tj_a4","btn_common_5","tab_kjzx_f6","tab_kapai_b8","tab_qt_a9","tab_qt_c5","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="HeroPokedexSkin",a.wingSkinName=HeroPokedexSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroPokedexSkinDR=t,__reflect(t.prototype,"skins.HeroPokedexSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_shop_b7","tab_jjsx_d6","tab_shop_b5","tab_shop_b9","tab_shop_b6","tab_jjsx_d7","tab_shop_c1","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_1","smalicon_100002"],a.resGroupName="HeroRecoverFastSkin",a.wingSkinName=HeroRecoverFastSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroRecoverFastSkinDR=t,__reflect(t.prototype,"skins.HeroRecoverFastSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a3","tab_kjzx_a5","tab_kjzx_a4","tab_kjzx_a6","tab_kjzx_f6"],a.resGroupName="HeroSkin",a.wingSkinName=HeroSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroSkinDR=t,__reflect(t.prototype,"skins.HeroSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_tp_c2","tab_zs_b6","tab_zs_b7","tab_lt_a3","tab_zx_h7","tab_zx_a3","tab_zs_d1","tab_zs_d2","tab_zs_d3","tab_zs_d4","tab_zs_d5","tab_zs_c5","tab_zs_c8","btn_common_1","smalicon_100002","tab_qdty_b5","rect_black","tab_kjzx_g9","tab_zx_b1","tab_zx_b2"],a.resGroupName="HeroStudyPanelSkin",a.wingSkinName=HeroStudyPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.HeroStudyPanelSkinDR=t,__reflect(t.prototype,"skins.HeroStudyPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_b7","tab_zs_c9","tab_kjzx_d5","tab_kjzx_d6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kuafu_a1","tab_kuafu_b3","tab_kuafu_g4","tab_hdsc_u9","tab_lt_a3","tab_ph_a6","tab_kuafu_a8","tab_jjsn_d7","icon_100016"],a.resGroupName="LeagueAllAwardSkin",a.wingSkinName=LeagueAllAwardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueAllAwardSkinDR=t,__reflect(t.prototype,"skins.LeagueAllAwardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_d4","tab_kuafu_b7","tab_kjzx_d5","tab_kjzx_d6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","tab_kuafu_a8","tab_jjsn_d7","icon_100016"],a.resGroupName="LeagueAwardSkin",a.wingSkinName=LeagueAwardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueAwardSkinDR=t,__reflect(t.prototype,"skins.LeagueAwardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dfs_a1","tab_kjzx_a5","tab_kuafu_e6","tab_kuafu_f5","tab_kuafu_a1","tab_kuafu_b1","tab_kuafu_b2","tab_kuafu_h2","tab_kuafu_b4","tab_kuafu_c4","tab_kuafu_e8","tab_gj1_a7","tab_kuafu_c5","tab_kuafu_c6","sjdh_tu_1","tab_kuafu_a7","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","font_fight_num_zi","tab_kuafu_f9","tab_yyhd_i2","tab_kuafu_e4","tab_kuafu_e5","tab_kuafu_f4","tab_kuafu_f2","tab_kuafu_e9","tab_kuafu_f1","tab_kuafu_f3","tab_kuafu_a8","tab_kuafu_b7","tab_kjzx_a6","tab_kuafu_f6","tab_kuafu_f8","tab_kuafu_f7","tab_tips_a4","tab_tips_a8","tab_tips_a7","tab_ryzl1_b3","btn_common_1","smalicon_100002"],a.resGroupName="LeagueBgSkin",a.wingSkinName=LeagueBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueBgSkinDR=t,__reflect(t.prototype,"skins.LeagueBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ty_a1","tab_xzs_f8","tab_kjzx_b4","tab_kuafu_g2","tab_cj_c6","tab_lt_a3","tab_hdsc_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="LeagueDanSkin",a.wingSkinName=LeagueDanSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueDanSkinDR=t,__reflect(t.prototype,"skins.LeagueDanSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dfs_a1","tab_kjzx_a5","tab_jl_d1","tab_kuafu_f4","tab_kjzx_f6","tab_kuafu_b7","tab_kuafu_b8","tab_kuafu_b9","tab_kuafu_a2","tab_xzs_f6"],a.resGroupName="LeagueEliminatePanelSkin",a.wingSkinName=LeagueEliminatePanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueEliminatePanelSkinDR=t,__reflect(t.prototype,"skins.LeagueEliminatePanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tx_a4","tab_jl_d1","tab_kjzx_d5","tab_kjzx_d6","tab_yys_a3","btn_common_5","tab_ph_a6","sjdh_tu_1","font_score_zi","tab_bsks_c2","tab_ph_b5","tab_kuafu_b7"],a.resGroupName="LeagueGroupPanelSkin",a.wingSkinName=LeagueGroupPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueGroupPanelSkinDR=t,__reflect(t.prototype,"skins.LeagueGroupPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tips_a4","tab_kuafu_e1","tab_kuafu_d8","tab_kuafu_d7","font_score_zi","font_score_zi","tab_bsks_c2","sjdh_tu_1","tab_kuafu_d6","tab_xzs_f6","tab_kuafu_d5","tab_jy_h9","tab_kuafu_d9","font_score_zi","font_score_zi","tab_fx_a3","btn_common_3"],a.resGroupName="LeagueLookFightSkin",a.wingSkinName=LeagueLookFightSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueLookFightSkinDR=t,__reflect(t.prototype,"skins.LeagueLookFightSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_d3","tab_hdsc_v2","tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_gh_d8","tab_jjsn_d7","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6","tab_ph_a6","tab_kuafu_a8","sjdh_tu_1"],a.resGroupName="LeagueRankSkin",a.wingSkinName=LeagueRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueRankSkinDR=t,__reflect(t.prototype,"skins.LeagueRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dfs_a1","tab_kjzx_a5","tab_kjzx_f6"],a.resGroupName="LeagueScheduleBgSkin",a.wingSkinName=LeagueScheduleBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueScheduleBgSkinDR=t,__reflect(t.prototype,"skins.LeagueScheduleBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_b7","tab_kuafu_c9","tab_kuafu_d2","tab_kuafu_d1","tab_zm_e6","tab_kuafu_b8","smalicon_100002","tab_xzs_eb7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_sc_a9","btn_common_3","tab_sc_a4","tab_sc_a8","rect_shop_red","tab_sc_b6","font_vipshop_zi","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="LeagueShopSkin",a.wingSkinName=LeagueShopSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LeagueShopSkinDR=t,__reflect(t.prototype,"skins.LeagueShopSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["loadingBG","tab_xf_b1","tab_xf_b3","tab_dljm_a1","tab_dljm_a3","tab_dljm_a4","rect_black","tab_dljm_a2","tab_dljm_a5"],a.resGroupName="LoadingUISkin",a.wingSkinName=LoadingUISkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.LoadingUISkinDR=t,__reflect(t.prototype,"skins.LoadingUISkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_mail_b2","tab_bsks_a1","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_yk_d2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="MailInfoSkin",a.wingSkinName=MailInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MailInfoSkinDR=t,__reflect(t.prototype,"skins.MailInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_kjzx_h9"],a.resGroupName="MailObtainPropSkin",a.wingSkinName=MailObtainPropSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MailObtainPropSkinDR=t,__reflect(t.prototype,"skins.MailObtainPropSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_bjt_a1","tab_ms_b9","tab_mail_a8","btn_common_1","smalicon_100002","tab_ms_b8","tab_vip_d1","tab_mail_a3","tab_lt_a3"],a.resGroupName="MailSkin",a.wingSkinName=MailSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MailSkinDR=t,__reflect(t.prototype,"skins.MailSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_post_a1","tab_post_a2"],a.resGroupName="MainAllNoteSkin",a.wingSkinName=MainAllNoteSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MainAllNoteSkinDR=t,__reflect(t.prototype,"skins.MainAllNoteSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlzx1_j6","tab_kapai_b2","tab_xlzx1_j5","tab_xlzx1_j7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="MainChooseHeroSkin",a.wingSkinName=MainChooseHeroSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MainChooseHeroSkinDR=t,__reflect(t.prototype,"skins.MainChooseHeroSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdwp_a1","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="MainGetItemSkin",a.wingSkinName=MainGetItemSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MainGetItemSkinDR=t,__reflect(t.prototype,"skins.MainGetItemSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_vip_d4","btn_common_3"],a.resGroupName="MainGetwaySkin",a.wingSkinName=MainGetwaySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MainGetwaySkinDR=t,__reflect(t.prototype,"skins.MainGetwaySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zjm_c3","tab_zjm_e3","tab_zjm_f7","tab_zjm_g5","rect_black","tab_zjm_a8","tab_zjm_f9","tab_zjm_a9","tab_zjm_g1","tab_zjm_p1","tab_zjm_b6","tab_zjm_g3","tab_zjm_b8","tab_zjm_g4","tab_zjm_n6","tab_zjm_o2","tab_zjm_n5","tab_zjm_b5","tab_zjm_g2","tab_zjm_f8","tab_zjm_b2","tab_lt_f6","tab_lt_f7","tab_zjm_e4","tab_qt_d4","tab_zjm_h2","tab_zjm_a6","tab_zjm_b9","tab_zjm_f5","tab_zjm_d7","tab_zx_a1n","tab_zjm_i3","tab_zjm_i4","font_fight_num_zi","sjdh_tu_1","tab_yys_a3","smalicon_100001","btn_common_6","tab_zjm_i2","smalicon_100015","tab_zjm_i1","font_num_vip_zi","smalicon_100002","tab_zjm_d8","tab_zjm_j5","tab_zjm_f2","tab_zjm_f1","tab_zjm_g9","tab_zjm_c5","tab_zjm_d6","tab_zjm_b4","tab_zjm_a2","tab_zjm_f6","tab_zjm_a4","tab_zx_d5","guide_open_a2","tab_yys_c5","tab_zjm_n7","tab_zjm_n9","tab_fx_b9","tab_zjm_j9","tab_zjm_m1","tab_zjm_m2","tab_zjm_m3","tab_zjm_m4","tab_tips_a4","tab_tips_a8","tab_tips_a7","tab_zjm_b3","tab_zjm_i5","tab_zjm_i6","btn_common_1","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_lt_f1"],a.resGroupName="MainSkin",a.wingSkinName=MainSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MainSkinDR=t,__reflect(t.prototype,"skins.MainSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v4","tab_hdsc_v5","tab_yueka_a1","tab_yk_d7","tab_yueka_b8","tab_yueka_a3","tab_yueka_c2","tab_hdsc_v2","tab_yueka_b7","tab_yueka_b3","tab_yueka_a5","tab_yueka_a4","tab_yueka_b6","tab_yueka_a7","tab_yueka_b5","tab_yueka_b1","tab_yueka_a6","tab_yueka_c1","tab_tyk_a2","tab_man_a1","tab_yueka_b9","btn_common_3"],a.resGroupName="MonthCarSkin",a.wingSkinName=MonthCarSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.MonthCarSkinDR=t,__reflect(t.prototype,"skins.MonthCarSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_xsyd_b1","tab_xsyd_a1","tab_xsyd_b5","tab_xsyd_a2","table_Novice_kuang_04","tab_xsyd_b6","tab_xsyd_a9","tab_xsyd_b2","tab_xsyd_a8","tab_xsyd_a3"],a.resGroupName="NewPlayerFollowSkin",a.wingSkinName=NewPlayerFollowSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.NewPlayerFollowSkinDR=t,__reflect(t.prototype,"skins.NewPlayerFollowSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_g4","tab_yyhd_g2","tab_yyhd_h5","tab_yyhd_f9","tab_yyhd_g5","tab_yyhd_g6","tab_yyhd_h1","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationBaoZangHeroSkin",a.wingSkinName=OperationBaoZangHeroSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationBaoZangHeroSkinDR=t,__reflect(t.prototype,"skins.OperationBaoZangHeroSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_g3","tab_yyhd_f9","tab_yyhd_g2","tab_yyhd_h6","tab_yyhd_i7","tab_yyhd_i5","tab_xzs_eb7","tab_zm_d7","tab_yyhd_i6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_yyhd_h2","tab_yyhd_h9","tab_sjzh_z5","tab_yyhd_i1","tab_yyhd_i3","tab_kapai_b2","tab_man_a1","tab_yyhd_i2","tab_yyhd_i4","smalicon_100002","tab_yyhd_h7","tab_yyhd_f7","tab_yyhd_h8"],a.resGroupName="OperationBaoZangSkin",a.wingSkinName=OperationBaoZangSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationBaoZangSkinDR=t,__reflect(t.prototype,"skins.OperationBaoZangSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sjzh_a1","tab_sjzh_a3","tab_sjzh_a9","tab_sjzh_a7","tab_sjzh_a8","tab_sjzh_a6","tab_sjzh_z5","tab_sjzh_a4","tab_lt_a3","tab_vip_d1","rect_black","tab_sjzh_a5","tab_sjzh_b1","tab_sjzh_b4","tab_sjzh_b3","tab_sjzh_a2","tab_sjzh_b8","tab_yyhd_d9"],a.resGroupName="OperationCallSkin",a.wingSkinName=OperationCallSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationCallSkinDR=t,__reflect(t.prototype,"skins.OperationCallSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jxlx_a5","tab_mrqg_a2","tab_mrqg_a1","tab_yyhd_d4","tab_mrqg_a9","tab_mrqg_a5","tab_mrqg_a8","tab_yijihuo","tab_mrqg_b2","tab_mrqg_b1","tab_mrqg_a6","tab_mrqg_b4","tab_hdsc_a8","tab_mrqg_a7","tab_hdsc_v21","tab_mrqg_a3","tab_yyhd_b3","tab_mrqg_a4","tab_lt_a3","icon_103","tab_hy_a5","tab_vip_c2","tab_kjzx_g9","rect_black","icon_104","icon_105","icon_106","tab_vip_a4","tab_vip_a6","tab_sc_a9","btn_common_3","smalicon_100002","rect_shop_red","tab_sc_b6","tab_sjzh_a6","tab_sjzh_z5","tab_ty_a2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationChaoZhiBuySkin",a.wingSkinName=OperationChaoZhiBuySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationChaoZhiBuySkinDR=t,__reflect(t.prototype,"skins.OperationChaoZhiBuySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_a7","tab_yyhd_d7","tab_yyhd_c3","tab_yyhd_a1","tab_hdsc_v21","tab_yyhd_b2","tab_yyhd_c2","tab_yyhd_b9","tab_yyhd_c1","tab_yyhd_b3","tab_yyhd_a9","icon_103","tab_hy_a5","tab_vip_c2","tab_kjzx_g9","rect_black","icon_104","icon_105","icon_106","tab_vip_a4","tab_vip_a6","tab_yyhd_a6","tab_yyhd_b6","tab_yyhd_a8","tab_yyhd_d6","tab_lt_a3","tab_hdsc_a8"],a.resGroupName="OperationContinuityRechargeSkin",a.wingSkinName=OperationContinuityRechargeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationContinuityRechargeSkinDR=t,__reflect(t.prototype,"skins.OperationContinuityRechargeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jxlx_a5","tab_jxlx_a1","tab_jxlx_a3","tab_yyhd_d4","tab_jxlx_a2","tab_jxlx_a4","tab_jxlx_b8","tab_jxlx_b5","tab_jxlx_b4","tab_jxlx_b6","tab_jxlx_b3","tab_jxlx_b2","tab_jxlx_b1","tab_zm_e2","tab_jxlx_b7","tab_jxlx_a6","tab_jxlx_a8","tab_jxlx_a9","tab_jxlx_a7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationJuXingSkin",a.wingSkinName=OperationJuXingSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationJuXingSkinDR=t,__reflect(t.prototype,"skins.OperationJuXingSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_a7","picture_1","tab_yyhd_c5","tab_yyhd_a1","tab_yyhd_c6","tab_hdsc_v21","tab_yyhd_b2","tab_yyhd_b3","tab_yyhd_a9","tab_yyhd_a6","tab_yyhd_b6","tab_yyhd_a8","tab_yyhd_d6","tab_lt_a3","tab_hdsc_a8"],a.resGroupName="OperationLeiJiPaySkin",a.wingSkinName=OperationLeiJiPaySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationLeiJiPaySkinDR=t,__reflect(t.prototype,"skins.OperationLeiJiPaySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jxlx_a5","tab_wjmb_a2","tab_wjmb_a1","tab_wjmb_a3","tab_yyhd_d4","tab_zp_a2","tab_zp_a8","tab_vip_e1","tab_wjmb_a4","tab_yys_c5","tab_wjmb_a9","tab_wjmb_b1","tab_wjmb_a7","tab_wjmb_b7","tab_wjmb_b8","tab_wjmb_b6","tab_wjmb_b9","tab_wjmb_b5","tab_wjmb_c1","tab_wjmb_b4","tab_wjmb_c2","tab_wjmb_b3","tab_wjmb_b2","tab_wjmb_a8","tab_kjzx_a6","tab_yyhd_b3","tab_mrqg_a4","tab_sjzh_a6","tab_sjzh_z8","tab_zp_b5","tab_zp_b4","tab_zp_a7","tab_tips_a4","cankao_1","smalicon_100002"],a.resGroupName="OperationMiBaoSkin",a.wingSkinName=OperationMiBaoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationMiBaoSkinDR=t,__reflect(t.prototype,"skins.OperationMiBaoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_a7","tab_yyhd_a5","tab_yyhd_a2","tab_yyhd_a1","tab_hdsc_v21","tab_yyhd_b2","tab_yyhd_a6","tab_yyhd_a3","tab_yyhd_a8","tab_yyhd_a9","tab_lt_a3","tab_hdsc_a8","tab_yyhd_a4"],a.resGroupName="OperationOneRechargeSkin",a.wingSkinName=OperationOneRechargeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationOneRechargeSkinDR=t,__reflect(t.prototype,"skins.OperationOneRechargeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dlhl_a7","tab_dlhl_a1","tab_dlhl_a6","icon_103","tab_kjzx_g9","rect_black","icon_104","icon_105","icon_106","picture_hl_1","tab_yyhd_a8","tab_dlhl_a3","tab_dlhl_b2","tab_dlhl_a2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationQianDaoSkin",a.wingSkinName=OperationQianDaoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationQianDaoSkinDR=t,__reflect(t.prototype,"skins.OperationQianDaoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hmdj_a2","tab_hmdj_b9","tab_yyhd_d4","tab_hmdj_a8","tab_hmdj_a9","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="OperationSSRChooseSkin",a.wingSkinName=OperationSSRChooseSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationSSRChooseSkinDR=t,__reflect(t.prototype,"skins.OperationSSRChooseSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hmdj_a2","tab_hmdj_a4","tab_hmdj_a3","tab_hmdj_a8","tab_yyhd_c7","tab_hmdj_b8","tab_hmdj_a1","tab_hmdj_b7","tab_yyhd_f2","tab_ty_a3","tab_hmdj_a5","tab_hmdj_a6","tab_hmdj_a9","tab_hmdj_a7","tab_hmdj_b2","tab_hmdj_b3","tab_hmdj_b4","tab_yyhd_a8","tab_yyhd_b1","tab_lt_a3","tab_hdsc_a8","tab_yyhd_d4","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationSSRPointSkin",a.wingSkinName=OperationSSRPointSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationSSRPointSkinDR=t,__reflect(t.prototype,"skins.OperationSSRPointSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_e5","tab_yyhd_e1","tab_yyhd_d9","tab_yyhd_d8","tab_yyhd_e3","tab_yyhd_f5","font_operation_s_zi","font_operation_zi","tab_yyhd_f6","tab_yyhd_e6","tab_yyhd_e7","font_operation_s_zi","tab_yyhd_e2","tab_yyhd_e8","tab_hdsc_a8","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationTouZiSkin",a.wingSkinName=OperationTouZiSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationTouZiSkinDR=t,__reflect(t.prototype,"skins.OperationTouZiSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yyhd_a7","tab_yyhd_c14","tab_yyhd_b14","tab_yyhd_a1","tab_hdsc_v21","tab_yyhd_b2","tab_hdsc_u7","tab_hdsc_u8","tab_yyhd_a6","tab_yyhd_b6","tab_yyhd_a8","tab_yyhd_d6","tab_lt_a3","tab_hdsc_a8"],a.resGroupName="OperationXiaofeiSkin",a.wingSkinName=OperationXiaofeiSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationXiaofeiSkinDR=t,__reflect(t.prototype,"skins.OperationXiaofeiSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hmdj_a2","tab_hmdj_a3","tab_hmdj_a8","tab_hmdj_b1","tab_yyhd_c7","tab_yyhd_f4","tab_yyhd_f3","tab_yyhd_f1","tab_hmdj_a5","tab_hmdj_a6","tab_yyhd_d4","tab_yyhd_f2","tab_yyhd_d2","tab_yyhd_f16","tab_yyhd_f17","tab_yyhd_f15","tab_yyhd_c8","tab_yyhd_c9","tab_yyhd_a4","tab_yyhd_a8","tab_yyhd_d5","tab_hdsc_a8","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationYiYuanSkin",a.wingSkinName=OperationYiYuanSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationYiYuanSkinDR=t,__reflect(t.prototype,"skins.OperationYiYuanSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_wylb_d1","tab_wylb_b8","tab_wylb_b9","tab_hmdj_a5","tab_wylb_b2","tab_wylb_a3","tab_wylb_a2","tab_wylb_a4","tab_wylb_a1","tab_wylb_b6","tab_yyhd_d1","tab_lt_a3","tab_wylb_a5","tab_wylb_a6","tab_wylb_b3","tab_wylb_a7","tab_wylb_a8","tab_wylb_b5","tab_wylb_a9","tab_wylb_b1","tab_wylb_b4","tab_wylb_c9"],a.resGroupName="OperationYuRenJieSkin",a.wingSkinName=OperationYuRenJieSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationYuRenJieSkinDR=t,__reflect(t.prototype,"skins.OperationYuRenJieSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_u12","tab_hdsc_u13","tab_hdsc_u11","tab_hdsc_v2","tab_hdsc_t9","tab_hdsc_w6","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="OperationZaiXianSkin",a.wingSkinName=OperationZaiXianSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationZaiXianSkinDR=t,__reflect(t.prototype,"skins.OperationZaiXianSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zp_a9","tab_zp_b2","tab_zp_b1","tab_zp_a2","tab_zp_a8","tab_zp_a1","tab_zp_a6","tab_yys_c5","smalicon_100002","tab_zp_b3","tab_zp_a5","tab_zp_b7","tab_zp_c1","tab_zp_a3","tab_zp_a4","tab_zp_b9","tab_zp_b5","tab_zp_b4","tab_yyhd_f9","tab_zp_a7","tab_tips_a4","tab_hdlb_a1","cankao_1","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationZhuanPanSkin",a.wingSkinName=OperationZhuanPanSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationZhuanPanSkinDR=t,__reflect(t.prototype,"skins.OperationZhuanPanSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kuafu_b7","tab_zp_b6","tab_kuafu_d2","tab_zm_e6","tab_kuafu_b8","smalicon_100002","tab_xzs_eb7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_sc_a9","btn_common_3","tab_sc_a4","tab_sc_a8","rect_shop_red","tab_sc_b6","font_vipshop_zi","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="OperationZPShopSkin",a.wingSkinName=OperationZPShopSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.OperationZPShopSkinDR=t,__reflect(t.prototype,"skins.OperationZPShopSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_tips_a4","sjdh_tu_1","btn_common_3"],a.resGroupName="PeopleInfoSkin",a.wingSkinName=PeopleInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.PeopleInfoSkinDR=t,__reflect(t.prototype,"skins.PeopleInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_l5","tab_fx_m7","tab_hdsc_v21","tab_fx_m9","tab_fx_k2","tab_tyk_a2","btn_common_1","smalicon_100002","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="PlayerSharSkin",a.wingSkinName=PlayerSharSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.PlayerSharSkinDR=t,__reflect(t.prototype,"skins.PlayerSharSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_hdsc_t9","tab_yk_d6","tab_lt_a3","tab_hdsc_a8"],a.resGroupName="QualifyingDayRewardSkin",a.wingSkinName=QualifyingDayRewardSkin,t
}return __extends(t,e),t}(e.BaseSkinDR);e.QualifyingDayRewardSkinDR=t,__reflect(t.prototype,"skins.QualifyingDayRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_pws_a6","tab_hdsc_v21","tab_pws_a7","tab_hdsc_v2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","tab_pws_a5"],a.resGroupName="QualifyingRankRewardSkin",a.wingSkinName=QualifyingRankRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.QualifyingRankRewardSkinDR=t,__reflect(t.prototype,"skins.QualifyingRankRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_pws_b6","tab_pws_b5","tab_pws_b4","tab_pws_a9","tab_pws_b3","sjdh_tu_1","tab_zjm_d8","rect_black","tab_zjm_i2","tab_zjm_i1","tab_zx_a1n","font_fight_num_zi","tab_zjm_i4","tab_zjm_i3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","tab_pws_b2"],a.resGroupName="QualifyingRankSkin",a.wingSkinName=QualifyingRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.QualifyingRankSkinDR=t,__reflect(t.prototype,"skins.QualifyingRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_pws_a3","sjdh_tu_1","tab_pws_a4","tab_zjm_d8","tab_zx_a1n","font_fight_num_zi","tab_zjm_i4","tab_zjm_i3","tab_xlzx1_a8","tab_pws_a1","btn_common_3"],a.resGroupName="QualifyingRecordSkin",a.wingSkinName=QualifyingRecordSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.QualifyingRecordSkinDR=t,__reflect(t.prototype,"skins.QualifyingRecordSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_bj","tab_pws_c5","tab_pws_e4","tab_pws_d9","tab_pws_c7","tab_pws_e3","tab_pws_d2","tab_pws_d8","sjdh_tu_1","tab_zx_a1n","font_fight_num_zi","tab_zjm_i3","tab_zjm_d8","tab_pws_e2","fx_scardq_b","tab_pws_c9","tab_pws_d3","tab_pws_e1","font_fight_num_zi","tab_pws_d6","tab_pws_c8","tab_pws_d4","tab_pws_d7","font_fight_num_zi","tab_kjzx_a5","tab_pws_c4","tab_pws_d1","tab_pws_b7","tab_pws_b9","tab_pws_b8","tab_cj_c6","tab_yys_a3","btn_common_6","smalicon_100002","rect_black","tab_xlzx1_e4","tab_zjm_j2","tab_zx_c5","tab_jy_f1","tab_yys_b3","tab_jjsn_b4","tab_xlzx1_a8","btn_common_3","tab_pws_c3","tab_pws_c1"],a.resGroupName="QualifyingSkin",a.wingSkinName=QualifyingSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.QualifyingSkinDR=t,__reflect(t.prototype,"skins.QualifyingSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_k4","tab_hdsc_v21","tab_fx_b9","tab_tyk_a2","btn_common_1","smalicon_100002","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="RandomSharSkin",a.wingSkinName=RandomSharSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RandomSharSkinDR=t,__reflect(t.prototype,"skins.RandomSharSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v4","tab_hdsc_v5","tab_hdsc_v8","tab_hdsc_v1","tab_tyk_a2","tab_zs_c9","tab_hdqr_e4","act_icon_1004003","act_name_1004002","tab_hdsc_u9","tab_lt_a3"],a.resGroupName="RankActivitySkin",a.wingSkinName=RankActivitySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankActivitySkinDR=t,__reflect(t.prototype,"skins.RankActivitySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_hdsc_e9","tab_hdsc_f2","tab_banner_name3_0","tab_banner_name3_2","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_w2","tab_hdsc_x7","tab_hdsc_w6","tab_cj_c6","tab_hdsc_f1","tab_hdsc_f7","sjdh_tu_1","tab_hdsc_f6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_hdsc_f8","tab_zjm_i3","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="RankLevelSkin",a.wingSkinName=RankLevelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankLevelSkinDR=t,__reflect(t.prototype,"skins.RankLevelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_hdsc_e9","tab_hdsc_f2","tab_banner_name3_0","tab_banner_name3_3","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_w2","tab_hdsc_x7","tab_hdsc_w6","tab_cj_c6","tab_hdsc_f1","tab_hdsc_f7","sjdh_tu_1","tab_hdsc_f6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_hdsc_f8","tab_zjm_i3","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="RankPeakSkin",a.wingSkinName=RankPeakSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankPeakSkinDR=t,__reflect(t.prototype,"skins.RankPeakSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_hdsc_e9","tab_hdsc_f2","tab_banner_name3_0","tab_banner_name3_4","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_w2","tab_hdsc_x7","tab_hdsc_w6","tab_cj_c6","tab_hdsc_f1","tab_hdsc_f7","sjdh_tu_1","tab_hdsc_f6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_hdsc_f8","tab_zjm_i3","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="RankPowerSkin",a.wingSkinName=RankPowerSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankPowerSkinDR=t,__reflect(t.prototype,"skins.RankPowerSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w4","tab_hdsc_w5","tab_hdsc_v2","tab_hdsc_h9","tab_hdsc_g1","tab_hdsc_x6","tab_hdsc_h5","tab_sc_b6","tab_zm_e2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_3"],a.resGroupName="RankRecruitSkin",a.wingSkinName=RankRecruitSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankRecruitSkinDR=t,__reflect(t.prototype,"skins.RankRecruitSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a3","tab_kjzx_a5","tab_ph_a9","tab_ph_a1","tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_jjsn_d7","sjdh_tu_1","tab_ph_a6","tab_tzzl_c8","tab_kjzx_f6","tab_hdsc_w2","tab_hdsc_x7","tab_hdsc_w6","tab_cj_c6","tab_hdsc_f1","tab_hdsc_f7","tab_hdsc_f6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="RankSkin",a.wingSkinName=RankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RankSkinDR=t,__reflect(t.prototype,"skins.RankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_hdsc_e9","tab_banner_name2_0","tab_banner_name2_4","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_t9","tab_hdsc_w6","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002","tab_hdsc_w2","tab_cj_c6","tab_hdsc_f1","tab_hdsc_f7","sjdh_tu_1","tab_hdsc_f6","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="RechargeConsumptionSkin",a.wingSkinName=RechargeConsumptionSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RechargeConsumptionSkinDR=t,__reflect(t.prototype,"skins.RechargeConsumptionSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_banner_name2_0","tab_banner_name2_2","tab_hdsc_b9","tab_hdsc_y5","tab_hdsc_y4","smalicon_100002","font_activity_zi","tab_hdsc_c2","btn_common_1","tab_hdsc_w2","tab_hdsc_a8","tab_lt_a3"],a.resGroupName="RechargeFundSkin",a.wingSkinName=RechargeFundSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RechargeFundSkinDR=t,__reflect(t.prototype,"skins.RechargeFundSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_hdsc_b9","tab_lt_a3","smalicon_100002","font_activity_zi","tab_hdsc_c1","tab_banner_name2_0","tab_banner_name2_3","btn_common_1","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_w2","tab_hdsc_a8"],a.resGroupName="RechargeInvestmentSkin",a.wingSkinName=RechargeInvestmentSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RechargeInvestmentSkinDR=t,__reflect(t.prototype,"skins.RechargeInvestmentSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_w1","tab_hdsc_v2","tab_banner_name2_0","tab_banner_name2_1","tab_hdsc_e9","tab_sjzh_a7","tab_hdsc_u7","tab_hdsc_u8","tab_hdsc_t9","tab_hdsc_w6","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="RechargePackageSkin",a.wingSkinName=RechargePackageSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RechargePackageSkinDR=t,__reflect(t.prototype,"skins.RechargePackageSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v4","tab_hdsc_v5","tab_hdsc_v3","tab_hdsc_v1","tab_tyk_a2","tab_zs_c9","tab_lt_a3","tab_hdqr_e4","act_icon_1004003","act_name_1004002","tab_hdsc_u9"],a.resGroupName="RechargeRebateSkin",a.wingSkinName=RechargeRebateSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RechargeRebateSkinDR=t,__reflect(t.prototype,"skins.RechargeRebateSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jlbsj_a1","tab_jlbsj_a4","tab_jjsn_d1","sjdh_tu_1","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_jlbsj_b1","tab_xzs_dw_7","tab_yys_c5","tab_kjzx_h9","tab_yk_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2"],a.resGroupName="RichFightInfoSkin",a.wingSkinName=RichFightInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RichFightInfoSkinDR=t,__reflect(t.prototype,"skins.RichFightInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_bj","tab_xzs_g1","tab_jjsn_a1","tab_xzs_dw_7","tab_yys_a3","smalicon_100002","rect_black","tab_xlzx1_e4","tab_jjsn_b3","tab_jjsn_e5","tab_xzs_f5","tab_jjsn_g1","tab_wdpm_a1","tab_jjsn_c1","tab_jjsn_b5","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","sjdh_tu_1","tab_jjsn_d6","tab_xzs_j5","tab_jjsn_e8","tab_xzs_f6","tab_jjsn_b6","tab_jjsn_e6","tab_jjsn_b7","tab_jjsn_e7","tab_zx_c5","tab_jjsn_b4","tab_xlzx1_a8","btn_common_3","tab_jjsn_f4","tab_xzs_g2"],a.resGroupName="RichFightSkin",a.wingSkinName=RichFightSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RichFightSkinDR=t,__reflect(t.prototype,"skins.RichFightSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ph_b3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_jjsn_e4","tab_jjsn_e1","tab_jjsn_d7"],a.resGroupName="RichRankRewardSkin",a.wingSkinName=RichRankRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RichRankRewardSkinDR=t,__reflect(t.prototype,"skins.RichRankRewardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_d5","tab_kjzx_d6","tab_ph_b3","tab_jjsn_d7","tab_xzs_dw_7","sjdh_tu_1","tab_yys_e2","btn_common_3","tab_xzs_f4","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","tab_ph_a4","tab_ph_b5"],a.resGroupName="RichRankSkin",a.wingSkinName=RichRankSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.RichRankSkinDR=t,__reflect(t.prototype,"skins.RichRankSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ph_b3","tab_xzs_dw_7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_xzs_j4","tab_jjsn_a1","tab_xzs_f8"],a.resGroupName="RichZuRewardPanel",a.wingSkinName=RichZuRewardPanel,t}return __extends(t,e),t}(e.BaseSkinDR);e.RichZuRewardPanelDR=t,__reflect(t.prototype,"skins.RichZuRewardPanelDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zm_a5","tab_jjs_a3","tab_zm_a3","tab_yys_c5","tab_kjzx_a6","tab_qt_c1","tab_zm_d5","tab_kjzx_e2","tab_kjzx_e3","tab_kjzx_e4","tab_kjzx_e5","tab_zm_a4","tab_sjzh_b6","tab_sjzh_b7","tab_qt_c2","tab_zm_d6","tab_zm_f6","tab_zm_f1","tab_zm_f3","smalicon_100002","tab_zm_e1","tab_zm_e9","rect_white","btn_common_1","tab_zm_f7","tab_zm_f8","rect_black"],a.resGroupName="ScoutBgSkin",a.wingSkinName=ScoutBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutBgSkinDR=t,__reflect(t.prototype,"skins.ScoutBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_mail_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="ScoutExtraUnlockSkin",a.wingSkinName=ScoutExtraUnlockSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutExtraUnlockSkinDR=t,__reflect(t.prototype,"skins.ScoutExtraUnlockSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_zm_f4","tab_tx_b3","tab_ph_b5","tab_zm_f5","tab_zs_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","btn_common_1","smalicon_100002","tab_dh_qt_1","tab_kjzx_g9","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="ScoutLibrarySkin",a.wingSkinName=ScoutLibrarySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutLibrarySkinDR=t,__reflect(t.prototype,"skins.ScoutLibrarySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a3","tab_zm_e4","tab_zm_e3","tab_tyk_a2","tab_yyhd_c6","tab_yys_c5","smalicon_101013","tab_zm_e8","tab_zm_e7","tab_zm_e6","btn_common_3","tab_kjzx_f6","tab_zm_e5","tab_zm_e2","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_sc_a9","tab_sc_a4","tab_sc_a8","smalicon_100002","rect_shop_red","tab_sc_b6","font_vipshop_zi","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","font_herolog_zi","tab_zx_c6"],a.resGroupName="ScoutMarketSkin",a.wingSkinName=ScoutMarketSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutMarketSkinDR=t,__reflect(t.prototype,"skins.ScoutMarketSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_dh_qt_1","tab_kjzx_g9"],a.resGroupName="ScoutPreSkin",a.wingSkinName=ScoutPreSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutPreSkinDR=t,__reflect(t.prototype,"skins.ScoutPreSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_zm_d7","tab_zm_d9","tab_qt_c2","tab_vip_c7","tab_zjm_a2","tab_fx_a3","tab_yys_c5","tab_kjzx_a6","tab_sjzh_b6","tab_sjzh_b7","rect_white","tab_kapai_b8","tab_qt_c5","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_1","smalicon_100002"],a.resGroupName="ScoutRecruitInfoSkin",a.wingSkinName=ScoutRecruitInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutRecruitInfoSkinDR=t,__reflect(t.prototype,"skins.ScoutRecruitInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_zm_d7","tab_zm_j3","tab_zm_j4","tab_kjzx_f7","tab_zm_f9","tab_zm_j2","tab_zm_j1","tab_dh_qt_4","tab_kapai_b8","tab_qt_c5","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_1","smalicon_100002"],a.resGroupName="ScoutRecruitNewSkin",a.wingSkinName=ScoutRecruitNewSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutRecruitNewSkinDR=t,__reflect(t.prototype,"skins.ScoutRecruitNewSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_jlbsj_a3","tab_jlb_lv2","tab_zs_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","tab_bsks_a3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="ScoutUnlockSkin",a.wingSkinName=ScoutUnlockSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ScoutUnlockSkinDR=t,__reflect(t.prototype,"skins.ScoutUnlockSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_bjt_a1","tab_ms_b9","tab_kjzx_f6"],a.resGroupName="SecretaryBgSkin",a.wingSkinName=SecretaryBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SecretaryBgSkinDR=t,__reflect(t.prototype,"skins.SecretaryBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ms_b4","tab_ms_b6","smalicon_100002"],a.resGroupName="SecretaryEncySkin",a.wingSkinName=SecretaryEncySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SecretaryEncySkinDR=t,__reflect(t.prototype,"skins.SecretaryEncySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ms_b8","tab_hy_q9","tab_ms_b3","btn_common_3"],a.resGroupName="SecretaryGrowSkin",a.wingSkinName=SecretaryGrowSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SecretaryGrowSkinDR=t,__reflect(t.prototype,"skins.SecretaryGrowSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_ms_a1","tab_tp_b9"],a.resGroupName="SecretaryReportSkin",a.wingSkinName=SecretaryReportSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SecretaryReportSkinDR=t,__reflect(t.prototype,"skins.SecretaryReportSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1"],a.resGroupName="SetUpChangeNameSkin",a.wingSkinName=SetUpChangeNameSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SetUpChangeNameSkinDR=t,__reflect(t.prototype,"skins.SetUpChangeNameSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="SetUpExchangeSkin",a.wingSkinName=SetUpExchangeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SetUpExchangeSkinDR=t,__reflect(t.prototype,"skins.SetUpExchangeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_h9","sjdh_tu_1","sjdh_tu_3","tab_kjzx_g3","rect_black","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_3","tab_vip_a4","tab_vip_a6","tab_cjs_b1"],a.resGroupName="SetUpInfoSkin",a.wingSkinName=SetUpInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SetUpInfoSkinDR=t,__reflect(t.prototype,"skins.SetUpInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jlbsj_a1","tab_jlbsj_a4","sjdh_tu_1","tab_kjzx_h9","smalicon_100002","tab_ty_a3","tab_yys_e2","tab_xlzx1_d6","tab_tp_c2","tab_xlzx1_e7","tab_yys_c5","tab_sz_c7","tab_sz_c8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6","tab_sz_c5","btn_common_3","tab_dh_a2","tab_ckjlb1_1","tab_sz_a7","tab_kjzx_g9","tab_sz_a9"],a.resGroupName="SetUpLogoSkin",a.wingSkinName=SetUpLogoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SetUpLogoSkinDR=t,__reflect(t.prototype,"skins.SetUpLogoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_j4","tab_hdsc_v21","tab_fx_j9","tab_tyk_a2","btn_common_1","smalicon_100002","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="ShareCollectSkin",a.wingSkinName=ShareCollectSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareCollectSkinDR=t,__reflect(t.prototype,"skins.ShareCollectSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_pjhl_a2","tab_pjhl_a1","tab_pjhl_a3","tab_pjhl_a4"],a.resGroupName="ShareEvaluateSkin",a.wingSkinName=ShareEvaluateSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareEvaluateSkinDR=t,__reflect(t.prototype,"skins.ShareEvaluateSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_l7","tab_fx_m2","tab_fx_n6","tab_fx_c9","tab_lt_a3","tab_tyk_a2","tab_hdsc_v21","tab_fx_n4","tab_gj_28","tab_fx_n8","btn_common_1","smalicon_100002","tab_fx_d3","tab_fx_d4","tab_fx_n2","sjdh_tu_1","tab_zjm_d8","tab_fx_e3","tab_fx_d2","rect_black"],a.resGroupName="ShareEverydaySkin",a.wingSkinName=ShareEverydaySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareEverydaySkinDR=t,__reflect(t.prototype,"skins.ShareEverydaySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_b2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="ShareGetGifSkin",a.wingSkinName=ShareGetGifSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareGetGifSkinDR=t,__reflect(t.prototype,"skins.ShareGetGifSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_hdsc_v21","tab_fx_k6","tab_fx_m5","tab_xsyd_a2","tab_tyk_a2","btn_common_1","smalicon_100002","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="ShareNewSkin",a.wingSkinName=ShareNewSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareNewSkinDR=t,__reflect(t.prototype,"skins.ShareNewSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_l3","tab_hdsc_v21","tab_fx_b9","tab_yys_a3","smalicon_100002","tab_tyk_a2","tab_fx_n1","tab_fx_n5","tab_fx_e5","btn_common_1","btn_common_3","tab_vip_a4","tab_vip_a6","rect_black","tab_fx_l4","sjdh_tu_1","tab_zjm_d8","tab_fx_n2","tab_fx_n3","tab_fx_m6"],a.resGroupName="ShareRegalSkin",a.wingSkinName=ShareRegalSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShareRegalSkinDR=t,__reflect(t.prototype,"skins.ShareRegalSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_sc_a7","tab_sc_a3","tab_sc_a2","tab_sc_b3","tab_yys_a3","smalicon_100002","tab_cz_c4","tab_cz_c6","tab_cz_c5","tab_cz_c7","tab_cz_c3","tab_cz_c8","tab_hdqr_b3","tab_sd_a1","tab_sc_a9","btn_common_3","tab_sc_a4","tab_sc_a8","rect_shop_red","tab_sc_b6","font_vipshop_zi","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_cz_b5","tab_cz_b8","tab_cz_c2","tab_cz_b6"],a.resGroupName="ShopBgSkin",a.wingSkinName=ShopBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShopBgSkinDR=t,__reflect(t.prototype,"skins.ShopBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_a3","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_1"],a.resGroupName="ShopBuySkin",a.wingSkinName=ShopBuySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShopBuySkinDR=t,__reflect(t.prototype,"skins.ShopBuySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_cz_a2","tab_cz_b3","tab_cz_b4","tab_vip_a9","font_num_vip_zi","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_cz_a9","tab_cz_b1","rect_black","btn_common_3","tab_cz_a1","tab_cz_a3","tab_cz_d9","tab_cz_c9","tab_jb_a5","tab_vip_c9"],a.resGroupName="ShopPaySkin",a.wingSkinName=ShopPaySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ShopPaySkinDR=t,__reflect(t.prototype,"skins.ShopPaySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dlcj_a1","tab_dlcj_b9","tab_dlcj_a9","tab_dlcj_a7","tab_dlcj_c9","sjdh_tu_1","tab_dlcj_a8","tab_dlcj_a6","tab_dlcj_a2","tab_dlcj_a3","tab_cjs_b3","tab_cjs_b2","tab_dlcj_a4","tab_dlcj_b7","tab_dlcj_b1","tab_dlcj_b4","tab_dlcj_b2","tab_dlcj_b5","tab_dlcj_b3","tab_dlcj_b6","tab_ryzl1_b3"],a.resGroupName="SignCreatClubSkin",a.wingSkinName=SignCreatClubSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SignCreatClubSkinDR=t,__reflect(t.prototype,"skins.SignCreatClubSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["loadingBG","tab_xf_b1","tab_xf_b3","tab_xf_b4","tab_dljm_a6","rect_black","tab_xf_b9","tab_xf_a7","tab_xzfq_a1","tab_xzfq_a3","tab_fx_a3","tab_login_a1","tab_xzfq_a2","tab_xzfq_a6","tab_dljm_a1","tab_dljm_a3","tab_dljm_a4","tab_dljm_a2","tab_dljm_a5","tab_ryzl1_b3","btn_common_3","tab_xzfq_a7","tab_xf_b8"],a.resGroupName="SignLoginSkin",a.wingSkinName=SignLoginSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.SignLoginSkinDR=t,__reflect(t.prototype,"skins.SignLoginSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_e7","tab_kjzx_a4","tab_kjzx_a6","tab_kjzx_a5","tab_kjzx_f6"],a.resGroupName="TacticsBgSkin",a.wingSkinName=TacticsBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsBgSkinDR=t,__reflect(t.prototype,"skins.TacticsBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zs_e8","tab_zs_b6","tab_zs_c1","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_zs_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_zx_a3","tab_zs_d1","tab_zs_d2","tab_zs_d3","tab_zs_d4","tab_zs_d5","tab_zs_c5","tab_zs_c8","btn_common_1","smalicon_100002"],a.resGroupName="TacticsFormaInfoSkin",a.wingSkinName=TacticsFormaInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsFormaInfoSkinDR=t,__reflect(t.prototype,"skins.TacticsFormaInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_zs_e7","tab_zs_ca3","tab_zs_e1","tab_zs_c1","tab_zs_d9","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","btn_common_3"],a.resGroupName="TacticsFormaSkin",a.wingSkinName=TacticsFormaSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsFormaSkinDR=t,__reflect(t.prototype,"skins.TacticsFormaSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f7","tab_qdty_a8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_kjzx_h9","tab_zs_ca3","tab_zs_e1","tab_qdty_a5","tab_jb_a5","tab_sszx_a6","tab_qdty_a4","tab_kjzx_g9"],a.resGroupName="TacticsFormationSkin",a.wingSkinName=TacticsFormationSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsFormationSkinDR=t,__reflect(t.prototype,"skins.TacticsFormationSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a6","tab_qdty_b4","tab_zs_b9","tab_qdty_c1","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_lt_a3","tab_sjzd_a4","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_kjzx_g3","btn_common_3"],a.resGroupName="TacticsFormaUpgradeSkin",a.wingSkinName=TacticsFormaUpgradeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsFormaUpgradeSkinDR=t,__reflect(t.prototype,"skins.TacticsFormaUpgradeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_zs_e8","tab_zs_b7","tab_qdty_b9","tab_xlzx1_e7","tab_xlzx1_e8","tab_lt_a3","tab_zs_c9","tab_sjzd_a3","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_zx_a3","tab_zs_d1","tab_zs_d2","tab_zs_d3","tab_zs_d4","tab_zs_d5","tab_zs_c5","tab_zs_c8","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_kjzx_g3","btn_common_3"],a.resGroupName="TacticsStudyInfoSkin",a.wingSkinName=TacticsStudyInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsStudyInfoSkinDR=t,__reflect(t.prototype,"skins.TacticsStudyInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a9","tab_qdty_a6","tab_tp_c2","tab_zs_b2","tab_zs_b9","tab_zs_b6","tab_kjzx_g3","tab_zs_e9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="TacticsStudyUpgradeSkin",a.wingSkinName=TacticsStudyUpgradeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TacticsStudyUpgradeSkinDR=t,__reflect(t.prototype,"skins.TacticsStudyUpgradeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xsyd_a3"],a.resGroupName="TaskFollowSkin",a.wingSkinName=TaskFollowSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TaskFollowSkinDR=t,__reflect(t.prototype,"skins.TaskFollowSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_cjs_b6","tab_kjzx_a4","tab_kjzx_a6","tab_kjzx_a5","tab_kjzx_f6"],a.resGroupName="TechBgSkin",a.wingSkinName=TechBgSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TechBgSkinDR=t,__reflect(t.prototype,"skins.TechBgSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_f5","tab_kjzx_h9","tab_tp_c2","tab_kjzx_k3","tab_yys_c5","tab_kjzx_k4","tab_kjzx_k5","tab_kjzx_k6","tab_kjzx_k7","tab_mail_a8","tab_kjzx_c7","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_f6","tab_zs_e7","tab_kjzx_g9"],a.resGroupName="TechEquipQualitySkin",a.wingSkinName=TechEquipQualitySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TechEquipQualitySkinDR=t,__reflect(t.prototype,"skins.TechEquipQualitySkinDR")
}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_l6","tab_kjzx_m6","tab_kjzx_l8","tab_kjzx_m5","tab_kjzx_m2","tab_kjzx_m1","tab_xljn_a5","tab_kjzx_m4","tab_kjzx_m3","tab_kjzx_i8","tab_kjzx_e9","tab_kjzx_f1","tab_kjzx_k9","rect_white","tab_kjzx_f4","rect_black","tab_tips_a4","btn_common_1","smalicon_100002","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","tab_vip_a4","tab_vip_a6"],a.resGroupName="TechEquipSkin",a.wingSkinName=TechEquipSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TechEquipSkinDR=t,__reflect(t.prototype,"skins.TechEquipSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_a8","tab_kjzx_c6","tab_kjzx_c4","tab_kjzx_c5","tab_kjzx_n6","tab_kjzx_m6","tab_kjzx_n8","tab_kjzx_n1","rect_white","tab_kjzx_n5","tab_kjzx_m8","tab_kjzx_l9","tab_tp_o2","tab_tips_a4","rect_black","tab_kjzx_k9","btn_common_3","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_1","smalicon_100002","tab_tp_o7","tab_xhs_a2","tab_xlsx_a5","tab_xlsx_a2","tab_vip_a4","tab_vip_a6","tab_kjzx_m9","tab_kjzx_f2","tab_kjzx_f3"],a.resGroupName="TechEquipStudySkin",a.wingSkinName=TechEquipStudySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TechEquipStudySkinDR=t,__reflect(t.prototype,"skins.TechEquipStudySkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_l5","tab_kjzx_l4","tab_tp_o1","tab_kjzx_k1","tab_kjzx_h8","tab_tp_o4","tab_kjzx_f1","tab_bsks_c7","tab_kjzx_h9","tab_tp_c2","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_kjzx_m1","tab_kjzx_k3","tab_kjzx_k9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="TechEquipUpGradeSkin",a.wingSkinName=TechEquipUpGradeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TechEquipUpGradeSkinDR=t,__reflect(t.prototype,"skins.TechEquipUpGradeSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tips_a4","rect_black","tab_shop_c2","tab_shop_c7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="TipAwardSkin",a.wingSkinName=TipAwardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TipAwardSkinDR=t,__reflect(t.prototype,"skins.TipAwardSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tips_a4","rect_black","tab_tips_b3","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="TipSkin",a.wingSkinName=TipSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TipSkinDR=t,__reflect(t.prototype,"skins.TipSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tx_b9","tab_tx_b7","tab_tx_b8","tab_tx_c2","title_2_1009","tab_tx_c3","tab_zs_b9","tab_tx_a4","tab_tx_a5","tab_tx_a6","tab_xlzx1_e7","tab_xlzx1_e8","tab_jl_d5","tab_xlzx1_a8","tab_jl_d2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="TitleAdvancedPanelSkin",a.wingSkinName=TitleAdvancedPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TitleAdvancedPanelSkinDR=t,__reflect(t.prototype,"skins.TitleAdvancedPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tx_a1","tab_zs_c9","tab_tx_c2","title_1_9","tab_tx_a3","tab_tx_a4","tab_tx_a5","tab_tx_a6","tab_jl_d5","tab_xlzx1_a8","tab_jl_d2","tab_xlzx1_e7","tab_xlzx1_e8","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="TitleDetailsPanelSkin",a.wingSkinName=TitleDetailsPanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TitleDetailsPanelSkinDR=t,__reflect(t.prototype,"skins.TitleDetailsPanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tx_a8","tab_hdsc_v2","tab_tx_a9","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","tab_kjzx_f6","tab_hdqr_e4","act_icon_1004003","act_name_1004002","tab_hdsc_u9","tab_lt_a3"],a.resGroupName="TitleManagePanelSkin",a.wingSkinName=TitleManagePanelSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TitleManagePanelSkinDR=t,__reflect(t.prototype,"skins.TitleManagePanelSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_dfs_a1","tab_kjzx_a4","smalicon_100015","tab_kjzx_a5","tab_kjzx_f6"],a.resGroupName="TitleSkin",a.wingSkinName=TitleSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TitleSkinDR=t,__reflect(t.prototype,"skins.TitleSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a3","tab_xlzx1_d1","tab_xlzx1_f6","tab_xlzx1_f7","tab_xlzx1_f8","tab_zx_a1n","tab_zjm_i3","font_fight_num_zi","font_fight_num_zi","tab_xlzx1_a8","tab_zjm_i4","tab_xlzx1_m5","tab_xlzx1_f2","tab_qy_c3","tab_qy_p_C0","tab_qy_p_C1","tab_xlzx1_e4","tab_qy_c4","tab_qy_c6","tab_qy_c5","tab_qy_c7","tab_yys_c5","tab_xlzx1_f5","tab_xlzx1_d7","rect_black","tab_xlzx1_e1","tab_xlzx1_f4","tab_xlzx1_d8","tab_xlzx1_f3","tab_xlzx1_d9","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_sjzd_a1","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_kapai_b1","tab_zm_j5","btn_common_3","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3"],a.resGroupName="TrainBeRebornSkin",a.wingSkinName=TrainBeRebornSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainBeRebornSkinDR=t,__reflect(t.prototype,"skins.TrainBeRebornSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlzx1_b7","tab_kjzx_f1","tab_xlzx1_e7","tab_xlzx1_e8","tab_jb_a5","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002","tab_vip_a4","tab_vip_a6","rect_black","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3","btn_common_3"],a.resGroupName="TrainBreachChooseSkin",a.wingSkinName=TrainBreachChooseSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainBreachChooseSkinDR=t,__reflect(t.prototype,"skins.TrainBreachChooseSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlsx_a3","tab_xlzx1_b3","tab_yys_c5","tab_xlzx1_f9","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3","tab_zx_a3","tab_tp_a9","tab_tp_a8","tab_kjzx_f1","tab_tp_a7"],a.resGroupName="TrainBreachSkin",a.wingSkinName=TrainBreachSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainBreachSkinDR=t,__reflect(t.prototype,"skins.TrainBreachSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_ph_a6","tab_ckjlb1_4","smalicon_zhuansheng1","tab_kjzx_e2","tab_xlzx1_b8","rect_train_blue","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_vip_a4","tab_vip_a6","rect_black"],a.resGroupName="TrainChooseSkin",a.wingSkinName=TrainChooseSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainChooseSkinDR=t,__reflect(t.prototype,"skins.TrainChooseSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlsx_a3","tab_xlzx1_a1","tab_xlzx1_a3","tab_xlzx1_c4","tab_sszx_a6","tab_xlzx1_a4","tab_xlzx1_a5","tab_xlzx1_e5","tab_xlzx1_k1","tab_xlzx1_k2"],a.resGroupName="TrainEnterSkin",a.wingSkinName=TrainEnterSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainEnterSkinDR=t,__reflect(t.prototype,"skins.TrainEnterSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_kjzx_d5","tab_kjzx_d6","tab_zx_c1","tab_zx_c2","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ph_a6","btn_common_3"],a.resGroupName="TrainFetterListSkin",a.wingSkinName=TrainFetterListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainFetterListSkinDR=t,__reflect(t.prototype,"skins.TrainFetterListSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlsx_a3","tab_xlzx1_b3","tab_yys_c5","tab_xlzx1_j8","tab_jb_b1","tab_mail_a8","tab_tips_a4","tab_yys_a4","tab_xlzx1_n3","tab_xlzx1_n2","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3","tab_kjzx_f6","tab_qdty_c4","tab_jb_a1","tab_kapai_b8","tab_jb_a5","tab_zm_e5","tab_jb_a3"],a.resGroupName="TrainFetterSkin",a.wingSkinName=TrainFetterSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainFetterSkinDR=t,__reflect(t.prototype,"skins.TrainFetterSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlsx_a3","tab_xlzx1_o7","tab_xlzx1_o6","tab_tips_a4","tab_xlzx1_n8","tab_xlzx1_n7","tab_xlzx1_p8","tab_xlzx1_q4","tab_xlzx1_o5","tab_xlzx1_o4","tab_xlzx1_o3","tab_xlzx1_p3","tab_xlzx1_o8","tab_xlzx1_o9","skill_icon_1210001","tab_xlzx1_m7","tab_xlzx1_p2","tab_kjzx_g3","tab_xlzx1_q8","tab_kapai_b8","tab_qt_c5","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5"],a.resGroupName="TrainSkillGroupSkin",a.wingSkinName=TrainSkillGroupSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainSkillGroupSkinDR=t,__reflect(t.prototype,"skins.TrainSkillGroupSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlsx_a3","tab_tips_a4","tab_xlzx1_d6","tab_xlzx1_b3","tab_yys_c5","tab_xlzx1_n1","btn_common_6","tab_xlzx1_m8","smalicon_100002","tab_zjm_f8","tab_xlzx1_m6","tab_xlzx1_m7","tab_xlzx1_n4","tab_xlzx1_n5","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","btn_common_1"],a.resGroupName="TrainSkillSkin",a.wingSkinName=TrainSkillSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainSkillSkinDR=t,__reflect(t.prototype,"skins.TrainSkillSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_xlzx1_d5","tab_jb_a5","tab_kapai_b8","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3"],a.resGroupName="TrainUpSkillSkin",a.wingSkinName=TrainUpSkillSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainUpSkillSkinDR=t,__reflect(t.prototype,"skins.TrainUpSkillSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_kjzx_h9","tab_qy_c3"],a.resGroupName="TrainUpStarInfoSkin",a.wingSkinName=TrainUpStarInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainUpStarInfoSkinDR=t,__reflect(t.prototype,"skins.TrainUpStarInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_qdty_a3","tab_xlzx1_d1","tab_xlzx1_d6","tab_xlzx1_d5","tab_xlzx1_d4","rect_black","tab_xlzx1_a8","tab_xlzx1_c8","tab_yys_c5","btn_common_6","tab_xlzx1_e7","tab_xlzx1_e8","tab_xlzx1_e6","tab_sjzd_a2","tab_zx_e7","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","btn_common_3","skill_icon_1210001","tab_qtqy_a3","tab_xlzx1_c1","tab_xlzx1_c6","tab_xlzx1_m7","tab_cj_c4","tab_cj_c5","btn_common_1","smalicon_100002","tab_xlzx1_e9","tab_xlzx1_f1","smalicon_100001","tab_lt_a3","tab_kjzx_g3"],a.resGroupName="TrainUpStarSkin",a.wingSkinName=TrainUpStarSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.TrainUpStarSkinDR=t,__reflect(t.prototype,"skins.TrainUpStarSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_vip_b2","tab_xzs_eb7","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="VipAwardInfoSkin",a.wingSkinName=VipAwardInfoSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.VipAwardInfoSkinDR=t,__reflect(t.prototype,"skins.VipAwardInfoSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_vip_d5","tab_hy_a5","tab_vip_c2","tab_yk_a6","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_vip_a4","tab_vip_a6","rect_black","btn_common_3","tab_vip_d4","rect_vip_blue"],a.resGroupName="VipObtainSkin",a.wingSkinName=VipObtainSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.VipObtainSkinDR=t,__reflect(t.prototype,"skins.VipObtainSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["vip_di","tab_vip_c5","tab_vip_c3","tab_vip_c6","font_vipshop_zi","btn_common_3","tab_vip_a9","font_num_vip_zi","tab_vip_c8","tab_vip_c7","font_vipshop_zi","tab_vip_d2","tab_vip_d6","tab_vip_c4","tab_vip_d1","tab_lt_a3","tab_vip_c9","smalicon_100002","rect_shop_red","tab_vip_e1","tab_vip_d8","tab_jl_d2","tab_vip_e2","tab_vip_d7","tab_vip_d9","tab_zs_c9","tab_vip_a4","tab_vip_a6","rect_black","btn_common_1"],a.resGroupName="VipSkin",a.wingSkinName=VipSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.VipSkinDR=t,__reflect(t.prototype,"skins.VipSkinDR")}(skins||(skins={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_fx_j6","tab_fx_l8","tab_hdsc_v21","tab_fx_k8","tab_tyk_a2","tab_lt_a3","tab_fx_k9","btn_common_1","smalicon_100002","btn_common_3","tab_kapai_b3","tab_man_a1","tab_kapai_a7","tab_kapai_a2","tab_xlzx1_d7","tab_kapai_b1","tab_zm_j5","tab_yk_d2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","font_herolog_zi","tab_zx_c6"],a.resGroupName="WeeklySharSkin",a.wingSkinName=WeeklySharSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.WeeklySharSkinDR=t,__reflect(t.prototype,"skins.WeeklySharSkinDR")}(skins||(skins={}));var AchieveAwardRenderVO=function(){function e(){}return e}();__reflect(AchieveAwardRenderVO.prototype,"AchieveAwardRenderVO");var AchieveAwardRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo,i=utils.GameComUtil.getItemVoArr(a.reward);this.listgroup.setDataArr(i,"",!0,!1),e.nametxt.text=FormatString.format(Language.ins.achieve_tip0,a.achievelv),e.achlvtxt.text=a.achievelv,e.tiptxt.text=Language.ins.game_no_get,e.tiptxt.visible=!1,e.getbtn.visible=!1,e.getbtn.label=Language.ins.game_canling_p,e.reallyG.visible=!1,t.iscan?t.isget?e.reallyG.visible=!0:e.getbtn.visible=!0:e.tiptxt.visible=!0,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetAchieveReward(a.vo.achievelv)}},t}(eui.ItemRenderer);__reflect(AchieveAwardRender.prototype,"AchieveAwardRender",["eui.UIComponent","egret.DisplayObject"]);var AchieveListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeAllMc,this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.curnum,i=t.vo.schedule,n=t.vo;if(n&&(e.iconbgimg.source=ResName.getAchieveBgForType(n["class"]),e.iconimg.source=n.icon),a>=i){utils.GameUtil.setColorGrey(e.iconG,!1);var o=utils.GameComUtil.getTimeYearStr(1e3*t.time);e.timetxt.text=FormatString.format(Language.ins.achieve_tip2,o),e.needicon.visible=!0,n&&(2==n["class"]?e.showchengjiuMc(!0):3==n["class"]&&e.showchengjiu2Mc(!0))}else utils.GameUtil.setColorGrey(e.iconG,!0),e.timetxt.text="("+a+"/"+i+")",e.needicon.visible=!1;e.nametxt.text=t.vo.name,e.destxt.text=t.vo.des,e.scoretxt.text=FormatString.format(Language.ins.achieve_tip4,t.vo.score)},t.prototype.removeAllMc=function(e){void 0===e&&(e=null);for(var t,a=this,i=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],n=0,o=i.length;o>n;n++)t=a[i[n]],t&&utils.GameComUtil.removeAnimoSelf(t)},t.prototype.showchengjiuMc=function(e){var t=this,a=ResName.mc_chengjiu1,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t.prototype.showchengjiu2Mc=function(e){var t=this,a=ResName.mc_chengjiu2,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t}(eui.ItemRenderer);__reflect(AchieveListRender.prototype,"AchieveListRender",["eui.UIComponent","egret.DisplayObject"]);var AchieveRenderVO=function(){function e(){}return e}();__reflect(AchieveRenderVO.prototype,"AchieveRenderVO");var AchieveRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeAllMc,this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.curnum,i=t.vo.schedule,n=t.vo;if(e.nohadimg.visible=!1,n&&(e.iconbgimg.source=ResName.getAchieveBgForType(n["class"]),e.iconimg.source=n.icon),e.removeAllMc(),a>=i){utils.GameUtil.setColorGrey(e.iconG,!1);var o=utils.GameComUtil.getTimeYearStr(1e3*t.time);e.timetxt.text=FormatString.format(Language.ins.achieve_tip2,o),n&&(2==n["class"]?e.showchengjiuMc(!0):3==n["class"]&&e.showchengjiu2Mc(!0))}else utils.GameUtil.setColorGrey(e.iconG,!0),e.timetxt.text=Language.ins.achieve_tip1,e.nohadimg.visible=!0;e.nametxt.text=t.vo.name,e.tipG.visible=!1,t.isshow&&(e.tipG.visible=!0),e.tipmcimg.visible=!1,t.isNeedShowTip&&(e.tipmcimg.visible=!0)},t.prototype.removeAllMc=function(e){void 0===e&&(e=null);for(var t,a=this,i=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],n=0,o=i.length;o>n;n++)t=a[i[n]],t&&utils.GameComUtil.removeAnimoSelf(t)},t.prototype.showchengjiuMc=function(e){var t=this,a=ResName.mc_chengjiu1,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t.prototype.showchengjiu2Mc=function(e){var t=this,a=ResName.mc_chengjiu2,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t}(eui.ItemRenderer);__reflect(AchieveRender.prototype,"AchieveRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityInfoRenderVO=function(){function e(){}return e}();__reflect(ActivityInfoRenderVO.prototype,"ActivityInfoRenderVO");var ActivityInfoRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=utils.GameComUtil.getTimeNewStr(t.time);e.scoretxt3.text=t.diamond;var i=FormatString.format(Language.ins.activity_tip52,t.name,a);e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(i)},t}(eui.ItemRenderer);__reflect(ActivityInfoRender.prototype,"ActivityInfoRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityInfoRender1=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=utils.GameComUtil.getTimeNewStr(t.time);e.scoretxt3.text=t.num;var i=FormatString.format(Language.ins.operation_tip_25,t.name,a);e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(i),e.icon.source=ResName.getMinItemIcon(t.pid)},t}(eui.ItemRenderer);__reflect(ActivityInfoRender1.prototype,"ActivityInfoRender1",["eui.UIComponent","egret.DisplayObject"]);var ActivityRankRenderVO=function(){function e(){}return e}();__reflect(ActivityRankRenderVO.prototype,"ActivityRankRenderVO");var ActivityRankRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.rank.split(",");if(e.logoG.visible=!0,e.infoG.visible=!0,e.duihuiG.visible=!1,e.titleG.visible=!1,e.tiptxt0.text=Language.ins.game_name_tip,e.rankinfotxt.text=Language.ins.activity_tip31,e.nametxt.text=Language.ins.game_no_tip,e.zhanlitxt.text=Language.ins.game_no_tip,e.tiptxt1.text=Language.ins.activity_tip76,e.ranktxt.text="",e.tiptxt.text="",utils.GameComUtil.setVisibleHitPanel(e.item,e.rewardG,!1),1==+a[0]&&1==+a[1]){e.rankbgimg.source="tab_hdsc_f6",e.ranknumtxt.text=""+Language.ins.activity_tip27,e.item.setIdAndNum(t.rewardarr[0].itemid,1,!1,0,!1,!1,!1),e.item.setTip(!0);var i=GlobalConfig.getItemVo(t.rewardarr[0].itemid);utils.GameComUtil.setVisibleHitPanel(e.item,e.rewardG,!0),utils.GameComUtil.setVisibleHitPanel(e.arwardimg,e.rewardG,!0),!t.id||t.id!=act_type.fightpower&&t.id!=act_type.cumconrank?(e.duihuiG.visible=!0,e.tiptxt.text=FormatString.format(Language.ins.activity_tip75,i.name)):(e.titleG.visible=!0,e.tiptxt2.text=FormatString.format(Language.ins.activity_tip77,i.name))}else if(2==+a[0]&&2==+a[1]){if(e.rankbgimg.source="tab_hdsc_f5",e.ranknumtxt.text=""+Language.ins.activity_tip28,t.id&&(t.id==act_type.fightpower||t.id==act_type.cumconrank)){e.titleG.visible=!0,e.item.setIdAndNum(t.rewardarr[0].itemid,1,!1,0,!1,!1,!1),e.item.setTip(!0);var i=GlobalConfig.getItemVo(t.rewardarr[0].itemid);utils.GameComUtil.setVisibleHitPanel(e.item,e.rewardG,!0),utils.GameComUtil.setVisibleHitPanel(e.arwardimg,e.rewardG,!0),e.titleG.visible=!0,e.tiptxt2.text=FormatString.format(Language.ins.activity_tip77,i.name)}}else if(3==+a[0]&&3==+a[1]){if(e.rankbgimg.source="tab_hdsc_f4",e.ranknumtxt.text=""+Language.ins.activity_tip29,t.id&&(t.id==act_type.fightpower||t.id==act_type.cumconrank)){e.titleG.visible=!0,e.item.setIdAndNum(t.rewardarr[0].itemid,1,!1,0,!1,!1,!1),e.item.setTip(!0);var i=GlobalConfig.getItemVo(t.rewardarr[0].itemid);utils.GameComUtil.setVisibleHitPanel(e.item,e.rewardG,!0),utils.GameComUtil.setVisibleHitPanel(e.arwardimg,e.rewardG,!0),e.titleG.visible=!0,e.tiptxt2.text=FormatString.format(Language.ins.activity_tip77,i.name)}}else e.rankbgimg.source="",e.logoG.visible=!1,e.infoG.visible=!1,e.ranktxt.text=""+FormatString.format(Language.ins.activity_tip30,a[0],a[1]),utils.GameComUtil.setVisibleHitPanel(e.item,e.rewardG,!1);t.rankobj&&(e.logoimg.setLogoUrl(t.rankobj.logo),e.nametxt.text=t.rankobj.name,e.zhanlitxt.text=Math.round(t.ranknum)),e.rankinfotxt.text=t.rankinfo,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.arwardimg:utils.GameComUtil.ShowTip(t.arwardimg,null,game.TipSimpleObject.type_awardarr,a.rewardarr);break;case t.logoG:a.rankobj&&a.rankobj.uid&&a.rankobj.uid!=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.rankobj.uid)}},t}(eui.ItemRenderer);__reflect(ActivityRankRender.prototype,"ActivityRankRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityRankRender1VO=function(){function e(){}return e}();__reflect(ActivityRankRender1VO.prototype,"ActivityRankRender1VO");var ActivityRankRender1=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(10),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;t.rewardarr.length>3&&t.rewardarr.splice(3,t.rewardarr.length-3),e.addfighttxt.text=t.limit,e.rankinfotxt.text=t.name,e.iconimg.source=t.icon,e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.getbtn.enabled=!0,e.getbtn.label=Language.ins.game_canling_p,0==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.activity_tip41):1==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.month_tip1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.id,+a.limit)},t}(eui.ItemRenderer);__reflect(ActivityRankRender1.prototype,"ActivityRankRender1",["eui.UIComponent","egret.DisplayObject"]);var ActivityRewardRenderVO=function(){function e(){}return e}();__reflect(ActivityRewardRenderVO.prototype,"ActivityRewardRenderVO");var ActivityRewardRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(16),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(t.title),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.enabled=!0,e.getbtn.visible=!0,e.getbtn.label=Language.ins.game_canling_p,e.paybtn.label=Language.ins.btn_pay_p,0==t.iscanget?(e.getbtn.enabled=!1,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.label=Language.ins.activity_tip41):1==t.iscanget?(e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.month_tip1),e.tipG.visible=!1,e.paybtn.visible=!1,t.id==act_type.dayrecharge?(e.tipG.visible=!0,e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip48,t.limit/10))):t.id==act_type.cumrecharge&&(e.tipG.visible=!0,e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip49,t.limit/10))),PFAll.isNowPF([Global.severNE_japan,Global.severNE_english,Global.severNE_russia])&&(e.tipG.visible=!1),(t.id==act_type.dayrecharge&&0==t.iscanget||t.id==act_type.cumrecharge&&0==t.iscanget)&&(e.paybtn.visible=!0,e.paybtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun2,e),e.getbtn.visible=!1)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.id,+a.limit)},t.prototype.touchTapFun2=function(e){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay])},t}(eui.ItemRenderer);__reflect(ActivityRewardRender.prototype,"ActivityRewardRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityRewardRender2VO=function(){function e(){}return e}();__reflect(ActivityRewardRender2VO.prototype,"ActivityRewardRender2VO");var ActivityRewardRender2=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(16),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1,!1);var a=GlobalConfig.getItemVo(t.rewardarr[0].itemid);e.tiptxt.text=a.name+" X"+t.rewardarr[0].count,e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(t.title),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.enabled=!0,e.getbtn.label=Language.ins.game_canling_p,0==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.activity_tip41):1==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.month_tip1)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.id,+a.limit)},t}(eui.ItemRenderer);__reflect(ActivityRewardRender2.prototype,"ActivityRewardRender2",["eui.UIComponent","egret.DisplayObject"]);var ActivitySevenDayRenderVO=function(){function e(){}return e}();__reflect(ActivitySevenDayRenderVO.prototype,"ActivitySevenDayRenderVO");var ActivitySevenDayRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.bgimg.source="tab_qiri_a"+t.index;var a=utils.GameComUtil.changeNum(t.index);e.daytxt.text=FormatString.format(Language.ins.activity_tip51,a),e.isnowimg.visible=!1,e.ischooseimg.visible=!1,t&&(t.ischoose&&(e.ischooseimg.visible=!0),t.isnow&&(e.isnowimg.visible=!0),utils.GameUtil.setColorGrey(e.bgimg,!t.isshow))},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.id,+a.limit)},t.prototype.touchTapFun2=function(e){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay])},t}(eui.ItemRenderer);__reflect(ActivitySevenDayRender.prototype,"ActivitySevenDayRender",["eui.UIComponent","egret.DisplayObject"]);var ActivitySuperBuyRenderVO=function(){function e(){}return e}();__reflect(ActivitySuperBuyRenderVO.prototype,"ActivitySuperBuyRenderVO");var ActivitySuperBuyRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)
},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.timebagvo,i=GlobalConfig.getItemVo(a.gifid),n=GlobalConfig.getChargeVO(a.payid);e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(n.name),e.gifimg.source=GlobalEnum.getIconName(i.icon),e.oldtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip80,a.oldug));var o=FormatString.format(PFAll.isRussiaVK()?Language.ins.russia_vk_recharge:Language.ins.shop_tip29,a.newug);e.newtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip81,o)),e.getbtn.visible=!1,e.getbtn.label=Language.ins.game_canling_p,e.paybtn.label=Language.ins.btn_pay_p,0==t.iscanget?(e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.label=Language.ins.activity_tip41):1==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling):2==t.iscanget&&(e.getedimg.visible=!0,e.tiphimg.visible=!1,e.getbtn.label=Language.ins.month_tip1),e.tipG.visible=!1,e.paybtn.visible=!1,e.paybtn.label=FormatString.format(Language.ins.shop_tip29,n.chargenum),t.id==act_type.superbuy&&(e.tipG.visible=!0,e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.operation_tip_12,t.canbuytime))),t.id==act_type.superbuy&&0==t.iscanget&&t.canbuytime>0&&(e.paybtn.visible=!0),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=t.data,n=i.timebagvo;switch(a){case t.gifimg:var o=GlobalConfig.getItemVo(n.gifid),r=utils.GameComUtil.getItemVoArr(o.drop);utils.GameComUtil.ShowTip(t.gifimg,null,game.TipSimpleObject.type_awardarr,r);break;case t.getbtn:GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(i.id,i.timebagvo.payid);break;case t.paybtn:t.payfun()}},t.prototype.payfun=function(){var e=this,t=e.data,a=t.timebagvo;Global.severNE!=Global.severNE_debug?a&&PFAll.PFPay(a.payid):a&&JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,e.gopay,e,!0)},t.prototype.gopay=function(){var e=this,t=e.data,a=t.timebagvo;a&&GlobalAllProxy.getInstance().gameProxy.NetRecharg(a.payid)},t}(eui.ItemRenderer);__reflect(ActivitySuperBuyRender.prototype,"ActivitySuperBuyRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityTimedBagRenderVO=function(){function e(){}return e}();__reflect(ActivityTimedBagRenderVO.prototype,"ActivityTimedBagRenderVO");var ActivityTimedBagRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.timebagvo,i=GlobalConfig.getItemVo(a.itemid);if(e.gifimg.source=GlobalEnum.getIconName(i.icon),e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(i.name),e.oldtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip80,a.oldug)),e.newtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip81,a.newug)),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.enabled=!0,e.getbtn.visible=!0,e.zheG.visible=!0,e.tiptxt4.text=FormatString.format(Language.ins.vip_tip21,a.vip),PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])){var n=100-10*a.discount;e.zhetxt.text=FormatString.format(Language.ins.activity_tip82,n)}else e.zhetxt.text=FormatString.format(Language.ins.activity_tip82,a.discount);e.getbtn.label=Language.ins.game_shopbuy,a.vip?(utils.GameComUtil.setVisibleHitPanel(e.tiptxt4,e.viptipG,!0),utils.GameComUtil.setVisibleHitPanel(e.gifimg0,e.viptipG,!0)):(utils.GameComUtil.setVisibleHitPanel(e.tiptxt4,e.viptipG,!1),utils.GameComUtil.setVisibleHitPanel(e.gifimg0,e.viptipG,!1)),e.tiphimg.visible=!1,0==t.iscanget?e.getedimg.visible=!1:1==t.iscanget?e.getedimg.visible=!1:2==t.iscanget&&(e.zheG.visible=!1,e.getbtn.visible=!1,e.getedimg.visible=!0,e.getbtn.enabled=!1),e.tipG.visible=!1;var o=t.buyNum;t.id==act_type.timedbag&&(e.tipG.visible=!0,e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.activity_tip79,o)))},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=t.data,n=i.timebagvo;switch(a){case t.gifimg:var o=GlobalConfig.getItemVo(n.itemid),r=utils.GameComUtil.getItemVoArr(o.drop);utils.GameComUtil.ShowTip(t.gifimg,null,game.TipSimpleObject.type_awardarr,r);break;case t.getbtn:t.gobuy()}},t.prototype.gobuy=function(){var e=this,t=e.data,a=t.timebagvo,i=GlobalConfig.getItemVo(a.itemid),n=new AlertVO;n.info=FormatString.format(Language.ins.activity_tip86,i.name),n.showCancel=!0,n.tipbl=!0,n.tipstr=Language.ins.fight_tip4,n.tipitemid=GlobalEnum.itemid_ug,n.tipcostid=ug_cost_type.buy_act_timebag,n.tipitemnum=+a.newug,JAlert.show(n,Language.ins.title_buy,e.buyfun,e)},t.prototype.buyfun=function(){var e=this,t=e.data;t.timebagvo;GlobalAllProxy.getInstance().activityProxy.NetOpenServiceItemBuy(t.id,t.num,1)},t}(eui.ItemRenderer);__reflect(ActivityTimedBagRender.prototype,"ActivityTimedBagRender",["eui.UIComponent","egret.DisplayObject"]);var ActivityTitleRenderVO=function(){function e(){}return e}();__reflect(ActivityTitleRenderVO.prototype,"ActivityTitleRenderVO");var ActivityTitleRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=GlobalConfig.getActivityVO(t.id),i=a.icon.split(".")[0];e.iconimg.source="act_icon_"+i,e.nameimg.source="act_name_"+i,e.tiphimg.visible=t.isreddot,e.selectimg.visible=t.ischoose},t}(eui.ItemRenderer);__reflect(ActivityTitleRender.prototype,"ActivityTitleRender",["eui.UIComponent","egret.DisplayObject"]);var CarnivalRenderVO=function(){function e(){}return e}();__reflect(CarnivalRenderVO.prototype,"CarnivalRenderVO");var CarnivalRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.dataChanged=function(){var e=this,t=e.data;t.icon&&(e.daynumimg.source=t.icon,e.tiphimg.visible=t.isshowreddot,utils.GameUtil.setColorGrey(e.allG,!1),e.enabled=!0,e.itemIndex+1>t.daytime&&(utils.GameUtil.setColorGrey(e.allG,!0),e.tiphimg.visible=!1,e.enabled=!1))},t}(eui.ItemRenderer);__reflect(CarnivalRender.prototype,"CarnivalRender",["eui.UIComponent","egret.DisplayObject"]);var CarnivaTaskRenderVO=function(){function e(){}return e}();__reflect(CarnivaTaskRenderVO.prototype,"CarnivaTaskRenderVO");var CarnivaTaskRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(10),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt0.text=Language.ins.activity_tip53,t.rewardarr.length>3&&t.rewardarr.splice(3,t.rewardarr.length-3),e.getbtn.label="",e.addfighttxt.text=t.jifen,e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(t.limit),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),0==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.label=Language.ins.activity_tip42,e.getbtn.txticon="btn_common_2"):1==t.iscanget?(e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling,e.getbtn.txticon="btn_common_1"):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0,e.tiphimg.visible=!1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;if(0==a.iscanget){utils.GameComUtil.panelJump(a.jump,!0);var i=GlobalConfig.getCarnivaVO(a.id);GlobalAllProxy.getInstance().guideProxy.goTaskFollow(i.getTaskFollow())}else 1==a.iscanget&&GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.activityid,+a.id)},t}(eui.ItemRenderer);__reflect(CarnivaTaskRender.prototype,"CarnivaTaskRender",["eui.UIComponent","egret.DisplayObject"]);var RankDuiHuanRenderVO=function(){function e(){}return e}();__reflect(RankDuiHuanRenderVO.prototype,"RankDuiHuanRenderVO");var RankDuiHuanRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.numG.visible=!1,e.tiptxt0.text=Language.ins.activity_tip54,e.getbtn.label=Language.ins.btn_exchange,t&&(utils.GameUtil.setColorGrey(e.allG,!1),e.overimg.visible=!1,e.nametxt.text=t.iteminfo.name,e.oldcosttxt.text=t.price,e.item.setIdAndNum(t.iteminfo.objectid,t.buynum,!0,0,!1,!1,!1),e.item.setTip(!0),0!=t.buytime&&(e.numG.visible=!0,e.numtxt.text=+t.buytime-+t.buyednum+"/"+t.buytime),+t.buytime-+t.buyednum==0&&(e.overimg.visible=!0,utils.GameUtil.setColorGrey(e.allG,!0))),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(+a.id,+a.index)},t}(eui.ItemRenderer);__reflect(RankDuiHuanRender.prototype,"RankDuiHuanRender",["eui.UIComponent","egret.DisplayObject"]);var AlertRewardGifVO=function(){function e(e,t,a,i,n,o,r){void 0===o&&(o=""),void 0===r&&(r="tab_yys_c3");var s=this;s.type=e,s.index=t,s.curnum=a,s.isget=n,s.neednum=i,s.reward=o,s.iconurl=r}return e}();__reflect(AlertRewardGifVO.prototype,"AlertRewardGifVO");var AlertRewardGif=function(e){function t(){var t=e.call(this)||this;return t._iscreat=!1,t.skinName=AlertRewardGifSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata()},t.prototype.setData=function(e){var t=this;t._data=e,t._iscreat&&t.changedata()},t.prototype.changedata=function(){var e=this,t=e._data;if(e.downtxt.text=Language.ins.game_reallyling,utils.GameUtil.setColorGrey(e.gifimg0,!1),t){var a=0,i=(t.type,t.neednum);e.infoG.visible=!1,e.downG.visible=!1;var n=t.iconurl;e.gifimg0.source=n,t.curnum>=i&&t.isget?e.downG.visible=!0:(e.infoG.visible=!0,e.infotxt.text=t.curnum+"/"+t.neednum,t.curnum>=t.neednum?t.isget?(utils.GameUtil.playGifMc(a,!1,e,n),utils.GameUtil.setColorGrey(e.gifimg0,!0)):utils.GameUtil.playGifMc(a,!0,e,n):utils.GameUtil.playGifMc(a,!1,e,n))}},t.prototype.onHide=function(){var e=this;utils.GameComUtil.removeAnimoSelf(e.gifmc0)},t}(eui.Component);__reflect(AlertRewardGif.prototype,"AlertRewardGif",["eui.UIComponent","egret.DisplayObject"]);var AnswerAwardRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.minrank,i=t.maxrank,n="";e.tiptxt.text="",a==i?(n=a+"",e.tiptxt.text=FormatString.format(Language.ins.question_tip0,n)):0==i?e.tiptxt.text=FormatString.format(Language.ins.question_tip1,a):(n=a+"-"+i,e.tiptxt.text=FormatString.format(Language.ins.question_tip0,n));var o="";1==a?(o="tab_tzzl_c8",e.bgimg.source="tab_ph_b1",e.lightimg.source="tab_ph_a2"):2==a?(o="tab_tzzl_c9",e.bgimg.source="tab_ph_b2",e.lightimg.source="tab_ph_a3"):3==a?(o="tab_tzzl_d1",e.bgimg.source="tab_ph_b2",e.lightimg.source="tab_ph_a4"):(e.bgimg.source="tab_ph_a6",e.lightimg.source=""),e.rankicon.source=o;var r=utils.GameComUtil.getItemVoArr(t.reward);e.awardlist.setGroupGap(-10),e.awardlist.setDataArr(r)},t}(eui.ItemRenderer);__reflect(AnswerAwardRender.prototype,"AnswerAwardRender",["eui.UIComponent","egret.DisplayObject"]);var AnswerRankRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.tiptxt0.text=t.rankId,e.maxtxt0.text=t.score,e.rankicon0.source=ResName.getRankImg(t.rankId),e.logoimg.setLogoUrl(t.logo),e.nametxt.text=t.name;var a=t.rankId;1==a?(e.bgimg.source="tab_ph_b1",e.lightimg.source="tab_ph_a2"):2==a?(e.bgimg.source="tab_ph_b2",e.lightimg.source="tab_ph_a3"):3==a?(e.bgimg.source="tab_ph_b2",e.lightimg.source="tab_ph_a4"):(e.bgimg.source="tab_ph_a6",e.lightimg.source="")},t}(eui.ItemRenderer);__reflect(AnswerRankRender.prototype,"AnswerRankRender",["eui.UIComponent","egret.DisplayObject"]);var AnswerSAwardRenderVO=function(){function e(){}return e}();__reflect(AnswerSAwardRenderVO.prototype,"AnswerSAwardRenderVO");var AnswerSAwardRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(16),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(t.name),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1)},t}(eui.ItemRenderer);__reflect(AnswerSAwardRender.prototype,"AnswerSAwardRender",["eui.UIComponent","egret.DisplayObject"]);var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.istouching=!1,t.m_num=0,t.c_num=1,t.m_showmax=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},t.prototype.init=function(){},t.prototype.setdata=function(e,t,a,i,n){void 0===a&&(a=0/0),void 0===i&&(i=!1),void 0===n&&(n=1);var o=this;o.m_max=t*n,o.m_min=e*n,o.c_num=n,isNaN(a)||(o.m_num=a*n),o.m_showmax=i,o.m_showmax?(o.numtxt.touchEnabled=!1,o.numtxt.touchChildren=!1,o.numtxt.text=o.m_num+"/"+o.m_max):o.numtxt.text=o.m_num+""},t.prototype.getValue=function(){return this.m_num},t.prototype.addEventFun=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.numtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.numtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.removeEventFun=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.removeEventListener(egret.TouchEvent.TOUCH_END,e.onToucUp,e),e.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,e.onToucUp,e),e.numtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.numtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1;var a=0;e.target.text&&(a=parseInt(e.target.text)),t.m_num=a;var i=0==a?!1:!0;t.addperson(0,i)},t.prototype.touchBeginFun=function(e){var t=e.target,a=this;switch(egret.clearTimeout(a.touchtime),t){case a.addG:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,1);break;case a.redG:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,-1)}a.istouching&&(a.touchstarttime=egret.getTimer(),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onToucUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onToucUp,a))},t.prototype.onToucUp=function(e){var t=this;egret.clearTimeout(t.touchtime),t.istouching=!1,t.removeEventListener(egret.TouchEvent.TOUCH_END,t.onToucUp,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onToucUp,t)},t.prototype.timeTouchBtn=function(e){var t=this;egret.clearTimeout(t.touchtime);var a=1;if(t.touchstarttime){var i=Math.floor((egret.getTimer()-t.touchstarttime)/2e3);a=0==i?1:1==i?3:10}var n=a*e;t.addperson(n),t.istouching&&(t.touchtime=egret.setTimeout(t.timeTouchBtn,t,100,e))},t.prototype.addperson=function(e,t){void 0===t&&(t=!0);var a=this,i=a.m_num;i+=a.c_num*e,i<a.m_min&&(i=a.m_min);var n=a.m_max;i>n&&(i=n),a.m_num=i,t&&(a.m_showmax?a.numtxt.text=a.m_num+"/"+a.m_max:a.numtxt.text=a.m_num+""),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.addG:egret.clearTimeout(t.touchtime),t.addperson(1);break;case t.redG:egret.clearTimeout(t.touchtime),t.addperson(-1);break;case t.maxG:t.m_num=t.m_max,t.m_showmax?t.numtxt.text=t.m_num+"/"+t.m_max:t.numtxt.text=t.m_num+"",this.dispatchEvent(new egret.Event(egret.Event.CHANGE))}},t}(eui.Component);e.BackPackChangePanel=t,__reflect(t.prototype,"game.BackPackChangePanel")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._initType=0,e._choosebl=!1,e._isshowmc=!1,e._needShowTip=!1,e.skinName=BackPackItemComSkin,e}return __extends(a,t),a.prototype.init=function(){var e=this;e.touchChildren=!1,e.touchEnabled=!0,e._initType&&(1==e._initType&&(this.counttxt.visible=!1,e.itemnametxt&&(e.itemnametxt.text=""),e.setitemdata(e.itemdata,e.m_isnozi,e.m_showtype,e.m_showmax,e.m_showquality,e.m_isshowname,e.m_isshowadd)),e._initType=0,e._bgiconurl&&(e.iconbg.source=e._bgiconurl))},a.prototype.setBgIcon=function(e){var t=this;t._bgiconurl=e,t.iconbg&&(t.iconbg.source=e)},a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.init()},a.prototype.showChooseImg=function(){var e=this,t=e.chooseimg,a=e._choosebl;t?utils.GameComUtil.setVisibleHitPanel(t,e,a):a&&(t=e.getChooseImg(),utils.GameComUtil.setVisibleHitPanel(t,e,a))},a.prototype.getChooseImg=function(){var e=this;return e.chooseimg||(e.chooseimg=new eui.Image,e.chooseimg.x=-10,e.chooseimg.y=-10,e.chooseimg.source="tab_tp_o5"),e.chooseimg},a.prototype.setChooseBl=function(e){var t=this;t._choosebl=e,t.showChooseImg()},a.prototype.setIsShowmcBl=function(e){var t=this;t._isshowmc=e,t.showFaGuangMc()},a.prototype.showFaGuangMc=function(){var e=this,t=e.creatmc();t&&(e._isshowmc&&e.gifmcG?(e.gifmcG.addChild(t),e.gifmcG.visible=!0):(utils.GameComUtil.removeAnimoSelf(t),e.gifmcG.visible=!1))},a.prototype.creatmc=function(){var e=this,e=this,t=ResName.mc_award_lingqu,a=utils.GameComUtil.getArmature(t,"faguangmc",e,!1);if(a){var i=a.animation.isPlaying;i||a.animation.play("effect");var n="building",o=a.armature.getSlot(n),r=new egret.Bitmap;return r.texture=null,o.display=r,a}return a},a.prototype.setitemdata=function(t,a,i,n,o,r,s,l){void 0===a&&(a=!1),void 0===i&&(i=0),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===l&&(l=!1);var p=this;if(this.itemdata=t,p.classimg.visible=!1,!p.itemimg)return p._initType=1,p.m_isnozi=a,p.m_showtype=i,p.m_showmax=n,p.m_showquality=o,p.m_isshowname=r,void(p.m_isshowadd=s);var c=t;if(p.counttxt.text="",p.quilitytxt.text="",p.itemnametxt.text="",p.itemimg.source="tab_icon_max",a?p.counttxt.visible=!0:p.counttxt.visible=!1,p.addicon.visible=!1,p.coachimg.visible=!1,p.pieceimg.visible=!1,p.logtxt.visible=!1,p.logbg.visible=!1,p.quilitybg.visible=!1,p._bgiconurl||(p.iconbg.source=""),null!=c){if(p.itemimg.visible=!0,c instanceof e.SeverItemVO){var u,m=GlobalConfig.getItemVo(c.itemid),g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(c.itemid);u=GlobalEnum.getIconName(m.icon),p.itemimg.source=u,p.iconbg.source="tab_pzk_a"+m.quality,n?p.showmaxText(p.counttxt,c.itemid,c.count,g):p.counttxt.text=""+utils.GameUtil.getNumToStr(c.count),p.itemnametxt.text=""+m.name,r?p.itemnametxt.visible=!0:p.itemnametxt.visible=!1,s?p.addimg.visible=!0:p.addimg.visible=!1,p.showplayer(m)}else if(c instanceof e.ComItemGroupVo){var u,_=c,m=GlobalConfig.getItemVo(c.itemid),g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(_.itemid);u=GlobalEnum.getIconName(m.icon),p.iconbg.source="tab_pzk_a"+m.quality,p.itemimg.source=u,n?p.showmaxText(p.counttxt,_.itemid,_.count,g):p.counttxt.text=""+utils.GameUtil.getNumToStr(c.count),p.itemnametxt.text=""+m.name,r?p.itemnametxt.visible=!0:p.itemnametxt.visible=!1,s?p.addimg.visible=!0:p.addimg.visible=!1,p.showplayer(m)}else if(c instanceof SEquipmentsVO){var h=c,d=GlobalConfig.getEquipQualityVO(h.eid,h.quality);p.itemimg.source=d.icon,h.grade&&(l?(p.quilitytxt.visible=!1,p.quilitybg.visible=!1):(p.quilitytxt.visible=!0,p.quilitybg.visible=!0),p.quilitytxt.text="+"+h.grade)}else if(c instanceof ScienceBooks){var y=c,v=GlobalConfig.getTechBookVO(y.level,y.quality,y.type);p.itemimg.source=v.icon,p.counttxt.text="",p.quilitytxt.visible=!0,r?p.itemnametxt.text=FormatString.format(Language.ins.backpack_tip12,v.baseexp):p.itemnametxt.text=""}else if(c instanceof e.ComTechBookVO){var f=c;p.itemimg.source=f.icon,p.quilitytxt.text="",p.counttxt.text="",p.quilitytxt.visible=!0}else if(c instanceof e.ItemVO){var b=c;p.itemimg.source=GlobalEnum.getIconName(b.icon),p.itemnametxt.text=""+b.name,r?p.itemnametxt.visible=!0:p.itemnametxt.visible=!1,p.showplayer(c)}p.iconbg.visible=!0}else p.iconbg.visible=!0,p.itemimg.source=null;p.addimg.visible=s,p.m_isshowadd=s},a.prototype.showmaxText=function(e,t,a,i){var n=16777215,o=16711680;e.text=utils.GameUtil.getNumToStr(i)+"/"+utils.GameUtil.getNumToStr(a),e.textColor=n,Math.floor(i)<Math.floor(a)&&(e.textColor=o)},a.prototype.showplayer=function(e){var t=this,a=e.type;if(a==item_type.type_coach)t.coachimg.visible=!0,t.coachimg.source="tab_jldj_a1";else if(a==item_type.type_player||a==item_type.type_playerpiece){var i=GlobalConfig.getPlayerPorpertyVO(parseInt(e.parameter));if(i){t.addicon.visible=!0,t.addicon.source=ResName.getPlayerIcon(i.picon);var n="tab_bag_a1",o=i["class"];if(a==item_type.type_playerpiece){switch(o){case playertrait.trait_N:break;case playertrait.trait_R:break;case playertrait.trait_SR:n="tab_bag_a2";break;case playertrait.trait_SSR:n="tab_bag_a1"}t.pieceimg.visible=!0,t.pieceimg.source=n}var r=i.location-1,s=utils.GameComUtil.getAddSpace(Language.ins.degree_names[r]);t.logtxt.visible=!0,t.logtxt.text=s,t.logbg.visible=!0,t.logbg.source=ResName.getRankPlayerbg(r+1,!1,!1,!1,!0),t.classimg.source=ResName.getNewTraitPath(o),t.classimg.visible=!0,t.itemimg.source=null,PFAll.isNowPF([Global.severNE_russia])?t.itemnametxt.text=e.name:t.itemnametxt.text=utils.GameComUtil.getName(e.name,5,!0)}}},a.prototype.setIdAndNum=function(t,a,i,n,o,r,s,l){void 0===i&&(i=!1),void 0===n&&(n=0),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===s&&(s=!0),void 0===l&&(l=!1);var p=new e.SeverItemVO;p.itemid=t,p.count=a,this.setitemdata(p,i,n,o,r,s,l)},a.prototype.setItemImg=function(e){var t=this;t.initItem(),e&&e.path&&(t.itemimg.source="tab_icon_max",t.itemimg.source=e.path)},a.prototype.initItem=function(){var e=this;e.counttxt.visible=!1,e.quilitytxt.visible=!1,e.itemimg.visible=!0,e.itemimg.source=!1,e.itemnametxt.text="",e.logtxt.visible=!1,e.logbg.visible=!1,e.classimg.visible=!1},a.prototype.setTip=function(e){var t=this;t._needShowTip=e,e?t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t):t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t)},a.prototype.selectRecover=function(e,t){var a=this;a.itemdata;var i=t,n=1-.7/i.count*e;a.alpha=n,i.count<=e&&(a.touchEnabled=!1,a.touchChildren=!1)},a.prototype.clickfun=function(t){var a=this,i=a.itemdata;if(a.m_isshowadd){var n,o=GlobalConfig.getItemVo(i.itemid),r=o.getShopArr(),s=r.length;if(s&&(n=r[0][0]),s>1){var l,p;for(var c in r){l=r[c],p=+l[0];var u=GlobalConfig.getShopVO(p);if(GlobalAllProxy.getInstance().playerProxy.playerinfo.level>=u.lvlimit){n=p;break}}}if(0==s&&0!=+o.guild)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_secretary,1],o.guild);else if(s){var m=new ShopBuyViewOpenVO(n,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],m)}}else if(i&&a._needShowTip){var g=!1,_=0,h=0;(i instanceof e.SeverItemVO||i instanceof e.ComItemGroupVo)&&(h=e.TipSimpleObject.type_item,g=!0,_=i.itemid),g&&utils.GameComUtil.ShowTip(a,_,h,i)}},a}(eui.Component);e.BackPackItemComPanel=t,__reflect(t.prototype,"game.BackPackItemComPanel")}(game||(game={}));var BackPackRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.newtip&&(e.newtip.visible=!1);var t=e.data;t?e.item.setitemdata(t,!0):e.item.setitemdata(null)},t}(eui.ItemRenderer);__reflect(BackPackRender.prototype,"BackPackRender",["eui.UIComponent","egret.DisplayObject"]);var BackPackRender2=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.newtip&&(e.newtip.visible=!1);var t=e.data;if(t){e.item.setitemdata(t,!0);var a=GlobalConfig.getItemVo(t.itemid),i=a.type;i==item_type.type_player||i==item_type.type_playerpiece?e.item.setTip(!1):e.item.setTip(!0)}else e.item.setitemdata(null),e.item.setTip(!1)},t}(eui.ItemRenderer);__reflect(BackPackRender2.prototype,"BackPackRender2",["eui.UIComponent","egret.DisplayObject"]);var BackPackRender3=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.itemSelected=function(e,t){console.log("111")},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.showTipherosynthesis(!1),e.newtip&&(e.newtip.visible=!1,t&&1==t.isnew&&(e.newtip.visible=!0)),t){var a,i=vm.BackPackBgView.type_cailiao+1;a=GlobalConfig.getItemVo(t.itemid),t.count&&(i==a.tag&&a.compose&&t.count>=a.compose&&e.showTipherosynthesis(!0),a.tag==vm.BackPackBgView.type_daoju+1&&1==a.isredpoint&&e.showTipherosynthesis(!0)),e.item.setitemdata(t,!0)}else e.item.setitemdata(null);e.item.alpha=1,e.touchChildren=e.touchEnabled=!0,e.selectRecoverCount&&(e.selectRecoverCount.visible=!1,t&&(1==t.isSelectRecover&&(e.selectRecoverCount.visible=!0,t.count<=t.selectRecoverAmount&&(e.touchChildren=e.touchEnabled=!1)),e.selectRecoverCountTF.text=1==t.isSelectRecover?t.selectRecoverAmount+"/"+t.count:""))},t.prototype.showTipherosynthesis=function(e){var t=this,a=e,i="tipkbuttontab2";e?(t[i]||(t[i]=utils.GameComUtil.getTipMcImg(t[i],t,!1,!0)),t.addChild(t[i]),t[i].visible=a):t[i]&&(t[i].visible=a)},t}(eui.ItemRenderer);__reflect(BackPackRender3.prototype,"BackPackRender3",["eui.UIComponent","egret.DisplayObject"]);var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._initType=0,e.m_tipbl=!1,e.skinName=BackPackShowPanelSkin,e}return __extends(a,t),a.prototype.init=function(){var e=this;e.touchChildren=!0,e.touchEnabled=!0,e._initType&&(1==e._initType&&(e.setitemdata(e.itemdata,e.m_isnozi,e.m_showtype,e.m_showmax,e.m_showquality,e.m_sholistzi,e.m_showown,e.m_isshowname,e.m_isshowadd),e.item.setTip(e.m_tipbl)),e._initType=0)},a.prototype.setTip=function(e){var t=this;t.m_tipbl=e,t.item&&t.item.setTip(t.m_tipbl)},a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.init()},a.prototype.setitemdata=function(t,a,i,n,o,r,s,l,p){void 0===a&&(a=!1),void 0===i&&(i=0),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===l&&(l=!0),void 0===p&&(p=!1);var c=this;if(c.itemdata=t,!c.item)return c._initType=1,c.m_isnozi=a,c.m_showtype=i,c.m_showmax=n,c.m_showquality=o,c.m_sholistzi=r,c.m_showown=s,c.m_isshowname=l,void(c.m_isshowadd=p);var u=t;if(p){var m=u,g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(m.itemid);p=Math.floor(g)<Math.floor(m.count)?!0:!1}c.item.setitemdata(t,a,i,n,o,l,p),c.txt.visible=!0,r||(c.txt.visible=!1);var _=16777215,h=16711680;if(c.txt.textColor=_,null!=u&&r)if(u instanceof e.SeverItemVO){var d=u;if(s){var y=GlobalAllProxy.getInstance().backpackProxy.getItemCount(d.itemid);v.itemid==GlobalEnum.itemid_ug?c.txt.text=y+"/"+v.count:c.txt.text=utils.GameUtil.getNumToStr(y)+"/"+utils.GameUtil.getNumToStr(d.count),Math.floor(y)<Math.floor(d.count)&&(c.txt.textColor=h)}else c.txt.text=d.count+""}else if(u instanceof e.ComItemGroupVo){var v=u;if(s){var y=GlobalAllProxy.getInstance().backpackProxy.getItemCount(v.itemid);v.itemid==GlobalEnum.itemid_ug?c.txt.text=y+"/"+v.count:c.txt.text=utils.GameUtil.getNumToStr(y)+"/"+utils.GameUtil.getNumToStr(v.count),Math.floor(y)<Math.floor(v.count)&&(c.txt.textColor=h)}else c.txt.text=v.count+""}},a.prototype.setIdAndNum=function(t,a,i,n,o,r,s,l,p,c){void 0===i&&(i=!1),void 0===n&&(n=0),void 0===o&&(o=!1),void 0===r&&(r=!1),void 0===s&&(s=!0),void 0===l&&(l=!0),void 0===p&&(p=!0),void 0===c&&(c=!1);var u=new e.SeverItemVO;u.itemid=t,u.count=a,this.setitemdata(u,i,n,o,r,s,l,p,c)},a}(eui.Component);e.BackPackShowPanel=t,__reflect(t.prototype,"game.BackPackShowPanel")}(game||(game={}));var SkillTipVo=function(){function e(){this.playerid=0/0}return e}();__reflect(SkillTipVo.prototype,"SkillTipVo");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._needShowTip=!1,e}return __extends(a,t),a.prototype.init=function(){var e=this;e.touchChildren=!0,e.touchEnabled=!1,e.steimg&&(e.steimg.visible=!1),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onHide,e)},a.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=this;e.init()},a.prototype.onHide=function(){this.removeAllMc()},a.prototype.sethitlock=function(e){var t=this;t.lockimg.visible=e,t.locktxt.visible=e},a.prototype.setitemdata=function(e,t,a,i,n,o,r){void 0===t&&(t=100),void 0===a&&(a=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=null);var s=this;if(s._skillid=e,s._plv=t,s._playerstar=o,s._playerid=r,s.skillimg){var l=GlobalConfig.getSkillVO(s._skillid);s.skillimg.source=GlobalEnum.getSkillIconName(l.icon),s.lvtxt.visible=a,s.bgimg.visible=a,s.nametxt.visible=i,s.nametxt.text=l.sname,s.lvtxt.text=Language.ins.game_lv_s+s._plv,n&&s.showskillMc(!0,l.sclass,l.stype);var p="tab_xlzx1_m6",c=0;if(r){var u=GlobalConfig.getPlayerPorpertyVO(r);if(u){u["class"]==playertrait.trait_SSR?p="tab_xlzx1_m7":u["class"]==playertrait.trait_UR&&(p="tab_xlzx1_q9");var m=u.getskillindex(e),g=ParamLoader.instance.ServerSkillUnlock,_=g[m];o>=_||(c=_)}}if(s.lockimg.visible=!1,s.locktxt.visible=!1,c?(s.lockimg.visible=!0,s.locktxt.visible=!0,s.locktxt.text=FormatString.format(Language.ins.train_add_tip23,c),utils.GameUtil.setColorGrey(s.skillimg,!0)):utils.GameUtil.setColorGrey(s.skillimg,!1),s.activeimg.visible=!1,s._playerid&&!c&&l.stype==skill_type.type_fetter){var h=GlobalConfig.getFetterVO(s._playerid);if(h){s.activeimg.visible=!0;var d=h.partner,y=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(d);y?s.activeimg.source="tab_xlzx1_c6":s.activeimg.source="tab_xlzx1_d3"}}s.steimg.visible=!1,(2==l.stype||3==l.stype||4==l.stype)&&(s.steimg.visible=!0,s.steimg.source=p)}},a.prototype.setSelectBg=function(e){},a.prototype.setTip=function(e){var t=this;t._needShowTip=e,e?t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t):t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t)},a.prototype.clickfun=function(t){var a=this;if(a._skillid){var i=a._needShowTip,n=e.TipSimpleObject.type_skill;if(i){var o=new SkillTipVo;o.playerid=a._playerid,o.playerstar=a._playerstar,utils.GameComUtil.ShowTip(a,a._skillid,n,o,!1,a._plv)}}},a.prototype.removeAllMc=function(){for(var e,t=this,a=[t.mc_skill2_p,t.mc_skill2_c],i=0,n=a.length;n>i;i++)e=a[i],e&&utils.GameComUtil.removeAnimoSelf(e)},a.prototype.showskillMc=function(e,t,a){var i,n=this;if(a>=2&&4>=a)switch(t){case skill_class.class_purple:i=ResName.mc_skill2_p;
break;case skill_class.class_orange:i=ResName.mc_skill2_c}if(n.removeAllMc(),i){var o=ResName.getDragonFastArr(i);if(utils.GameComUtil.ResLoadArr(o),o.length){n.wait_bl=e,n.wait_type=t,n.wait_stype=a;var r=ResName.animo_skill_mcs;RES.createGroup(r,o,!0),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,n.groupComplete_res,n),RES.loadGroup(r)}else{var s=utils.GameComUtil.getArmature(i,i,n);s&&(e?(s.animation.play("effect"),n.skillmcG.addChild(s)):utils.GameComUtil.removeAnimoSelf(s))}}},a.prototype.groupComplete_res=function(e){var t=this,a=ResName.animo_skill_mcs;a==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.groupComplete_res,t),t.showskillMc(t.wait_bl,t.wait_type,t.wait_stype))},a}(eui.Component);e.SkillComPanel=t,__reflect(t.prototype,"game.SkillComPanel")}(game||(game={}));var BetChampionRender=function(e){function t(){var t=e.call(this)||this,a=t;return a.touchChildren=!0,a.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.touchTapHandler=function(e){var t=this,a=e.target,i=t.data;switch(a){case t.betBtn1:case t.betBtn2:var n=new Date(i.lasttime);n.getTime()>Global.systemTimeNum?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_bet_champion,0],i):FLOAT.NShowPutong([Language.ins.bet_stop_tip0])}},t.prototype.dataChanged=function(){var e=this,t=e.data;GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin;if(t){var a=GlobalAllProxy.getInstance().gameProxy.getBetChampionDataForTeamID(t.id);e.national_flagImg.source=t.icon,e.country_nameTF.text=t.Countname,e.bet_numTF.text=Language.ins.bet_champion_num_1,e.bet_oddsTF.text=FormatString.format(Language.ins.bet_champion_tip0,t.odds),e.bet_voucherTF.text=null!=a?FormatString.format(Language.ins.bet_voucher,a.cost):0,e.betBtn1.visible=null==a,e.betBtn2.visible=null!=a,e.betBtn1.label=Language.ins.bet_champion_tip6,e.betBtn2.label=Language.ins.bet_champion_tip7;var i=new Date(t.lasttime);e.betBtn1.enabled=i.getTime()>Global.systemTimeNum,e.betBtn2.enabled=i.getTime()>Global.systemTimeNum}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapHandler,e)},t}(eui.ItemRenderer);__reflect(BetChampionRender.prototype,"BetChampionRender",["eui.UIComponent","egret.DisplayObject"]);var BetMatchListRender=function(e){function t(){var t=e.call(this)||this,a=t;return a.touchChildren=!0,a.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t&&t instanceof Array){var a=t[0];e.bet_gameTF.text=FormatString.format(Language.ins.bet_gameTF,egret.TimeUtils.transDate1(a.daytime),t.length),e.showData(t,!1)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer=BetMatchRender,n.dataProvider=new eui.ArrayCollection(i)},t}(eui.ItemRenderer);__reflect(BetMatchListRender.prototype,"BetMatchListRender",["eui.UIComponent","egret.DisplayObject"]);var BetMatchRender=function(e){function t(){var t=e.call(this)||this,a=t;return a.touchChildren=!0,a.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.touchTapHandler=function(e){var t=this,a=e.target,i=t.data;switch(a){case t.betBtn1:case t.betBtn2:var n=.001*Global.systemTimeNum;t.bet_closedImg.visible=n>=i.limit&&"0"==i.result,n<i.limit?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_bet_match,0],i):FLOAT.NShowPutong([Language.ins.bet_stop_tip0])}},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){e.bet_group_matche_TF0.text=FormatString.format(Language.ins.bet_group_matche_TF0,egret.TimeUtils.transDate2(t.limit));var a=-1,i="";if(-1!=t.result.indexOf(":")){var n=t.result.split(":"),o=Number(n[0]),r=Number(n[1]);a=o>r?1:r>o?2:o==r?3:-1,-1!=a&&(i=Language.ins["bet_match_result_tip"+a])}e.bet_gameImg_0.source=t.homeIcon,e.bet_nameTF0.text=t.homeName,e.bet_gameImg_1.source=t.guestIcon,e.bet_nameTF1.text=t.guestName,e.bet_group_matche_TF1.text=t.hodds,e.bet_group_matche_TF3.text=t.podds,e.bet_group_matche_TF4.text=t.vodds;var s=.001*Global.systemTimeNum;e.bet_closedImg.visible=s>=t.limit&&"0"==t.result,e.betBtn1.visible=s<t.limit&&0==t.getMatchBetType(),e.betBtn2.visible=s<t.limit&&t.getMatchBetType()>0,e.bet_group_matche_TF2.text=-1==a?i:FormatString.format(Language.ins.bet_group_matche_TF2,i,t.result),e.betBtn1.label=Language.ins.bet_champion_tip6,e.betBtn2.label=Language.ins.bet_champion_tip7}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapHandler,e)},t}(eui.ItemRenderer);__reflect(BetMatchRender.prototype,"BetMatchRender",["eui.UIComponent","egret.DisplayObject"]);var BetRender=function(e){function t(){var t=e.call(this)||this,a=t;return t.touchChildren=!0,t.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.touchTapHandler,a),t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){var t=this;return this.selected?t.bgimg.source="tab_jy_i2":t.bgimg.source="tab_jy_i1",e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.touchTapHandler=function(e){var t=e.target;switch(t){case"":break;case"":}},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);__reflect(BetRender.prototype,"BetRender",["eui.UIComponent","egret.DisplayObject"]);var BetResultRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=t.result.split(":"),i=!1,n=-1,o=t.homeWin>0?1:t.guestWin>0?2:3,r=Language.ins["bet_result_tip"+o];if(-1!=t.result.indexOf(":")){var s=Number(a[0]),l=Number(a[1]);n=s>l&&t.homeWin>0?1:l>s&&t.guestWin>0?2:s==l&&t.draw>0?3:-1,i=n==o}e.bet_result_tf0.textFlow=utils.GameComUtil.getHtmlText(r),e.bet_result_img_2.visible=3==o,e.bet_result_img_1.visible=3!=o,e.bet_result_tf1.text=t.homeName;var p="0"!=t.result?t.result.split(":"):["?","?"];e.bet_result_tf2.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.bet_result_tf2,p[0],p[1])),e.bet_result_tf3.text=t.guestName;var c=1==o?t.hodds:2==o?t.vodds:t.podds,u=1==o?t.homeWin:2==o?t.guestWin:t.draw;if(e.bet_result_tf6.text=FormatString.format(Language.ins.bet_result_tf6,u),e.bet_result_tf4.text=c,e.bet_result_status_1.visible=i?!0:!1,0==t.result)e.bet_result_tf5.text=Language.ins.sbet_result_tf5_0;else{u*=Number(c);var m=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.bet_result_tf5_1,u.toFixed(0)));e.bet_result_tf5.textFlow=i?m:utils.GameComUtil.getHtmlText(Language.ins.bet_result_tf5_2)}}},t}(eui.ItemRenderer);__reflect(BetResultRender.prototype,"BetResultRender",["eui.UIComponent","egret.DisplayObject"]);var BuildFriendRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){var t=this;return this.selected?t.bgimg.source="tab_jy_i2":t.bgimg.source="tab_jy_i1",e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name,e.lvtxt.text=t.level,e.tiptxt.text=Language.ins.build_tip32;var a,i,n,o=GlobalEnum.buildarr,r=t.position;e.logoimg.setLogoUrl(t.logo);for(var s=0,l=r.length;l>s;s++)i=s+1,n=o.indexOf(i),a=r[s],a?e["icon"+n].source="tab_jy_c2":e["icon"+n].source="tab_jy_c1"},t}(eui.ItemRenderer);__reflect(BuildFriendRender.prototype,"BuildFriendRender",["eui.UIComponent","egret.DisplayObject"]);var BuildInviteRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return this.chooseimg.visible=this.selected,e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name,e.lvtxt.text=t.level,this.chooseimg.visible=this.selected,e.logoimg.setLogoUrl(t.logo)},t}(eui.ItemRenderer);__reflect(BuildInviteRender.prototype,"BuildInviteRender",["eui.UIComponent","egret.DisplayObject"]);var BuildNewsRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name,e.lvtxt.text=t.level,e.tiptxt0.text=Language.ins.build_tip33,e.logoimg.setLogoUrl(t.logo),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.homebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_friend],a.fid)}},t}(eui.ItemRenderer);__reflect(BuildNewsRender.prototype,"BuildNewsRender",["eui.UIComponent","egret.DisplayObject"]);var BuildStaffRender=function(e){function t(){var t=e.call(this)||this;t.istouching=!1,t.buildinfoarr=[];var a=[];return a.push({name:Language.ins.build_tip28,icon:100001}),a.push({name:Language.ins.build_tip29,icon:100003}),a.push({name:Language.ins.build_tip30,icon:100005}),a.push({name:Language.ins.build_tip31,icon:100004}),t.buildinfoarr=a,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=e.buildinfoarr[e.data.type-1];e.tiptxt1.text=""+a.name,e.tiptxt0.text=Language.ins.build_tip34,e.iconimg.source=ResName.getMinItemIcon(a.icon),e.nametxt.text=t.name+" "+Language.ins.game_lv_s+t.level,e.numtxt.text=t.staff+"/"+t.allstaff,e.addtxt.text=t.addnum+"";GlobalConfig.getItemVo(t.additemid);e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.toggleChangeHandler,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.touchBeginFun,e)},t.prototype.onremove=function(e){var t=this;egret.clearTimeout(t.touchtime),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.toggleChangeHandler,t),t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchBeginFun,t),t.removeEventListener(egret.Event.REMOVED_FROM_STAGE,t.touchBeginFun,t),t.removeEventListener(egret.TouchEvent.TOUCH_END,t.onToucUp,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onremove,t)},t.prototype.touchBeginFun=function(e){var t=e.target,a=this;switch(egret.clearTimeout(a.touchtime),t){case a.addbtn:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,1);break;case a.redbtn:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,-1)}a.istouching&&(a.touchstarttime=egret.getTimer(),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onToucUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onToucUp,a))},t.prototype.onToucUp=function(e){var t=this;t.istouching=!1,egret.clearTimeout(t.touchtime),t.removeEventListener(egret.TouchEvent.TOUCH_END,t.onToucUp,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onToucUp,t)},t.prototype.timeTouchBtn=function(e){var t=this;egret.clearTimeout(t.touchtime);var a=t.data;if(a){var i=1;if(t.touchstarttime){var n=Math.floor((egret.getTimer()-t.touchstarttime)/2e3);i=0==n?1:1==n?3:10}var o=i*e;0>o&&a.staff+o<0?o-=a.staff+o:a.staff+o>a.allstaff&&(o=a.allstaff-a.staff),EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:o}),t.istouching&&0!=o&&(t.touchtime=egret.setTimeout(t.timeTouchBtn,t,100,e))}},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;if(egret.clearTimeout(t.touchtime),a)switch(e.target){case t.redbtn:a.staff>0&&EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:-1});break;case t.addbtn:a.staff<a.allstaff&&EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:1})}},t}(eui.ItemRenderer);__reflect(BuildStaffRender.prototype,"BuildStaffRender",["eui.UIComponent","egret.DisplayObject"]);var ChatRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.comtxt.text=Language.ins.chat_tip8;var t=e.data,a=t.chatType,i=t.sendData,n=t.toData;e.comG.visible=!1,e.selfG.visible=!1,e.myinfoG.visible=!1,e.infoG.visible=!1;var o,r,s,l,p,c,u,m,g=!1;if(i&&i.uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid?(g=!0,e.myinfoG.visible=!0,o=e.mynametxt,r=e.mylvtxt,u=e.mylogoimg,s=e.myviptxt,l=e.myvipG,p=e.myselfnameG,c=e.myselfcar,m=e.myqiaotxt,e.msgtxt.textFlow=utils.GameComUtil.getHtmlText(""),e.mymsgtxt.textFlow=utils.GameComUtil.getHtmlText(t.msg),o.textColor=16777215,a==chatType.type_com||a==chatType.type_club?o.textColor=16777215:o.textColor=8601256):(e.infoG.visible=!0,o=e.nametxt,r=e.lvtxt,u=e.logoimg,s=e.viptxt,l=e.vipG,p=e.selfnameG,c=e.selfcar,m=e.qiaotxt,e.mymsgtxt.textFlow=utils.GameComUtil.getHtmlText(""),e.msgtxt.textFlow=utils.GameComUtil.getHtmlText(t.msg),a==chatType.type_com||a==chatType.type_club?(e.msgtxt.textColor=1184274,i&&i.uid?e.msgbgimg.source="tab_lt_e5":e.msgbgimg.source="tab_lt_d9",o.textColor=16777215):(e.msgtxt.textColor=16777215,e.msgbgimg.source="tab_lt_d8",o.textColor=8601256)),e.comG.visible=!1,e.selfG.visible=!1,p.removeChildren(),a==chatType.type_com||a==chatType.type_club)i&&i.uid?(e.selfG.visible=!0,o.text=i.name,r.text=i.level,u.setLogoUrl(i.logo),e.showitemG(p,o,g),i.vipLevel&&(s.text=FormatString.format(Language.ins.activity_tip20,i.vipLevel),e.showitemG(p,l,g)),i.monthCard&&(c.source=e.getmouthpath(i.monthCard),e.showitemG(p,c,g))):e.comG.visible=!0;else if(a==chatType.type_self){var _;g?(_=n,o.text=FormatString.format(Language.ins.chat_tip7,n.name),u.setLogoUrl(GlobalAllProxy.getInstance().playerProxy.playerinfo.logo),m.text=Language.ins.chat_tip1):(_=i,o.text=i.name,u.setLogoUrl(i.logo),e.selfG.visible=!0,m.text=Language.ins.chat_tip0),i&&(r.text=i.level),e.showitemG(p,o,g),g?(_.monthCard&&(c.source=e.getmouthpath(_.monthCard),e.showitemG(p,c,g)),_.vipLevel&&(s.text=FormatString.format(Language.ins.activity_tip20,_.vipLevel),e.showitemG(p,l,g))):(_.vipLevel&&(s.text=FormatString.format(Language.ins.activity_tip20,_.vipLevel),e.showitemG(p,l,g)),_.monthCard&&(c.source=e.getmouthpath(_.monthCard),e.showitemG(p,c,g))),e.showitemG(p,m,g)}},t.prototype.getmouthpath=function(e){var t="";switch(e){case 1:t="smalicon_zhouka";break;case 2:t="smalicon_zhouka_1";break;case 3:t="smalicon_zhouka_2"}return t},t.prototype.showitemG=function(e,t,a){a?e.addChildAt(t,0):e.addChild(t)},t}(eui.ItemRenderer);__reflect(ChatRender.prototype,"ChatRender",["eui.UIComponent","egret.DisplayObject"]);var ChatSystRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tiptxt0.text=Language.ins.chat_tip9,t){var a=t.msg;if(t.postId){var i=GlobalConfig.getPostVO(t.postId);if(i){var n=i.jumpdes,o=i.jump;if(n&&"0"!=n&&o&&"0"!=o){var r=o.split(";"),s=GlobalAllProxy.getInstance().activityProxy.iscanJump(r);if(s){var l=65280,p=FormatString.format(Language.ins.game_col,l,n);a+="\n<u>"+p+"</u>"}}}}e.msgtxt.textFlow=utils.GameComUtil.getHtmlText(a)}},t}(eui.ItemRenderer);__reflect(ChatSystRender.prototype,"ChatSystRender",["eui.UIComponent","egret.DisplayObject"]);var ClubAchieveRenderVO=function(){function e(){}return e}();__reflect(ClubAchieveRenderVO.prototype,"ClubAchieveRenderVO");var ClubAchieveRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeAllMc,this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.infoG.visible=!1,e.notxt1.text=Language.ins.club_tip8,e.noG.visible=!1,e.removeAllMc(),t.vo){var a=t.vo;if(a){e.nametxt.text=a.name;var i=utils.GameComUtil.getTimeYearStr(1e3*t.time);e.timetxt.text=FormatString.format(Language.ins.achieve_tip2,i),e.infoG.visible=!0,e.iconbgimg.source=ResName.getAchieveBgForType(a["class"]),e.iconimg.source=a.icon,2==a["class"]?e.showchengjiuMc(!0):3==a["class"]&&e.showchengjiu2Mc(!0)}t.ismy}else e.noG.visible=!0,t.ismy?e.notxt0.text=Language.ins.achieve_tip8:e.notxt0.text=Language.ins.achieve_tip9},t.prototype.removeAllMc=function(e){void 0===e&&(e=null);for(var t,a=this,i=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],n=0,o=i.length;o>n;n++)t=a[i[n]],t&&utils.GameComUtil.removeAnimoSelf(t)},t.prototype.showchengjiuMc=function(e){var t=this,a=ResName.mc_chengjiu1,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t.prototype.showchengjiu2Mc=function(e){var t=this,a=ResName.mc_chengjiu2,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.iconmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t}(eui.ItemRenderer);__reflect(ClubAchieveRender.prototype,"ClubAchieveRender",["eui.UIComponent","egret.DisplayObject"]);var ClubFightIconPanelVO=function(){function e(){}return e}();__reflect(ClubFightIconPanelVO.prototype,"ClubFightIconPanelVO");var ClubFightIconPanel=function(e){function t(){var t=e.call(this)||this;return t._iscreat=!1,t.m_choose=!1,t.skinName=ClubFightIconPanelSkin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),t.touchEnabled=!1,t.comG&&(t.comG.touchEnabled=!1,t.comG.touchChildren=!1),t._iscreat=!0,t._data&&t.changedata()},t.prototype.setData=function(e){var t=this;t._data=e,t._iscreat&&t.changedata()},t.prototype.setChoose=function(e){var t=this;t.m_choose=e,t.mchoimg&&(t.m_choose?(t.showchoosemc(),t.mchoimg.source="tab_jjs_b5"):t.mchoimg.source="tab_jjs_b7")},t.prototype.showchoosemc=function(){var e=this,t=Manifest.getIns(vm.ClubFightMapView);if(t){var a=t.getchoosemc();utils.GameComUtil.removeAnimoSelf(a),a.animation.play("effect",0),e.chomcG.addChild(a)}},t.prototype.changedata=function(){var e=this,t=e._data;if(t){var a=GlobalConfig.getCopyclubgradeVO(t.mapid,t.mapstar);e.awardimg.source=a.getClubIconStr(),e.guantxt.text=t.level+"-"+t.guanid;var i=t.anchor.split(",");e.x=parseInt(i[0])-e.comG.x,e.y=parseInt(i[1])-e.comG.y;var n=t.mapstar;e.moverimg.visible=!1;for(var o,r,s=!1,l=0,p=1;3>=p;p++)l=p-1,s=!1,n>p?s=!0:n==p&&(s=t.isover?!0:!1,3==p&&t.isover&&(e.moverimg.visible=!0)),o=e["startimg"+l],o&&(s&&t.isplaymc?(o.visible=!0,r=100*l+300,egret.Tween.get(o).to({alpha:0,scaleX:4,scaleY:4}).wait(r).to({alpha:1,scaleX:.8,scaleY:.8},300).to({alpha:1,scaleX:1,scaleY:1},100)):(s?o.visible=!0:o.visible=!1,o.alpha=1,o.scaleX=1,o.scaleY=1,egret.Tween.removeTweens(o)));t.isplaymc=!1,e.mchoimg.visible=!1,e.m_choose?(e.mchoimg.source="tab_jjs_b5",e.showchoosemc()):e.mchoimg.source="tab_jjs_b7",t.isopen?(e.logoimg.setLogoUrl(t.logo),e.mlock.visible=!1,e.mstarG.visible=!0,e.fighticon.touchEnabled=!0,e.initimg.visible=!1):(e.mlock.visible=!0,e.mstarG.visible=!1,e.fighticon.touchEnabled=!1,e.logoimg.source="",e.initimg.visible=!0)}},t}(eui.Component);__reflect(ClubFightIconPanel.prototype,"ClubFightIconPanel",["eui.UIComponent","egret.DisplayObject"]);var ClubFightRenderVO=function(){function e(){}return e}();__reflect(ClubFightRenderVO.prototype,"ClubFightRenderVO");var ClubFightRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return this.choimg.visible=this.selected,e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.logoimg.setLogoUrl(t.logo);var a,i=t.mapstar;e.moverimg.visible=!1;for(var n,o,r=!1,s=1;3>=s;s++)a=s-1,r=!1,i>s?r=!0:i==s&&(r=t.isover?!0:!1,3==s&&t.isover&&(e.moverimg.visible=!0)),n=e["startimg"+a],n&&(r&&t.isplaymc?(n.visible=!0,o=100*a+300,egret.Tween.get(n).to({alpha:0,scaleX:2,scaleY:2}).wait(o).to({alpha:1,scaleX:.8,scaleY:.8},200).to({alpha:1,scaleX:1,scaleY:1},80)):(r?n.visible=!0:n.visible=!1,n.alpha=1,n.scaleX=1,n.scaleY=1,egret.Tween.removeTweens(n)));t.isplaymc=!1,this.choimg.visible=this.selected,t.isopen?(e.mlock.visible=!1,e.touchEnabled=!0):(e.mlock.visible=!0,e.touchEnabled=!1)},t}(eui.ItemRenderer);__reflect(ClubFightRender.prototype,"ClubFightRender",["eui.UIComponent","egret.DisplayObject"]);var ClubPlayerRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.stargroup.setDataArr(t.star,"tab_kjzx_e1"),e.nametxt.text=t.name,e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.quality);var a=GlobalConfig.getLocationrelation(t.position),i=Language.ins.degree_names[a-1];e.postxt.text=i,e.zhanlitxt.text=t.fighting,e.lvtxt.text=Language.ins.game_lv_s+t.level,e.bebornimg.source=ResName.getMinHeroRebornImg(t.transform);var a=0;t.position&&(a=GlobalConfig.getLocationrelation(t.position)),e.posimg.source=ResName.getRankPlayerbg(a,!1),e.classimg.source=ResName.getTraitPathMin(t.quality)},t}(eui.ItemRenderer);__reflect(ClubPlayerRender.prototype,"ClubPlayerRender",["eui.UIComponent","egret.DisplayObject"]);var ClubStaffRender=function(e){function t(){var t=e.call(this)||this;return t.istouching=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name,e.lvtxt.text=Language.ins.game_lv_s+t.level,e.numtxt.text=t.staff+"/"+t.allstaff,e.addtxt.text=FormatString.format(Language.ins.club_time_str,t.addnum);var a=GlobalConfig.getItemVo(t.additemid);e.iconimg.source=GlobalEnum.getIconName(a.icon),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.toggleChangeHandler,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.touchBeginFun,e)},t.prototype.onremove=function(e){var t=this;egret.clearTimeout(t.touchtime),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.toggleChangeHandler,t),t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchBeginFun,t),t.removeEventListener(egret.Event.REMOVED_FROM_STAGE,t.touchBeginFun,t),t.removeEventListener(egret.TouchEvent.TOUCH_END,t.onToucUp,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onremove,t)},t.prototype.touchBeginFun=function(e){var t=e.target,a=this;switch(egret.clearTimeout(a.touchtime),t){case a.addbtn:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,1);break;case a.redbtn:a.istouching=!0,a.touchtime=egret.setTimeout(a.timeTouchBtn,a,500,-1)}a.istouching&&(a.touchstarttime=egret.getTimer(),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onToucUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onToucUp,a))},t.prototype.onToucUp=function(e){var t=this;t.istouching=!1,egret.clearTimeout(t.touchtime),t.removeEventListener(egret.TouchEvent.TOUCH_END,t.onToucUp,t),t.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onToucUp,t)},t.prototype.timeTouchBtn=function(e){var t=this;egret.clearTimeout(t.touchtime);var a=t.data;if(a){var i=1;if(t.touchstarttime){var n=Math.floor((egret.getTimer()-t.touchstarttime)/2e3);i=0==n?1:1==n?3:10}var o=i*e;0>o&&a.staff+o<0?o-=a.staff+o:a.staff+o>a.allstaff&&(o=a.allstaff-a.staff),EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:o}),t.istouching&&0!=o&&(t.touchtime=egret.setTimeout(t.timeTouchBtn,t,100,e))}},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;if(egret.clearTimeout(t.touchtime),a)switch(e.target){case t.redbtn:a.staff>0&&EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:-1});break;case t.addbtn:a.staff<a.allstaff&&EventBus.sendMessage(game.GameCommands.CHANGE_STAFF_NUM,{type:a.type,num:1})}},t}(eui.ItemRenderer);__reflect(ClubStaffRender.prototype,"ClubStaffRender",["eui.UIComponent","egret.DisplayObject"]);var ClubSweepRenderVO=function(){function e(){}return e}();__reflect(ClubSweepRenderVO.prototype,"ClubSweepRenderVO");var ClubSweepRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t,a=this;t=new eui.TileLayout,t.horizontalGap=-6,t.verticalGap=-6,t.requestedRowCount=2,t.requestedColumnCount=2,a.awardlist.setImgWH(40,40),a.awardlist.layout=t,a.awardlist.setTextSize(18)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tiptxt.text=Language.ins.club_tip9,t){var a=t.itemarr,i=t.time;e.timetxt.text=FormatString.format(Language.ins.club_map_tip3,i),e.awardlist.setDataArr(a),a.length>2?e.height=92:e.height=52}},t}(eui.ItemRenderer);__reflect(ClubSweepRender.prototype,"ClubSweepRender",["eui.UIComponent","egret.DisplayObject"]);var CoachBgRenderVO=function(){function e(){}return e}();__reflect(CoachBgRenderVO.prototype,"CoachBgRenderVO");var CoachBgRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.lockimg.visible=!1,e.choimg.visible=!1,t){e.headimg.source=t.itemvo.icon,t.isopen||(e.lockimg.visible=!0),t.ischoose&&(e.choimg.visible=!0);var a=GlobalAllProxy.getInstance().playerProxy.getCoachPlayerVO(t.itemvo.coachid);a?e.bgimg.source=ResName.coach_headclass_arr[a.coachClass-1]:e.bgimg.source="tab_jl_i5";var i=GlobalAllProxy.getInstance().gameProxy,n=GlobalEnum;e.showTipOtherHeroFetter(i.getTipForArr(null,[n.tipmc_coach_getnew,n.tipmc_coach_upgrade,GlobalEnum.tipmc_coach_trainover,GlobalEnum.tipmc_coach_upexcita],t.coachid))}},t.prototype.showTipOtherHeroFetter=function(e){var t=this,a=e,i=t.headimg,n="tipmcheadimg";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.addChild(t[n]),t[n].visible=a)},t}(eui.ItemRenderer);__reflect(CoachBgRender.prototype,"CoachBgRender",["eui.UIComponent","egret.DisplayObject"]);var CoachLookRenderVO=function(){function e(){}return e}();__reflect(CoachLookRenderVO.prototype,"CoachLookRenderVO");var CoachLookRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.gaitiptxt0.text=t.tip,e.gainumtxt0.text=t.bufnum+"%"},t}(eui.ItemRenderer);__reflect(CoachLookRender.prototype,"CoachLookRender",["eui.UIComponent","egret.DisplayObject"]);var ComItemRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.coinimg.source=ResName.getMinItemIcon(t.itemid),e.cointxt.text=t.count},t}(eui.ItemRenderer);__reflect(ComItemRender.prototype,"ComItemRender",["eui.UIComponent","egret.DisplayObject"]);var ComTableBG=function(e){function t(){var t=e.call(this)||this;return t.m_showurl=null,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.closebtn&&(this.closebtn._btnSoundStr=GlobalSoundEffect.sound_click1),this.changebgimg()},t.prototype.setImgBg=function(e){this.m_showurl=e,this.changebgimg()},t.prototype.setTitleBgshow=function(e){var t=this;PFAll.isNowPF([Global.severNE_japan])||t.bgimg2&&(t.bgimg2.visible=e)},t.prototype.changebgimg=function(){var e=this;e.showimg&&null!=e.m_showurl&&(e.showimg.source=e.m_showurl)},t}(eui.Component);__reflect(ComTableBG.prototype,"ComTableBG");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._isSelected=!1,e._isfirst=!0;var a=e;return a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.onMouseClick,a),a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseDown,a),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onMouseUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onMouseUp,a),a.touchChildren=!1,a.touchEnabled=!0,e}return __extends(a,t),a.prototype.setRectSelecte=function(e){var t=this;t.touchChildren=e,t.touchEnabled=!e},a.prototype.setX=function(e){utils.GameComUtil.setCenterX(this,e)},a.prototype.setY=function(e){utils.GameComUtil.setCenterY(this,e)},Object.defineProperty(a.prototype,"enabled",{set:function(e){if(this.touchEnabled=e,e)this.filters=[];else{var t=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],a=new egret.ColorMatrixFilter(t);this.filters=[a]}},enumerable:!0,configurable:!0}),a.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=this;e.starteffect()},a.prototype.starteffect=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.registerEffect(GlobalEffects.buttonEffect),utils.GameComUtil.setToConter(e),e.touchChildren=!1,e.touchEnabled=!0)},a.prototype.register=function(e){this._button=e},Object.defineProperty(a.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),a.prototype.registerEffect=function(e){this._effect=e},a.prototype.addCallbackClick=function(e){this._callbackClick=e},a.prototype.removeCallbackClick=function(){this._callbackClick=null},a.prototype.onMouseDown=function(e){var t=this;null!=t._effect&&t._effect.down(t,t._isSelected)},a.prototype.onMouseUp=function(e){void 0===e&&(e=null);var t=this;null!=t._effect&&t._effect.up(t,t._isSelected)},a.prototype.onMouseClick=function(t){var a=this;if(SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1),a.unLockArr){utils.GameComUtil.buttonUnLock(t,a.unLockArr)}null!=a._callbackClick&&(1==a._callbackClick.length?a._callbackClick(t):a._callbackClick()),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},a}(eui.Group);e.DoraBtnGroup=t,__reflect(t.prototype,"game.DoraBtnGroup")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._isSelected=!1,e._isSelectEnabled=!0,e._isfirst=!0;var a=e;return a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.onMouseClick,a),a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseDown,a),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onMouseUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onMouseUp,a),a.touchChildren=!1,a.touchEnabled=!0,e
}return __extends(a,t),Object.defineProperty(a.prototype,"txticon",{get:function(){return this._txticon},set:function(e){var t=this;e!=t._txticon&&(t._txticon=e,t.btnicon&&(t.btnicon.source=e))},enumerable:!0,configurable:!0}),a.prototype.setX=function(e){utils.GameComUtil.setCenterX(this,e)},a.prototype.setY=function(e){utils.GameComUtil.setCenterY(this,e)},a.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=this;e.starteffect()},a.prototype.starteffect=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.registerEffect(GlobalEffects.buttonEffect),utils.GameComUtil.setToConter(e),e.touchChildren=!1,e.touchEnabled=!0)},a.prototype.partAdded=function(e,a){t.prototype.partAdded.call(this,e,a);var i=this;a==i.btnicon&&(i.btnicon.width=114,i.btnicon.height=86,i.btnicon.source=i._txticon)},Object.defineProperty(a.prototype,"isSelectEnabled",{get:function(){return this._isSelectEnabled},set:function(e){this._isSelectEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this._isSelected},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),a.prototype.register=function(e){this._button=e},Object.defineProperty(a.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),a.prototype.registerEffect=function(e){this._effect=e},a.prototype.addCallbackClick=function(e){this._callbackClick=e},a.prototype.removeCallbackClick=function(){this._callbackClick=null},a.prototype.onMouseDown=function(e){var t=this;null!=t._effect&&t._effect.down(t,t._isSelected)},a.prototype.onMouseUp=function(e){var t=this;null!=t._effect&&t._effect.up(t,t._isSelected)},a.prototype.onMouseClick=function(t){var a=this;if(SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1),a.unLockArr){utils.GameComUtil.buttonUnLock(t,a.unLockArr)}a._isSelectEnabled&&(a.selected=!a._isSelected),null!=a._callbackClick&&(1==a._callbackClick.length?a._callbackClick(t):a._callbackClick()),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},a}(eui.Button);e.DoraBtnHome=t,__reflect(t.prototype,"game.DoraBtnHome")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._isSelected=!1,e._isSelectEnabled=!0,e._isfirst=!0,e.multiline=!1;var a=e;return a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.onMouseClick,a),a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseDown,a),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onMouseUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onMouseUp,a),e}return __extends(a,t),a.prototype.$render=function(){t.prototype.$render.call(this);var e=this;0!=e.width&&e.starteffect()},a.prototype.starteffect=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.registerEffect(GlobalEffects.buttonEffect),utils.GameComUtil.setToConter(e))},Object.defineProperty(a.prototype,"isSelectEnabled",{get:function(){return this._isSelectEnabled},set:function(e){this._isSelectEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this._isSelected},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),a.prototype.register=function(e){this._button=e},Object.defineProperty(a.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),a.prototype.registerEffect=function(e){this._effect=e},a.prototype.addCallbackClick=function(e){this._callbackClick=e},a.prototype.removeCallbackClick=function(){this._callbackClick=null},a.prototype.onMouseDown=function(e){void 0===e&&(e=null);var t=this;null!=t._effect&&t._effect.down(t,t._isSelected)},a.prototype.onMouseUp=function(e){void 0===e&&(e=null);var t=this;null!=t._effect&&t._effect.up(t,t._isSelected)},a.prototype.onMouseClick=function(t){var a=this;if(a._btnSoundStr?SoundMgr.getInstance().PlayEffect(a._btnSoundStr):SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1),a.unLockArr){utils.GameComUtil.buttonUnLock(t,a.unLockArr)}a._isSelectEnabled&&(a.selected=!a._isSelected),null!=a._callbackClick&&(1==a._callbackClick.length?a._callbackClick(t):a._callbackClick()),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},Object.defineProperty(a.prototype,"enabled",{set:function(e){utils.GameUtil.setColorGrey(this,e)},enumerable:!0,configurable:!0}),a}(eui.Image);e.DoraBtnUiasset=t,__reflect(t.prototype,"game.DoraBtnUiasset")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._isSelected=!1,e._isSelectEnabled=!0,e._isfirst=!0;var a=e;return a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.onMouseClick,a),a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseDown,a),a.addEventListener(egret.TouchEvent.TOUCH_END,a.onMouseUp,a),a.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,a.onMouseUp,a),a.touchEnabled=!0,e}return __extends(a,t),Object.defineProperty(a.prototype,"label",{get:function(){var e=this,t=e.initstr;return null!=e.bitmapF?e.bitmapF.text:(e.labelDisplay&&(t=e.labelDisplay.text),t)},set:function(e){var t=this;t.initstr=e,t.labelDisplay&&(t.labelDisplay.text=e),null!=t.bitmapF&&(t.bitmapF.text=e,t.labelDisplay.text="",t.initstr="")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"number",{get:function(){var e=this,t="";return e.couttxt&&(t=e.couttxt.text),t},set:function(e){var t=this;t.couttxt&&(t.couttxt.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"icon",{get:function(){var e=this,t="";return e.iconimg&&(t=e.iconimg.source.toString()),t},set:function(e){var t=this;t.iconimg&&(t.iconimg.source=e)},enumerable:!0,configurable:!0}),a.prototype.setSwitchImg=function(e,t){var a=this;a._upstr=e,a._downstr=t,a.changeImg()},a.prototype.changeImg=function(){var e=this;e._upstr&&(e.selected?e._downstr&&(e.txticon=e._downstr):e._upstr&&(e.txticon=e._upstr))},Object.defineProperty(a.prototype,"txticon",{get:function(){return this._txticon},set:function(e){var t=this;e!=t._txticon&&(t._txticon=e,t.btnicon&&(t.btnicon.source=e))},enumerable:!0,configurable:!0}),a.prototype.setX=function(e){utils.GameComUtil.setCenterX(this,e)},a.prototype.setY=function(e){utils.GameComUtil.setCenterY(this,e)},Object.defineProperty(a.prototype,"enabled",{set:function(e){if(egret.superSetter(a,this,"enabled",e),e)this.filters=[];else{var t=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(t);this.filters=[i]}},enumerable:!0,configurable:!0}),a.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=this;e.initstr&&""!=e.initstr&&(e.label=e.initstr),e.starteffect()},a.prototype.starteffect=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.registerEffect(GlobalEffects.buttonEffect),utils.GameComUtil.setToConter(e),e.touchChildren=!1,e.touchEnabled=!0)},a.prototype.showtip=function(e){var t=this;t.tipimg.visible=e},a.prototype.partAdded=function(e,a){t.prototype.partAdded.call(this,e,a);var i=this;a==i.btnicon&&(i.btnicon.source=i._txticon)},Object.defineProperty(a.prototype,"isSelectEnabled",{get:function(){return this._isSelectEnabled},set:function(e){this._isSelectEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this._isSelected},set:function(e){this._isSelected=e,this.changeImg()},enumerable:!0,configurable:!0}),a.prototype.register=function(e){this._button=e},Object.defineProperty(a.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),a.prototype.registerEffect=function(e){this._effect=e},a.prototype.addCallbackClick=function(e){this._callbackClick=e},a.prototype.removeCallbackClick=function(){this._callbackClick=null},a.prototype.onMouseDown=function(e){var t=this;null!=t._effect&&t._effect.down(t,t._isSelected)},a.prototype.onMouseUp=function(e){var t=this;null!=t._effect&&t._effect.up(t,t._isSelected)},a.prototype.onMouseClick=function(t){var a=this;if(SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1),a.unLockArr){utils.GameComUtil.buttonUnLock(t,a.unLockArr)}a._isSelectEnabled&&(a.selected=!a._isSelected),null!=a._callbackClick&&(1==a._callbackClick.length?a._callbackClick(t):a._callbackClick()),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},a}(eui.Button);e.DoraButton=t,__reflect(t.prototype,"game.DoraButton")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._isSelected=!1,e._isSelectEnabled=!0,e._isfirst=!0,e._isSelectMouse=!0,e.addEvent(),e}return __extends(a,t),a.prototype.addEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onMouseClick,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseDown,e),e.addEventListener(egret.TouchEvent.TOUCH_END,e.onMouseUp,e),e.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,e.onMouseUp,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onMouseClick,e),e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseDown,e),e.removeEventListener(egret.TouchEvent.TOUCH_END,e.onMouseUp,e),e.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,e.onMouseUp,e)},a.prototype.$render=function(){t.prototype.$render.call(this);var e=this;0!=e.width&&e.starteffect()},a.prototype.starteffect=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.registerEffect(GlobalEffects.buttonEffect),utils.GameComUtil.setToConter(e))},a.prototype.registerEffect=function(e){this._effect=e},a.prototype.setSwitchImg=function(e,t){var a=this;a._upstr=e,a._downstr=t,a.changeImg()},a.prototype.changeImg=function(){var e=this;e.selected?e._downstr&&(e.source=e._downstr):e._upstr&&(e.source=e._upstr)},Object.defineProperty(a.prototype,"isSelectEnabled",{get:function(){return this._isSelectEnabled},set:function(e){this._isSelectEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isSelectMouse",{get:function(){return this._isSelectMouse},set:function(e){this._isSelectMouse=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this._isSelected},set:function(e){var t=this;t._isSelected=e,t.changeImg(),t._isSelectMouse||(t._isSelected?t.touchEnabled=!1:t.touchEnabled=!0)},enumerable:!0,configurable:!0}),a.prototype.register=function(e){this._button=e},Object.defineProperty(a.prototype,"button",{get:function(){return this._button},enumerable:!0,configurable:!0}),a.prototype.addCallbackClick=function(e){this._callbackClick=e},a.prototype.removeCallbackClick=function(){this._callbackClick=null},a.prototype.onMouseDown=function(e){void 0===e&&(e=null);var t=this;null!=t._effect&&t._effect.down(t,t._isSelected)},a.prototype.onMouseUp=function(e){void 0===e&&(e=null);var t=this;null!=t._effect&&t._effect.up(t,t._isSelected)},a.prototype.onMouseClick=function(t){SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1);var a=this;a._isSelectEnabled&&(a.selected=!a._isSelected),null!=a._callbackClick&&(1==a._callbackClick.length?a._callbackClick(t):a._callbackClick()),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},a}(eui.Image);e.DoraSwitchImg=t,__reflect(t.prototype,"game.DoraSwitchImg")}(game||(game={}));var DragonListPanelVO=function(){function e(){}return e}();__reflect(DragonListPanelVO.prototype,"DragonListPanelVO");var DragonListPanel=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this,a=-t.datascrollA.height;t.datascrollA.y=a,t._islistbl=!1,t.iscreat=!0,t.showchange()},t.prototype.setData=function(e){var t=this;t._dataVO=e,this.iscreat&&this.showchange()},t.prototype.setindex=function(e){var t=this;t._dataVO&&(t._dataVO.chooseindex=e,t.showchange())},t.prototype.showchange=function(){var e=this;if(e._dataVO){for(var t,a,i=e._dataVO.dataarr,n=e._dataVO.chooseindex,o=0,r=i.length;r>o;o++)t=i[o],o==n&&(a=t);e.datalist.selectedIndex=-1,e.showData(i,!1),e._dataVO.isadd&&e.tiptxt&&a?e.curformatxt.text=e._dataVO.tipstr+" "+a:(a&&(e.curformatxt.text=a),e.tiptxt&&(e.tiptxt.text=e._dataVO.tipstr))}},t.prototype.addEventFun=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.removeEventFun=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.listchange=function(e){var t=this,a=t.datalist.selectedIndex;a>=0&&(t._dataVO.chooseindex=a,this.dispatchEvent(new egret.Event(eui.ItemTapEvent.ITEM_TAP,!1,!1,a)),t.showchange(),t.showListBl(!1))},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.listbtn:t.showListBl(!t._islistbl)}},t.prototype.showListBl=function(e){if(e)egret.Tween.get(this.datascrollA).to({y:0},300);else{var t=-this.datascrollA.height;egret.Tween.get(this.datascrollA).to({y:t},300)}this._islistbl=e},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=this._dataVO.renderclass,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(eui.Component);__reflect(DragonListPanel.prototype,"DragonListPanel");var TableBraButton=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton.prototype,"TableBraButton",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton10=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton10Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton10.prototype,"TableBraButton10",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton11=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton11Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton11.prototype,"TableBraButton11",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton3=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton3Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton3.prototype,"TableBraButton3",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton5=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton5Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton5.prototype,"TableBraButton5",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton6=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton6Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton6.prototype,"TableBraButton6",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton7=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton7Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton7.prototype,"TableBraButton7",["eui.UIComponent","egret.DisplayObject"]);var TableBraButton9=function(e){function t(){var t=e.call(this)||this;return t.skinName=TableBraButton9Skin,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(game.KTabBarButton);__reflect(TableBraButton9.prototype,"TableBraButton9",["eui.UIComponent","egret.DisplayObject"]);var DekaronGuanRenderVO=function(){function e(){}return e}();__reflect(DekaronGuanRenderVO.prototype,"DekaronGuanRenderVO");var DekaronGuanRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e,t=this,a=t.data,i=a.isfight,n=a.id<a.curnum,o="";e=i?a.isRest?"tab_ryzl1_c8":"tab_ryzl1_a4":a.isRest?"tab_ryzl1_a3":"tab_ryzl1_a2",t.bgimg.source=e,t.completeimg.visible=!1;var r=a.fighttype,s="tab_ryzl1_a5";t.starimg0.source=r>=1?s:o,t.starimg1.source=r>=2?s:o,t.starimg2.source=r>=3?s:o,t.logoimg.visible=!1,t.checkimg.visible=!1,t.tiptxt.visible=!1,t.tiptxt1.visible=!1,t.tiptxt.text="",t.tiptxt1.text="",a.isRest?(t.tiptxt1.visible=!0,t.checkimg.visible=!0,t.tiptxt1.text=Language.ins.dekaron_tip2,t.starimg0.visible=!1,t.starimg1.visible=!1,t.starimg2.visible=!1):(t.tiptxt.visible=!0,t.logoimg.visible=!0,t.logoimg.setLogoUrl(a.logo),t.tiptxt.text=FormatString.format(Language.ins.dekaron_tip1,a.id),t.starimg0.visible=!0,t.starimg1.visible=!0,t.starimg2.visible=!0,n&&(t.completeimg.visible=!0))},t}(eui.ItemRenderer);__reflect(DekaronGuanRender.prototype,"DekaronGuanRender",["eui.UIComponent","egret.DisplayObject"]);var DekaronIcon=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=DekaronIconSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e){var t=this;t.playerVO=e,this.iscreat&&this.showchange()},t.prototype.showchoosemc=function(e,t){var a=this,i=Manifest.getIns(vm.FightDekaronRoadView);if(i&&t){var n=i.getchoosemc(e);utils.GameComUtil.removeAnimoSelf(n),t&&(n.animation.play("effect",0),a.chomcG.addChild(n))}},t.prototype.showchange=function(){var e=this,t=e.playerVO;if(t){var a=!1,i=t.isfight,n=t.id<t.curnum;if(e.starimg0.visible=!1,e.starimg1.visible=!1,e.starimg2.visible=!1,e.lockimg.visible=!1,e.okimg.visible=!1,i){var o;t.isRest?t.curnum&&(a=!0):a=!0,e.showchoosemc(!t.isRest,a)}else o=t.isRest?"tab_ryzl1_a3":"tab_ryzl1_a2";e.bgimg.source=o;var r=t.fighttype;1==r?e.starimg0.visible=!0:2==r?e.starimg1.visible=!0:3==r&&(e.starimg2.visible=!0),t.isRest?(e.bgimg.source="smalicon_libao",t.isafter&&(e.okimg.visible=!0)):n||i?e.bgimg.source="tab_ryzl1_j1":(e.bgimg.source="tab_ryzl1_j2",e.lockimg.visible=!0)}},t}(eui.Component);__reflect(DekaronIcon.prototype,"DekaronIcon");var DekaronRankRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=t.rank,i="";e.tiptxt.visible=!1,1==a?(i="tab_jjsn_d7",e.lightimg.source="tab_ph_a2"):2==a?(i="tab_jjsn_d8",e.lightimg.source="tab_ph_a3"):3==a?(i="tab_jjsn_d9",e.lightimg.source="tab_ph_a4"):(e.lightimg.source="",e.tiptxt.visible=!0),e.tiptxt.text=a,e.rankicon.source=i,e.nametxt.text=t.name,e.startxt.text=t.star,e.maxtxt.text=t.max_id,e.logoimg.setLogoUrl(t.logo);var n=ResName.getRankbg(a);e.bgimg.source=n}},t}(eui.ItemRenderer);__reflect(DekaronRankRender.prototype,"DekaronRankRender",["eui.UIComponent","egret.DisplayObject"]);var DekaronShopRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e,t=this,a=t.data,i=!0;if(t.tiptxt.text="",t.tiptxt0.text="",t.nametxt.text="",t.bugbtn.label="",a){var n=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(n){var o=n.getStoreBuyRecordNum(a.id);if(1==a.buylimit?t.tiptxt0.text=FormatString.format(Language.ins.dekaron_tip8,a.num-a.buytime,a.num):t.tiptxt0.text=FormatString.format(Language.ins.dekaron_tip9,a.num-a.buytime,a.num),a.copyid){var r=GlobalConfig.getTowerCopyVOForCid(a.copyid);t.tiptxt.text=Language.ins.dekaron_tip32+FormatString.format(Language.ins.dekaron_tip7,r.id,r.star),e=n.getRecordStar(r.id),e<r.star&&(i=!1)}else t.tiptxt.text="";i?(t.bugbtn.label=Language.ins.dekaron_tip25,t.bugbtn.visible=!0,t.lockgp.visible=!1,t.tiptxt.visible=!1,t.comitem.visible=!0):(t.bugbtn.label=Language.ins.dekaron_tip24,t.bugbtn.visible=!1,t.lockgp.visible=!0,t.tiptxt.visible=!0,t.comitem.visible=!1),t.item.setIdAndNum(a.object,1,!1,0,!1,!1,!1),t.item.setTip(!0),t.readlyimg.visible=!1;var s=GlobalConfig.getItemVo(a.object);t.nametxt.text=s.name,o>=a.num&&(t.readlyimg.visible=!0,t.bugbtn.visible=!1,t.comitem.visible=!1);var l=a.cost.split(",");t.comitem.setIdAndText(l[0],l[1],"")}}t.bugbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.tapfun,t)},t.prototype.tapfun=function(e){var t=this,a=t.data;if(a){var i=a.num-a.buytime;if(i>0){var n=new ShopBuyViewOpenVO(a.id,1,i,shopbuy_type.dekaronshp);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,a.object],n)}}},t}(eui.ItemRenderer);__reflect(DekaronShopRender.prototype,"DekaronShopRender",["eui.UIComponent","egret.DisplayObject"]);var DekaronSweepRenderVO=function(){function e(){}return e}();__reflect(DekaronSweepRenderVO.prototype,"DekaronSweepRenderVO");var DekaronSweepRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.tiptxt.text="",e.tiptxt0.text="",t&&(e.awardlist.setDataArr(t.reward),t.isrest?(t.reward.length||(e.tiptxt0.text=t.typename),e.tiptxt.text=Language.ins.dekaron_tip34):(e.tiptxt0.text=Language.ins.dekaron_tip35,e.tiptxt.text=FormatString.format(Language.ins.dekaron_tip1,t.id)))},t}(eui.ItemRenderer);__reflect(DekaronSweepRender.prototype,"DekaronSweepRender",["eui.UIComponent","egret.DisplayObject"]);var FightAwardItemRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.coinimg.source=ResName.getMinItemIcon(t.itemid),e.cointxt.text=t.count},t}(eui.ItemRenderer);__reflect(FightAwardItemRender.prototype,"FightAwardItemRender",["eui.UIComponent","egret.DisplayObject"]);var FightDataRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.numA,i=t.numB,n="";t.islv&&(n="(%)",a=Math.round(100*a),i=Math.round(100*i)),e.nametxt.text=t.name+n,e.numtxt1.text=a.toFixed(0),e.numtxt2.text=i.toFixed(0);var o=a+i;o?e.scorebar.setValue(a,a+i):e.scorebar.setValue(1,2)},t}(eui.ItemRenderer);__reflect(FightDataRender.prototype,"FightDataRender",["eui.UIComponent","egret.DisplayObject"]);var FightEveIconVO=function(){function e(e,t,a){var i=this;i.type=e,i.num=t,i.lastvo=a}return e}();__reflect(FightEveIconVO.prototype,"FightEveIconVO");var FightEveIcon=function(e){function t(){var t=e.call(this)||this;return t._iscreat=!1,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;this._iscreat=!0,e.prototype.childrenCreated.call(this),t.evemask.visible=!1,t.showtxt.visible=!1,this.changedata()},t.prototype.setData=function(e){var t=this;t._data=e,t._iscreat&&t.changedata()},t.prototype.seteveName=function(e,t,a){var i=this;i._evename=e,i._evetype=t,i._ismy=a,i.changedata()},t.prototype.changedata=function(){var e=this;e._iscreat&&(e.eveMtxt.text=e._evename);var t=e._data,a="",i="player_icon_a";if(e.eveMpos.visible=!1,t){t.type;e.eveMnum.text=t.num;var n=t.lastvo;if(n){a=n.nameA,e.eveMpos.visible=!0,i=n.headpath,e.eveMid.text=n.tagnumA;var o=ColorUtil.getPlayerNameCol(n.qualityA);e.eveMname.textColor=o}e.eveMname.text=a}else e.eveMnum.text="0",e.eveMname.text=a,e.eveMpos.visible=!1;e.eveMicon.source=i},t.prototype.onHide=function(){var e=this,t=e.eveMG,a=e.evemask;egret.Tween.removeTweens(a),egret.Tween.removeTweens(t),egret.Tween.removeTweens(e.showtxt),e.showtxt.visible=!1,e.evemask.visible=!1},t.prototype.showGetOne=function(e,t){void 0===t&&(t=!0);var a=this,i=a.eveMG,n=a.evemask;egret.Tween.removeTweens(n),egret.Tween.removeTweens(i),i.scaleX=i.scaleY=1,t&&egret.Tween.get(i).to({scaleX:1.2,scaleY:1.2},100).to({scaleX:.8,scaleY:.8},60).to({scaleX:1,scaleY:1},60).call(a.showGetOneB,a);var o=a._data;o.num+=1,o.lastvo=e,a.changedata()},t.prototype.showGetOneB=function(){var e=this,t=e.evemask;egret.Tween.removeTweens(t),t.visible=!0,egret.Tween.get(t).wait(80).to({visible:!1}).wait(80).to({visible:!0}).wait(80).to({visible:!1})},t.prototype.showAddTxtMc=function(e){var t=this;t.showtxt.text="+"+e+"%";var a=11,i=-42;t.showtxt.y=a,egret.Tween.removeTweens(t.showtxt),t.showtxt.visible=!0,egret.Tween.get(t.showtxt).to({y:i},1e3)},t}(eui.Component);__reflect(FightEveIcon.prototype,"FightEveIcon",["eui.UIComponent","egret.DisplayObject"]);var FightEveRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.stealsG.visible=!1,e.skillG.visible=!1,e.tiptxt.text=Language.ins.fight_tip68,e.tiptxt2.text=Language.ins.fight_tip69,t){var a,i=utils.GameComUtil.getName(t.nameA,GlobalEnum.namelenN,!0),n=t.timestr,o=t.evetype,r=n.split(":"),s=r.length;s&&(n=r[0]+"'"),e.timetxt.text=n,t.headpath?e.headimg.source=t.headpath:e.headimg.source=ResName.player_icon,e.showidtxt.text=t.tagnumA,a=ColorUtil.getPlayerNameCol(t.qualityA);var l,p=i,c=t.infotype,u=FormatString.format(Language.ins.game_col,a,i);switch(t.isleft?(e.bgimg.source="tab_gjjq_d7",e.showbgimg.source="syls_13"):(e.bgimg.source="tab_gjjq_d8",e.showbgimg.source="syls_12"),o){case match_type.type_shoot:switch(c){case match_type.type_shoot:p=Language.ins.fight_tip40;break;case match_type.type_eveshootFree:p=Language.ins.fight_tip47;break;case match_type.type_eveshootPenalty:p=Language.ins.fight_tip48;break;case match_type.type_eveshootOut:p=Language.ins.fight_tip49;break;case match_type.type_eveshootOutFree:p=Language.ins.fight_tip50;break;case match_type.type_eveshootOutPenalty:p=Language.ins.fight_tip51}p=FormatString.format(p,u,t.score);break;case match_type.type_steals:if(a=ColorUtil.getSkillNameCol(t.qualityB),e.stealsG.visible=!0,t.nameB){var m=utils.GameComUtil.getName(t.nameB,GlobalEnum.namelenN,!0);l=FormatString.format(Language.ins.game_col,a,m),e.showidtxtB.text=t.tagnumB,e.nameBtxt.textFlow=utils.GameComUtil.getHtmlText(l),t.headpathB?e.headimgB.source=t.headpathB:e.headimgB.source=ResName.player_icon,t.isleft?e.showbgimgB.source="syls_12":e.showbgimgB.source="syls_13"}break;case match_type.type_skill:if(t.skillid){var g=GlobalConfig.getSkillVO(t.skillid);a=ColorUtil.getSkillNameCol(g.sclass),l=FormatString.format(Language.ins.game_col,a,g.sname);var _=Language.ins.fight_tip46;_=l+" "+Language.ins.game_lv_s+t.skilllv,e.skillicon.setitemdata(t.skillid,t.skilllv,!1,!1,!1,1),e.skillicon.setTip(!0),e.skillG.visible=!0,e.skilltxt.textFlow=utils.GameComUtil.getHtmlText(_)}break;case match_type.type_event:switch(c){case match_type.type_yellowcard:p=Language.ins.fight_tip41,p=FormatString.format(p,u);break;case match_type.type_redcard:p=Language.ins.fight_tip43,p=FormatString.format(p,u);break;case match_type.type_yellowredcard:p=Language.ins.fight_tip42,p=FormatString.format(p,u);break;case match_type.type_eventRescue:p=Language.ins.fight_tip45,p=FormatString.format(p,u);break;case match_type.type_eventCorner:p=Language.ins.fight_tip44,p=FormatString.format(p,u)}}e.nameAtxt.textFlow=utils.GameComUtil.getHtmlText(p)}},t}(eui.ItemRenderer);__reflect(FightEveRender.prototype,"FightEveRender",["eui.UIComponent","egret.DisplayObject"]);var FightHeroListRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-12),t.stargroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=0;if(e.weizhitxt.text="",t instanceof game.SResponsePlayer){var i=e.data;e.numtxt.text=i.number_tag,e.nametxt.text=utils.GameComUtil.getName(i.name,7),e.nametxt.textColor=ColorUtil.getPlayerNameCol(i.card_trait);var n=0;if(a=i.transform,i.position){n=GlobalConfig.getLocationrelation(i.position);var o=GlobalConfig.getLocationrelation(i.position)-1,r=Language.ins.degree_names[o];e.weizhitxt.text=r}e.posimg.source=ResName.getRankPlayerbg(n,!1),e.lvtxt.text=Language.ins.game_lv_s+i.level,e.classimg.source=ResName.getTraitPathMin(i.card_trait),e.zhanglitxt.text=Math.floor(i.fighting)+"",e.stargroup.setDataArr(i.stars,"tab_kjzx_e1")}else{e.numtxt.text=t.numberTag,e.nametxt.text=utils.GameComUtil.getName(t.name,7),e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.quality);var n=0;if(t.position){n=GlobalConfig.getLocationrelation(t.position);var o=GlobalConfig.getLocationrelation(t.position)-1,r=Language.ins.degree_names[o];e.weizhitxt.text=r}e.posimg.source=ResName.getRankPlayerbg(n,!1),e.lvtxt.text=Language.ins.game_lv_s+t.level,e.classimg.source=ResName.getTraitPathMin(t.quality),e.zhanglitxt.text=Math.floor(t.fighting)+"",e.stargroup.setDataArr(t.star,"tab_kjzx_e1")}e.bebornimg.source=ResName.getMinHeroRebornImg(a)},t}(eui.ItemRenderer);__reflect(FightHeroListRender.prototype,"FightHeroListRender",["eui.UIComponent","egret.DisplayObject"]);var FightOffLineListRenderVO=function(){function e(e){var t=this,a="",i=e;if(i.position){var n=GlobalConfig.getLocationrelation(i.position)-1;a=Language.ins.degree_names[n]}else a=Language.ins.degree_wait;t.logstr=a,t.playerid=i.playerid,t.name=i.name,t.level=i.level,t.card_trait=i.card_trait,t.transform=i.transform,t.stars=i.stars,t.position=i.position,t.oldlv=0/0,t.nowlv=0/0
}return e}();__reflect(FightOffLineListRenderVO.prototype,"FightOffLineListRenderVO");var FightOffLineListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=utils.GameComUtil.getName(t.name,7),e.postxt.text=t.logstr;var a=0;e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.card_trait),t.position&&(a=GlobalConfig.getLocationrelation(t.position)),e.lvtxt.text=Language.ins.game_lv_s+t.level,e.classimg.source=ResName.getTraitPathMin(t.card_trait),e.bebornimg.source=ResName.getMinHeroRebornImg(t.transform),e.stargroup.setDataArr(t.stars,"tab_kjzx_e1"),e.lvchange.visible=!1,e.jianimg.visible=!1,e.uplvchange.visible=!1;var i="(Max)",n="",o="",r=t.oldlv,s=t.nowlv;isNaN(r)||isNaN(s)?(e.lvchange.visible=!0,t.maxlv<=t.level?n=Language.ins.game_lv_s+t.level+i:(e.jianimg.visible=!0,e.uplvchange.visible=!0,n=Language.ins.game_lv_s+t.level,o=Language.ins.game_lv_s+t.level)):(e.lvchange.visible=!0,t.maxlv<=s?(e.jianimg.visible=!0,e.uplvchange.visible=!0,n=Language.ins.game_lv_s+r,o=Language.ins.game_lv_s+s+i):(e.jianimg.visible=!0,e.uplvchange.visible=!0,n=Language.ins.game_lv_s+r,o=Language.ins.game_lv_s+s)),e.lvchange.text=n,e.uplvchange.text=o},t}(eui.ItemRenderer);__reflect(FightOffLineListRender.prototype,"FightOffLineListRender",["eui.UIComponent","egret.DisplayObject"]);var FightOffLineRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t.addnum?e.viptxt.text="+"+t.addnum:e.viptxt.text="+0",t.addnum2?e.coachtxt.text="+"+t.addnum2:e.coachtxt.text="+0",e.minicon.setData(t,!0)},t}(eui.ItemRenderer);__reflect(FightOffLineRender.prototype,"FightOffLineRender",["eui.UIComponent","egret.DisplayObject"]);var FightPrewarStudyRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo;e.nametxt.text=a.tname+" Lv."+t.lv,e.chooseG.visible=t.ischoose;var i=a.tid%10,n=a.ttype==game.ComTacticsPorVO.ttype_act;switch(e.setimgVisible(e.jianL,!1),e.setimgVisible(e.jianR,!1),e.setimgVisible(e.jianC,!1),e.setimgVisible(e.qiangL,!1),e.setimgVisible(e.qiangR,!1),e.setimgVisible(e.qiangC,!1),e.setimgVisible(e.qiangT,!1),i){case GlobalEnum.studyAL:n?e.setimgVisible(e.jianL,!0):e.setimgVisible(e.qiangL,!0);break;case GlobalEnum.studyAR:n?e.setimgVisible(e.jianR,!0):e.setimgVisible(e.qiangR,!0);break;case GlobalEnum.studyAC:n?e.setimgVisible(e.jianC,!0):e.setimgVisible(e.qiangC,!0);break;case GlobalEnum.studyAT:n?(e.setimgVisible(e.jianL,!0),e.setimgVisible(e.jianR,!0)):e.setimgVisible(e.qiangT,!0)}},t.prototype.setimgVisible=function(e,t){var a=this;utils.GameComUtil.setVisibleHitPanel(e,a.jianG,t)},t}(eui.ItemRenderer);__reflect(FightPrewarStudyRender.prototype,"FightPrewarStudyRender",["eui.UIComponent","egret.DisplayObject"]);var FightResultRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){e.nametxt.text=utils.GameComUtil.getName(t.name,7),e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.quality);var a=0;if(t.location){a=GlobalConfig.getLocationrelation(t.location);var i=a-1,n=Language.ins.degree_names[i];e.weizhitxt.text=n}if(e.posimg.source=ResName.getRankPlayerbg(a,!1),e.scoretxt.text=t.score.toFixed(1),e.mvpimg.visible=!1,t.mvpTimes?(e.mvpimg.visible=!0,e.scoretxt.y=25):e.scoretxt.y=15,e.classimg.source=ResName.getTraitPathMin(t.quality),e.stargroup.setDataArr(t.star,"tab_kjzx_e1"),e.bebornimg.source=ResName.getMinHeroRebornImg(t.transform),t.addExp){var o=game.SResponsePlayer.getAddExpArr(parseFloat(t.exp),t.addExp,t.star,t.quality);e.skillbar.setTweenArr(o.exparr),e.lvtxt.text=Language.ins.game_lv_s+o.newlv,o.isfull?e.skillbar.showLabel(Language.ins.fight_tip14):e.skillbar.showLabel("+"+t.addExp)}else{var r=GlobalConfig.getPlayerExpVO(t.quality,t.star,t.level),s=parseFloat(t.exp)-r.minpexp;0>s&&(s=0),e.lvtxt.text=Language.ins.game_lv_s+t.level;var l=!1;r.prate||(l=!0),l?(e.skillbar.setValue(s,r.prate),e.skillbar.showLabel(Language.ins.fight_tip14)):(e.skillbar.setValue(s,r.prate),e.skillbar.showLabel(""))}}},t}(eui.ItemRenderer);__reflect(FightResultRender.prototype,"FightResultRender",["eui.UIComponent","egret.DisplayObject"]);var FightSkillAddRenderVO=function(){function e(){}return e}();__reflect(FightSkillAddRenderVO.prototype,"FightSkillAddRenderVO");var FightSkillAddRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.skillbar.ShowLabel=!0},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.playername,e.skilltxt.text=t.skillname,e.skilltiptxt.text=Language.ins.fight_tip71,e.addtxt.text="+"+t.addnum,e.gobtn.label=Language.ins.fight_tip72,e.skillbar.setValue(t.curnum,t.maxnum),utils.GameComUtil.setVisibleHitPanel(e.itemG0,e.comG,!1),utils.GameComUtil.setVisibleHitPanel(e.itemG1,e.comG,!1),t.curnum<t.maxnum?utils.GameComUtil.setVisibleHitPanel(e.itemG0,e.comG,!0):utils.GameComUtil.setVisibleHitPanel(e.itemG1,e.comG,!0),e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.card_trait),e.skilltxt.textColor=ColorUtil.getSkillNameCol(t.skillsclass),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.gobtn:var a=t.data,i=a.playerid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainskill],i)}},t}(eui.ItemRenderer);__reflect(FightSkillAddRender.prototype,"FightSkillAddRender",["eui.UIComponent","egret.DisplayObject"]);var FightSkillRenderVO=function(){function e(){}return e}();__reflect(FightSkillRenderVO.prototype,"FightSkillRenderVO");var FightSkillRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=e.itemIndex,i=t.playervo,n=t.skillvo;a%2==0?e.bgimg.visible=!0:e.bgimg.visible=!1,e.skilltxt.text=n.sname,e.skilltxt.textColor=ColorUtil.getSkillNameCol(n.sclass),e.nametxt.text=i.name,e.nametxt.textColor=ColorUtil.getPlayerNameCol(i.quality),e.numtxt.text=i.numberTag,e.skillicon.setitemdata(n.sid,t.skilllv,!1,!1,!1,i.star,i.playerId),e.skillicon.setTip(!0),t.nCount&&t.nCount>1?e.timetxt.text="x"+t.nCount:e.timetxt.text=""},t}(eui.ItemRenderer);__reflect(FightSkillRender.prototype,"FightSkillRender",["eui.UIComponent","egret.DisplayObject"]);var FightSkillRender2=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=e.itemIndex,i=t.playervo,n=t.skillvo;a%2==0?e.bgimg.visible=!0:e.bgimg.visible=!1,e.skilltxt.text=n.sname,e.skilltxt.textColor=ColorUtil.getSkillNameCol(n.sclass),e.nametxt.text=i.name,e.nametxt.textColor=ColorUtil.getPlayerNameCol(i.quality),e.numtxt.text=i.numberTag,e.skillicon.setitemdata(n.sid,t.skilllv,!1,!1,!1,i.star),e.skillicon.setTip(!0),t.nCount&&t.nCount>1?e.timetxt.text="x"+t.nCount:e.timetxt.text=""},t}(eui.ItemRenderer);__reflect(FightSkillRender2.prototype,"FightSkillRender2",["eui.UIComponent","egret.DisplayObject"]);var FightTeamRenderVO=function(){function e(){}return e}();__reflect(FightTeamRenderVO.prototype,"FightTeamRenderVO");var FightTeamRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.score;a=.1*Math.round(10*a);var i=ColorUtil.getPlayerNameCol(t.card_trait);e.nametxt.textColor=i,e.nametxt.text=t.name,e.scoretxt.text=a.toFixed(1).toString(),e.idtxt.text=t.id,t.ismy?e.idbg.source="syls_13":e.idbg.source="syls_12",e.idtxt.text=t.id,e.lvtxt.text=Language.ins.game_lv_s+t.level,e.classimg.source=ResName.getTraitPathMin(t.card_trait),e.stargroup.setDataArr(t.stars,"tab_kjzx_e1");var n=t.match_type;switch(e.redimg.visible=!1,e.yellowimg.visible=!1,n){case match_type.type_yellowcard:e.yellowimg.visible=!0;break;case match_type.type_redcard:e.redimg.visible=!0;break;case match_type.type_yellowredcard:e.redimg.visible=!0,e.yellowimg.visible=!0}},t}(eui.ItemRenderer);__reflect(FightTeamRender.prototype,"FightTeamRender",["eui.UIComponent","egret.DisplayObject"]);var SummaryIcon=function(e){function t(){var t=e.call(this)||this;return t._iscreat=!1,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){this._iscreat=!0,e.prototype.childrenCreated.call(this),this.changedata()},t.prototype.setData=function(e){var t=this;t._data=e,t._iscreat&&t.changedata()},t.prototype.changedata=function(){var e=this,t=e._data;if(t){var a=t.timestr,i=a.split(":"),n=i.length;n&&(a=i[0]+"'"),e.timetxt.text=a;t.nameA?e.nameAtxt.text=t.nameA:e.nameAtxt.text="",t.nameB?e.nameBtxt.text=t.nameB:e.nameBtxt.text="",t.iconpath?e.iconimg.source=t.iconpath:e.iconimg.source=null,t.headpath?e.headimg.source=t.headpath:e.headimg.source=null}},t}(eui.Component);__reflect(SummaryIcon.prototype,"SummaryIcon",["eui.UIComponent","egret.DisplayObject"]);var FriendAskRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.agreebtn.label=Language.ins.btn_agree,e.refusebtn.label=Language.ins.btn_refusal;var t=e.data;t&&(e.nametxt.text=t.name,e.lvtxt.text=t.level,e.zhanlitxt.text=t.fighting,e.logoimg.setLogoUrl(t.logo)),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.refusebtn:GlobalAllProxy.getInstance().friendProxy.NetUserFriendApplyAction(-1,a.fid);break;case t.agreebtn:GlobalAllProxy.getInstance().friendProxy.NetUserFriendApplyAction(1,a.fid);break;case t.bgimg:EventBus.sendMessage(game.GameCommands.FRIEND_CLICK_INFO,a)}},t}(eui.ItemRenderer);__reflect(FriendAskRender.prototype,"FriendAskRender",["eui.UIComponent","egret.DisplayObject"]);var FriendListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.gettipmcimg.visible=!1,t){e.nametxt.text=t.name,e.lvtxt.text=t.level,t.is_give?utils.GameUtil.setColorGrey(e.songbtn,!0):utils.GameUtil.setColorGrey(e.songbtn,!1),e.logoimg.setLogoUrl(t.logo);var a=GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt,i=ParamLoader.instance.ServerMaxHeart;t.is_exist_get&&i>a?t.is_get?utils.GameUtil.setColorGrey(e.getbtn,!0):(e.gettipmcimg.visible=!0,utils.GameUtil.setColorGrey(e.getbtn,!1)):utils.GameUtil.setColorGrey(e.getbtn,!0),e.zhanlitxt.text=t.fighting;var n="";if(t.lastLoginTime){var o=utils.GameComUtil.offlineTime(t.lastLoginTime);n=1>o?FormatString.format(Language.ins.friend_tip15,o):24>o?FormatString.format(Language.ins.friend_tip13,o):FormatString.format(Language.ins.friend_tip14,parseInt(""+o/24))}e.timetxt.text=Language.ins.friend_tip16+n+""}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.getbtnfun=function(){var e=this,t=e.data,a=GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt,i=ParamLoader.instance.ServerMaxHeart;if(t.is_exist_get&&i>a)t.is_get?FLOAT.NShowPutong([Language.ins.friend_tip8]):GlobalAllProxy.getInstance().friendProxy.NetUserFriendGetLove(t.fid);else if(t.is_exist_get){var n=FormatString.format(Language.ins.friend_tip6,i);FLOAT.NShowPutong([n])}else FLOAT.NShowPutong([Language.ins.friend_tip7])},t.prototype.setsongbtnfun=function(){var e=this,t=e.data;t.is_give?FLOAT.NShowPutong([Language.ins.friend_tip9]):GlobalAllProxy.getInstance().friendProxy.NetUserFriendGiveLove(t.fid)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_friend],a.fid);break;case t.getbtn:t.getbtnfun();break;case t.songbtn:t.setsongbtnfun();break;case t.bgimg:EventBus.sendMessage(game.GameCommands.FRIEND_CLICK_INFO,a)}},t}(eui.ItemRenderer);__reflect(FriendListRender.prototype,"FriendListRender",["eui.UIComponent","egret.DisplayObject"]);var FriendLookUpRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.addbtn.label=Language.ins.btn_add_friend,t&&(e.nametxt.text=t.name,e.lvtxt.text=t.level,e.zhanlitxt.text=t.fighting,e.logoimg.setLogoUrl(t.logo),e.reallyG.visible=!1,e.addbtn.visible=!1,t.apply?(e.reallyG.visible=!0,e.tiptxt.text=Language.ins.friend_tip5):(e.addbtn.visible=!0,e.addbtn.label=Language.ins.friend_tip1)),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.addbtn:GlobalAllProxy.getInstance().friendProxy.NetUserFriendAdd(a.fid);break;case t.bgimg:EventBus.sendMessage(game.GameCommands.FRIEND_CLICK_INFO,a)}},t}(eui.ItemRenderer);__reflect(FriendLookUpRender.prototype,"FriendLookUpRender",["eui.UIComponent","egret.DisplayObject"]);var FriendShipChoose=function(e){function t(){var a=e.call(this)||this;a._iscreat=!1;var i=a;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=i,a.skinName=FriendShipChooseSkin,i.bottom=0,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata()},t.prototype.setData=function(e){var t=this;t._data=e,t._iscreat&&t.changedata()},t.prototype.changedata=function(){var e=this;e.initAddEvent();var t=GlobalAllProxy.getInstance().fightProxy.friendshipData,a=e._data;t&&a&&(e.lookbtn.label=Language.ins.btn_ship_look,e.fightbtn.label=FormatString.format(Language.ins.btn_ship_fight,t.free_threat),e.changebtn.label=FormatString.format(Language.ins.btn_ship_change,t.free_refresh),e.fightbtn.enabled=!1,e.changebtn.enabled=!1,a.frienddata.result==SFriendOpponents.state_init?(e.changebtn.enabled=!0,e.fightbtn.enabled=!0):a.frienddata.result==SFriendOpponents.state_def&&(e.fightbtn.enabled=!0,e.changebtn.enabled=!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=(PanelDM.getIns(),t._data),n=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(i&&n)switch(a){case t.lookbtn:FLOAT.NShowPutong([Language.ins.no_finish]);break;case t.fightbtn:if(-1==i.frienddata.result)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvf,i.frienddata.fid,!0));else if(0==i.frienddata.result)if(n.free_threat)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvf,i.frienddata.fid,!0));else{var o=ParamLoader.instance.Serverfriendchallenge,r=o.length;if(n.buy_chance_num<r){var s=o[n.buy_chance_num],l=new AlertVO;l.info=Language.ins.friend_ship_tip5,l.showCancel=!0,l.tipbl=!0,l.tipstr=Language.ins.fight_tip4,l.tipitemid=GlobalEnum.itemid_ug,l.tipcostid=ug_cost_type.fight_ship_again,l.tipitemnum=s,JAlert.show(l,Language.ins.title_buyshiptime,t.buyshipFightTime,t)}else FLOAT.NShowPutong([Language.ins.friend_ship_tip6])}break;case t.changebtn:if(n.free_refresh)GlobalAllProxy.getInstance().fightProxy.NetfriendchangeRequest(i.frienddata.fid,0);else{var o=ParamLoader.instance.Serverfriendrefresh,r=o.length;if(n.refresh<r){var s=o[n.refresh],l=new AlertVO;l.info=Language.ins.friend_ship_tip3,l.showCancel=!0,l.tipbl=!0,l.tipstr=Language.ins.fight_tip4,l.tipitemid=GlobalEnum.itemid_ug,l.tipcostid=ug_cost_type.fight_ship_change,l.tipitemnum=s,JAlert.show(l,Language.ins.title_reshopp,t.reshOpp,t)}else FLOAT.NShowPutong([Language.ins.friend_ship_tip4])}}},t.prototype.reshOpp=function(){var e=this,t=e._data;GlobalAllProxy.getInstance().fightProxy.NetfriendchangeRequest(t.frienddata.fid,1)},t.prototype.buyshipFightTime=function(){var e=this,t=e._data;GlobalAllProxy.getInstance().fightProxy.NetfriendbuychanceRequest(t.frienddata.fid)},t.SINGLETON_MSG="FriendShipChoose Singleton already constructed!",t}(eui.Component);__reflect(FriendShipChoose.prototype,"FriendShipChoose",["eui.UIComponent","egret.DisplayObject"]);var FriendShipPlayerVO=function(){function e(e,t,a,i){this.indexX=e,this.indexY=t,this.frienddata=a,this.isplaymc=i}return e}();__reflect(FriendShipPlayerVO.prototype,"FriendShipPlayerVO");var FriendShipReshVO=function(){function e(){}return e}();__reflect(FriendShipReshVO.prototype,"FriendShipReshVO");var FriendShipPlayer=function(e){function t(){var t=e.call(this)||this;return t._iscreat=!1,t.m_choose=!1,t.skinName=FriendShipPlayerSkin,t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata(),t.height=t.infoG.height,t.winicon.visible=!1,t.setChoose(!1)},t.prototype.setData=function(e,t){var a=this;t&&(a.old_data=a._data),a._data=e,a.m_blresh=t,a._iscreat&&a.changedata()},t.prototype.setChoose=function(e){var t=this;t.m_choose=e,t.height=t.infoG.height,t.chooseimg.visible=e,e?(t.clearTween(),t.chooseimg.alpha=1,egret.Tween.get(t.chooseimg,{loop:!0}).to({alpha:.3},600).to({alpha:1},600)):t.clearTween()},t.prototype.clearTween=function(){var e=this;e.chooseimg&&egret.Tween.removeTweens(e.chooseimg)},t.prototype.onHide=function(){var e=this;e.clearTween(),e.infoG&&(egret.Tween.removeTweens(e.infoG),e.infoG.scaleX=1),e.m_choose=!1,e._data=null,e.old_data=null},t.prototype.showanimo=function(){var e=this;e.m_blresh=!1;var t=e.infoG;egret.Tween.removeTweens(t),t.scaleX=1,egret.Tween.get(t).to({scaleX:0},200).call(e.changedata,e).to({scaleX:1},200)},t.prototype.changedata=function(){var e=this;if(e.m_blresh)return void e.showanimo();var t=e._data;if(t){var a=t.indexY;0==a?e.kuangimg.source="tab_jjsq_a8":1==a?e.kuangimg.source="tab_jjsq_a9":2==a?e.kuangimg.source="tab_jjsq_b1":e.kuangimg.source="tab_jjsq_b2";var i=t.frienddata;e.logoimg.source="sjdh_tu_1",e.logoimg.setLogoUrl(i.logo),e.nametxt.text=i.name,e.figthtxt.text=i.fighting;var n=i.result;e.winicon.visible=!1;var o,r=e.bgimgG;-1==n?utils.GameUtil.setColorBrightness(r,0,!1):0==n?(o=e.winicon,e.winicon.source="tab_xzs_f7",e.winicon.visible=!0,utils.GameUtil.setColorBrightness(r,-50,!0)):(o=e.winicon,e.winicon.source="tab_xzs_f6",e.winicon.visible=!0,utils.GameUtil.setColorBrightness(r,-50,!0)),e.setChoose(e.m_choose),o&&(t.isplaymc?(t.isplaymc=!1,egret.Tween.get(o).to({alpha:0,scaleX:2,scaleY:2}).wait(500).to({alpha:1,scaleX:.8,scaleY:.8},300).to({alpha:1,scaleX:1,scaleY:1},100)):(o.alpha=1,o.scaleX=1,o.scaleY=1,egret.Tween.removeTweens(o)))}},t}(eui.Component);__reflect(FriendShipPlayer.prototype,"FriendShipPlayer",["eui.UIComponent","egret.DisplayObject"]);var GuildApplyRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=GlobalConfig.getguildVO(t.level);e.nametxt.text=t.name,e.numtxt.text=FormatString.format(Language.ins.guild_tip6,t.memberCnt,a.num),e.lvtxt.text=t.level,e.gongxiantxt.text=t.threeDaysContribution,0==t.status?(e.addbtn.label=Language.ins.guild_tip11,e.addbtn.enabled=!0):1==t.status?(e.addbtn.label=Language.ins.guild_tip12,e.addbtn.enabled=!1):(e.addbtn.label=Language.ins.guild_tip13,e.addbtn.enabled=!1)}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_info],a);break;case t.addbtn:0==a.status&&(a.status=1);var i=BufRequests.Guild_ApplyGuild;GlobalAllProxy.getInstance().guildProxy.GuildCommonRequest(i,1,a.guildId,"0")}},t}(eui.ItemRenderer);__reflect(GuildApplyRender.prototype,"GuildApplyRender",["eui.UIComponent","egret.DisplayObject"]);var GuildApprovalRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nobtn.label=Language.ins.btn_refusal,e.addbtn.label=Language.ins.btn_agree,t&&(e.nametxt.text=t.name,e.numtxt.text=t.fighting,e.lvtxt.text=t.level,e.logoimg.setLogoUrl(t.logo)),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data,i=GlobalAllProxy.getInstance().guildProxy.Guild.data;switch(e.target){case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.uid);break;case t.addbtn:GlobalAllProxy.getInstance().guildProxy.NetGuildReplyRequest(0,i.guildId,a.uid);break;case t.nobtn:GlobalAllProxy.getInstance().guildProxy.NetGuildReplyRequest(1,i.guildId,a.uid)}},t}(eui.ItemRenderer);__reflect(GuildApprovalRender.prototype,"GuildApprovalRender",["eui.UIComponent","egret.DisplayObject"]);var GuildListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=Language.ins.guild_namearr,i="";a.length&&(i=a[0]),e.positiontxt.text=i,e.nametxt.text=t.name,e.lvtxt.text=t.level,e.gongtxt.text=t.threeDayContribution,e.zhantxt.text=t.fighting,e.allgongtxt.text=t.totalContribution,e.logoimg.setLogoUrl(t.logo),0==t.position?(e.positiontxt.visible=!0,e.positionimg.visible=!1):1==t.position?(e.positiontxt.visible=!1,e.positionimg.visible=!0,e.positionimg.source="tab_gh_f6"):2==t.position&&(e.positiontxt.visible=!1,e.positionimg.visible=!0,e.positionimg.source="tab_gh_f5"),0==t.general?e.icon0.visible=!1:1==t.general&&(e.icon0.visible=!0),0==t.magnate?e.icon1.visible=!1:1==t.magnate&&(e.icon1.visible=!0)}},t}(eui.ItemRenderer);__reflect(GuildListRender.prototype,"GuildListRender",["eui.UIComponent","egret.DisplayObject"]);var GuildLogRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.infotxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins["guildlog"+t.type],t.subjectName,t.objectName)),e.timetxt.textFlow=utils.GameComUtil.getHtmlText(utils.GameComUtil.getTime1Str(1e3*t.timestamp)))},t}(eui.ItemRenderer);__reflect(GuildLogRender.prototype,"GuildLogRender",["eui.UIComponent","egret.DisplayObject"]);var GuildRankRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.nametxt.text=t.name,e.lvtxt.text=t.level,e.gongtxt.text=t.threeDaysContribution,e.zhantxt.text=t.totalFighting,e.rankicon.visible=!0,e.tiptxt.visible=!1,e.tiptxt.text=t.rankId,1==t.rankId?e.rankicon.source="tab_jjsn_d7":2==t.rankId?e.rankicon.source="tab_jjsn_d8":3==t.rankId?e.rankicon.source="tab_jjsn_d9":(e.rankicon.visible=!1,e.tiptxt.visible=!0))},t}(eui.ItemRenderer);__reflect(GuildRankRender.prototype,"GuildRankRender",["eui.UIComponent","egret.DisplayObject"]);var GuildRedBaoListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.isgettxt.text=Language.ins.guild_tip44,t&&(e.numtxt.text=t.totalMoney,1==t.whetherReceive?e.isgettxt.visible=!0:e.isgettxt.visible=!1)},t}(eui.ItemRenderer);__reflect(GuildRedBaoListRender.prototype,"GuildRedBaoListRender",["eui.UIComponent","egret.DisplayObject"]);var GuildRedBaoRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.nametxt.text=t.name,e.timetxt.text=utils.GameComUtil.getTime1Str(1e3*t.time),e.numtxt.text="X"+t.money,t.isover?e.maximg.visible=1==t.high?!0:!1:e.maximg.visible=!1,e.logoimg.setLogoUrl(t.logo))},t}(eui.ItemRenderer);__reflect(GuildRedBaoRender.prototype,"GuildRedBaoRender",["eui.UIComponent","egret.DisplayObject"]);var DragonListFormaRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;this.nametxt.text=t.toString()},t}(eui.ItemRenderer);__reflect(DragonListFormaRender.prototype,"DragonListFormaRender",["eui.UIComponent","egret.DisplayObject"]);var DragonListHeroRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;this.nametxt.text=t.toString()},t}(eui.ItemRenderer);__reflect(DragonListHeroRender.prototype,"DragonListHeroRender",["eui.UIComponent","egret.DisplayObject"]);var HeroChangeRenderVO=function(){function e(){}return e}();__reflect(HeroChangeRenderVO.prototype,"HeroChangeRenderVO");var HeroChangeRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.degreeG.setGroupAlign(egret.HorizontalAlign.CENTER),t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t;t&&(e.zhanlitxt.text=Math.round(a.rankzhanli),e.classimg.source=ResName.getTraitPathMin(a.card_trait),e.lvtxt.text=Language.ins.game_lv_s+a.level,e.nametxt.text=utils.GameComUtil.getName(a.name,5,!0),e.nametxt.textColor=ColorUtil.getPlayerNameCol(a.card_trait),e.degreeG.setDataArr(a.getlogArr()),e.stargroup.setDataArr(a.stars,"tab_kjzx_e1"),e.bebornimg.source=ResName.getMinHeroRebornImg(a.transform))},t}(eui.ItemRenderer);__reflect(HeroChangeRender.prototype,"HeroChangeRender",["eui.UIComponent","egret.DisplayObject"]);var HeroDegree=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=HeroDegreeSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e){var t=this;t.lognum=e,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this;if(e.lognum){var t=Language.ins.degree_names,a=e.lognum-1,i=t[a];e.imgbg.source=ResName.getRankPlayerbg(e.lognum,!0),e.txtitem.text=i}else e.txtitem.text=""},t}(eui.Component);__reflect(HeroDegree.prototype,"HeroDegree");var HeroDegree2=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=HeroDegree2Skin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e){var t=this;t.lognum=e,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this;if(e.lognum){var t=Language.ins.degree_names,a=e.lognum-1,i=t[a];e.imgbg.source=ResName.getRankPlayerbg(e.lognum,!0,!0),e.txtitem.text=i}else e.txtitem.text=""},t}(eui.Component);__reflect(HeroDegree2.prototype,"HeroDegree2");var HeroFetterRenderVO=function(){function e(){}return e}();__reflect(HeroFetterRenderVO.prototype,"HeroFetterRenderVO");var HeroFetterRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=0,i=0;t.addstr&&(a=t.addstr/100,a=parseFloat(a.toFixed(1))),t.numstr&&(i=t.numstr/100,i=parseFloat(i.toFixed(1)));var n=t.iscom,o="",r="";e.titletxt.text=t.titlestr,e.setRelatoinDataA(t.listarr);var s;n?(i&&(s=FormatString.format(Language.ins.game_col,ColorUtil.green,"+"+i+"%"),o=FormatString.format(Language.ins.hero_tip25,s),o=FormatString.format(Language.ins.game_col,ColorUtil.white,o)),s=PFAll.isNowPF([Global.severNE_japan])?FormatString.format(Language.ins.hero_tip26,a+"%"):FormatString.format(Language.ins.hero_tip26,"+"+a+"%"),r=FormatString.format(Language.ins.game_col,ColorUtil.green,s)):(o=FormatString.format(Language.ins.hero_tip25,"+"+i+"%"),o=FormatString.format(Language.ins.game_col,ColorUtil.white,o)),e.numtxt.textFlow=utils.GameComUtil.getHtmlText(o),e.addtxt.textFlow=utils.GameComUtil.getHtmlText(r),t.iscom?e.bgimg1.source="tab_jb_a3":e.bgimg1.source="tab_jb_a9"}},t.prototype.setRelatoinDataA=function(e){var t=this,a=e,i=t.datalist;
i.itemRenderer?i.dataProvider&&(i.dataProvider.source=a):(i.itemRenderer=HeroPartnerRender,i.dataProvider=new eui.ArrayCollection(a))},t}(eui.ItemRenderer);__reflect(HeroFetterRender.prototype,"HeroFetterRender",["eui.UIComponent","egret.DisplayObject"]);var HeroFormaRanderVO=function(){function e(e,t){this.fid=e,this.name=t}return e}();__reflect(HeroFormaRanderVO.prototype,"HeroFormaRanderVO");var HeroFormaRander=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name},t.prototype.toggleChangeHandler=function(e){},t}(eui.ItemRenderer);__reflect(HeroFormaRander.prototype,"HeroFormaRander",["eui.UIComponent","egret.DisplayObject"]);var HeroFormation1RenderVO1=function(){function e(e,t){this.fid=e,this.name=t}return e}();__reflect(HeroFormation1RenderVO1.prototype,"HeroFormation1RenderVO1");var HeroFormation1Render=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return this.selectimg.visible=this.selected,this.selectimg1.visible=this.selected,e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.formaimg.source="tab_zs_e"+t.vo.icon;var a=GlobalAllProxy.getInstance().playerProxy.tacticsData.getFormeLevel(t.fid);e.nametxt.text=t.vo.name+" Lv."+a;var i=t.vo,n=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();i.unlocklv<=n?(e.lockG.visible=!1,e.infogp.alpha=1):(e.lockG.visible=!0,e.infogp.alpha=.8),e.locktxt.text=Language.ins.name_tactics+i.unlocklv+Language.ins.level_opening+""},t}(eui.ItemRenderer);__reflect(HeroFormation1Render.prototype,"HeroFormation1Render",["eui.UIComponent","egret.DisplayObject"]);var HeroFormationRanderVO1=function(){function e(e,t){this.fid=e,this.name=t}return e}();__reflect(HeroFormationRanderVO1.prototype,"HeroFormationRanderVO1");var HeroFormationRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return this.selectimg.visible=this.selected,this.selectimg1.visible=this.selected,e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.formaimg.source="tab_zs_e"+t.vo.icon,e.nametxt.text=""+t.vo.name;var a=t.vo,i=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();a.unlocklv<=i?(e.lockG.visible=!1,e.infogp.alpha=1):(e.lockG.visible=!0,e.infogp.alpha=.8),e.locktxt.text=Language.ins.name_tactics+a.unlocklv+Language.ins.level_opening+""},t}(eui.ItemRenderer);__reflect(HeroFormationRender.prototype,"HeroFormationRender",["eui.UIComponent","egret.DisplayObject"]);var HeroGroomInfo=function(e){function t(){var a=e.call(this)||this;a._iscreat=!1,a.m_blevent=!0;var i=a;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=i,a.skinName=HeroGroomInfoSkin,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata()},t.prototype.setData=function(e){var t=this;t.m_paneldata=e;var a=160,i=e.ssrplayerArr,n=e.srplayerArr,o=422+(Math.ceil(i.length/5)-1)*a+(Math.ceil(n.length/5)-1)*a;return t._iscreat&&t.changedata(),o},t.prototype.changedata=function(){var e=this;e.m_blevent&&(e.m_blevent=!1,e.initAddEvent());var t=e.m_paneldata;if(e.ssrnumtxt.text="",e.srnumtxt.text="",t){var a,i,n=[],o=t.ssrplayerArr;for(a=0,i=o.length;i>a;a++)n.push(o[a]);e.showDataA(n,!1),n=[];var r=t.srplayerArr;for(a=0,i=r.length;i>a;a++)n.push(r[a]);var s=o.length?!0:!1;utils.GameComUtil.setVisibleHitPanel(e.relationinfoG0,e.relationInfoG,s);var l=r.length?!0:!1;utils.GameComUtil.setVisibleHitPanel(e.relationinfoG1,e.relationInfoG,l),e.showDataB(n,!1),e.ssrnumtxt.text="("+t.ssrcur+"/"+t.ssrall+")",e.srnumtxt.text="("+t.srcur+"/"+t.srall+")"}},t.prototype.initAddEvent=function(){var e=this;e.datalist0.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist0.selectedItem;if(a instanceof HeroPokedexRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(a.islock)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0));else if(2==a.isown){var r=GlobalConfig.getItemIdForPlayerId(i.playerid);if(r){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,r.objectid,null,!1,!0))}}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0));t.datalist0.selectedIndex=-1}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist1.selectedItem;if(a instanceof HeroPokedexRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(a.islock)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0));else if(2==a.isown){var r=GlobalConfig.getItemIdForPlayerId(i.playerid);if(r){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,r.objectid,null,!1,!0))}}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0));t.datalist1.selectedIndex=-1}},t.prototype.removeAddEvent=function(){var e=this;e.m_blevent=!0,e.datalist0.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.eventchange=function(e,t){},t.prototype.touchTapFun=function(e){},t.prototype.onHide=function(e){var t=this;t.parent&&t.parent.removeChild(t),t.m_paneldata=null,t.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist0),utils.GameComUtil.removeListData(this.datalist1)},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalist0;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroPokedexRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist1;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroPokedexRender,n.dataProvider=new eui.ArrayCollection(i))},t.SINGLETON_MSG="HeroGroomInfo Singleton already constructed!",t}(eui.Component);__reflect(HeroGroomInfo.prototype,"HeroGroomInfo",["eui.UIComponent","egret.DisplayObject"]);var HeroGroomRenderVO=function(){function e(){}return e}();__reflect(HeroGroomRenderVO.prototype,"HeroGroomRenderVO");var HeroGroomRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo;if(e.bgimg.source=a.picture,e.ssrnumtxt.text="("+t.ssrcur+"/"+t.ssrall+")",e.srnumtxt.text="("+t.srcur+"/"+t.srall+")",e.fettergettxt.text=t.fheronum+"/"+t.fheroall,e.fetteruptxt.text=t.fnum+"/"+t.fall,e.height=142,e.infoG.height=0,t.ischoose){var i=HeroGroomInfo.getInstance(),n=i.setData(t);e.height=n+142,e.infoG.addChild(i),e.infoG.height=n}else e.infoG.removeChildren();e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.bgG:EventBus.sendMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,a.id)}},t}(eui.ItemRenderer);__reflect(HeroGroomRender.prototype,"HeroGroomRender",["eui.UIComponent","egret.DisplayObject"]);var HeroHeadIcon=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this;t.iscreat=!0,t.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT,egret.VerticalAlign.BOTTOM),t.stargroup.setGroupGap(-10),t.stargroup.setHorizontal(!1),t.degreeG.setGroupAlign(egret.HorizontalAlign.LEFT,egret.VerticalAlign.TOP),t.degreeG.ismin=!0,t.degreeG.setHorizontal(!1),t.showchange()},t.prototype.setData=function(e,t){void 0===t&&(t=!0);var a=this;a.m_data=e,a.m_isshowreborn=t,this.iscreat&&this.showchange()},t.prototype.getHeroID=function(){var e,t,a=0,i=this,n=i.m_data;return n instanceof game.SResponsePlayer?(t=n,a=t.playerid):n instanceof game.ComPlayerPorpertyVO&&(e=n,a=e.playerid),a},t.prototype.showchange=function(){var e=this,t=e.m_data,a=e.m_isshowreborn;e.degreeG.ismin=!0;var i,n,o;if(e.isgetimg.visible=!1,t){e.numbg.visible=!1,e.numtxt.visible=!1,e.rebornimg.visible=!1;var r;if(t instanceof game.SResponsePlayer){var s=t;r=GlobalConfig.getPlayerPorpertyVO(s.playerid),i=s.stars,n=s.number_tag.toString(),o=s.card_trait,e.numbg.visible=!0,e.numtxt.visible=!0,e.nametxt.text=s.name,e.degreeG.setDataArr(s.getlogArr()),s.transform&&a&&(e.rebornimg.visible=!0,e.rebornimg.source=ResName.getHeroRebornImg(s.transform))}else t instanceof game.ComPlayerPorpertyVO&&(r=t,i=r.pstar,n=0,o=r["class"],e.nametxt.text=r.name,e.degreeG.setDataArr([r.location]));r&&(e.headimg.source="tab_man_a1",e.headimg.source=ResName.getPlayerIcon(r.picon)),e.stargroup.setDataArr(i),parseInt(n)?(e.numtxt.visible=!0,e.numbg.visible=!0):(e.numtxt.visible=!1,e.numbg.visible=!1),e.numtxt.text=n,e.pingimg.source=ResName.getNewTraitPath(o),e.bgimg.source=ResName.getNewTraitBgImg(o);var l=ResName.getNewTraitstrokeCol(o);e.nametxt.strokeColor=l,e.degreeG.visible=!0,e.stargroup.visible=!0,e.starbgimg.visible=!0}else o=playertrait.trait_SSR,e.numbg.visible=!1,e.numtxt.visible=!1,e.rebornimg.visible=!1,e.nametxt.text="",e.stargroup.visible=!1,e.degreeG.visible=!1,e.starbgimg.visible=!1,e.pingimg.source=ResName.getNewTraitPath(o),e.bgimg.source=ResName.getNewTraitBgImg(o)},t.prototype.showIsGet=function(){var e,t=this,a=t.m_data;if(t.isgetimg.visible=!1,a){var i=a;if(e=GlobalConfig.getPlayerPorpertyVO(i.playerid)){for(var n=e.refetter.split(";"),o=GlobalAllProxy.getInstance().playerProxy.getUpPlayer(),r=0,s=o.length;s>r;r++){var l=GlobalConfig.getPlayerPorpertyVO(o[r].playerid);if(+l.repartner==e.playerid){t.isgetimg.visible=!0,t.isgetimg.source="tab_zm_j6";break}for(var p=0,c=n.length;c>p;p++)if(+n[p]==o[r].playerid){t.isgetimg.visible=!0,t.isgetimg.source="tab_zm_j6";break}}for(var u=GlobalAllProxy.getInstance().playerProxy.playerArr,r=0,s=u.length;s>r;r++)if(u[r].playerid==e.playerid){t.isgetimg.visible=!0,t.isgetimg.source="tab_zm_j5";break}for(var m=GlobalAllProxy.getInstance().playerProxy.getOwnBackCarPlayerIds(),r=0,s=m.length;s>r;r++)if(m[r]==e.playerid){t.isgetimg.visible=!0,t.isgetimg.source="tab_zm_j5";break}}}},t.prototype.getCopyImg=function(){var e,t,a=this,i=new egret.RenderTexture,n=a;return e=n.width,t=n.height,i.drawToTexture(n,new egret.Rectangle(0,0,e,t)),i},t}(eui.Component);__reflect(HeroHeadIcon.prototype,"HeroHeadIcon");var HeroIcon=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=HeroIconSkin,t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e){var t=this;t.playerVO=e,this.iscreat&&this.showchange()},t.prototype.getPlayerId=function(){var e=0;return this.playerVO&&(e=this.playerVO.playerid),e},t.prototype.showchange=function(){var e=this,t=e.playerVO;if(e.warnimg.visible=!1,t){var a=GlobalConfig.getLocationrelation(t.position),i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.playerid);if(!i.islognumIn(a)){e.warnimg.visible=!0;var n=GlobalConfig.getLocationexpandVO(a);n.isLogIn(t.location)?(e.warnimg.source="tab_zx_e4",e.warnimg.x=-18):(e.warnimg.source="tab_zx_h5",e.warnimg.x=18)}var o=Language.ins.degree_names,r=a-1,s=o[r];e.imgbg.source=ResName.getRankPlayerbg(a,!0),e.txtitem.text=s,e.heroiconinfo.setData(i),e.alpha=1}else e.alpha=.6,e.txtitem.text=""},t}(eui.Component);__reflect(HeroIcon.prototype,"HeroIcon");var HeroListChooseRenderVO=function(){function e(e,t){this.fid=e,this.name=t}return e}();__reflect(HeroListChooseRenderVO.prototype,"HeroListChooseRenderVO");var HeroListChooseRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.curformatxt.text=t.name},t.prototype.toggleChangeHandler=function(e){},t}(eui.ItemRenderer);__reflect(HeroListChooseRender.prototype,"HeroListChooseRender",["eui.UIComponent","egret.DisplayObject"]);var HeroListRenderVO=function(){function e(e,t){var a=this;a.vo=t,a.type=e;var i,n,o="";if(t instanceof game.SResponsePlayer){if(i=t,i.position){var r=GlobalConfig.getLocationrelation(i.position)-1;o=Language.ins.degree_names[r],a.isforma=1}else o=Language.ins.degree_wait,a.isforma=0;a.position=i.position,a.number_tag=i.number_tag,a.card_trait=i.card_trait,a.stars=i.stars,a.level=i.level,a.rankzhanli=i.rankzhanli,a.ranksellnum=i.ranksellnum,a.playerid=i.playerid,a.logstr=o}else n=t,a.position=n.location,a.card_trait=n["class"],a.stars=1,a.level=1,a.playerid=n.playerid}return e.type_0=0,e.type_1=1,e}();__reflect(HeroListRenderVO.prototype,"HeroListRenderVO");var HeroListRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.CENTER),t.degreeG.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data;switch(utils.GameComUtil.setVisibleHitPanel(e.itemG0,null,!1),utils.GameComUtil.setVisibleHitPanel(e.itemG1,null,!1),e.signbtn.label=Language.ins.btn_sign,t.type){case HeroListRenderVO.type_0:var a=t.vo;e.numtxt.text=a.number_tag,e.nametxt.text=utils.GameComUtil.getName(a.name,7),e.posimg0.visible=!1;var i=0;if(e.nametxt.textColor=ColorUtil.getPlayerNameCol(a.card_trait),a.position)i=GlobalConfig.getLocationrelation(a.position),e.weizhitxt.text=t.logstr,e.bgimg.source="tab_ph_a6",e.jibanimg.visible=!1;else{i=GlobalConfig.getPlayerPorpertyVO(t.playerid).location,e.posimg0.visible=!0,e.weizhitxt.text=Language.ins.degree_names[i-1],e.bgimg.source="tab_ph_b7",e.jibanimg.visible=!1;for(var n=GlobalConfig.getPlayerPorpertyVO(t.playerid),o=n.refetter.split(";"),r=GlobalAllProxy.getInstance().playerProxy.getUpPlayer(),s=0,l=r.length;l>s;s++)for(var p=0,c=o.length;c>p;p++)if(+o[p]==r[s].playerid){e.jibanimg.visible=!0;break}}e.posimg.source=ResName.getRankPlayerbg(i,!1),utils.GameComUtil.setVisibleHitPanel(e.itemG0,null,!0),e.lvtxt.text=Language.ins.game_lv_s+a.level,e.classimg.source=ResName.getTraitPathMin(a.card_trait),e.zhanglitxt.text=Math.round(a.rankzhanli),e.stargroup.setDataArr(a.stars,"tab_kjzx_e1"),e.bebornimg.source=ResName.getMinHeroRebornImg(a.transform);break;case HeroListRenderVO.type_1:var u=t.vo;utils.GameComUtil.setVisibleHitPanel(e.itemG1,null,!0),e.degreeG.setDataArr([u.location]),e.nametxt1.text=u.name,e.signnum.text=u.money,e.classimg1.source=ResName.getNewTraitPath(u["class"])}e.showTipOtherHeroFetter(t.istipmc)},t.prototype.showTipOtherHeroFetter=function(e){var t=this,a=e,i=t.comG,n="tipmccomG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.comG.addChild(t[n]),t[n].visible=a)},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;switch(e.target){case t.signbtn:var i=a.vo;if(i){var n=i.playerid,o=GlobalConfig.getItemIdForPlayerId(n);if(o){var r=GlobalAllProxy.getInstance().backpackProxy.getItemCount(o.objectid);if(r){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,o.objectid,null,!1,!0))}}}}},t}(eui.ItemRenderer);__reflect(HeroListRender.prototype,"HeroListRender",["eui.UIComponent","egret.DisplayObject"]);var HeroPartnerRenderVO=function(){function e(){this.addstr=0/0,this.star=0,this.card_trait=0,this.transform=0,this.iscom=0}return e}();__reflect(HeroPartnerRenderVO.prototype,"HeroPartnerRenderVO");var HeroPartnerRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.ownG.visible=!1,e.clickG.visible=!1,e.heromask.visible=!1,e.bgimg.visible=!1,e.clickbg0.visible=!1,e.clickbg.visible=!1;var a,i,n,o=t.isfettertip;if(t){e.heroicon.setData(t.vo),i=ColorUtil.white;var r=0/0;isNaN(t.addstr)||(r=t.addstr/100,r=parseFloat(r.toFixed(1))),utils.GameUtil.setColorGrey(e.heroicon,!1),t.isown?1==t.isown?isNaN(r)?(n=ResName.getHeroTraitBgImg(t.vo["class"]),e.bgimg.visible=!0):t.iscom&&(e.ownG.visible=!0,i=65024,a="+"+r+"%"):2==t.isown?(e.heromask.visible=!0,e.clickG.visible=!0,a=Language.ins.hero_tip32):3==t.isown&&(e.heromask.visible=!0,e.clickG.visible=!0,a=Language.ins.hero_tip20):(utils.GameUtil.setColorGrey(e.heroicon,!0),e.clickG.visible=!0,e.heromask.visible=!0,a=Language.ins.hero_tip22);var s="";a&&(s=FormatString.format(Language.ins.game_col,i,a)),isNaN(r)?(e.clicktxt.textFlow=utils.GameComUtil.getHtmlText(s),e.clickG.visible=!0,e.ownG.visible=!1):(e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(s),e.clickbg0.visible=!0,e.clickG.visible=!1,t.iscom&&(e.ownG.visible=!0)),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)}n&&(e.bgimg.source=n),e.showTipOtherHeroFetter(o)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;if(a){var i,n=a.playerid,o=a.isown;if(1==o);else if(2==o){if(i=GlobalConfig.getItemIdForPlayerId(n)){var r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,i.objectid,null,!1,!0))}}else if(3==o)i=GlobalConfig.getItemIdForPlayerId(n,!0),i&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpacksynthesisinfo],i.objectid);else if(n){var s=GlobalConfig.getPlayerPorpertyVO(n),l=new MainGetwayViewOpenVO;l.tiltestr=Language.ins.title_getway_hero,l.tipstr=Language.ins.train_add_tip43,l.getwaystr=s.getway,l.heroid=s.playerid,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_geyway],l)}}},t.prototype.showTipOtherHeroFetter=function(e){var t=this,a=e,i=t.infoG,n="tipmcinfoG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.infoG.addChild(t[n]),t[n].visible=a)},t}(eui.ItemRenderer);__reflect(HeroPartnerRender.prototype,"HeroPartnerRender",["eui.UIComponent","egret.DisplayObject"]);var HeroPokedexRenderVO=function(){function e(){}return e}();__reflect(HeroPokedexRenderVO.prototype,"HeroPokedexRenderVO");var HeroPokedexRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.tiptxt.text=Language.ins.pokedex_tip3,t&&(e.heroicon.setData(t.vo),e.ownG.visible=!1,utils.GameUtil.setColorGrey(e.allG,!1),t.isown?(e.lockimg.visible=!1,e.heromask.visible=!1,1==t.isown||2==t.isown&&(e.ownG.visible=!0,e.heromask.visible=!0)):(e.heromask.visible=!0,utils.GameUtil.setColorGrey(e.allG,!0)))},t}(eui.ItemRenderer);__reflect(HeroPokedexRender.prototype,"HeroPokedexRender",["eui.UIComponent","egret.DisplayObject"]);var HeroRadar=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.init()},t.prototype.init=function(){var e=this;e.touchChildren=!1,e.touchEnabled=!0,e.tiptxt1.text=Language.ins.radar_act,e.tiptxt2.text=Language.ins.radar_def,e.tiptxt3.text=Language.ins.radar_body,e.tiptxt4.text=Language.ins.radar_skill,e.tiptxt5.text=Language.ins.radar_porters,e.m_draw||(e.m_draw=new egret.Shape,e.m_bg.addChild(e.m_draw))},t.prototype.heroDraw=function(e){var t,a=this,i=a.m_draw,n=e.attack,o=e.defense,r=e.body,s=e.skill,l=e.porters,p=GlobalConfig.getEvaluateVO(n)["class"],c=GlobalConfig.getEvaluateVO(o)["class"],u=GlobalConfig.getEvaluateVO(r)["class"],m=GlobalConfig.getEvaluateVO(s)["class"],g=GlobalConfig.getEvaluateVO(l)["class"];t=ResName.getPingimg(p),t.length>0&&(a.icon1.source=t[0]),t.length>1?a.iconfu1.source=t[1]:a.iconfu1.source="",t=ResName.getPingimg(c),t.length>0&&(a.icon2.source=t[0]),t.length>1?a.iconfu2.source=t[1]:a.iconfu2.source="",t=ResName.getPingimg(u),t.length>0&&(a.icon3.source=t[0]),t.length>1?a.iconfu3.source=t[1]:a.iconfu3.source="",t=ResName.getPingimg(m),t.length>0&&(a.icon4.source=t[0]),t.length>1?a.iconfu4.source=t[1]:a.iconfu4.source="",t=ResName.getPingimg(g),t.length>0&&(a.icon5.source=t[0]),t.length>1?a.iconfu5.source=t[1]:a.iconfu5.source="";var _=n/e.maxnum,h=o/e.maxnum,d=r/e.maxnum,y=s/e.maxnum,v=l/e.maxnum,f=[],b=95,G=91,x=b-a.p1.x,C=-a.p1.height;f.push(x,C);var T=a.p2.width,P=-a.p2.height;f.push(T,P);var A=-a.p3.width,w=a.p3.height;f.push(A,w);var k=-a.p4.width,I=-a.p4.height;f.push(k,I);var S=a.p5.width,E=a.p5.height;f.push(S,E);var R=3,L=3245600,O=15694848,V=16766061;i.graphics.clear(),i.graphics.lineStyle(R,O),i.graphics.beginFill(L,.5);var D,N,F,M,B,U,H,j,z,q;D=Math.round(b+x*_),N=Math.round(G+C*_),F=Math.round(b+T*h),M=Math.round(G+P*h),B=Math.round(b+A*d),U=Math.round(G+w*d),H=Math.round(b+k*y),j=Math.round(G+I*y),z=Math.round(b+S*v),q=Math.round(G+E*v),i.graphics.moveTo(D,N),i.graphics.lineTo(F,M),i.graphics.lineTo(z,q),i.graphics.lineTo(B,U),i.graphics.lineTo(H,j),i.graphics.lineTo(D,N),i.graphics.endFill(),i.graphics.lineStyle(1,V),i.graphics.beginFill(V,1),i.graphics.drawCircle(D,N,2),i.graphics.drawCircle(F,M,2),i.graphics.drawCircle(B,U,2),i.graphics.drawCircle(H,j,2),i.graphics.drawCircle(z,q,2),i.graphics.endFill()},t}(eui.Component);__reflect(HeroRadar.prototype,"HeroRadar");var TacticsStudyRenderVO=function(){function e(e,t,a){void 0===t&&(t=1),void 0===a&&(a=!1);var i=this;i.vo=e,i.id=e.tid,i.lv=t,i.ischoose=a}return e}();__reflect(TacticsStudyRenderVO.prototype,"TacticsStudyRenderVO");var HeroStudyRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t.ischoose?(e.checkbtn.selected=!0,e.chooseimg.visible=!0,e.chooseimg1.visible=!0):(e.chooseimg.visible=!1,e.chooseimg1.visible=!1,e.checkbtn.selected=!1),e.nametxt.text=t.vo.tname,e.lvtxt.text=Language.ins.game_lv_s+t.lv},t.prototype.toggleChangeHandler=function(e){},t}(eui.ItemRenderer);__reflect(HeroStudyRender.prototype,"HeroStudyRender",["eui.UIComponent","egret.DisplayObject"]);var LeagueAwardRenderVO=function(){function e(){}return e}();__reflect(LeagueAwardRenderVO.prototype,"LeagueAwardRenderVO");var LeagueAwardRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.rankicon.visible=!1,e.tiptxt.visible=!1,1==t.rankvo.maxrank?(e.rankicon.visible=!0,e.rankicon.source="tab_jjsn_d7"):2==t.rankvo.maxrank?(e.rankicon.visible=!0,e.rankicon.source="tab_jjsn_d8"):(e.tiptxt.visible=!0,e.tiptxt.text=vm.LeagueBgView.league_name[t.rankvo.maxrank-1]),e.nametxt.text=t.rankvo.honorcoin,e.numtxt.text="x"+t.rankvo.score)},t}(eui.ItemRenderer);__reflect(LeagueAwardRender.prototype,"LeagueAwardRender",["eui.UIComponent","egret.DisplayObject"]);var LeagueAwardTitleRenderVO=function(){function e(){}return e}();__reflect(LeagueAwardTitleRenderVO.prototype,"LeagueAwardTitleRenderVO");var LeagueAwardTitleRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=GlobalConfig.getComLeagueforRankVO(t.rankid);e.iconimg.source=a.icon,e.btxt1.text=a.name2,e.chooseimg.visible=t.ischoose},t}(eui.ItemRenderer);__reflect(LeagueAwardTitleRender.prototype,"LeagueAwardTitleRender",["eui.UIComponent","egret.DisplayObject"]);var LeagueDanRenderVO=function(){function e(){}return e}();__reflect(LeagueDanRenderVO.prototype,"LeagueDanRenderVO");var LeagueDanRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){utils.GameUtil.setColorGrey(e.getbtn,!1),t.isget?(e.getbtn.visible=!1,e.getedimg.visible=!0):(e.getbtn.visible=!0,e.getedimg.visible=!1,t.iscan?e.getbtn.label=Language.ins.game_canling_p:(utils.GameUtil.setColorGrey(e.getbtn,!0),e.getbtn.label=Language.ins.activity_tip41)),e.iconimg.source=t.vo.icon,e.scoretxt.text=Language.ins.league_tip31+t.vo.score,e.nametxt.text=Language.ins.league_tip32+t.vo.name;var a=utils.GameComUtil.getItemVoArr(t.vo.reward);e.listgroup.setDataArr(a,"",!0,!1)}e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetCrossLevelRewardRequest(1,a.vo.score)},t}(eui.ItemRenderer);__reflect(LeagueDanRender.prototype,"LeagueDanRender",["eui.UIComponent","egret.DisplayObject"]);var LeagueEPA=function(e){function t(){var t=e.call(this)||this;return t.skinName=LeagueEPAskin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},t.prototype.init=function(){},t.prototype.setdata=function(){},t}(eui.Component);__reflect(LeagueEPA.prototype,"LeagueEPA");var LeagueEPB=function(e){function t(){var t=e.call(this)||this;return t.skinName=LeagueEPBSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},t.prototype.init=function(){},t.prototype.setdata=function(){},t}(eui.Component);__reflect(LeagueEPB.prototype,"LeagueEPB");var LeagueEPPanel=function(e){function t(){var t=e.call(this)||this;return t.skinName=LeagueEPPanelSkin,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},t.prototype.init=function(){},t.prototype.setdata=function(){},t}(eui.Component);__reflect(LeagueEPPanel.prototype,"LeagueEPPanel");var LeagueEPRenderVO=function(){function e(){}return e}();__reflect(LeagueEPRenderVO.prototype,"LeagueEPRenderVO");var LeagueEPRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data.vo,a=e.data.winvo;if(t&&t.knockoutGroupList[0]&&t.knockoutGroupList[1]){var i=t.knockoutGroupList[0],n=t.knockoutGroupList[1];FntUtil.showFnt(e.nameBZG,ResName.fnt_league,i.homeGoals+"",ResName.spa_fight_a),FntUtil.showFnt(e.nameBZG0,ResName.fnt_league,n.roadGoals+"",ResName.spa_fight_a),FntUtil.showFnt(e.nameBZG1,ResName.fnt_league,i.roadGoals+"",ResName.spa_fight_a),FntUtil.showFnt(e.nameBZG2,ResName.fnt_league,n.homeGoals+"",ResName.spa_fight_a),e.btxt1.text=i.name,e.btxt0.text=n.name,a?e.btxt2.text=a.name:e.btxt2.text=Language.ins.title_tip_17}e.btxt3.text=Language.ins.league_tip36,e.lookimg.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_lookfight],t.data)},t.prototype.touchTapFun0=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetBattlefieldReportRequest(a.player.reportId)},t}(eui.ItemRenderer);__reflect(LeagueEPRender.prototype,"LeagueEPRender",["eui.UIComponent","egret.DisplayObject"]);var LeagueGroupRenderAVO=function(){function e(){}return e}();__reflect(LeagueGroupRenderAVO.prototype,"LeagueGroupRenderAVO");var LeagueGroupRenderA=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){e.nametxt.text=t.rendervo.name,1==t.rendervo.state?e.nametxt.textColor="0x07FF00":e.nametxt.textColor="0xC8EEFF",e.tiptxt.text=t.index,e.resuletxt.text=FormatString.format(Language.ins.league_tip25,t.rendervo.winCnt,t.rendervo.drawCnt,t.rendervo.loseCnt);var a="0x07FF00",i=FormatString.format(Language.ins.league_tip26,t.rendervo.goals,a,"+",t.rendervo.redGoals);t.rendervo.redGoals<0&&(a="0xFF0000",i=FormatString.format(Language.ins.league_tip30,t.rendervo.goals,a,t.rendervo.redGoals)),e.goaltxt.textFlow=utils.GameComUtil.getHtmlText(i),e.scoretxt.text=t.rendervo.score,e.numtxt.text=t.rendervo.gameNum}},t}(eui.ItemRenderer);__reflect(LeagueGroupRenderA.prototype,"LeagueGroupRenderA",["eui.UIComponent","egret.DisplayObject"]);var LeagueGroupRenderB=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t&&t.groupMatch[0]&&t.groupMatch[1]){var a=t.groupMatch[0],i=t.groupMatch[1],n="0x07FF00";n="0xFF0000",1==a.endState?(e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.league_tip27,t.rounds)),e.tiptxt1.textColor="0x07FF00",e.scoreG.visible=!0,e.scoreG0.visible=!0,e.scoreG1.visible=!1,e.scoreG2.visible=!1,e.scoreAtxt0.text=a.homeGoals,e.scoreAtxt1.text=i.homeGoals,e.scoreBtxt0.text=a.roadGoals,e.scoreBtxt1.text=i.roadGoals):(e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.league_tip28,t.rounds)),e.tiptxt1.textColor="0xFF0000",e.scoreG.visible=!1,e.scoreG0.visible=!1,e.scoreG1.visible=!0,e.scoreG2.visible=!0),e.tiptxt1.text=utils.GameComUtil.getTime2Str(1e3*t.battleTime),a&&i&&(e.logoimg.setLogoUrl(a.homeLogo),e.nametxt.text=a.homeName,e.logoimg0.setLogoUrl(i.homeLogo),e.nametxt0.text=i.homeName,e.opplogoimg.setLogoUrl(a.roadLogo),e.oppnametxt.text=a.roadName,e.opplogoimg0.setLogoUrl(i.roadLogo),e.oppnametxt0.text=i.roadName),e.lookbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.lookbtn0.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun0,e)
}},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetBattlefieldReportRequest(a.groupMatch[0].reportId,1)},t.prototype.touchTapFun0=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetBattlefieldReportRequest(a.groupMatch[1].reportId,1)},t}(eui.ItemRenderer);__reflect(LeagueGroupRenderB.prototype,"LeagueGroupRenderB",["eui.UIComponent","egret.DisplayObject"]);var LeagueRankRenderVO=function(){function e(){}return e}();__reflect(LeagueRankRenderVO.prototype,"LeagueRankRenderVO");var LeagueRankRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=GlobalConfig.getComLeagueVO(t.rendervo.gloryStar);e.nametxt.text=t.rendervo.name,e.lvtxt.text=t.rendervo.level,e.numtxt.text=FormatString.format(Language.ins.league_tip43,a.star,a.maxstar),e.logoimg.setLogoUrl(t.rendervo.logo);var i="";e.tiptxt.visible=!1,e.rankicon.visible=!0,e.tiptxt.text=t.rendervo.rankId,1==t.rendervo.rankId?i="tab_jjsn_d7":2==t.rendervo.rankId?i="tab_jjsn_d8":3==t.rendervo.rankId?i="tab_jjsn_d9":(e.rankicon.visible=!1,e.tiptxt.visible=!0),e.rankicon.source=i}},t}(eui.ItemRenderer);__reflect(LeagueRankRender.prototype,"LeagueRankRender",["eui.UIComponent","egret.DisplayObject"]);var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.ShowLabel=!1,t.blmcmask=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this;t.touchChildren=!1,t.touchEnabled=!1,t.thumbG?t.thumbG.scrollEnabled=!0:(t.maskRect||(t.maskRect=new egret.Rectangle(0,0,t.width,t.height)),t.thumb.mask=t.maskRect),t.m_initX=t.track.x,t.m_initW=t.track.width,t.setValue(0)},t.prototype.setValue=function(e,t,a,i){void 0===t&&(t=100),void 0===a&&(a=-23),void 0===i&&(i=null);var n=this;n.m_initW||(n.m_initX=n.track.x,n.m_initW=n.track.width);var o=n.m_initW;n.m_initX;if(e>t&&(e=t),i)n.labelDisplay.text=i;else if(n.ShowLabel){n.labelDisplay.text=e+"/"+t;Math.floor(e/t*100)}else n.labelDisplay.text="";var r=o*(e/t);if(n.thumbG){var s=n.thumbG.left;isNaN(s)?n.thumbG.width=r:n.thumbG.right=n.width-r-s}else n.thumb.mask=n.maskRect,n.thumb.mask.width=r;n.barmc&&(n.barmc.x=n.m_initX+r+a,n.thumbG||n.blmcmask&&(n.barmc.mask=n.maskRect,n.barmc.mask.width=r))},t}(eui.Component);e.ProgressBar1=t,__reflect(t.prototype,"game.ProgressBar1")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.initWidth=0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this;t.touchChildren=!1,t.touchEnabled=!1,t.initWidth=t.thumb.width,t.setValue(0)},t.prototype.setValue=function(e,t){void 0===t&&(t=100);var a=this;e>t&&(e=t),a.initWidth||(a.initWidth=a.thumb.width),a.thumb.width=a.initWidth*(e/t)},t}(eui.Component);e.ProgressBar2=t,__reflect(t.prototype,"game.ProgressBar2")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.ShowLabel=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this;t.touchChildren=!1,t.touchEnabled=!1,t.validateNow(),t.thumbG?t.thumbG.scrollEnabled=!0:(t.maskRect||(t.maskRect=new egret.Rectangle(0,0,t.width,t.height)),t.thumb.mask=t.maskRect),t.m_initX=t.thumb.x,t.m_initW=t.thumb.width,t.setValue(0)},t.prototype.setValue=function(e,t){void 0===t&&(t=100);var a=this;e>t&&(e=t),a.ShowLabel?e==t?a.labelDisplay.text=e+"/"+t+Language.ins.train_add_tip48:a.labelDisplay.text=e+"/"+t:a.labelDisplay.text="",t==e?a.barnum=1:a.barnum=e/t},Object.defineProperty(t.prototype,"barnum",{set:function(e){var t=this;t.m_initW||(t.m_initX=t.thumb.x,t.m_initW=t.thumb.width);var a=t.m_initW;if(t.thumbG){var i=t.thumbG.left;isNaN(i)?t.thumbG.width=a*e:t.thumbG.right=t.width-a*e-i}else t.thumb.mask=t.maskRect,t.thumb.mask.width=a*e},enumerable:!0,configurable:!0}),t.prototype.setTweenValue=function(e,t,a){var i=this,n=e/a,o=t/a,r=1e3*(o-n);r>0?egret.Tween.get(i).to({barnum:n}).to({barnum:o},r):i.barnum=n},t.prototype.setTweenArr=function(e){for(var t,a,i,n,o,r,s,l=this,p=e.length,c=egret.Tween.get(l),u=0;p>u;u++)t=e[u],3==t.length&&(n=t[0],o=t[1],r=t[2],a=n/r,i=o/r,s=1e3*(i-a),200>s&&(s=200),c.to({barnum:a}).to({barnum:i},s))},t.prototype.showLabel=function(e){var t=this;t.labelDisplay&&(t.labelDisplay.text=e)},t.prototype.setSize=function(e,t){},t}(eui.Component);e.ProgressBar4=t,__reflect(t.prototype,"game.ProgressBar4")}(game||(game={}));var MailAwardRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t?(e.item.setitemdata(t,!0),e.item.setTip(!0)):e.item.setitemdata(null),utils.GameUtil.setColorGrey(e.item,!1),t.addnum?(utils.GameUtil.setColorGrey(e.item,!0),e.getimg.visible=!0):e.getimg.visible=!1},t}(eui.ItemRenderer);__reflect(MailAwardRender.prototype,"MailAwardRender",["eui.UIComponent","egret.DisplayObject"]);var MailRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.getCurrentState=function(){return this.changeChoose(),e.prototype.getCurrentState.call(this)},t.prototype.changeChoose=function(){this.bgimg&&(this.selected?this.bgimg.source="tab_ms_b1":this.bgimg.source="tab_ms_b8")},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.title,e.destxt.text=t.from,e.tipmcimg.visible=!1,e.timetxt.text=utils.GameComUtil.getTimeYearStr(1e3*Math.floor(t.sendTime));var a="";e.biaoimg.visible=!1,t.item&&t.item.length?(t.isRec&&(e.biaoimg.visible=!0),a=t.isRec?"tab_mail_a4":t.isRead?"tab_mail_a6":"tab_mail_a5"):a=t.isRead?"tab_mail_a4":"tab_mail_a3",t.isRead||(e.tipmcimg.visible=!0),e.iconimg.source=a,e.changeChoose()},t}(eui.ItemRenderer);__reflect(MailRender.prototype,"MailRender",["eui.UIComponent","egret.DisplayObject"]);var MailSweepRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.tiptxt.text=FormatString.format(Language.ins.mail_tip12,t.title),e.tiptxt0.text=utils.GameComUtil.getTimeYearStr(1e3*Math.floor(t.times));var a,i="";if(t){for(var n=0,o=t.item.length;o>n;n++)a=GlobalConfig.getItemVo(t.item[n].pid),i+=FormatString.format(Language.ins.mail_tip13,a.name,t.item[n].num),n!=t.item.length-1&&(i+="\n");e.tiptxt1.text=i}},t}(eui.ItemRenderer);__reflect(MailSweepRender.prototype,"MailSweepRender",["eui.UIComponent","egret.DisplayObject"]);var CostItemRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,a=e.data;if(e.getbtn.label=Language.ins.btn_obtain,e.getbtn0.label=Language.ins.train_add_tip81,e.hongdimg0.visible=!1,a){var i=a.itemid,n=a.count,o=0,r="",s=!1,l="",p=t.getItemCurNum(a,!1);n=p.neednum,r=p.itemname,s=p.isteshu,o=p.curnum,p.strtip&&(l=p.strtip),e.iconimg.source=ResName.getMinItemIcon(i),e.nametxt.text=r,e.showmaxText(e.tiptxt,i,n,o,l);var c;c=o<Math.floor(n)?!0:!1,c?e.stataimg.source="tab_jy_g5":e.stataimg.source="tab_kjzx_g3",e.getbtn.visible=c&&!s,e.oldbtnG.visible=!0,e.newbtnG.visible=!1;var i=a.itemid;switch(i){case GlobalEnum.itemid_herocar:if(e.oldbtnG.visible=!1,e.newbtnG.visible=!0,o<Math.floor(n)){for(var u=GlobalConfig.getItemVo(a.addnum),m=GlobalConfig.getPlayerPorpertyVO(+u.parameter),g=GlobalAllProxy.getInstance().backpackProxy.getBagItem(),_=0,h=0,d=g.length;d>h;h++){var y=GlobalConfig.getItemVo(g[h].itemid);if(4==y.type){var v=GlobalConfig.getPlayerPorpertyVO(+y.parameter);v.location==m.location&&v["class"]==m["class"]&&v.playerid!=m.playerid&&(_+=g[h].count)}}_>=a.count?e.hongdimg0.visible=!0:e.hongdimg0.visible=!1}else e.hongdimg0.visible=!1;break;case GlobalEnum.itemid_clearancecondition:e.getbtn.label=Language.ins.btn_goto}}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this;t.data;switch(e.target){case t.getbtn:case t.getbtn0:t.addfun()}},t.prototype.addfun=function(){var e=this,a=e.data,i=a.itemid;switch(i){case GlobalEnum.itemid_herocar:if(a.addnum){var n=GlobalConfig.getItemVo(a.addnum);if(n){var o=parseInt(n.parameter),r=GlobalConfig.getPlayerPorpertyVO(o),s=new MainChooseHeroViewOpenVO;s.count=a.count,s.heroid=r.playerid,s.itemvo=n,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_train_hero],s)}}break;case GlobalEnum.itemid_herostar:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainupstar]);break;case GlobalEnum.itemid_coachstar:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_coach,vm.CoachBgView.type_train]);break;case GlobalEnum.itemid_fastfight_time:FLOAT.NShowPutong([Language.ins.cost_tip0]);break;case GlobalEnum.itemid_clearancecondition:a.addnum2&&"0"!=a.addnum2?utils.GameComUtil.panelJump(a.addnum2):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_clubfightmap]);break;case GlobalEnum.itemid_ug:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]);break;default:var n=GlobalConfig.getItemVo(a.itemid);if(n){var l=n.getShopArr(),p=l.length;if(p){var c;p&&(c=l[0][0]);var u=1,m=1;if(p>1){var g,_,h,d=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var y in l)if(_=l[y],h=+_[0],g=GlobalConfig.getShopVO(h),d>=g.lvlimit){c=h,_.length>1&&(m=+_[1]);break}}var v=0,f=1,b=e.data;if(b){var G=t.getItemCurNum(b,!1);u=G.neednum,v=G.curnum}u>v&&(f=u-v),f=Math.ceil(f/m),0>=f&&(f=1);var x=new ShopBuyViewOpenVO(c,f);p?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],x):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,n.objectid],x)}else 0!=+n.guild&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_secretary,1],n.guild)}}},t.getItemOkArr=function(e){for(var t,a,i=!0,n=this,o=0,r=e.length;r>o;o++)if(t=e[o],t&&(a=n.getItemCurNum(t,!0),!a)){i=!1;break}return i},t.getItemCurNum=function(e,t){var a,i=!1,n=e.itemid,o=0,r="",s=!1,l="",p=GlobalEnum,c=e.count,u="";switch(n){case p.itemid_clublv:s=!0,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,r=Language.ins.title_club;break;case p.itemid_clubgrade:s=!0,a=GlobalAllProxy.getInstance().playerProxy.clubData,a&&(o=a.grade),r=Language.ins.title_club;break;case p.itemid_buildtactics:s=!0,a=GlobalAllProxy.getInstance().playerProxy.clubData,a&&(o=a.tatical_lv),r=Language.ins.title_tacticsconter;break;case p.itemid_herocar:if(e.addnum){o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(e.addnum),o+=GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr.length;var m=GlobalConfig.getItemVo(e.addnum);l=m.name}r=Language.ins.train_add_tip37;break;case p.itemid_herostar:o=e.addnum,r=Language.ins.train_add_tip38;break;case p.itemid_coachstar:o=e.addnum,r=Language.ins.coach_tip5;break;case p.itemid_fastfight_time:o=e.addnum,r=Language.ins.cost_tip1;break;case p.itemid_clearancecondition:if(r=Language.ins.title_clubfightmap,a=GlobalAllProxy.getInstance().playerProxy.clubData,o=0,a){var g=GlobalConfig.getClubgradeVO(a.grade);if(g.copyid){var _=a.getSMapAllStar(g.chapter);_&&_>=30?(c=0,o=1):(c=1,o=0)}}break;case GlobalEnum.itemid_tourmatch:if(s=!0,r=Language.ins.main_tip15,o=0,c){var _=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id;u=FormatString.format(Language.ins.title_tip_24,_-10001e3,c),_&&_-10001e3>=c?(c=0,o=1):(c=1,o=0)}else c=0,o=1;break;case GlobalEnum.itemid_promotionmatch:if(s=!0,r=Language.ins.title_clubfightmap,o=0,c){var h=GlobalAllProxy.getInstance().playerProxy.clubData.getSMapCustoms(c),d=GlobalAllProxy.getInstance().playerProxy.clubData.getSMapNumber();c=Math.floor(c/1e4)%1e3,u=FormatString.format(Language.ins.title_tip_25,d,10*c),h&&h.degree>=e.addnum?(c=0,o=1):(c=1,o=0)}else c=0,o=1;break;case GlobalEnum.itemid_dekaron:if(s=!0,r=Language.ins.title_dekaronroad,o=0,c){var y=[];GlobalAllProxy.getInstance().fightProxy.dekaronData&&(y=GlobalAllProxy.getInstance().fightProxy.dekaronData.record);var v=c-20001e3;u=FormatString.format(Language.ins.title_tip_26,y.length,v),y&&y[v-1]&&+y[v-1].type>=e.addnum?(c=0,o=1):(c=1,o=0)}break;case GlobalEnum.itemid_achievementlv:s=!0;var f=GlobalAllProxy.getInstance().gameProxy.achieveData;u=FormatString.format(Language.ins.title_tip_27,f.level,c),f&&(o=f.level),r=Language.ins.main_tip12;break;case GlobalEnum.itemid_fighting:s=!0;var b=GlobalAllProxy.getInstance().playerProxy.playerinfo.getZhanliNum();u=FormatString.format(Language.ins.title_tip_28,Math.floor(b/1e4),c/1e4),b&&(o=b),r=Language.ins.game_zhanli_s;break;case GlobalEnum.itemid_equipmentquality:s=!0,r=Language.ins.title_tip_18;var G=GlobalAllProxy.getInstance().playerProxy.equipArr,x=0,C="";if(e.addnum==GlobalEnum.equip_equipmentquality_4?C=Language.ins.title_tip_29:e.addnum==GlobalEnum.equip_equipmentquality_5?C=Language.ins.title_tip_30:e.addnum==GlobalEnum.equip_equipmentquality_6&&(C=Language.ins.title_tip_31),G){for(var T=0,P=G.length;P>T;T++)G[T].quality>=e.addnum&&x++;u=FormatString.format(C,x,c),x>=c?(c=0,o=1):(c=1,o=0)}break;case GlobalEnum.itemid_playerstarty:s=!0,r=Language.ins.title_tip_19;var A=GlobalAllProxy.getInstance().playerProxy.playerArr,x=0,C="";if(6==e.addnum?C=Language.ins.title_tip_33:5==e.addnum&&(C=Language.ins.title_tip_32),A){for(var T=0,P=A.length;P>T;T++)A[T].stars>=e.addnum&&x++;u=FormatString.format(C,x,c),x>=c?(c=0,o=1):(c=1,o=0)}break;case GlobalEnum.itemid_peakseason:s=!0,r=Language.ins.title_richfight;var w=GlobalAllProxy.getInstance().fightProxy.richdata,k=GlobalConfig.getMathConfigVO(c);w&&w.grade>=c?(c=1,o=1):(c=1,o=0),u=FormatString.format(Language.ins.title_tip_34,k.name,o,c);break;case GlobalEnum.itemid_playerquality:s=!0,r=Language.ins.title_tip_19;var A=GlobalAllProxy.getInstance().playerProxy.playerArr,x=0;if(A){for(var T=0,P=A.length;P>T;T++)A[T].card_trait>=e.addnum&&x++;u=FormatString.format(Language.ins.title_tip_35,x,c),x>=c?(c=0,o=1):(c=1,o=0)}break;default:o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(n);var I=GlobalConfig.getItemVo(n);I&&0==+I.shopid&&0==I.guild&&(s=!0),r=I.name}return t?(o>=c&&(i=!0),i):{neednum:c,itemname:r,isteshu:s,curnum:o,strtip:u}},t.prototype.showmaxText=function(e,t,a,i,n){var o=ColorUtil.green,r=ColorUtil.red;switch(e.textColor=o,Math.floor(i)<Math.floor(a)&&(e.textColor=r),t){case GlobalEnum.itemid_clublv:e.text=FormatString.format(Language.ins.hero_tip15,Language.ins.title_club,Language.ins.game_lv_s+a);break;case GlobalEnum.itemid_clubgrade:var s=GlobalConfig.getClubgradeVO(a);e.text=FormatString.format(Language.ins.cost_tip2,s.clubname);break;case GlobalEnum.itemid_buildtactics:e.text=FormatString.format(Language.ins.hero_tip15,Language.ins.title_tacticsconter,Language.ins.game_lv_s+a);break;case GlobalEnum.itemid_herocar:e.text=n+" "+i+"/"+a;break;case GlobalEnum.itemid_herostar:e.text=FormatString.format(Language.ins.hero_tip17,a);break;case GlobalEnum.itemid_coachstar:e.text=FormatString.format(Language.ins.coach_tip1,a);break;case GlobalEnum.itemid_clearancecondition:var l=GlobalAllProxy.getInstance().playerProxy.clubData,p=GlobalConfig.getClubgradeVO(l.grade),c="";if(p.copyid){c=p.gradedes;var u=l.getSMapAllStar(p.chapter);u&&u>=30?e.textColor=ColorUtil.green:e.textColor=ColorUtil.red}e.text=c;break;case GlobalEnum.itemid_tourmatch:case GlobalEnum.itemid_promotionmatch:case GlobalEnum.itemid_dekaron:case GlobalEnum.itemid_achievementlv:case GlobalEnum.itemid_fighting:case GlobalEnum.itemid_equipmentquality:case GlobalEnum.itemid_playerstarty:case GlobalEnum.itemid_peakseason:case GlobalEnum.itemid_playerquality:e.text=n;break;default:e.text=i+"/"+a}},t}(eui.ItemRenderer);__reflect(CostItemRender.prototype,"CostItemRender",["eui.UIComponent","egret.DisplayObject"]);var ItemMinIcon=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t._needShowTip=!1,t.skinName=ItemMinIconSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e,t,a){void 0===a&&(a=!0);var i=this;i.iconvo=e,i.m_isname=t,i._needShowTip=a,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this,t=e.iconvo;if(t){if(e.iconimg.source=ResName.getMinItemIcon(t.itemid),e.m_isname){var a=GlobalConfig.getItemVo(t.itemid);e.nametxt.text=a.name}t.count?e.numtxt.text=t.count:e.numtxt.text="",e.setTip(e._needShowTip)}},t.prototype.setTip=function(e){var t=this;t._needShowTip=e,e?t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t):t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t)},t.prototype.clickfun=function(e){var t=this,a=t.iconvo;if(a&&t._needShowTip){var i=!1,n=0,o=0;(a instanceof game.SeverItemVO||a instanceof game.ComItemGroupVo)&&(o=game.TipSimpleObject.type_item,i=!0,n=a.itemid),i&&utils.GameComUtil.ShowTip(t,n,o,a)}},t}(eui.Component);__reflect(ItemMinIcon.prototype,"ItemMinIcon");var ItemMinIconRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.minicon.setData(t,!0)},t}(eui.ItemRenderer);__reflect(ItemMinIconRender.prototype,"ItemMinIconRender",["eui.UIComponent","egret.DisplayObject"]);var MainBtnIcon=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=MainBtnIconSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMouseClick,this)},t.prototype.setData=function(e){var t=this;t.iconvo=e,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this,t=e.iconvo;if(t&&(e.btn.source=t.icon,e.btnziG.visible&&FntUtil.showFnt(e.btnziG,ResName.fnt_main,t.name,ResName.spa_main_a),t.tag)){e.biaoimg||(e.biaoimg=new eui.Image);var a="tab_zjm_o9";switch(t.tag){case 1:a="tab_zjm_o9"}e.biaoimg.source=a,e.biaoimg.x=-6,e.biaoimg.y=37,e.btnG.addChild(e.biaoimg)}},t.prototype.playMc=function(e){var t=this;if(e){if(!t.guangmc){var a=ResName.mc_stars;t.guangmc=utils.GameComUtil.getSYMovieClip(a,a),t.guangmc.frameRate=15,t.guangmc.x=.5*t.width,t.guangmc.y=.5*t.height}t.btnG.addChild(t.guangmc),t.guangmc.isPlaying||t.guangmc.playLoop("effect")}else t.guangmc&&utils.GameComUtil.stopRemoveMc(t.guangmc)},t.prototype.onMouseClick=function(e){var t=this;SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1);var a=t.iconvo;a&&a.iconname==GlobalEnum.main_taskbtn&&(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick))},t}(eui.Component);__reflect(MainBtnIcon.prototype,"MainBtnIcon");var MainChatRenderVO=function(){function e(){}return e}();__reflect(MainChatRenderVO.prototype,"MainChatRenderVO");var MainChatRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tipnametxt.text="",t){var a=t.msg;e.msgtxt.textFlow=utils.GameComUtil.getHtmlText(a),0==t.type?(e.bgimg.source="tab_lt_f5",e.tipnametxt.text=Language.ins.main_tip1):1==t.type?(e.bgimg.source="tab_lt_f4",e.tipnametxt.text=Language.ins.main_tip2):3==t.type?(e.bgimg.source="tab_lt_f3",e.tipnametxt.text=Language.ins.main_tip3):4==t.type&&(e.bgimg.source="tab_lt_f1",e.tipnametxt.text=Language.ins.main_tip4)}},t}(eui.ItemRenderer);__reflect(MainChatRender.prototype,"MainChatRender",["eui.UIComponent","egret.DisplayObject"]);var MainGetwayRenderVO=function(){function e(){}return e}();__reflect(MainGetwayRenderVO.prototype,"MainGetwayRenderVO");var MainGetwayRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data.jumpinfo;if(e.jumbtn.visible=!1,e.nametxt.text=a,e.jumbtn.label=Language.ins.btn_now_go,t){var a,i,n=t.split(":");if(n.length>1){a=n[0],i=n[1],e.m_namestr=a,e.m_jumpstr=i,e.nametxt.text=a;var o=i.split(","),r=o.length;if(r&&parseInt(o[0])==GlobalViewIDEnum.pType_scout)if(r>1&&"0"!=o[1]);else{var s=e.data.heroid;if(s){var l=GlobalConfig.getPlayerPorpertyVO(s),p=a+" ("+l.club+")";e.nametxt.text=p}}}i&&(e.jumbtn.visible=!0)}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.jumbtn:if(t.m_jumpstr){if(a.heroid){var i=GlobalAllProxy.getInstance().playerProxy,n=GlobalConfig.getScoutPlayerArrForId(a.heroid);if(n.length<2)i.teamType=0;else if(i.scoutPool){var o=GlobalConfig.getCardPoolVO(i.scoutPool);if(o){for(var r=o.scouttypes.split(","),s=!1,l=0,p=r.length;p>l;l++)if(n[1]==+r[l]){s=!0;break}s?i.teamType=n[1]:i.teamType=0}}}utils.GameComUtil.panelJump(t.m_jumpstr,!0)}}},t}(eui.ItemRenderer);__reflect(MainGetwayRender.prototype,"MainGetwayRender",["eui.UIComponent","egret.DisplayObject"]);var MainTop2Panel=function(e){function t(){var a=e.call(this)||this;a._iscreat=!1;var i=a;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=i,a.skinName=MainTop2Skin,i.top=0,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=game.Injector.getInstance(t)),e.instance},t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.onShow(!0),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.InStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.OutStage,t)},t.prototype.InStage=function(e){this.onShow(!1)},t.prototype.OutStage=function(e){this.onHide(!1)},t.prototype.setData=function(e){var t=this;t.m_paneltype=e,t.m_helpindex=0,t._iscreat&&t.changedata()},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changedata(),t.initAddEvent(),t.showfireMc(!0),t.showZhanliSpr(!1);var a=PFAll.isiosopen(iostest_type.pay);t.addugbtn.visible=a,t.addcoinbtn.visible=a,e&&FntUtil.showFnt(t.closeBZG,ResName.fnt_title,Language.ins.game_back,ResName.spa_title_a)},t.prototype.onHide=function(e){var t=this;t.removeAddEvent(),t.showfireMc(!1),utils.GameComUtil.removeAnimoSelf(t.m_coinmc),utils.GameComUtil.removeAnimoSelf(t.m_ugmc),utils.GameComUtil.removeAnimoSelf(t.m_expmc),utils.GameComUtil.removeAnimoSelf(t.m_zhanlimc),utils.GameComUtil.removeTextFlow(t.zhanlitiptxt1)},t.prototype.setHelpIndex=function(e){var t=this;if(this.m_helpindex=e,t.m_paneltype){var a=GlobalConfig.getSystemlanguageVOUnlock([t.m_paneltype,e]);if(a){t.helpbtn.visible=!0;var i=a.titleimg,n=a.title;i&&"0"!=i&&(t.panelimg.source=i),n&&"0"!=n&&t.settitletxt(n)}else{var o=GlobalEnum.panelIconEnum[t.m_paneltype];if(o){var r=o.length;r&&t.settitletxt(o[0]),r>1&&(t.panelimg.source=o[1])}t.helpbtn.visible=!1}}},t.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo;e.cointxt.text=utils.GameUtil.getNumToStr(t.gold),e.ugtxt.text=t.stone+"";var a=utils.GameComUtil.getFightNum(t.fight),i=t.fight;e.zhanlitxt.text=a+"",e.helpbtn.visible=!1;var n="";n+=FormatString.format(Language.ins.mian_tip0,i.player);var o=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_gamehero,vm.HeroView.type_formation],!1);if(o&&(n+="\n"+FormatString.format(Language.ins.mian_tip2,i.formation)),o=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,vm.TechBgView.type_study],!1),o&&(n+="\n"+FormatString.format(Language.ins.mian_tip1,i.equip)),i.coach&&(n+="\n"+FormatString.format(Language.ins.mian_tip3,i.coach)),i.title&&(n+="\n"+FormatString.format(Language.ins.mian_tip4,i.title)),i.logo>=0&&(n+="\n"+FormatString.format(Language.ins.mian_tip5,i.logo)),e.zhanlitiptxt1.textFlow=utils.GameComUtil.getHtmlText(n),e.m_paneltype){var r=GlobalEnum.panelIconEnum[e.m_paneltype];if(r){var s=r.length;s&&e.settitletxt(r[0]),s>1&&(e.panelimg.source=r[1])}var l;l=e.m_helpindex?GlobalConfig.getSystemlanguageVOUnlock([e.m_paneltype,e.m_helpindex]):GlobalConfig.getSystemlanguageVOUnlock([e.m_paneltype]),l&&(e.helpbtn.visible=!0)}if(t){var p=t.gold,c=t.stone,u=t.exp_pool,a=utils.GameComUtil.getFightNum(t.fight),m=a;e.pandanshowmc(e.m_oldcoin,p,"m_coinmc",e.coinG,e.cointxt),e.pandanshowmc(e.m_oldug,c,"m_ugnmc",e.ugG,e.ugtxt),e.pandanshowmc(e.m_oldzhanli,m,"m_zhanlimc",e.zhanliG,e.zhanlitxt),e.m_oldcoin=p,e.m_oldug=c,e.m_oldexp=u,e.m_oldzhanli=m}},t.prototype.settitletxt=function(e){var t=this;FntUtil.showFnt(t.titleBZG,ResName.fnt_title,e,ResName.spa_title_a)},t.prototype.pandanshowmc=function(e,t,a,i,n){var o=this;if(!isNaN(e)&&e!=t){var r=utils.GameComUtil.getArmature(ResName.numchange,a,o,!0);if(r.scaleX=i.width/r.width,r.scaleY=i.height/r.height,r.x=.5*i.width,r.y=.5*i.height,i.addChild(r),r.animation.play("effect",1),n){egret.Tween.removeTweens(n);var s=200;e>t?egret.Tween.get(n).wait(200).to({textColor:16711680}).wait(s).to({textColor:16777215}).wait(s).to({textColor:16711680}).wait(s).to({textColor:16777215}).wait(s).to({textColor:16711680}).wait(s).to({textColor:16777215}):egret.Tween.get(n).wait(200).to({textColor:65280}).wait(s).to({textColor:16777215}).wait(s).to({textColor:65280}).wait(s).to({textColor:16777215}).wait(s).to({textColor:65280}).wait(s).to({textColor:16777215})}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e);var t=dm.VDM.s_root;t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e),EventBus.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),EventBus.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange);var t=dm.VDM.s_root;t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e)},t.prototype.onMouseUp=function(e){var t=this,a=e.target;a!=t.zhanliRect&&t.showZhanliSpr(!1)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changedata()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=PanelDM.getIns();switch(a){case t.helpbtn:t.m_paneltype&&(t.m_helpindex?i.goWindow([GlobalViewIDEnum.pType_help,t.m_paneltype,t.m_helpindex]):i.goWindow([GlobalViewIDEnum.pType_help,t.m_paneltype]));break;case t.coinG:var n=GlobalConfig.getItemVo(GlobalEnum.itemid_coin);if(n){var o=n.getShopArr(),r=o.length;if(r){var s;if(r&&(s=o[0][0]),r>1){var l,p,c,u=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var m in o)if(p=o[m],c=+p[0],l=GlobalConfig.getShopVO(c),u>=l.lvlimit){s=c;break}}var g=new ShopBuyViewOpenVO(s,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],g)}}break;case t.ugG:i.goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.zhanliRect:return void t.showZhanliSpr(!0)}},t.prototype.showZhanliSpr=function(e){var t=this;t.tisspr.visible=e},t.prototype.showfireMc=function(e){var t=this,a=ResName.mc_fire,i=utils.GameComUtil.getArmature(a,a,t);if(i){var n=i.isPlaying;e!=n&&(e?(i.animation.play("effect"),t.zhanlimcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))}},t.SINGLETON_MSG="MainTop2Panel Singleton already constructed!",t}(eui.Component);__reflect(MainTop2Panel.prototype,"MainTop2Panel",["eui.UIComponent","egret.DisplayObject"]);var BaoZangRenderVO=function(){function e(){}return e}();__reflect(BaoZangRenderVO.prototype,"BaoZangRenderVO");var BaoZangRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tiptxt0.text=Language.ins.mark_tip0,e.tiptxt1.text=Language.ins.mark_tip1,e.tiptxt3.text=Language.ins.activity_tip55,t){var a=t.renderinfo;e.contenttxt.text=a.showprice,e.contenttxt0.text=a.price,e.clubnametxt.text=a.club,e.citynametxt.text=a.country,e.playernametxt.text=a.name;var i=GlobalConfig.getItemVo(a.playerid),n=GlobalConfig.getPlayerPorpertyVO(+i.parameter);e.headimg.source=ResName.getPlayerIcon(n.picon),e.sevendayItem0.setIdAndNum(a.pieceid,0,!1,0,!1,!1,!0),e.sevendayItem0.setTip(!0);var o=a.basereward,r=utils.GameComUtil.getItemVoArr(o);r[0]&&(e.sevendayItem1.setIdAndNum(r[0].itemid,r[0].count,!0,0,!1,!1,!0),e.sevendayItem1.setTip(!0)),r[1]&&(e.sevendayItem2.setIdAndNum(r[1].itemid,r[1].count,!0,0,!1,!1,!0),e.sevendayItem2.setTip(!0));var s=n.location-1,l=utils.GameComUtil.getAddSpace(Language.ins.degree_names[s]);e.logtxt.text=l,e.logbg.source=ResName.getRankPlayerbg(s+1,!1,!1,!1,!0)}e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=t.data;switch(a){case t.getbtn:var i=t.data;if(i){var n=i.renderinfo;t.contenttxt0.text=n.price;var o=new AlertVO;o.info=Language.ins.operation_tip_17,o.showCancel=!0,o.tipbl=!0,o.tipstr=Language.ins.fight_tip4,o.tipitemid=GlobalEnum.itemid_ug,o.tipcostid=ug_cost_type.buy_baozang,o.tipitemnum=+n.price,JAlert.show(o,Language.ins.title_buy,t.buyfun,t)}}},t.prototype.buyfun=function(){var e=this,t=e.data;GlobalAllProxy.getInstance().operationProxy.NetOperateActivityBuyRequest(+t.id,t.qishu,t.renderinfo.rank)},t}(eui.ItemRenderer);__reflect(BaoZangRender.prototype,"BaoZangRender",["eui.UIComponent","egret.DisplayObject"]);var ChaoZhiRenderVO=function(){function e(){}return e}();__reflect(ChaoZhiRenderVO.prototype,"ChaoZhiRenderVO");var ChaoZhiRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.shouxiimg.visible=!1,utils.GameUtil.setColorGrey(e.wholegp,!1),e.item.setIdAndNum(t.itemid,t.count,!0),e.item.setTip(!0),e.zhekouimg.source="tab_sjzh_z"+t.zhekou;var a=t.xiangou-t.buynum,i=a+"/"+t.xiangou;e.numtxt.text=Language.ins.shop_tip0,e.numtxt1.text=i,0>=a&&(e.shouxiimg.visible=!0,utils.GameUtil.setColorGrey(e.wholegp,!0));var n=ResName.getMinItemIcon(GlobalEnum.itemid_ug);e.costimg.source=n,e.costtxt.text=t.pirce,t.oldpirce?(e.oldcosttxt.text=t.oldpirce,e.oldcostimg.source=n,e.oldline.visible=!0,e.oldcostG.visible=!0):(e.oldline.visible=!1,e.oldcostG.visible=!1),e.buyimg.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(){var e=this,t=e.data;GlobalAllProxy.getInstance().operationProxy.NetOperateActivityBuyRequest(act_type.chaozhi,t.qishu,t.index)
},t}(eui.ItemRenderer);__reflect(ChaoZhiRender.prototype,"ChaoZhiRender",["eui.UIComponent","egret.DisplayObject"]);var JuXingRenderVO=function(){function e(){}return e}();__reflect(JuXingRenderVO.prototype,"JuXingRenderVO");var JuXingRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.buytiptxt.text=t.xiangou,e.needtxt.text=t.pirce,e.item.setIdAndNum(t.itemid,t.count,!0),e.item.setTip(!0),e.buyG.visible=!0,e.overimg.visible=!1,0==t.xiangou&&(e.buyG.visible=!1,e.overimg.visible=!0),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.getbtn:var i=t.data;GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+i.id,i.qishu,i.itemid,i.pirce)}},t}(eui.ItemRenderer);__reflect(JuXingRender.prototype,"JuXingRender",["eui.UIComponent","egret.DisplayObject"]);var LeiJiPayRenderVO=function(){function e(){}return e}();__reflect(LeiJiPayRenderVO.prototype,"LeiJiPayRenderVO");var LeiJiPayRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(8),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(t.title),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.enabled=!0,-1==t.iscanget?(e.getbgimg.source="tab_yyhd_a8",e.getimg.source="tab_yyhd_b1",e.getbtn.enabled=!1):0==t.iscanget?(e.getbgimg.source="tab_yyhd_b3",e.getimg.source="tab_yyhd_d6"):1==t.iscanget?(e.getbgimg.source="tab_yyhd_a8",e.getimg.source="tab_yyhd_b1",e.tiphimg.visible=!0):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;0==a.iscanget?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]):1==a.iscanget&&(a.type&&2==a.type?GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+a.id,a.qishu,a.limit,a.type):GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+a.id,a.qishu,a.limit,1))},t}(eui.ItemRenderer);__reflect(LeiJiPayRender.prototype,"LeiJiPayRender",["eui.UIComponent","egret.DisplayObject"]);var OneRechargeRenderVO=function(){function e(){}return e}();__reflect(OneRechargeRenderVO.prototype,"OneRechargeRenderVO");var OneRechargeRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(8),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt.text=t.title,e.getglodtxt.text=FormatString.format(Language.ins.operation_tip_2,t.returnl/100),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,0==t.iscanget?(e.getbgimg.source="tab_yyhd_b3",e.getimg.source="tab_yyhd_a9"):1==t.iscanget?(e.getbgimg.source="tab_yyhd_a8",e.getimg.source="tab_yyhd_b1",e.tiphimg.visible=!0):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;0==a.iscanget?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]):1==a.iscanget&&GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+a.id,a.qishu,a.limit)},t}(eui.ItemRenderer);__reflect(OneRechargeRender.prototype,"OneRechargeRender",["eui.UIComponent","egret.DisplayObject"]);var OperationSSRChooseRenderVO=function(){function e(){}return e}();__reflect(OperationSSRChooseRenderVO.prototype,"OperationSSRChooseRenderVO");var OperationSSRChooseRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=241;if(t){e.titletxt.text=t.titlestr,e.setRelatoinDataA(t.listarr);var i=t.listarr.length;e.height=a+152*(Math.ceil(i/4)-1)}},t.prototype.setRelatoinDataA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?i.dataProvider&&(i.dataProvider.source=a):(i.itemRenderer=ScoutUnlockRender,i.dataProvider=new eui.ArrayCollection(a))},t}(eui.ItemRenderer);__reflect(OperationSSRChooseRender.prototype,"OperationSSRChooseRender",["eui.UIComponent","egret.DisplayObject"]);var QianDaorVO=function(){function e(){}return e}();__reflect(QianDaorVO.prototype,"QianDaorVO");var QianDao=function(e){function t(){var t=e.call(this)||this;return t.skinName=QianDaoSkin,t.touchChildren=!0,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.setData=function(e){var t=this;t.changedata(e)},t.prototype.onHide=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.changedata=function(e){var t=this;t.mydata=e,t.daytxt.text=e.day,t.isoverimg.visible=e.isover,e.index<e.nowday?e.isover?t.bgimg.source="tab_dlhl_a4":t.bgimg.source="tab_dlhl_b3":e.index==e.nowday?t.bgimg.source="tab_dlhl_a9":t.bgimg.source="tab_dlhl_a5",e.ishero&&(t.bgimg.source="tab_dlhl_b1"),t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.touchTapFun,t)},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.getbtn:EventBus.sendMessage(game.GameCommands.OPERTION_QIANDAO_BU,t.mydata.index)}},t}(eui.Component);__reflect(QianDao.prototype,"QianDao",["eui.UIComponent","egret.DisplayObject"]);var YuRenJieRenderVO=function(){function e(){}return e}();__reflect(YuRenJieRenderVO.prototype,"YuRenJieRenderVO");var YuRenJieRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.pictureimg.source=t.picture,e.picture2img.source=t.picture2,e.picture3img.source=t.picture3,e.picture4img.source=t.picture4,e.btimetxt.text=t.time,e.gotxt.text=Language.ins.btn_now_go,e.gobtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e);var a=GlobalAllProxy.getInstance().gameProxy;switch(+t.jump){case GlobalViewIDEnum.pType_operation_ssrpoint:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_ssrpoint]),GlobalViewIDEnum.pType_operation_ssrpoint);break;case GlobalViewIDEnum.pType_operation_chaozhi:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_chaozhibuy]),GlobalViewIDEnum.pType_operation_chaozhi);break;case GlobalViewIDEnum.pType_operation_call:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_operationcall]),GlobalViewIDEnum.pType_operation_call);break;case GlobalViewIDEnum.pType_Operation_OneRecharge:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_danbipay]),GlobalViewIDEnum.pType_Operation_OneRecharge);break;case GlobalViewIDEnum.pType_activity_drawing:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_actlaba]),GlobalViewIDEnum.pType_activity_drawing);break;case GlobalViewIDEnum.pType_operation_zhuanpan:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_zhuanpan]),GlobalViewIDEnum.pType_operation_zhuanpan);break;case GlobalViewIDEnum.pType_Operation_touzi:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_touzi]));break;case GlobalViewIDEnum.pType_operation_mibao:e.showTipssrpointPay(a.getTipForArr(null,[GlobalEnum.tipmc_mibao]),GlobalViewIDEnum.pType_operation_mibao)}},t.prototype.showTipssrpointPay=function(e,t){void 0===t&&(t=null);var a=this;a.tipmcimg.visible=e},t.prototype.touchTapFun=function(e){var t=this,a=t.data;PanelDM.getIns().goWindow([a.jump])},t}(eui.ItemRenderer);__reflect(YuRenJieRender.prototype,"YuRenJieRender",["eui.UIComponent","egret.DisplayObject"]);var OpponentListRenderVO=function(){function e(){}return e}();__reflect(OpponentListRenderVO.prototype,"OpponentListRenderVO");var OpponentListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=67;return t.changetime&&e.m_changetime!=t.changetime&&(e.m_blresh=!0),e.m_changetime=t.changetime,e.m_blresh?void e.showanimo():(t&&(e.logoimg.source="sjdh_tu_1",e.logoimg.setLogoUrl(t.hero.logo),e.nametxt.text=t.hero.name,e.lvtxt.text=t.hero.level,e.figthtxt.text=t.hero.fighting,e.ranktxt.text=Language.ins.qualifying_tip13+t.hero.rankId,+t.index%2==1?e.contentG.y=a:e.contentG.y=a+50,e.ranktxt.visible=!1,e.rankimg.visible=!0,1==t.hero.rankId?e.rankimg.source="tab_pws_d2":2==t.hero.rankId?e.rankimg.source="tab_pws_d3":3==t.hero.rankId?e.rankimg.source="tab_pws_d4":(e.ranktxt.visible=!0,e.rankimg.visible=!1)),void e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e))},t.prototype.showanimo=function(){var e=this;e.m_blresh=!1;var t=e.contentG;egret.Tween.removeTweens(t),t.scaleX=1,egret.Tween.get(t).to({scaleX:0},200).call(e.dataChanged,e).to({scaleX:1},200)},t.prototype.touchTapFun=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.qualifyingData,i=t.data;switch(e.target){case t.fightbtn:a.isCanFight()?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvs,i.hero.rankId,!0)):t.clickclearfun();break;case t.logoimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],i.hero.uid)}},t.prototype.clickclearfun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData.coolingTime;if(t>0){var a=new AlertVO;a.info=FormatString.format(Language.ins.fight_ti32),a.showCancel=!0,a.okLabel=Language.ins.game_ok,a.tipbl=!0,a.tipstr=Language.ins.fight_tip4,a.tipitemid=GlobalEnum.itemid_ug,a.tipcostid=ug_cost_type.fight_rich_clearcd,a.tipitemnum=ParamLoader.instance.ArenaCdCost,JAlert.show(a,Language.ins.fight_tip34,e.cleartime,e)}},t.prototype.cleartime=function(){var e=this,t=e.data;t&&GlobalAllProxy.getInstance().fightProxy.NetClearTimeRequest(1,t.hero.rankId)},t}(eui.ItemRenderer);__reflect(OpponentListRender.prototype,"OpponentListRender",["eui.UIComponent","egret.DisplayObject"]);var QualifyingRankRenderVO=function(){function e(){}return e}();__reflect(QualifyingRankRenderVO.prototype,"QualifyingRankRenderVO");var QualifyingRankRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.player.name,e.logoimg.setLogoUrl(t.player.logo),e.lvtxt.text=t.player.level,e.viptxt.text=FormatString.format(Language.ins.activity_tip20,t.player.vipLevel),e.figthtxt.text=t.player.fighting,e.rankimg.visible=!0,e.ranktxt.text=t.player.rankId,e.ranktxt.visible=!1,1==t.player.rankId?e.rankimg.source="tab_pws_a9":2==t.player.rankId?e.rankimg.source="tab_pws_a8":3==t.player.rankId?e.rankimg.source="tab_pws_b1":(e.rankimg.visible=!1,e.ranktxt.visible=!0)},t}(eui.ItemRenderer);__reflect(QualifyingRankRender.prototype,"QualifyingRankRender",["eui.UIComponent","egret.DisplayObject"]);var QualifyingRankrewardRenderVO=function(){function e(){}return e}();__reflect(QualifyingRankrewardRenderVO.prototype,"QualifyingRankrewardRenderVO");var QualifyingRankrewardRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.rankinfotxt.text=t.name},t}(eui.ItemRenderer);__reflect(QualifyingRankrewardRender.prototype,"QualifyingRankrewardRender",["eui.UIComponent","egret.DisplayObject"]);var QualifyingRecordRenderVO=function(){function e(){}return e}();__reflect(QualifyingRecordRenderVO.prototype,"QualifyingRecordRenderVO");var QualifyingRecordRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.player;e.logoimg.setLogoUrl(a.logo),e.lvtxt.text=a.level,e.nametxt.text=a.name,e.figthtxt.text=a.fighting,e.ranktxt.text=FormatString.format(Language.ins.qualifying_tip7,a.ranking),e.rank1txt.text=a.ranking+a.demotion,e.exchangebtn.label=Language.ins.btn_playback,0!=a.demotion?e.rank1txt.textColor="0xFF0000":e.rank1txt.textColor="0xFFFFFF",1==a.victory?e.typeimg.source="tab_pws_a1":e.typeimg.source="tab_pws_a2";var i="";if(a.challengeTime){var n=utils.GameComUtil.offlineTime(a.challengeTime);i=1>n?FormatString.format(Language.ins.friend_tip15,n):24>n?FormatString.format(Language.ins.friend_tip13,n):FormatString.format(Language.ins.friend_tip14,parseInt(""+n/24))}e.timetxt.text=i+"",e.exchangebtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetBattlefieldReportRequest(a.player.reportId)},t}(eui.ItemRenderer);__reflect(QualifyingRecordRender.prototype,"QualifyingRecordRender",["eui.UIComponent","egret.DisplayObject"]);var QualifyingRewardRenderVO=function(){function e(){}return e}();__reflect(QualifyingRewardRenderVO.prototype,"QualifyingRewardRenderVO");var QualifyingRewardRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.listGroup.setGroupGap(16),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT);var t=e.data;e.tiptxt.text=t.title,e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.enabled=!0,e.getbtn.visible=!0,e.getbtn.label="",utils.GameUtil.setColorGrey(e.wholegp,!1),0==t.iscanget?(e.getbtn.enabled=!1,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.getbtn.label=Language.ins.activity_tip41,utils.GameUtil.setColorGrey(e.wholegp,!0)):1==t.iscanget?(e.getedimg.visible=!1,e.tiphimg.visible=!0,e.getbtn.label=Language.ins.game_canling):2==t.iscanget&&(e.getbtn.visible=!1,e.getedimg.visible=!0,e.tiphimg.visible=!1,e.getbtn.enabled=!1,e.getbtn.label=Language.ins.month_tip1)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().fightProxy.NetQualifyingDailyRewardsRequest(0,a.limit)},t}(eui.ItemRenderer);__reflect(QualifyingRewardRender.prototype,"QualifyingRewardRender",["eui.UIComponent","egret.DisplayObject"]);var RankRenderVO=function(){function e(){}return e}();__reflect(RankRenderVO.prototype,"RankRenderVO");var RankRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=0,i="",n="",o="";if(t.type==vm.RankView.type_club){var r=t.vo;a=r.ranking,i=r.name,n=r.fighting,o=r.level,e.logoimg.setLogoUrl(r.logo)}else if(t.type==vm.RankView.type_fight){var r=t.vo;a=r.ranking,i=r.name,n=r.fighting,o=r.level,e.logoimg.setLogoUrl(r.logo)}else if(t.type==vm.RankView.type_achieve){var r=t.vo;a=r.ranking,i=r.name,n=r.fighting,o=r.level,e.logoimg.setLogoUrl(r.logo)}e.nametxt1.text=i,e.startxt1.text=n,e.maxtxt1.text=Language.ins.game_lv_s+o,e.tiptxt1.text=a.toString(),e.tiptxt1.visible=!1;var s="";1==a?(s="tab_jjsn_d7",e.lightimg.source="tab_ph_a2"):2==a?(s="tab_jjsn_d8",e.lightimg.source="tab_ph_a3"):3==a?(s="tab_jjsn_d9",e.lightimg.source="tab_ph_a4"):(e.lightimg.source="",e.tiptxt1.visible=!0);var l=ResName.getRankbg(a);e.bgimg.source=l,e.rankicon1.source=s},t}(eui.ItemRenderer);__reflect(RankRender.prototype,"RankRender",["eui.UIComponent","egret.DisplayObject"]);var RankRender2=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=(e.data,0),a="",i="",n="",o="";e.nametxt1.text=a,e.startxt1.text=i,e.maxtxt1.text=n,e.maxtxt2.text=o,e.tiptxt1.text=t.toString(),e.tiptxt1.visible=!1;var r="";1==t?r="tab_jjsn_d7":2==t?r="tab_jjsn_d8":3==t?r="tab_jjsn_d9":e.tiptxt1.visible=!0;var s=ResName.getRankbg(t);e.bgimg.source=s,e.rankicon1.source=r},t}(eui.ItemRenderer);__reflect(RankRender2.prototype,"RankRender2",["eui.UIComponent","egret.DisplayObject"]);var RichARender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeAllMc,this)},t.prototype.dataChanged=function(){var e,a=this,i=a.data;if(!i)return a.pbgimg.source="tab_jjsn_d2",a.findbtn.visible=!1,void(a.fightbtn.visible=!1);a.findbtn.visible=!0,e="tab_jjsn_c1",a.fightbtn.label=Language.ins.btn_challenge,a.nametxt.text=i.name,a.ptip1.text=Language.ins.rich_tip_17,a.zhanlitxt.text=Math.round(i.fighting)+"",a.scoretxt.text=i.score+"",a.ranktxt.text=i.rankid,a.pbgimg1.source="tab_jjsn_f"+(i.rankid-1),a.addEventListener(egret.TouchEvent.TOUCH_TAP,a.toggleChangeHandler,a),a.logoimg.setLogoUrl(i.logo),a.fightbtn.visible=!1,a.presultimg.visible=!1,a.ismyimg.visible=!1,a.bgmc.visible=!1;var n=!1;if(i.uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid)n=!0,a.ismyimg.visible=!0,a.pbgimg.source="tab_xzs_f3",a.bgmc.visible=!0;else{var o=!1;a.fightbtn.enabled=!0,a.fightbtn.label=Language.ins.rich_btn_1,i.playtype==t.play_type_init||(i.playtype==t.play_type_play?(a.fightbtn.label=Language.ins.rich_btn_2,o=!0):i.playtype==t.play_type_wait&&(a.fightbtn.enabled=!1,o=!0)),o?a.fightbtn.visible=!0:i.result?(a.presultimg.source=ResName.getResuleImgStr(i.result),a.presultimg.visible=!0,utils.GameUtil.setColorGrey(a.allG,!0)):(a.fightbtn.visible=!0,utils.GameUtil.setColorGrey(a.allG,!1)),i.isup||(e=i.isdown?i.result?"tab_jjsn_c9":"tab_jjsn_c2":i.result?"tab_jjsn_d5":"tab_jjsn_c1"),a.pbgimg.source=e}a.showArrowMc(n)},t.prototype.showArrowMc=function(e){void 0===e&&(e=!0);var t=this,a=t.bgguangG;if(a)if(egret.Tween.removeTweens(a),e){a.visible=!0;var i=.95,n=1.02;a.scaleX=i,a.scaleY=i,egret.Tween.get(a,{loop:!0}).to({scaleX:n,scaleY:n},400).to({scaleX:i,scaleY:i},400)}else a.visible=!1},t.prototype.removeAllMc=function(e){void 0===e&&(e=null);var t=this;t.showArrowMc(!1)},t.prototype.toggleChangeHandler=function(e){var a=this,i=a.data;if(i)switch(e.target){case a.findbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richfightinfo],{uid:i.uid,iszu:!0});break;case a.fightbtn:if(a.isopen()){if(i.playtype==t.play_type_play){var n=PanelDM.getIns();n.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvp])}else if(i.playtype==t.play_type_init){var o=GlobalAllProxy.getInstance().fightProxy.richdata.coolingTime;o>0?FLOAT.NShowPutong([Language.ins.rich_tip_16]):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvp,i.uid,!0))}break}FLOAT.NShowPutong([Language.ins.rich_tip_44])}},t.prototype.isopen=function(){var e=!0,t=ParamLoader.instance.ServerPeakStart,a=ParamLoader.instance.ServerPeakEnd,i=t.split(":"),n=a.split(":"),o=60*+i[0]*60+60*+i[1]+ +i[2],r=60*+n[0]*60+60*+n[1]+ +n[2],s=new Date(Global.systemTimeNum),l=60*s.getHours()*60+60*s.getMinutes()+s.getSeconds();return e=r>l||l>o?!0:!1},t.play_type_init=0,t.play_type_play=1,t.play_type_wait=2,t}(eui.ItemRenderer);__reflect(RichARender.prototype,"RichARender",["eui.UIComponent","egret.DisplayObject"]);var RichFightInfoRenderVO=function(){function e(){}return e}();__reflect(RichFightInfoRenderVO.prototype,"RichFightInfoRenderVO");var RichFightInfoRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.scoretxt2.text=Language.ins.rich_tip_18;var a=utils.GameComUtil.getTimeNewStr(t.time);e.scoretxt0.text=FormatString.format(Language.ins.title_rich_info_time,a),e.scoretxt1.text=FormatString.format(Language.ins.title_rich_info_time,t.blue),e.scoretxt3.text=FormatString.format(Language.ins.title_rich_info_time,t.red);var i=t.result.split(":"),n=Language.ins.game_bifen_c_text,o="",r="";+i[0]>+i[1]?(o="0x17FF00",r="0xFF0000"):+i[0]<+i[1]?(o="0xFF0000",r="0x17FF00"):(o="0xFF0000",r="0xFF0000"),e.scoretxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(n,o,i[0],r,i[1]))},t.prototype.getresuleBgStr=function(e){var t=e.split(":"),a="";if(t.length>1){var i=parseInt(t[0]),n=parseInt(t[1]);i>n?a="tab_jjsn_a3":i==n?a="tab_jjsn_a4":n>i&&(a="tab_jjsn_a5")}return a},t}(eui.ItemRenderer);__reflect(RichFightInfoRender.prototype,"RichFightInfoRender",["eui.UIComponent","egret.DisplayObject"]);var RichRankRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,t=e.data;e.nametxt.text=t.name,e.zhanlitxt.text=Math.round(t.fighting)+"",e.scoretxt.text=t.score+"",e.ranktxt.text=t.rankid,e.ranktxt.visible=!1;var a=parseInt(t.rankid),i="";1==a?i="tab_jjsn_d7":2==a?i="tab_jjsn_d8":3==a?i="tab_jjsn_d9":e.ranktxt.visible=!0;var n=ColorUtil.getRichRankCol(a);e.nametxt.textColor=n,e.rankicon.source=i,e.logoimg.setLogoUrl(t.logo),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.toggleChangeHandler,e);var o=ResName.getRankbg(a);e.bgimg.source=o;var r=GlobalConfig.getMathConfigVO(t.grade);e.logoimg0.source=r.icon},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;if(a)switch(e.target){case t.infoG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richfightinfo],{uid:a.uid})}},t}(eui.ItemRenderer);__reflect(RichRankRender.prototype,"RichRankRender",["eui.UIComponent","egret.DisplayObject"]);var RichRankReRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;Language.ins.achieve_tip0,e.nametxt.text="",0==e.itemIndex?(e.bgimg2.source="tab_jjsn_d7",e.bgimg.source="tab_jjsn_e1"):1==e.itemIndex?(e.bgimg2.source="tab_jjsn_d8",e.bgimg.source="tab_jjsn_e3"):2==e.itemIndex?(e.bgimg2.source="tab_jjsn_d9",e.bgimg.source="tab_jjsn_e2"):(e.bgimg2.source="",e.bgimg.source="",e.nametxt.text=t.namestr),e.iawardlist0.setGroupAlign("right"),e.iawardlist0.setDataArr(t.rewardlist,"",!1,!0)},t}(eui.ItemRenderer);__reflect(RichRankReRender.prototype,"RichRankReRender",["eui.UIComponent","egret.DisplayObject"]);var RichZuRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.namestr,e.logoimg.source=t.logo,e.iawardlist0.setGroupAlign("right"),e.iawardlist0.setDataArr(t.rewardlist,"",!1,!0),t.showChoose?(e.myrankG.visible=!0,e.bg1img.source="tab_xzs_j4"):(e.myrankG.visible=!1,e.bg1img.source="tab_jjsn_e4");var a=t.id-1e4;7==a?e.bgimg.source="tab_xzs_j1":6==a?e.bgimg.source="tab_xzs_j2":5==a?e.bgimg.source="tab_jjsn_a1":e.bgimg.source="tab_xzs_j3"},t}(eui.ItemRenderer);__reflect(RichZuRender.prototype,"RichZuRender",["eui.UIComponent","egret.DisplayObject"]);var ScoutHeroInfoPanel=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.m_initX=0/0,t.m_initY=0/0,t.skinName=ScoutHeroInfoSkin,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this);var t=this;t.touchEnabled=!1,t.infoitemG2.visible=!1,t.iscreat=!0,utils.GameComUtil.setToConter(t.infoheroG),t.showchange()},t.prototype.showchange=function(){var e=this;if(e.playerVO&&e.iscreat){e.tiptxt.text=Language.ins.scout_tip2,isNaN(e.m_initX)&&(e.m_initX=e.x,e.m_initY=e.y),e.x=e.m_initX,e.y=e.m_initY,e.showcarbl(!0),e.infoitemG2.visible=!1;var t=e.playerVO,a=GlobalConfig.getItemVo(t.playerItemId),i=GlobalConfig.getPlayerPorpertyVO(parseInt(a.parameter));if(e.heromask.visible=!1,i){e.heroicon.setData(i),e.infoheroG.visible=!1;var n=null,o=null;switch(e.m_carsound=GlobalSoundEffect.sound_recruitcarN,i["class"]){case playertrait.trait_R:n=ResName.fx_seekPlayer_blueCard,e.m_carsound=GlobalSoundEffect.sound_recruitcarR;break;case playertrait.trait_SR:n=ResName.fx_seekPlayer_purCard,o=ResName.mc_car_golden,e.m_carsound=GlobalSoundEffect.sound_recruitcarSR;break;case playertrait.trait_SSR:n=ResName.fx_seekPlayer_goldCard,o=ResName.mc_car_golden,e.m_carsound=GlobalSoundEffect.sound_recruitcarSSR;break;case playertrait.trait_UR:n=ResName.fx_seekPlayer_urCard,o=ResName.mc_car_golden,e.m_carsound=GlobalSoundEffect.sound_recruitcarSSR}var r=0,s=200;e.m_ismask&&(s=0),egret.setTimeout(e.animoplayerC,e,s,[r,n,o])}}},t.prototype.animoplayerC=function(e){var t=this,a=e[1],i=e[2],n=t.infoheroG;n.visible=!0;var o,r;i||t.m_ismask?(n.scaleX=1,n.scaleY=1):(n.scaleX=0,n.scaleY=0,TweenLite.to(n,.2,{scaleX:1,scaleY:1,ease:Back.easeOut})),a&&(o=a,r=utils.GameComUtil.getArmature(a,o,t),r&&(t.infoheromcupG.addChildAt(r),r.scaleX=r.scaleY=1.1,r.animation.play("effect",0))),i&&!t.m_ismask?(o=i,r=utils.GameComUtil.getArmature(i,o,t),r&&(t.infoheromcdownG.addChildAt(r),r.animation.play("effect",1),r.scaleX=r.scaleY=1.1),t.infoheromcupG.visible=!1,t.heroicon.visible=!1,egret.setTimeout(t.showMcWait,t,50)):t.showMcWait(),egret.setTimeout(t.showTipG,t,100),t.m_carsound&&SoundMgr.getInstance().PlayEffect(t.m_carsound)},t.prototype.showTipG=function(){var e=this;e.playerVO&&e.playerVO.returns&&(e.infoitemG2.visible=!0),e.touchChildren=!0},t.prototype.showMcWait=function(){var e=this;e.infoheromcupG.visible=!0,e.heroicon.visible=!0},t.prototype.setData=function(e,t,a,i){void 0===i&&(i=!1);var n=this;n.playerVO=e,n.m_index=t,n.m_ismask=i,n.infoview=a,this.iscreat&&this.showchange()},t.prototype.onHide=function(){for(var e,t,a=this,i=[ResName.fx_seekPlayer_urCard,ResName.fx_seekPlayer_goldCard,ResName.fx_seekPlayer_blueCard,ResName.fx_seekPlayer_purCard,ResName.mc_car_golden,ResName.mc_center_yizhang],n=0,o=i.length;o>n;n++)e=i[n],t=a[e],t&&(utils.GameComUtil.removeAnimoSelf(t),e==ResName.mc_center_yizhang&&t.removeEventListener(dragonBones.EventObject.FRAME_EVENT,a.playermc1,a))},t.prototype.showToBackPack=function(){var e=this;e.touchChildren=!1;var t=ResName.mc_center_yizhang,a=e.infoheroG;a.visible=!0;var i,n;t&&(i=t,n=utils.GameComUtil.getArmature(t,i,e),n&&(e.infoheromcdownG.addChildAt(n),n.animation.play("effect",1),n.addEventListener(dragonBones.EventObject.FRAME_EVENT,e.playermc1,e)))},t.prototype.showcarbl=function(e){var t=this;t.infoheromcupG.visible=e,t.heromask.visible=e,t.heroicon.visible=e},t.prototype.playermc1=function(e){var t=e,a=this,i=t.name;if(t.frameLabel&&(i=t.frameLabel),"end"==i&&(a.infoitemG2.visible=!1,a.showcarbl(!1)),"move"==i){var n=a.infoview.backpackimg;if(n){var o=a.scaleX,r=Math.floor(n.x-.5*(a.heroicon.width*o-n.width)),s=Math.floor(n.y-a.parent.y-.5*(a.heroicon.height*o-n.height));TweenLite.to(a,1,{x:r,y:s,ease:Back.easeIn,onComplete:a.moveoverfun.bind(a)})}}},t.prototype.moveoverfun=function(){var e=this;e.visible=!1},t}(eui.Component);__reflect(ScoutHeroInfoPanel.prototype,"ScoutHeroInfoPanel");var ScoutLibraryRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.chooseimg.visible=!1,t&&(e.nametxt.text=t.name,e.logoimg.source=t.icon,t.ischoose&&(e.chooseimg.visible=!0))},t}(eui.ItemRenderer);__reflect(ScoutLibraryRender.prototype,"ScoutLibraryRender",["eui.UIComponent","egret.DisplayObject"]);var ScoutMarketRenderVO=function(){function e(){}return e}();__reflect(ScoutMarketRenderVO.prototype,"ScoutMarketRenderVO");var ScoutMarketRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.getbtn.label=Language.ins.btn_exchange,t&&(e.heroicon.setData(t.vo),e.heroicon.showIsGet(),e.numtxt0.text=t.num,0==t.num?(e.itemG.visible=!1,e.overimg.visible=!0,utils.GameUtil.setColorGrey(e.heroicon,!0)):(e.itemG.visible=!0,e.overimg.visible=!1,utils.GameUtil.setColorGrey(e.heroicon,!1))),e.heroicon.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun1,e)},t.prototype.touchTapFun=function(){var e=this,t=e.data;if(t instanceof ScoutMarketRenderVO){var a=t.vo;if(a){var i=a.playerid,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(n,i,a,!0))}}},t.prototype.touchTapFun1=function(){var e=this,t=e.data;GlobalAllProxy.getInstance().playerProxy.NetScoutExchange(t.vo.playerid)},t}(eui.ItemRenderer);__reflect(ScoutMarketRender.prototype,"ScoutMarketRender",["eui.UIComponent","egret.DisplayObject"]);var ScoutUnlockRenderVO=function(){function e(){}return e}();__reflect(ScoutUnlockRenderVO.prototype,"ScoutUnlockRenderVO");var ScoutUnlockRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.ownimg.visible=!1,t&&(e.heroicon.setData(t.vo),t.isown&&(e.ownimg.visible=!0))},t}(eui.ItemRenderer);__reflect(ScoutUnlockRender.prototype,"ScoutUnlockRender",["eui.UIComponent","egret.DisplayObject"]);
var SecretaryEncyInfo=function(e){function t(){var a=e.call(this)||this;a._iscreat=!1;var i=a;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=i,a.skinName=SecretaryEncyInfoSkin,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata(),t.initAddEvent()},t.prototype.setData=function(e){var t=this;t.m_paneltype=e;var a=GlobalConfig.getSecretaryGuildVOArr(t.m_paneltype),i=136*a.length;return t._iscreat&&t.changedata(),i},t.prototype.changedata=function(){var e=this;if(e.m_paneltype){var t=GlobalConfig.getSecretaryGuildVOArr(e.m_paneltype);e.showData(t,!1)}},t.prototype.initAddEvent=function(){},t.prototype.removeAddEvent=function(){},t.prototype.eventchange=function(e,t){},t.prototype.touchTapFun=function(e){},t.prototype.onHide=function(e){utils.GameComUtil.removeListData(this.datalist)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SecretaryEncyInfoRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t.SINGLETON_MSG="SecretaryEncyInfo Singleton already constructed!",t}(eui.Component);__reflect(SecretaryEncyInfo.prototype,"SecretaryEncyInfo",["eui.UIComponent","egret.DisplayObject"]);var SecretaryEncyInfoRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.stargroup.setGroupGap(-6),t.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.nametxt.text=t.name2,e.lvtxt.text=t.des,e.stargroup.setDataArr(t.star,"tab_com_a1"),e.jumpbtn.visible=!1,e.jumpbtn.label=Language.ins.btn_goto,t.jumpid&&"0"!=t.jumpid&&(e.jumpbtn.visible=!0),e.item.setItemImg({path:t.icon}),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.jumpbtn:utils.GameComUtil.panelJump(a.jumpid,!0)}},t}(eui.ItemRenderer);__reflect(SecretaryEncyInfoRender.prototype,"SecretaryEncyInfoRender",["eui.UIComponent","egret.DisplayObject"]);var SecretaryEncyRenderVO=function(){function e(){}return e}();__reflect(SecretaryEncyRenderVO.prototype,"SecretaryEncyRenderVO");var SecretaryEncyRender=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.namtxt.text=t.namestr,t.ischoose){var a=SecretaryEncyInfo.getInstance(),i=a.setData(t.id);e.height=i+58,e.infoG.addChild(a),e.infoG.height=i,e.jianimg.source="tab_ms_b7"}else e.height=58,e.infoG.removeChildren(),e.jianimg.source="tab_ms_b6",e.infoG.height=0;e.itemicon.source=ResName.getMinItemIcon(t.itemid),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.bgimg:EventBus.sendMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,a.id)}},t}(eui.ItemRenderer);__reflect(SecretaryEncyRender.prototype,"SecretaryEncyRender",["eui.UIComponent","egret.DisplayObject"]);var SecretaryGrowRenderVO=function(){function e(){}return e}();__reflect(SecretaryGrowRenderVO.prototype,"SecretaryGrowRenderVO");var SecretaryGrowRender=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tiptxt.text=Language.ins.secretary_tip2,e.getbtn.label=Language.ins.game_canling_p,e.gobtn.label=Language.ins.btn_goto,t){var a="",i=t.iscom;a=i?"("+t.maxnum+"/"+t.maxnum+")":"("+t.curnum+"/"+t.maxnum+")",e.nametxt.text=t.name+a,e.destxt.textFlow=utils.GameComUtil.getHtmlText(t.des),e.getbtn.visible=!1,e.gobtn.visible=!1,e.itemlist.setDataArr(t.award,"",!1,!0),i?t.isget||(e.getbtn.visible=!0):t.jump&&"0"!=t.jump&&(e.gobtn.visible=!0),1==t.tasktype?e.typeimg.source="tab_ms_b3":e.typeimg.source="tab_ms_b2"}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.gobtn:utils.GameComUtil.panelJump(a.jump,!0);var i=GlobalConfig.getSecretaryTaskVO(a.id);GlobalAllProxy.getInstance().guideProxy.goTaskFollow(i.getTaskFollow());break;case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetCommitTask(a.id)}},t}(eui.ItemRenderer);__reflect(SecretaryGrowRender.prototype,"SecretaryGrowRender",["eui.UIComponent","egret.DisplayObject"]);var SecretaryReportRenderVO=function(){function e(){}return e}();__reflect(SecretaryReportRenderVO.prototype,"SecretaryReportRenderVO");var SecretaryReportRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.nametxt.text=t.name,e.destxt.text=t.des,e.timetxt.text=t.timestr)},t}(eui.ItemRenderer);__reflect(SecretaryReportRender.prototype,"SecretaryReportRender",["eui.UIComponent","egret.DisplayObject"]);var SetUpLogoCorRenderVO=function(){function e(){}return e}();__reflect(SetUpLogoCorRenderVO.prototype,"SetUpLogoCorRenderVO");var SetUpLogoCorRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.colRect.fillColor=t.colornum,e.lockimg.visible=t.id==t.otherchoose?!0:!1,e.chooseimg.visible=t.id==t.mychoose?!0:!1},t}(eui.ItemRenderer);__reflect(SetUpLogoCorRender.prototype,"SetUpLogoCorRender",["eui.UIComponent","egret.DisplayObject"]);var SetUpLogoRenderVO=function(){function e(){}return e}();__reflect(SetUpLogoRenderVO.prototype,"SetUpLogoRenderVO");var SetUpLogoRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.itemG.setImgWH(30,30),this.itemG.setHorizon(egret.HorizontalAlign.CENTER)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.logoimg.setLogoUrl(t.logostr,!1);var a="";t.namestr&&"0"!=t.namestr&&(a=t.namestr),e.nametxt.text=a,e.tipG0.visible=!1,e.tipG1.visible=!1,e.tiptxt.textColor=16777215,e.tiptxt.text="",!t.cost||t.isown||-1==t.cost?(e.tipG1.visible=!0,t.isown?(e.tiptxt.text=Language.ins.logo_tip1,e.tiptxt.textColor=130816):t.unlock&&"0"!=t.unlock?(e.tiptxt.text=t.unlock,e.tiptxt.textColor=16646144):e.tiptxt.text=Language.ins.logo_tip2):(e.tipG0.visible=!0,e.itemG.setIdAndText(GlobalEnum.itemid_ug,t.cost)),t.ischoose?e.bgimg.source="tab_dh_a2":e.bgimg.source="tab_dh_a1"},t}(eui.ItemRenderer);__reflect(SetUpLogoRender.prototype,"SetUpLogoRender",["eui.UIComponent","egret.DisplayObject"]);var ShareEveryRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,e=this,t=e.data;e.ugtxt.text=t.amount,e.nametxt.text=t.name,e.headAG.visible=!1,e.initimg.visible=!1,e.tipimg.visible=!1,e.defbtn.visible=!1,e.defimg.visible=!1,e.tipG.visible=!1;for(var a,i=0,n=t.receiveLists,o=GlobalConfig.shareinvitelevel_data,r=0,s=o.length;s>r&&(a=o[r],-1!=n.indexOf(a.id));r++);if(a&&(e.m_chooseid=a.id),null==t.logo){if(e.initimg.visible=!0,e.lvtxtA.text="",a&&a.lv&&(i=a.lv),a){var l=utils.GameComUtil.getItemVoArr(a.reward);l.length&&(e.ugimg.source=ResName.getMinItemIcon(l[0].itemid),e.ugtxt.text=l[0].count)}}else if(e.defbtn.visible=!0,e.defimg.visible=!0,e.headAG.visible=!0,e.logoimgA.setLogoUrl(t.logo),e.lvtxtA.text=t.level,a&&a.lv&&(i=a.lv),i&&(e.tipG.visible=!0),a){var l=utils.GameComUtil.getItemVoArr(a.reward);if(l.length){var p=t.level,c=a.lv;p>=c&&(e.tipimg.visible=!0),e.ugimg.source=ResName.getMinItemIcon(l[0].itemid),e.ugtxt.text=l[0].count,e.tiptxt.text=FormatString.format(Language.ins.share_tip7,p,c)}}e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.infoG:null!=a.logo&&GlobalAllProxy.getInstance().playerProxy.NetShareRewards(2,a.index,t.m_chooseid);break;case t.defimg:JAlert.showinfostr(Language.ins.share_tip8,Language.ins.share_tip9,t.deffun,t)}},t.prototype.deffun=function(e){var t=this,a=t.data;GlobalAllProxy.getInstance().playerProxy.NetShareRewards(4,a.index,0)},t}(eui.ItemRenderer);__reflect(ShareEveryRender.prototype,"ShareEveryRender",["eui.UIComponent","egret.DisplayObject"]);var ShareRegalRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.initG.visible=!1,e.infoG.visible=!1,e.tiptxt0.text=Language.ins.mark_tip2,e.tiptxt.text="",t&&null!=t.logo){e.numtxt.text="x"+t.amount,e.nametxt.text=t.name,e.infoG.visible=!0,e.logoimgA.setLogoUrl(t.logo),e.lvtxtA.text=t.level;var a=GlobalConfig.getShareInviteRichVOForNum(t.amount);a&&(e.tiptxt.text=a.des)}else e.initG.visible=!0,e.lvtxtA.text="",e.tiptxt.text=Language.ins.share_tip2},t}(eui.ItemRenderer);__reflect(ShareRegalRender.prototype,"ShareRegalRender",["eui.UIComponent","egret.DisplayObject"]);var ShopHotRenderVO=function(){function e(){}return e}();__reflect(ShopHotRenderVO.prototype,"ShopHotRenderVO");var ShopHotRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.numG.visible=!1,e.tiptxt.text=Language.ins.shop_tip18,e.numtxt.text=Language.ins.shop_tip0_d,t){var a=t.vo;if(e.nametxt.text=a.name,e.item.setIdAndNum(a.objectid,1,!1,0,!1,!1,!1),0!=a.buycycle)if(e.numtxt.visible=!0,a.sdes){e.numG.visible=!0;var i=GlobalAllProxy.getInstance().backpackProxy.getShopNum(a.id),n=Math.floor(a.sdes-i);0>n&&(n=0);var o=n+"/"+a.sdes,r=Language.ins.shop_tip0;1==a.buycycle?r=Language.ins.shop_tip0_d:2==a.buycycle?r=Language.ins.shop_tip0_z:3==a.buycycle&&(r=Language.ins.shop_tip0_m),e.numtxt.text=r,e.numtxt1.text=o,e.numG.visible=!0}else e.numtxt.text="";else e.numtxt.visible=!1,e.tipviptxt.visible=!1;0!=a.viplv?(e.tipviptxt.visible=!0,e.tipviptxt.text="v"+a.viplv):e.tipviptxt.visible=!1;var s=ResName.getMinItemIcon(a.costid);e.costimg.source=s,e.costtxt.text=a.price,e.tipG.visible=!1,a.desprice?(e.oldcosttxt.text=a.desprice,e.oldcostimg.source=s,e.oldline.visible=!0,e.oldcostG.visible=!0):(e.oldline.visible=!1,e.oldcostG.visible=!1),t.issever?(e.bgimg.source="tab_sc_a9",e.tipicon.source="tab_sc_a8"):(a.hot&&(e.tipicon.source="tab_sc_a6"),e.bgimg.source="tab_sc_a1")}},t}(eui.ItemRenderer);__reflect(ShopHotRender.prototype,"ShopHotRender",["eui.UIComponent","egret.DisplayObject"]);var ShopMoneyRenderVO=function(){function e(){}return e}();__reflect(ShopMoneyRenderVO.prototype,"ShopMoneyRenderVO");var ShopMoneyRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=24;this.comitem.setImgWH(t,t)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.tiptxt.text=Language.ins.shop_tip18,e.numtxt.text=Language.ins.shop_tip19,t){var a=t.vo;e.nametxt.text=a.name,e.item.setItemImg({path:a.icon});var i=FormatString.format(PFAll.isRussiaVK()?Language.ins.russia_vk_recharge:Language.ins.shop_tip29,a.chargenum);e.costtxt.text=i,e.tipG.visible=!1,e.numtxt.visible=!1}},t}(eui.ItemRenderer);__reflect(ShopMoneyRender.prototype,"ShopMoneyRender",["eui.UIComponent","egret.DisplayObject"]);var ShopPayRenderVO=function(){function e(){}return e}();__reflect(ShopPayRenderVO.prototype,"ShopPayRenderVO");var ShopPayRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.touchEnabled=!0,e.touchChildren=!0,e.giveG.visible=!1,e.doubG.visible=!1,e.tipimg.visible=!1,e.tip0img.visible=!1,e.bgimg.source="tab_cz_a1";var a=GlobalAllProxy.getInstance().playerProxy.vipData;if(t){var i=t.vo;if(e.nametxt.text=i.name,Global.severNE==Global.severNE_wanba&&2==PFAll.game_platform)e.numtxt.text=10*i.chargenum+Language.ins.shop_tip16;else{var n=FormatString.format(PFAll.isRussiaVK()?Language.ins.russia_vk_recharge:Language.ins.shop_tip29,i.chargenum);e.numtxt.text=n}if(e.itemimg.source=i.icon,1==t.type){if(a){var o=!1;if(i.limitime){var r=a.getPayBuyTime(i.id);r<i.limitime&&(o=!0)}o?+i.extra&&(e.giveG.visible=!0,e.givetip.text=Language.ins.shop_tip7,e.givenum.text=i.extra+Language.ins.game_ug_s,e.doubG.visible=!0):+i.normalextra&&(e.giveG.visible=!0,e.givetip.text=Language.ins.shop_tip8,e.givenum.text=i.normalextra+Language.ins.game_ug_s)}}else if(2==t.type&&(e.giveG.visible=!0,e.givenum.text="",1==+t.vo.buytimes&&a&&a.monthCard))for(var s=GlobalAllProxy.getInstance().playerProxy.vipData.monthCard,l=s.length,p=0;l>p;p++)s[p].type==t.vo.id&&-1==s[p].numDays&&(e.tipimg.visible=!0,e.tip0img.visible=!0,e.bgimg.source="tab_cz_d6",e.touchEnabled=!1,e.touchChildren=!1)}},t}(eui.ItemRenderer);__reflect(ShopPayRender.prototype,"ShopPayRender",["eui.UIComponent","egret.DisplayObject"]);var ShopSaleRenderVO=function(){function e(){}return e}();__reflect(ShopSaleRenderVO.prototype,"ShopSaleRenderVO");var ShopSaleRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.nametxt.text=t.vo.name,e.isbuyimg.visible=t.isbuynum,e.priceG.visible=!t.isbuynum),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=t.data;switch(a){case t.iconimg:var n=utils.GameComUtil.getItemVoArr(i.vo.exreward);utils.GameComUtil.ShowTip(t.iconimg,null,game.TipSimpleObject.type_awardarr,n)}Language.ins.activity_tip0},t}(eui.ItemRenderer);__reflect(ShopSaleRender.prototype,"ShopSaleRender",["eui.UIComponent","egret.DisplayObject"]);var SignChooseRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.tiptxt.visible=!1,e.nametxt.visible=!1,e.tiptxt.text=Language.ins.login_tip3;var t=e.data;if(t){e.comtxt.text=FormatString.format(Language.ins.login_tip0,t.svrId,t.name);var a=ResName.sever_stata_arr;e.iconimg.source=a[parseInt(t.status)];var i=GlobalAllProxy.getInstance().gameProxy.severlistData;if(i)for(var n,o=i.lastLogin,r=0,s=o.length;s>r;r++)if(n=o[r],+n.serverid==+t.svrId){n.username&&n.level&&(e.nametxt.visible=!0,e.nametxt.text=n.username);break}}},t}(eui.ItemRenderer);__reflect(SignChooseRender.prototype,"SignChooseRender",["eui.UIComponent","egret.DisplayObject"]);var SGameListSeverVO=function(){function e(){}return e}();__reflect(SGameListSeverVO.prototype,"SGameListSeverVO");var SignChooseRender1=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.getCurrentState=function(){return e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.comtxt.text=FormatString.format(Language.ins.login_tip1,t.downnum,t.upnum),e.bgimg.source=t.ischoose?"tab_xzfq_a6":"tab_xzfq_a7"},t}(eui.ItemRenderer);__reflect(SignChooseRender1.prototype,"SignChooseRender1",["eui.UIComponent","egret.DisplayObject"]);var TacticsForma1Group=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.playerSArr=[],t.touchEnabled=!1,t.touchChildren=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e,t){var a=this;a.studyid=t,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e,t,a=this;if(a.studyid&&(t=GlobalAllProxy.getInstance().playerProxy.tacticsData.getStudyLevel(a.studyid),e=GlobalConfig.getTacticstoPorPertyVO(a.studyid,t)),a.studyid){var i=e.ttype==game.ComTacticsPorVO.ttype_act,n=a.studyid%10;switch(a.setimgVisible(a.jianL,!1),a.setimgVisible(a.jianR,!1),a.setimgVisible(a.jianC,!1),a.setimgVisible(a.qiangL,!1),a.setimgVisible(a.qiangR,!1),a.setimgVisible(a.qiangC,!1),a.setimgVisible(a.qiangT,!1),n){case GlobalEnum.studyAL:i?a.setimgVisible(a.jianL,!0):a.setimgVisible(a.qiangL,!0);break;case GlobalEnum.studyAR:i?a.setimgVisible(a.jianR,!0):a.setimgVisible(a.qiangR,!0);break;case GlobalEnum.studyAC:i?a.setimgVisible(a.jianC,!0):a.setimgVisible(a.qiangC,!0);break;case GlobalEnum.studyAT:i?(a.setimgVisible(a.jianL,!0),a.setimgVisible(a.jianR,!0)):a.setimgVisible(a.qiangT,!0)}a.jianG.visible=!0}else a.jianG.visible=!1},t.prototype.setimgVisible=function(e,t){var a=this;utils.GameComUtil.setVisibleHitPanel(e,a.jianG,t)},t}(eui.Component);__reflect(TacticsForma1Group.prototype,"TacticsForma1Group");var TacticsFormaGroup=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.playerSArr=[],t.touchEnabled=!1,t.touchChildren=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e,t,a,i){void 0===a&&(a=!1);var n=this;n.formaid=e,n.studyid=t,n.showdef=a,n.studyiddef=i,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e,t,a=this,i=[415,338,271,208,139,51];if(!a.showdef)if(a.studyid&&(t=GlobalAllProxy.getInstance().playerProxy.tacticsData.getStudyLevel(a.studyid),e=GlobalConfig.getTacticstoPorPertyVO(a.studyid,t)),a.formaid){a.playerG.visible=!0;var n,o,r,s,l,p,c=GlobalConfig.getFormationVO(a.formaid),u=c.getlocationsArr(),m=this.playerSArr,g=70,_=.5*(a.playerG.width-5*g),h=[],d=0;if(a.studyid){var y=GlobalConfig.getTacticstoFormationVO(a.studyid,a.formaid);h=y.getlocationsArr(),d=e.porperty/h.length*.01}for(var v,f=0,b=u.length;b>f;f++)n=parseInt(u[f]),o=n%10,r=Math.floor(.1*n),m[f]?s=m[f]:(s=new TacticsPlayer,m[f]=s),s.y=i[r],s.x=_+g*(o-1),a.playerG.addChild(s),l=Language.ins.studyNameArr[r],p=GlobalEnum.studyColArr[r],v=null,-1!=h.indexOf(n.toString())&&(v=d.toFixed(0)+"%"),s.setData(l,p,v)}else a.playerG.visible=!1;if(a.studyid||a.showdef){var G,x;a.setimgVisible(a.jianL,!1),a.setimgVisible(a.jianR,!1),a.setimgVisible(a.jianC,!1),a.setimgVisible(a.qiangL,!1),a.setimgVisible(a.qiangR,!1),a.setimgVisible(a.qiangC,!1),a.setimgVisible(a.qiangT,!1),a.showdef?(x=a.studyid%10,a.showstudyinfo(x,!0),x=a.studyiddef%10,a.showstudyinfo(x,!1)):(G=e.ttype==game.ComTacticsPorVO.ttype_act,x=a.studyid%10,a.showstudyinfo(x,G)),a.jianG.visible=!0}else a.jianG.visible=!1},t.prototype.showstudyinfo=function(e,t){var a=this;switch(e){case GlobalEnum.studyAL:t?a.setimgVisible(a.jianL,!0):a.setimgVisible(a.qiangL,!0);break;case GlobalEnum.studyAR:t?a.setimgVisible(a.jianR,!0):a.setimgVisible(a.qiangR,!0);break;case GlobalEnum.studyAC:t?a.setimgVisible(a.jianC,!0):a.setimgVisible(a.qiangC,!0);break;case GlobalEnum.studyAT:t?(a.setimgVisible(a.jianL,!0),a.setimgVisible(a.jianR,!0)):a.setimgVisible(a.qiangT,!0)}},t.prototype.setimgVisible=function(e,t){var a=this;utils.GameComUtil.setVisibleHitPanel(e,a.jianG,t)},t}(eui.Component);__reflect(TacticsFormaGroup.prototype,"TacticsFormaGroup");var TacticsFormaRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo;e.choosetxt.text=Language.ins.tactics_tip_4,e.lookbtn.label=Language.ins.btn_ship_look,e.nametxt.text=a.name,e.lvtxt.text=Language.ins.game_lv_s+t.lv.toString();var i="";e.zhanliG.visible=!1,t.ischoose&&(e.zhanliG.visible=!0,i=t.zhanli.toString()),e.zhanlitxt.text=i,e.chooseG.visible=t.ischoose;var n=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();a.unlocklv<=n?(e.lockG.visible=!1,e.lookbtn.visible=!0):(e.lockG.visible=!0,e.lookbtn.visible=!1),e.formaimg.source="tab_zs_e"+a.icon;var o=FormatString.format(Language.ins.tactics_tip_12,Language.ins.name_tactics,a.unlocklv);e.locktxt.text=o,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.toggleChangeHandler,e)},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;if(a)switch(e.target){case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsformainfo],{data:a})}},t}(eui.ItemRenderer);__reflect(TacticsFormaRender.prototype,"TacticsFormaRender",["eui.UIComponent","egret.DisplayObject"]);var TacticsFormaUpRanderVO=function(){function e(){}return e}();__reflect(TacticsFormaUpRanderVO.prototype,"TacticsFormaUpRanderVO");var TacticsFormaUpRander=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a),this.touchChildren=!1,this.touchEnabled=!0},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t.namestr?e.nametxt.text=t.namestr:e.nametxt.text="",t.prostr?e.tiptxt.text=t.prostr:e.tiptxt.text="",t.num){var a=(.01*t.num).toFixed(1)+"%";e.numtxt.text=a}else e.numtxt.text="0%";if(t.add&&t.add>0){var i="+"+(.01*t.add).toFixed(1)+"%";e.addtxt.text=i}else e.addtxt.text="+0%"},t}(eui.ItemRenderer);__reflect(TacticsFormaUpRander.prototype,"TacticsFormaUpRander",["eui.UIComponent","egret.DisplayObject"]);var TacticsPlayer=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=TacticsPlayerSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e,t,a){var i=this;i.m_name=e,i.m_img=t,i.m_addstr=a,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this;e.m_addstr?(e.addG.visible=!0,e.numtxt.text=e.m_addstr):e.addG.visible=!1,e.m_name&&e.m_img?(e.playerG.visible=!0,e.nametxt.text=e.m_name,e.playbgimg.source=e.m_img):e.playerG.visible=!1},t}(eui.Component);__reflect(TacticsPlayer.prototype,"TacticsPlayer");var TacticsStudyRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo;e.choosetxt.text=Language.ins.tactics_tip_4,e.fightbtn.label=Language.ins.btn_ship_look,e.nametxt.text=a.tname,e.lvtxt.text=Language.ins.game_lv_s+t.lv,e.chooseG.visible=t.ischoose,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.toggleChangeHandler,e);var i=a.tid%10,n=a.ttype==game.ComTacticsPorVO.ttype_act;switch(e.setimgVisible(e.jianL,!1),e.setimgVisible(e.jianR,!1),e.setimgVisible(e.jianC,!1),e.setimgVisible(e.qiangL,!1),e.setimgVisible(e.qiangR,!1),e.setimgVisible(e.qiangC,!1),e.setimgVisible(e.qiangT,!1),i){case GlobalEnum.studyAL:n?e.setimgVisible(e.jianL,!0):e.setimgVisible(e.qiangL,!0);break;case GlobalEnum.studyAR:n?e.setimgVisible(e.jianR,!0):e.setimgVisible(e.qiangR,!0);break;case GlobalEnum.studyAC:n?e.setimgVisible(e.jianC,!0):e.setimgVisible(e.qiangC,!0);break;case GlobalEnum.studyAT:n?(e.setimgVisible(e.jianL,!0),e.setimgVisible(e.jianR,!0)):e.setimgVisible(e.qiangT,!0)}},t.prototype.setimgVisible=function(e,t){var a=this;utils.GameComUtil.setVisibleHitPanel(e,a.jianG,t)},t.prototype.toggleChangeHandler=function(e){var t=this,a=t.data;if(a)switch(e.target){case t.fightbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsstudyinfo,a.id])}},t}(eui.ItemRenderer);__reflect(TacticsStudyRender.prototype,"TacticsStudyRender",["eui.UIComponent","egret.DisplayObject"]);var DayTaskRenderVO=function(){function e(){}return e}();__reflect(DayTaskRenderVO.prototype,"DayTaskRenderVO");var DayTaskRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(e.getbtn.label=Language.ins.game_canling_p,e.gobtn.label=Language.ins.btn_goto,t){e.tiptxt0.text=Language.ins.game_isdown;var a="",i=!1,n="";if(t.curnum>=t.maxnum){i=!0;var o="0xffffff";a="("+t.maxnum+"/"+t.maxnum+")",n=FormatString.format(Language.ins.game_col,o,a)}else{var o="0x9d9d9d";a="("+t.curnum+"/"+t.maxnum+")",n=FormatString.format(Language.ins.game_col,o,a)}var r=("+"+t.addnum+Language.ins.task_tip2,t.name+n);if(e.nametxt.textFlow=utils.GameComUtil.getHtmlText(r),e.destxt.text=t.des,e.getbtn.visible=!1,e.gobtn.visible=!1,e.reallyG.visible=!1,t.award&&t.award[0]){var s=GlobalConfig.getItemVo(t.award[0].itemid);e.coinimg.source=GlobalEnum.getSmalIconName(s.icon),e.cointxt.text=s.name+"+"+t.award[0].count,e.cointxt0.textFlow=utils.GameComUtil.getHtmlText(Language.ins.task_tip2+"+"+t.addnum),e.iteminfo=s}e.item.setItemImg({path:t.iconimg}),i?t.isget?e.reallyG.visible=!0:e.getbtn.visible=!0:t.jump&&"0"!=t.jump&&(e.gobtn.visible=!0)}var l;GlobalAllProxy.getInstance().playerProxy.clubData;t.lv&&"0"!=t.lv&&(l=t.lv.split(","));var p=0,c=0;l&&(p=parseInt(l[0]),c=parseInt(l[1]));var u,m;switch(p){case unlock_type.level:u=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,m=Language.ins.guide_tip2;break;case unlock_type.pve_check:u=GlobalAllProxy.getInstance().playerProxy.playerinfo.getPveCheck(),m=Language.ins.guide_tip5}if(c>u){e.lockgp.visible=!0;var g=FormatString.format(m,c);e.destxt0.text=g,utils.GameUtil.setColorGrey(e.wholegp,!0),e.gobtn.visible=!1}else e.lockgp.visible=!1,utils.GameUtil.setColorGrey(e.wholegp,!1);e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.gobtn:utils.GameComUtil.panelJump(a.jump,!0);var i=GlobalConfig.getActiveVO(a.id);GlobalAllProxy.getInstance().guideProxy.goTaskFollow(i.getTaskFollow());break;case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetDailyGetTypeReward(a.id);break;case t.item1gp:t.clickitemA();break;case t.item2gp:t.clickitemB()}},t.prototype.clickitemA=function(){var e=this,t=e.iteminfo;if(t){var a=0,i=0;i=game.TipSimpleObject.type_item,a=t.objectid,utils.GameComUtil.ShowTip(e.item1gp,a,i,t)}},t.prototype.clickitemB=function(){var e=this,t=GlobalConfig.getItemVo(GlobalEnum.itemid_daytasknum);if(t){var a=0,i=0;i=game.TipSimpleObject.type_item,a=t.objectid,utils.GameComUtil.ShowTip(e.item2gp,a,i,t)}},t}(eui.ItemRenderer);__reflect(DayTaskRender.prototype,"DayTaskRender",["eui.UIComponent","egret.DisplayObject"]);var TechBookStudyInfoRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;if(t){var a=t.exp,i=t.addexp,n=a+i,o=GlobalAllProxy.getInstance().playerProxy.scienceData,r=o.getLastTime(),s=(Math.floor(n*r/ParamLoader.instance.Serverresearchtime),Language.ins.equip_tpyes[t.booktype-1]);e.tiptxt1.text=FormatString.format(Language.ins.tech_book_tip7,a,s),e.tiptxt2.text=FormatString.format(Language.ins.tech_book_tip8,n,i);var l=GlobalConfig.getTechBookVO(t.booklv,t.bookgrade,t.booktype);e.item.setitemdata(l,!0)}},t}(eui.ItemRenderer);__reflect(TechBookStudyInfoRender.prototype,"TechBookStudyInfoRender",["eui.UIComponent","egret.DisplayObject"]);var TechEquipQualityRenderVO=function(){function e(){}return e}();__reflect(TechEquipQualityRenderVO.prototype,"TechEquipQualityRenderVO");var TechEquipQualityRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.vo;e.infotxt.textFlow=utils.GameComUtil.getHtmlText(a.des),e.downimg.visible=t.isdown?!0:!1;for(var i,n=t.showarr,o=n.length,r=ResName.equip_tao_arr,s=0;2>s;s++)o>s?(i=n[s],e["infoG"+s].visible=!0,e["infotxt"+s].text=i.curnum+"/"+i.allnum,e["infoimg"+s].source=r[i.quality-1]):e["infoG"+s].visible=!1;e.bgimg1.visible=!1,e.bgimg2.visible=!1,t.isdown?e.bgimg2.visible=!0:e.bgimg1.visible=!0},t}(eui.ItemRenderer);__reflect(TechEquipQualityRender.prototype,"TechEquipQualityRender",["eui.UIComponent","egret.DisplayObject"]);var TechRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.getCurrentState=function(){var t=this,a=t.data;return a&&!a.needchoose&&this.item.setChooseBl(this.selected),e.prototype.getCurrentState.call(this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t?(e.touchEnabled=!0,e.item.setitemdata(t,!0),t.needchoose&&e.item.setChooseBl(t.ischoose)):(e.item.setChooseBl(!1),e.touchEnabled=!1,e.item.setitemdata(null))},t}(eui.ItemRenderer);__reflect(TechRender.prototype,"TechRender",["eui.UIComponent","egret.DisplayObject"]);var TechTitleRenderVO=function(){function e(){}return e}();__reflect(TechTitleRenderVO.prototype,"TechTitleRenderVO");var TechTitleRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=t.eid,i=GlobalConfig.getEquipStrengThenVO(a,t.level),n=GlobalConfig.getEquipQualityVO(a,t.quality);e.enametxt.text=n.name,e.eitem.setitemdata(t,!1,0,!1,!1,!0,!1,!0),e.ebar.setValue(Math.floor(t.exp-i.minexp),i.exp),e.elvtxt.text=Language.ins.game_lv_s_nodian+t.level
},t}(eui.ItemRenderer);__reflect(TechTitleRender.prototype,"TechTitleRender",["eui.UIComponent","egret.DisplayObject"]);var TitleRenderVO=function(){function e(){}return e}();__reflect(TitleRenderVO.prototype,"TitleRenderVO");var TitleRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.getbtn.label=Language.ins.tech_book_tip20,e.getbtn.txticon="btn_common_b4",e.getbtn0.label=Language.ins.title_tip_9,e.getbtn0.txticon="btn_common_2",e.getbtn1.label=Language.ins.activity_tip42,e.upftxt.text=Language.ins.title_tip_13,e.tipneedtxt.text=Language.ins.title_tip_14,e.tiptxt.text=Language.ins.title_tip_15,e.tiptitletxt.text=Language.ins.title_tip_16,e.itemneedtxt.text=Language.ins.title_tip_17,e.needtxt.text="",e.tiphimg.visible=!1,e.fighttxt.text=0;var a=GlobalAllProxy.getInstance().playerProxy.titledata;if(a&&a.club){var i;a.club;if(-1!=t.lv){e.initG.visible=!0,e.noG.visible=!1,0!=t.lv?(i=GlobalConfig.getTitleVO(t.titletype,t.lv),e.getbtn.visible=!1,e.getbtn0.visible=!0,e.getbtn1.visible=!1):(i=GlobalConfig.getTitleVO(t.titletype,t.lv+1),t.titlestyle==GlobalEnum.title_titlestyle_putong?(e.getbtn.visible=!0,e.getbtn0.visible=!1,e.getbtn1.visible=!1):(e.getbtn.visible=!1,e.getbtn0.visible=!1,e.getbtn1.visible=!0)),i&&(e.iconimg.source=i.icon),e.fighttxt.text=t.fightnum;var n=GlobalConfig.getTitleVO(t.titletype,t.lv+1);if(n)if(e.tiptxt.visible=!1,e.itemneedtxt0.visible=!1,t.titlestyle==GlobalEnum.title_titlestyle_putong){e.needitemG.visible=!0;var o=utils.GameComUtil.getItemVoArr(n.cost);o&&(e.itemimg.source=ResName.getMinItemIcon(o[0].itemid),e.numtxt.text=o[0].count);var r=e.gettype(n.conditiontype);0==r?(e.itemimg0.visible=!1,e.needtxt.text=""):(e.itemimg0.visible=!0,e.itemimg0.source=ResName.getMinItemIcon(r),e.needtxt.text=n.des);var s=e.getneedarr(n);if(s&&t.titlestyle==GlobalEnum.title_titlestyle_putong){var l=CostItemRender.getItemOkArr(s);e.tiphimg.visible=l?!0:!1,l&&(e.getbtn.label=Language.ins.title_tip_11,e.getbtn.txticon="btn_common_1",e.getbtn0.label=Language.ins.title_tip_10,e.getbtn0.txticon="btn_common_1")}}else if(0==t.lv)e.needitemG.visible=!1,e.itemneedtxt0.visible=!0,e.itemneedtxt0.text=n.des;else{e.needitemG.visible=!0,e.itemneedtxt0.visible=!1,e.itemimg0.visible=!1;var o=utils.GameComUtil.getItemVoArr(n.cost);o&&(e.itemimg.source=ResName.getMinItemIcon(o[0].itemid),e.numtxt.text=o[0].count);var r=e.gettype(n.conditiontype);0==r?(e.itemimg0.visible=!1,e.needtxt.text=""):(e.itemimg0.visible=!0,e.itemimg0.source=ResName.getMinItemIcon(r),e.needtxt.text=n.des);var s=e.getneedarr(n);if(s){var l=CostItemRender.getItemOkArr(s);e.tiphimg.visible=l?!0:!1,l&&(e.getbtn0.label=Language.ins.title_tip_10,e.getbtn0.txticon="btn_common_1")}}else e.needitemG.visible=!1,e.tiptxt.visible=!0,e.itemneedtxt0.visible=!1,e.tiphimg.visible=!1,e.getbtn.visible=!1,e.getbtn0.visible=!1}else e.initG.visible=!1,e.noG.visible=!0}e.getbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.getbtn0.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun0,e),e.getbtn1.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun1,e)},t.prototype.touchTapFun1=function(e){var t=this,a=t.data,i=GlobalConfig.getTitleVO(a.titletype,a.lv),n=i.jump.split(",");PanelDM.getIns().goWindow(n)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;EventBus.sendMessage(game.GameCommands.TITLE_DETAILSPANEL,a.titletype)},t.prototype.touchTapFun0=function(e){var t=this,a=t.data;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_title_advanced],a.titletype)},t.prototype.getneedarr=function(e){var t=[],a=new game.ComItemGroupVo;switch(t=utils.GameComUtil.getItemVoArr(e.cost),e.conditiontype){case GlobalEnum.title_conditiontype_1:a.itemid=GlobalEnum.itemid_tourmatch;break;case GlobalEnum.title_conditiontype_2:a.itemid=GlobalEnum.itemid_promotionmatch;break;case GlobalEnum.title_conditiontype_3:a.itemid=GlobalEnum.itemid_dekaron;break;case GlobalEnum.title_conditiontype_4:a.itemid=GlobalEnum.itemid_achievementlv;break;case GlobalEnum.title_conditiontype_5:a.itemid=GlobalEnum.itemid_fighting;break;case GlobalEnum.title_conditiontype_7:a.itemid=GlobalEnum.itemid_equipmentquality;break;case GlobalEnum.title_conditiontype_8:a.itemid=GlobalEnum.itemid_playerstarty;break;case GlobalEnum.title_conditiontype_11:a.itemid=GlobalEnum.itemid_peakseason;break;case GlobalEnum.title_conditiontype_12:a.itemid=GlobalEnum.itemid_clublv;break;case GlobalEnum.title_conditiontype_13:a.itemid=GlobalEnum.itemid_playerquality;break;case GlobalEnum.title_conditiontype_14:a.itemid=GlobalEnum.itemid_clubgrade}return 0!=e.conditiontype&&e.conditiontype!=GlobalEnum.title_conditiontype_5001?(a.count=e.pram1,a.addnum=e.pram2,a.addnum2=e.des,t.push(a)):e.conditiontype==GlobalEnum.title_conditiontype_5001&&(t=[]),t},t.prototype.gettype=function(e){var t=0;switch(e){case GlobalEnum.title_conditiontype_1:t=GlobalEnum.itemid_tourmatch;break;case GlobalEnum.title_conditiontype_2:t=GlobalEnum.itemid_promotionmatch;break;case GlobalEnum.title_conditiontype_3:t=GlobalEnum.itemid_dekaron;break;case GlobalEnum.title_conditiontype_4:t=GlobalEnum.itemid_achievementlv;break;case GlobalEnum.title_conditiontype_5:t=GlobalEnum.itemid_fighting;break;case GlobalEnum.title_conditiontype_7:t=GlobalEnum.itemid_equipmentquality;break;case GlobalEnum.title_conditiontype_8:t=GlobalEnum.itemid_playerstarty;break;case GlobalEnum.title_conditiontype_11:t=GlobalEnum.itemid_peakseason;break;case GlobalEnum.title_conditiontype_12:t=GlobalEnum.itemid_clublv;break;case GlobalEnum.title_conditiontype_13:t=GlobalEnum.itemid_playerquality;break;case GlobalEnum.title_conditiontype_14:t=GlobalEnum.itemid_clubgrade}return t},t}(eui.ItemRenderer);__reflect(TitleRender.prototype,"TitleRender",["eui.UIComponent","egret.DisplayObject"]);var TrainBerachPlayer=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t.skinName=TrainBerachPlayerSkin,t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.state=t.state_init,this.showchange()},t.prototype.setData=function(e,t){var a=this;a.index=e,a.state=t,this.iscreat&&this.showchange()},t.prototype.isCanOpen=function(){return this.state==t.state_can},t.prototype.showchange=function(){var e=this;if(e.bgimg.visible=!1,e.addimg.visible=!1,e.boyimg.visible=!1,e.posbg.visible=!1,e.postxt.visible=!1,e.index){var a=e.index-1,i=Language.ins.degree_names[a];switch(e.postxt.text=i,e.state){case t.state_init:e.bgimg.visible=!0;break;case t.state_can:e.bgimg.visible=!0,e.addimg.visible=!0,e.posbg.visible=!0,e.postxt.visible=!0;break;case t.state_really:e.bgimg.visible=!1,e.boyimg.visible=!0,e.posbg.visible=!0,e.postxt.visible=!0,e.boyimg.source=ResName.getRankPlayerbg(e.index,!1,!1,!0)}var n=e.index;e.posbg.source=e.geturl(n)}},t.prototype.geturl=function(e){var t="";switch(e){case playerlocation.location_1:t="tab_tp_a6";break;case playerlocation.location_2:case playerlocation.location_3:case playerlocation.location_4:case playerlocation.location_5:case playerlocation.location_6:case playerlocation.location_7:case playerlocation.location_8:case playerlocation.location_9:case playerlocation.location_10:t="tab_tp_c4";break;case playerlocation.location_11:case playerlocation.location_12:case playerlocation.location_13:t="tab_tp_a7";break;case playerlocation.location_14:t="tab_tp_a5"}return t},t.state_init=0,t.state_can=1,t.state_really=2,t}(eui.Component);__reflect(TrainBerachPlayer.prototype,"TrainBerachPlayer");var TrainBreachPitch=function(e){function t(){var t=e.call(this)||this;return t.iscreat=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.iscreat=!0,this.showchange()},t.prototype.setData=function(e){var t=this;t.choosePlayerId=e,this.iscreat&&this.showchange()},t.prototype.showchange=function(){var e=this,t=[],a=[];if(e.choosePlayerId){var i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e.choosePlayerId);if(i){var n=GlobalConfig.getLocationexpandVO(i.location),o=n.expandlocations;t=o.concat([i.location]),a=i.getlogArr()}}utils.GameComUtil.ArrayToChange(t),utils.GameComUtil.ArrayToChange(a);for(var r,s,l=1;14>=l;l++)r=e["berach"+l],s=-1!=t.indexOf(l)?-1!=a.indexOf(l)?TrainBerachPlayer.state_really:TrainBerachPlayer.state_can:TrainBerachPlayer.state_init,r.setData(l,s)},t}(eui.Component);__reflect(TrainBreachPitch.prototype,"TrainBreachPitch");var TrainChooseRenderVO=function(){function e(){}return e}();__reflect(TrainChooseRenderVO.prototype,"TrainChooseRenderVO");var TrainChooseRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.luckbar.ShowLabel=!0,t.degreeG.setGroupAlign(egret.HorizontalAlign.LEFT),t.stargroup.setGroupGap(-8),t.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT)},t.prototype.dataChanged=function(){var e=this;e.showTipOtherHeroBereborn(!1),utils.GameComUtil.setVisibleHitPanel(e.degreeG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.skillinfoG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.starinfoG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.beborninfoG,null,!1);var t=e.data,a=t.vo;e.stargroup.setDataArr(a.stars,"tab_kjzx_e1"),e.nametxt.text=a.name,e.nametxt.textColor=ColorUtil.getPlayerNameCol(t.card_trait),e.tiptxt0.text=Language.ins.train_add_tip51;var i=Language.ins.degree_wait,n=0;e.bebornimg.source=ResName.getMinHeroRebornImg(a.transform),a.position&&(n=GlobalConfig.getLocationrelation(a.position),i=Language.ins.degree_names[n-1]),e.posimg.source=ResName.getRankPlayerbg(n,!1),e.postxt.text=i,e.lvtxt.text=Language.ins.game_lv_s+a.level,e.classimg.source=ResName.getTraitPathMin(a.card_trait);var o=!1,r=vm.TrainChooseView.m_curtype;if(r==vm.TrainChooseView.type_berach)e.degreeG.setDataArr(a.getlogArr()),utils.GameComUtil.setVisibleHitPanel(e.degreeG,null,!0);else if(r==vm.TrainChooseView.type_skill){for(var s,l,p,c="1340001",u=1,m=1,g=a.skill,_=g.length,h=0;4>h;h++)_>h?(s=g[h],c=s.skill_id,u=s.level,m=s.mastery,l=GlobalConfig.getSkillVO(c),p=GlobalConfig.getSkillGradeVO(l.sclass,u),e["skillimg"+h].source=GlobalEnum.getSkillIconName(l.icon),e["skillG"+h].visible=!0):e["skillG"+h].visible=!1;var d=GlobalAllProxy.getInstance().gameProxy;o=d.getTipForArr(null,[GlobalEnum.tipmc_heroskillup],{playerid:t.playerid}),o||(o=d.getTipForArr(null,[GlobalEnum.tipmc_skill_partnerbag],{playerid:t.playerid})),utils.GameComUtil.setVisibleHitPanel(e.skillinfoG,null,!0)}else if(r==vm.TrainChooseView.type_star){var y=a.level,v=a.stars,f=GlobalConfig.getPlayerStarVO(a.card_trait,v),b=f.bookgrade,G=GlobalConfig.getPlayerExpVO(a.card_trait,v,y);if(y>=b){var x=game.SResponsePlayer.getMaxStarNum(a.card_trait);v>=x&&(e.tiptxt0.text=Language.ins.lan_tip0),e.startipG.visible=!0,e.luckbar.visible=!1}else{e.startipG.visible=!1,e.luckbar.visible=!0;var C=parseFloat(a.exp)-G.minpexp;0>C&&(C=0),e.luckbar.setValue(C,G.prate)}utils.GameComUtil.setVisibleHitPanel(e.starinfoG,null,!0)}else if(r==vm.TrainChooseView.type_beborn){var T=game.SResponsePlayer.getMaxBeBronNum(a.card_trait),P=a.transform;e.borntxt.text=P+"/"+T;var A="";if(e.bornimg.source="",T)if(T==P)e.bornimg.source="tab_xlzx1_b8",A=FormatString.format(Language.ins.game_col,ColorUtil.white,Language.ins.train_add_tip33);else{var w=P+1,k=game.SResponsePlayer.getMaxRebornForStar(w);if(k<=a.stars){var I=GlobalConfig.getItemIdForPlayerId(a.playerid);if(I){var S=game.SResponsePlayer.getBeBronCar(w),E=GlobalAllProxy.getInstance().backpackProxy.getItemCount(I.objectid);if(E>=S)A=FormatString.format(Language.ins.game_col,ColorUtil.green," "+Language.ins.train_add_tip34),o=!0;else{for(var R=GlobalConfig.getPlayerPorpertyVO(+I.parameter),L=GlobalAllProxy.getInstance().backpackProxy.getBagItem(),O=0,V=0,D=L.length;D>V;V++){var N=GlobalConfig.getItemVo(L[V].itemid);if(4==N.type){var F=GlobalConfig.getPlayerPorpertyVO(+N.parameter);F.location==R.location&&F["class"]==R["class"]&&F.playerid!=R.playerid&&(O+=L[V].count)}}O>=S&&(A=FormatString.format(Language.ins.game_col,ColorUtil.green," "+Language.ins.train_add_tip34),o=!0)}}}}e.borntxt1.textFlow=utils.GameComUtil.getHtmlText(A),utils.GameComUtil.setVisibleHitPanel(e.beborninfoG,null,!0)}else if(r==vm.TrainChooseView.type_fettern){e.borntxt.text=t.fetternum+"/"+t.fetterall;var A="";e.bornimg.source="",t.fetterall&&t.fetternum==t.fetterall&&(e.bornimg.source="tab_xlzx1_b8",A=FormatString.format(Language.ins.game_col,ColorUtil.white,Language.ins.train_add_tip91));var d=GlobalAllProxy.getInstance().gameProxy;o=d.getTipForArr(null,[GlobalEnum.tipmc_herofetter],t.playerid),e.borntxt1.textFlow=utils.GameComUtil.getHtmlText(A),utils.GameComUtil.setVisibleHitPanel(e.beborninfoG,null,!0)}e.showTipOtherHeroBereborn(o)},t.prototype.showTipOtherHeroBereborn=function(e){var t=this,a=e,i=t.infoG,n="tipmcinfoG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.infoG.addChild(t[n]),t[n].visible=a)},t}(eui.ItemRenderer);__reflect(TrainChooseRender.prototype,"TrainChooseRender",["eui.UIComponent","egret.DisplayObject"]);var TrainFetterListRenderVO=function(){function e(){}return e}();__reflect(TrainFetterListRenderVO.prototype,"TrainFetterListRenderVO");var TrainFetterListRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this;e.showallbtn.label=Language.ins.train_add_tip92;var t=e.data;e.herotxt.text=t.name,e.nametxt.text=t.clubname,e.countrytxt.text=t.country,e.numtxt.text=t.fetternum,e.herotxt.textColor=ColorUtil.getPlayerNameCol(t.card_trait),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.showallbtn:var i=a.playerid,n=GlobalConfig.getPlayerPorpertyVO(i),o=new MainGetwayViewOpenVO;o.tiltestr=Language.ins.title_getway_hero,o.tipstr=Language.ins.train_add_tip43,o.getwaystr=n.getway,o.heroid=n.playerid,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_geyway],o)}},t}(eui.ItemRenderer);__reflect(TrainFetterListRender.prototype,"TrainFetterListRender",["eui.UIComponent","egret.DisplayObject"]);var TrainSkillGTRenderVO=function(){function e(){}return e}();__reflect(TrainSkillGTRenderVO.prototype,"TrainSkillGTRenderVO");var TrainSkillGTRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.skillnametxt.text=t.skillname,e.skillcontentxt.text=t.des2;var a=GlobalConfig.getSkillVO(t.skillid);e.skillimg.source=GlobalEnum.getSkillIconName(a.icon);var i;(2==a.stype||3==a.stype||4==a.stype)&&(4==a.sclass?i="tab_xlzx1_m6":5==a.sclass&&(i="tab_xlzx1_m7")),e.steimg.source=i,e.lookbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;EventBus.sendMessage(game.GameCommands.TRAIN_SKILL_DAPEI,a.index)},t}(eui.ItemRenderer);__reflect(TrainSkillGTRender.prototype,"TrainSkillGTRender",["eui.UIComponent","egret.DisplayObject"]);var TrainSkillHeroRenderVO=function(){function e(){}return e}();__reflect(TrainSkillHeroRenderVO.prototype,"TrainSkillHeroRenderVO");var TrainSkillHeroRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.heroicon.setData(t.vo),utils.GameUtil.setColorGrey(e.allG,!1),t.isown?(e.heromask.visible=!1,1==t.isown?e.tiptxt.text=Language.ins.train_add_tip106:2==t.isown?(e.tiptxt.text=Language.ins.train_add_tip107,e.heromask.visible=!0):3==t.isown&&(e.tiptxt.text=Language.ins.train_add_tip108)):(e.tiptxt.text=Language.ins.train_add_tip109,e.heromask.visible=!0,utils.GameUtil.setColorGrey(e.allG,!0))),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;if(a){var i,n=a.vo.playerid,o=a.isown,r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(1==o||3==o)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,n,a.vo,!0));else if(2==o)i=GlobalConfig.getItemIdForPlayerId(n),i&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,i.objectid,null,!1,!0));else if(n){var s=GlobalConfig.getPlayerPorpertyVO(n),l=new MainGetwayViewOpenVO;l.tiltestr=Language.ins.title_getway_hero,l.tipstr=Language.ins.train_add_tip43,l.getwaystr=s.getway,l.heroid=s.playerid,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_geyway],l)}}},t}(eui.ItemRenderer);__reflect(TrainSkillHeroRender.prototype,"TrainSkillHeroRender",["eui.UIComponent","egret.DisplayObject"]);var TrainUpStarInfoRenderVO=function(){function e(){}return e}();__reflect(TrainUpStarInfoRenderVO.prototype,"TrainUpStarInfoRenderVO");var TrainUpStarInfoRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data,a=0;t.addnum0&&(a=Math.floor(t.addnum0-t.num0),0>a&&(a=0));var i=FormatString.format(Language.ins.train_add_tip13,t.namestr0,Math.floor(t.num0),a);e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(i);var n=0;t.addnum1&&(n=Math.floor(t.addnum1-t.num1),0>n&&(n=0));var o=FormatString.format(Language.ins.train_add_tip13,t.namestr1,Math.floor(t.num1),n);e.tiptxt1.textFlow=utils.GameComUtil.getHtmlText(o),e.iconimg.source=t.iconurl},t}(eui.ItemRenderer);__reflect(TrainUpStarInfoRender.prototype,"TrainUpStarInfoRender",["eui.UIComponent","egret.DisplayObject"]);var MonthCarInfo=function(e){function t(){var a=e.call(this)||this;a._iscreat=!1,a.ishad=!1;var i=a;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=i,a.skinName=MonthCarInfoSkin,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){var t=this;t._iscreat=!0,e.prototype.childrenCreated.call(this),t.changedata(),t.initAddEvent()},t.prototype.setData=function(e,t){var a=this;a.m_data=e,a.ishad=t,a.changedata()},t.prototype.changedata=function(){var e=this;if(e._iscreat&&e.m_data){var t=e.m_data;e.listGroup.setGroupGap(16),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT),e.listGroup.setDataArr(t.rewardarr,"",!0,!1,!0,!1),e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(t.des),e.logoG.visible=!1,e.statetxt.visible=!1;var a=GlobalConfig.getMonthCarVO(t.id);e.item.setIdAndNum(a.logoid,1,!1,0,!1,!1,!1),e.item.setTip(!0);var i=+a.unlocklogo;if(e.statetxt.text="",i){var n=GlobalConfig.getlogoVO(i);e.itemimg.source=n.name,e.ishad?(e.statetxt.textColor=65280,e.statetxt.text=Language.ins.month_tip10):(e.statetxt.text=Language.ins.month_tip9,e.statetxt.textColor=16711680),e.statetxt.visible=!0}e.carScr.stopAnimation(),e.carScr&&(e.carScr.viewport.scrollV=0),1==t.id?e.bgimg.source="tab_yueka_b4":2==t.id?e.bgimg.source="tab_yueka_a8":3==t.id&&(e.bgimg.source="tab_yueka_b2")}},t.prototype.initAddEvent=function(){},t.prototype.removeAddEvent=function(){},t.prototype.eventchange=function(e,t){},t.prototype.touchTapFun=function(e){},t.SINGLETON_MSG="MonthCarInfo Singleton already constructed!",t}(eui.Component);__reflect(MonthCarInfo.prototype,"MonthCarInfo",["eui.UIComponent","egret.DisplayObject"]);var MonthCarRenderVo=function(){function e(){}return e}();__reflect(MonthCarRenderVo.prototype,"MonthCarRenderVo");var MonthCarRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);__reflect(MonthCarRender.prototype,"MonthCarRender",["eui.UIComponent","egret.DisplayObject"]);var VipObtainRender=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;e.tiptxt0.text=Language.ins.btn_now_go,e.nametxt.text=t.name;var a=t.des;if(1==t.id||2==t.id||3==t.id){var i=GlobalAllProxy.getInstance().playerProxy.vipData;1==t.id&&(a=FormatString.format(a,i.loginExp)),2==t.id&&(a=FormatString.format(a,i.rechargeExp)),3==t.id&&(a=FormatString.format(a,i.expenseExp))}e.dextxt.textFlow=utils.GameComUtil.getHtmlText(a),e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.jumpG.visible=!0,t.jump&&"0"!=t.jump||(e.jumpG.visible=!1)},t.prototype.touchTapFun=function(e){var t=this,a=t.data;switch(e.target){case t.jumpG:utils.GameComUtil.panelJump(a.jump,!0)}},t}(eui.ItemRenderer);__reflect(VipObtainRender.prototype,"VipObtainRender",["eui.UIComponent","egret.DisplayObject"]);var VipRenderVO=function(){function e(){this.upstr=""}return e}();__reflect(VipRenderVO.prototype,"VipRenderVO");var VipRender=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.partAdded=function(t,a){e.prototype.partAdded.call(this,t,a)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;""!=t.upstr?e.desuptxt.textFlow=utils.GameComUtil.getHtmlText(t.upstr):e.desuptxt.textFlow=utils.GameComUtil.getHtmlText("")},t}(eui.ItemRenderer);__reflect(VipRender.prototype,"VipRender",["eui.UIComponent","egret.DisplayObject"]);var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.m_ndx=0,e.m_isbevel=!1,e}return __extends(a,t),Object.defineProperty(a.prototype,"isbevel",{get:function(){return this.m_isbevel},set:function(e){var t=this;t.m_isbevel=e},enumerable:!0,configurable:!0}),a.prototype._updateContainer=function(){var t=this;if(null!=t.m_obTarget)for(var a,i=t.m_obTarget.getComponentCount(),n=0;i>n;n++)a=t.m_obTarget.getComponent(n),null!=a&&(null!=t.m_obSelectBasis?(t.m_obSelectBasis==a.itemIndex&&(t.m_ndx=n),a.selected=t.m_obSelectBasis==a.itemIndex):a.selected=t.m_ndx==n,a.touchEnabled=!a.selected);t.m_obTarget instanceof e.KButtonGroupPanel&&t.m_obTarget.updateLayerOrder()},a.prototype.click_obPanel=function(t){var a=this;if(!a.m_isbevel){var i=t.target;i instanceof e.KTabBarButton&&a.selectBtn(i)}},a.prototype.selectBtn=function(e){var t=this;if(null!=e&&e.parent==t.m_obTarget)if(null!=t.m_obSelectBasis)t.setSelectBasis(e.itemIndex),t._SetSelectedIndexImpl(t.m_ndx,!0);else{var a=t.m_obTarget.getIndex(e);t._SetSelectedIndexImpl(a,!0)}},a.prototype._SetSelectedIndexImpl=function(e,t){var a=this;if(a.m_ndx=e,a._updateContainer(),t){var i=new eui.UIEvent(eui.UIEvent.CHANGING);i.itemIndex=a.m_ndx,a.m_obTarget.dispatchEvent(i)}},a.prototype.setSelectedIndex=function(e){var t=this;t._SetSelectedIndexImpl(e,!1)},a.prototype.setSelectBasis=function(e){var t=this;t.m_obSelectBasis=e,t._updateContainer()},a.prototype.getSelectBasis=function(){var e=this;return e.m_obSelectBasis},a.prototype.getSelectedIndex=function(){var e=this;return e.m_ndx},a.prototype.initSelectedIndex=function(e){void 0===e&&(e=0);var t=this;t.m_ndx=e,t._updateContainer()},a.prototype.getSelectedButton=function(){var e=this;return null!=e.m_obTarget&&e.m_ndx>-1&&e.m_ndx<e.m_obTarget.getComponentCount()?e.m_obTarget.getComponent(e.m_ndx):null},a.prototype.setContainer=function(e){var t=this;null!=t.m_obTarget&&t.m_obTarget.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.click_obPanel,t),t.m_obTarget=e,null!=e&&t.m_obTarget.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.click_obPanel,t),t._updateContainer()},a.prototype.updateGroup=function(){var e=this;e._updateContainer()},a.prototype.getContainer=function(){var e=this;return e.m_obTarget},a.prototype.dispose=function(){var e=this;null!=e.m_obTarget&&e.m_obTarget.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.click_obPanel,e),e.m_obTarget=null,e.m_obSelectBasis=null},a}(egret.EventDispatcher);e.ButtonGroupManager=t,__reflect(t.prototype,"game.ButtonGroupManager")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.mapClass=function(e,t,a){void 0===a&&(a="");var i=this,n=i.getKey(e)+"#"+a;i.mapClassDic[n]=t},e.getKey=function(e){return"string"==typeof e?e:egret.getQualifiedClassName(e)},e.mapValue=function(e,t,a){void 0===a&&(a="");var i=this,n=i.getKey(e)+"#"+a;i.mapValueDic[n]=t},e.hasMapRule=function(e,t){void 0===t&&(t="");var a=this,i=a.getKey(e)+"#"+t;return a.mapValueDic[i]||a.mapClassDic[i]?!0:!1},e.getInstance=function(e,t){void 0===t&&(t="");var a=this,i=a.getKey(e)+"#"+t;if(a.mapValueDic[i])return a.mapValueDic[i];var n=a.mapClassDic[i];if(n){var o=new n;return a.mapValueDic[i]=o,delete a.mapClassDic[i],o}egret.$error(1028,i)},e.mapClassDic={},e.mapValueDic={},e}();e.Injector=t,__reflect(t.prototype,"game.Injector")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var a=t.call(this)||this;a.m_obManager=new e.ButtonGroupManager,a.p_blInvertOrder=!0,a.m_class=TableBraButton,a.panelType=0,a.hero=null,a.m_isbevel=!1,a.m_beblarr=[],a.m_lockstrarr=[];var i=a;return i.m_namearr=[],i.m_obManager.setContainer(i),i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i.click_self,i),i._init(),a}return __extends(a,t),a.prototype.setButtonWidth=function(e){this.m_width=e},Object.defineProperty(a.prototype,"isbevel",{get:function(){return this.m_isbevel},set:function(e){var t=this;t.m_isbevel=e,t.m_obManager&&(t.m_obManager.isbevel=e),e?(t.touchChildren=!1,t.touchEnabled=!0):(t.touchChildren=!0,t.touchEnabled=!0)},enumerable:!0,configurable:!0}),a.prototype.setMclass=function(e){var t=this;t.m_class=e},a.prototype._init=function(){var e=this;e.p_arrChildren=new Array,e.p_rectArr=new Array,e.m_beblarr=[],e.m_lockstrarr=[]},a.prototype.getIndex=function(e){for(var t=this,a=t.p_arrChildren,i=a.length,n=0;i>n;n++)if(e==a[n])return n;return-1},a.prototype.getComponent=function(e){var t=this,a=t.p_arrChildren;return 0>e||e>=a.length,a[e]},a.prototype.getComponentCount=function(){var e=this,t=e.m_namearr;return null==t?0:t.length},a.prototype.setLayoutInfo=function(e){var t=this;t.p_obLI=e},a.prototype.getLayoutInfo=function(){var t=this;return null==t.p_obLI&&(t.p_obLI=new e.KLayoutInfo),t.p_obLI},a.prototype.insertImp=function(e,t){var a=this,i=a;if(null!=a.p_arrChildren&&null!=t&&!(e>a.getComponentCount())){var n=t.parent;if(null!=n)if(n==a){var o=a.getIndex(t);a.remove(t,!1)}else t.removeFromContainer();if(0>e?(a.p_arrChildren.push(t),i.addChild(t)):(i.addChild(t),a.p_arrChildren.splice(e,0,t)),null!=a.p_obLI){if(n==a&&o==a.getIndex(t))return;a.invalidate()}}},a.prototype.invalidate=function(){var e=this,t=e.p_obLI;if(t){var a,i,n=e.p_arrChildren,o=e.m_namearr,r=o.length,s=e.p_rectArr,l=!0,p=e.m_beblarr,c=p.length,u=!1;if(t.isHLayout)for(var m=0;r>m;m++)l=!0,a=n[m],a.x=(a.width+t.gap)*m,i=s[m],i.width=a.width,i.height=a.height,i.x=a.x,i.y=a.y,e.panelType?(l=utils.GameComUtil.getIsUnLock([e.panelType,m],e.hero),a.enabled=l,a.touchEnabled=l,l?i.parent&&e.removeChild(i):e.addChild(i)):c>m&&(u=p[m],a.enabled=!u,a.touchEnabled=!u,u?e.addChild(i):i.parent&&e.removeChild(i))}},a.prototype.setButtonLock=function(e,t,a){var i=this,n=i.m_beblarr,o=i.m_lockstrarr,r=n.length;if(e>=r-1)for(var s=r-1;e>=s;s++)n[s]=!1,o[s]="";n[e]=t,o[e]=a,i.m_beblarr=n,i.m_lockstrarr=o,null!=i.p_obLI&&i.invalidate()},a.prototype.remove=function(e,t){void 0===t&&(t=!0);var a=this,i=a.getIndex(e);return i>=0?a.removeAt(i,t):null},a.prototype.removeAt=function(e,t){void 0===t&&(t=!0);var a=this;return a.removeAtImp(e,t)},a.prototype.removeAtImp=function(e,a){var i=this;if(0>e||null==i.p_arrChildren)return null;var n=i.p_arrChildren[e];return null!=n&&(i.p_arrChildren.splice(e,1),i==n.parent&&t.prototype.removeChild.call(this,n),null!=i.p_obLI&&a&&i.invalidate()),n},a.prototype.removeAll=function(){for(var e,t=this;t.p_arrChildren.length>0;)e=t.p_arrChildren.pop(),null!=e.parent&&e.parent.removeChild(e)},a.prototype.setListData=function(e){var t=this;t.m_namearr=e;var a=t.p_arrChildren,i=a.length,n=t.p_rectArr;t.removeChildren(),i=a.length;for(var o,r,s=e.length,l=Math.max(i,s),p=0;l>p;p++)s>p&&(i>p?(o=a[p],t.m_width&&(o.width=t.m_width)):(o=new t.m_class,t.m_width&&(o.width=t.m_width),a.push(o)),o.name="button_"+p,t.addChild(o),o&&(o.itemIndex=p,o.label=e[p]),n[p]||(r=new eui.Rect,r.fillColor=0,r.fillAlpha=0,r.name="rect_"+p,r.width=o.width,r.height=o.height,r.x=o.x,r.y=o.y,n[p]=r));null!=t.p_obLI&&t.invalidate(),t.getManager().updateGroup()},a.prototype.setView=function(e){for(var t=this,a=t.p_arrChildren,i=a.length,n=0;i>n;n++)e["kbuttontab"+n]=a[n];var o,r=GlobalEnum.panelEnum;for(var s in r)if(o=r[s],e instanceof o){t.panelType=+s;break}},a.prototype.click_self=function(t){var a=this,i=t.target,n=i.name,o=!1;if(a.isbevel){var r=a.p_arrChildren.length,s=a.p_rectArr.length;if(!(r>0))return;var l=a.p_arrChildren[0].width,p=t.localX,c=Math.floor(p/l);if(s>c&&a.p_rectArr[c].parent&&(n=a.p_rectArr[c].name,o=!0),!o){if(!(r>c&&a.m_obManager.getSelectedIndex()!=c))return;i=a.p_arrChildren[c],a.m_obManager.selectBtn(i)}}if(-1!=n.indexOf("rect_")){var u=parseInt(n.substr(5));if(a.panelType){utils.GameComUtil.buttonUnLock(null,[a.panelType,u],!0,a.hero);return}var m=a.m_lockstrarr,r=m.length;return void(r>u&&""!=m[u]&&FLOAT.NShowPutong([m[u]]))}if(null!=i&&i.parent==a){SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_click1),a._UpdateDisplayLayerByControlLayer(),a.addChild(i);var g=GlobalAllProxy.getInstance().guideProxy;if(g&&!g.isPlayGuide()){var _=e.PanelVO.isAllPanelGuild(a.panelType,a.m_obManager.getSelectedIndex(),0);_&&(g.addGuideNovice(_.id),GlobalAllProxy.getInstance().guideProxy.playGuideForStep(_.id,_.playstepid))}GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgGuideClickButtonTrigger),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)}},a.prototype._ReLayout=function(){var e=this;e.m_obManager&&e.m_obManager.updateGroup()},a.prototype.setChildrenOrderInverted=function(e){var t=this;t.p_blInvertOrder=e},a.prototype.getChildrenOrderInverted=function(){var e=this;return e.p_blInvertOrder},a.prototype.getManager=function(){var e=this;return e.m_obManager},a.prototype.setSelectIndex=function(e){var t=this;t.m_obManager.setSelectedIndex(e)},a.prototype.updateLayerOrder=function(){var e=this;e._UpdateDisplayLayerByControlLayer(),null!=e.m_obManager.getSelectedButton()&&e.addChild(e.m_obManager.getSelectedButton())},a.prototype._UpdateDisplayLayerByControlLayer=function(){var e=this,t=e.getComponentCount();if(e.p_blInvertOrder)for(var a=t-1;a>=0;a--)e.addChild(e.getComponent(a));else for(var i=0;t>i;i++)e.addChild(e.getComponent(i))},a.prototype.dispose=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.click_self,e),null!=e.m_obManager&&(e.m_obManager.dispose(),e.m_obManager=null)
},a}(eui.Group);e.KButtonGroupPanel=t,__reflect(t.prototype,"game.KButtonGroupPanel")}(game||(game={}));var game;!function(e){var t=function(){function e(t,a,i){void 0===t&&(t=!0),void 0===a&&(a=e.H_LEFT),void 0===i&&(i=6),this.gap=6;var n=this;n.isHLayout=t,n.Align=a,n.gap=i}return e.H_LEFT="LEFT",e.H_RIGHT="RIGHT",e.H_CENTER="CENTER",e.V_TOP="TOP",e.V_BOTTOM="BOTTOM",e.V_MIDDLE="MIDDLE",e}();e.KLayoutInfo=t,__reflect(t.prototype,"game.KLayoutInfo")}(game||(game={}));var EventBus=function(){function e(){this.m_dicCB={}}return e.getIns=function(){return null==this.s_ins&&(this.s_ins=new e),this.s_ins},e.addMessage=function(e,t,a){this.getIns().addMessage(e,t,a)},e.removeMessage=function(e,t){this.getIns().removeMessage(e,t)},e.sendMessage=function(e,t){void 0===t&&(t=null),this.getIns().sendMessage(e,t)},e.prototype.addMessage=function(e,t,a){var i=this.m_dicCB[e];null==i&&(i=[],this.m_dicCB[e]=i);var n=i.indexOf(t);(-1==n||1==n%2)&&(i.push(t),i.push(a))},e.prototype.removeMessage=function(e,t){var a=this.m_dicCB[e];if(null!=a){var i=a.indexOf(t);i>-1&&a.splice(i,2)}},e.prototype.sendMessage=function(e,t){void 0===t&&(t=null);var a=this.m_dicCB[e];if(null!=a)for(var i,n=a.length,o=0;n>o;o+=2)i=a[o],i&&i.call(a[o+1],t,e)},e}();__reflect(EventBus.prototype,"EventBus");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._dictBeginFL2EndL={},t._dictBeginL={},t}return __extends(t,e),t.prototype.onCheckout=function(){var e=this;e.x=e.y=0,e.scaleX=e.scaleY=1,e.alpha=1,e._strSegRelease=!1,e.name="",e.visible=!0,e.rotation=0,e.initAction()},t.prototype.onRemand=function(){var e=this;e.movieClipData=null},t.prototype.Release=function(){var e=this;e.removefromfun(),MandPool.remand(e)},t.prototype.setData=function(e,t){void 0===t&&(t="");var a=this;if(a.initAction(),a.movieClipData=e,a._mcpathname=t,e){var i=[];null!=e.labels&&(i=e.labels);for(var n,o,r=i.length,s=r-1,l=0;r>l;l++)n=i[l],a._dictBeginL[n.name]=n.frame,s>l?(o=i[l+1],a._dictBeginFL2EndL[n.name]=o.frame-1):a._dictBeginFL2EndL[n.name]=e.numFrames;0==r&&(a._dictBeginL[1]=1,a._dictBeginFL2EndL[1]=e.numFrames),a.frameRate=24}},Object.defineProperty(t.prototype,"strCurrentSegFL",{get:function(){return this._strCurrentSegFL},enumerable:!0,configurable:!0}),t.prototype.isData=function(){var e=this,t=!0;return null==e.movieClipData.mcData&&(t=!1),t},Object.defineProperty(t.prototype,"dictBeginL",{get:function(){return this._dictBeginL},enumerable:!0,configurable:!0}),t.prototype.getFrameArr=function(e){var t,a=this;return a._dictBeginFL2EndL[e]&&(t=[],t[0]=a._dictBeginL[e],t[1]=a._dictBeginFL2EndL[e],t[2]=t[1]-t[0]+1),t},t.prototype.getFrameAllTime=function(e){var t=0,a=this.getFrameArr(e);a&&a.length>=3&&(t=a[2]);var i=1e3/this.frameRate;return Math.ceil(t*i)},t.prototype.hasFrameLable=function(e){var t=!1;return this._dictBeginFL2EndL[e]&&(t=!0),t},t.prototype.playOnceAndLoop=function(e,a){void 0===a&&(a=null);var i=this;i._playFL(e),i._strNewLoopFL=a,i._strSegEndType=t.END_2_NEW_LOOP},t.prototype.nextLoop=function(e){this._strNewLoopFL=e,this._strSegEndType=t.END_2_NEW_LOOP},t.prototype.playOnceDoAndLoop=function(e,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0);var r=this;r._fnOnceDo=i,r._myFnOnceDO=n,r._playFL(e),r._strNewLoopFL=a,r._strSegEndType=t.END_2_NEW_LOOP,o&&r.timetofun(e)},t.prototype.playLoop=function(e){this._playFL(e),this._strSegEndType=t.END_2_REPLAY},t.prototype.playOnceAndDo=function(e,a,i,n){void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=!0);var o=this;o._fnOnceDo=a,o._myFnOnceDO=i,o._playFL(e),o._strSegEndType=t.END_2_STOP,n&&o.timetofun(e)},t.prototype.timetofun=function(e){var t=this;t._funtimeN&&egret.clearTimeout(t._funtimeN);var a=t.getFrameAllTime(e);a&&null!=t._fnOnceDo&&null!=!t._myFnOnceDO&&(t._funtimeN=egret.setTimeout(t.timestartfun,t,a))},t.prototype.timestartfun=function(){var e=this;null!=e._fnOnceDo&&null!=!e._myFnOnceDO&&(e._fnOnceDo.call(e._myFnOnceDO),e._fnOnceDo=null,e._myFnOnceDO=null)},t.prototype.playOnceAndRemoveSelf=function(e,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=!0),void 0===o&&(o=!1);var r=this;r._fnOnceDo=a,r._myFnOnceDO=i,r._playFL(e),r._strSegEndType=t.END_2_STOPREMOVE,r._strSegRelease=o,n&&((null==r._fnOnceDo||null==r._myFnOnceDO)&&(r._myFnOnceDO=r,r._fnOnceDo=r.stopAndRemove),r.timetofun(e))},t.prototype.stopAndRemove=function(e){void 0===e&&(e=!1);var t=this;t.stop(),t.parent&&t.parent.removeChild(t),e&&t.Release()},t.prototype.initAction=function(){var e=this;e.stop(),e._actionNum=0,e._fnOnceDo=null,e._myFnOnceDO=null,e._dictBeginFL2EndL={},e._dictBeginL={},e._strSegEndType=null,e._strCurrentSegFL=null,e._strNewLoopFL=null,e._nSegEndFrameNO=0},t.prototype.loopFrameSegAt=function(e,a){void 0===a&&(a=!1),this._playFL(e,a),this._strSegEndType=t.END_2_REPLAY},t.prototype.enterFrame_my=function(e){var a=this,i=a.currentFrame,n=a._nSegEndFrameNO;n&&i>=n&&(t.END_2_NEW_LOOP==a._strSegEndType?a.loopFrameSegAt(a._strNewLoopFL):t.END_2_REPLAY==a._strSegEndType?a.gotoAndPlay(a._strCurrentSegFL):(t.END_2_STOP==a._strSegEndType&&(a._myFnOnceDO&&(a._fnOnceDo.call(a._myFnOnceDO),a._fnOnceDo=null,a._myFnOnceDO=null),a.stop()),t.END_2_STOPREMOVE==a._strSegEndType&&(a._myFnOnceDO&&(a._fnOnceDo.call(a._myFnOnceDO),a._fnOnceDo=null,a._myFnOnceDO=null),a.parent&&a.parent.removeChild(a),a.stop(),a._strSegRelease&&a.Release()),a.removefromfun()))},t.prototype.stop=function(){var t=this;t.parent||t.removefromfun(),e.prototype.stop.call(this),t._funtimeN&&(egret.clearTimeout(t._funtimeN),t._funtimeN=0)},t.prototype.pause=function(){e.prototype.stop.call(this)},t.prototype.play=function(t){e.prototype.play.call(this,t)},t.prototype._playFL=function(e,t){void 0===t&&(t=!1);var a=this;if(a._nSegEndFrameNO=a._dictBeginFL2EndL[e],a._strCurrentSegFL=e,a.addEventListener(egret.Event.ENTER_FRAME,a.enterFrame_my,a),a.addEventListener(egret.Event.REMOVED_FROM_STAGE,a.outstage,a),0==t)a.gotoAndPlay(e);else{var i=a._dictBeginL[e],n=a._dictBeginFL2EndL[e],o=i+Math.ceil(Math.random()*(n-i));a.gotoAndPlay(o)}},t.prototype.outstage=function(e){void 0===e&&(e=null);var t=this;t.removefromfun(),t.stopAndRemove()},t.prototype.removefromfun=function(e){void 0===e&&(e=null);var t=this;t.removeEventListener(egret.Event.ENTER_FRAME,t.enterFrame_my,t),t.removeEventListener(egret.Event.REMOVED_FROM_STAGE,t.outstage,t)},t.END_2_NEW_LOOP="end2NewLoop",t.END_2_REPLAY="end2Replay",t.END_2_STOP="end2Stop",t.END_2_STOPREMOVE="end2StopRemove",t}(egret.MovieClip);e.SYMovieClip=t,__reflect(t.prototype,"vm.SYMovieClip",["IRemandObj"])}(vm||(vm={}));var LoadingUI=function(e){function t(){var t=e.call(this)||this;t._iscreat=!1,t.m_barxA=-24,t.m_barxB=-24,t.m_barmax=100;var a=t;return a.percentWidth=a.percentHeight=100,a.skinName=LoadingUISkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.percentWidth=t.percentHeight=100,t._iscreat=!0,t.init(!1),t.resizefun()},t.prototype.init=function(e){void 0===e&&(e=!0),this.onShow(),PFAll.isIosTest()&&(this.bgimg0.visible=!1)},t.prototype.setProgress=function(e,t){var a=this;if(a._iscreat){a.m_barnum=a.m_barmax,t&&e==t?(a.timefun(),a.airBar.setValue(e,t,a.m_barxA)):(a.m_barnum=0,a.timefun());var i=Math.floor(e/t*100),n=i+"%";a.airallBar.setValue(e,t,a.m_barxB,n)}},t.prototype.showonebar=function(){},t.prototype.timefun=function(){var e=this;e.m_barnum+=1;var t=e.m_barnum,a=e.m_barmax;t>a&&(t=a),e.airBar.setValue(t,a,e.m_barxA,"")},t.prototype.showdes=function(){var e=this;egret.clearTimeout(e.m_destime);var t=GlobalConfig.tip_dataArr;if(t){var a=t.length,i=Math.floor(Math.random()*a),n=t[i];e.dectxt.text=n.text}e.m_destime=egret.setTimeout(e.showdes,e,4e3)},t.prototype.onHide=function(){egret.clearInterval(this.m_time),egret.clearTimeout(this.m_destime)},t.prototype.onShow=function(){var e=this;if(egret.clearInterval(this.m_time),e._iscreat){var t=Language.ins.game_tip6,a=PFAll.isiosopen(iostest_type.activity);e.dectxt0.text=a?t:"",e.dectxt1.text=Language.ins.game_tip1,PFAll.isNowPF([Global.severNE_japan,Global.severNE_english])&&(e.dectxt0.text=Language.ins.game_tip1,e.dectxt1.text=""),e.airBar.setValue(0,100,e.m_barxA,""),e.airallBar.setValue(0,100,e.m_barxB,""),e.m_time=egret.setInterval(e.timefun,e,50),e.dectxt.text=Language.ins.login_tip5,e.loadtxt.text=Language.ins.login_tip4,egret.clearTimeout(e.m_destime),e.m_destime=egret.setTimeout(e.showdes,e,4e3),PFAll.game_change_logo&&(this.bgimg0.source=null,this.bgimg0.source=PFAll.game_change_logo),PFAll.game_change_loadbg&&(this.bgimg.source=null,this.bgimg.source=PFAll.game_change_bg)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(eui.Component);__reflect(LoadingUI.prototype,"LoadingUI");var PanelDM=function(e){function t(){var t=e.call(this)||this;t.panelOpenList=[],t.banbenarr=[];var a=t;return a.backNOHomeArr=[],a.nobackpanelArr=[vm.SignLoginView,vm.GameMainView,vm.FightResultView,vm.GuildApplyView],a.bgimgoutArr=[vm.GameMainView],a.nocacheArr=[],t}return __extends(t,e),t.getIns=function(){var e=this;return null==e.s_ins&&(e.s_ins=new t),e.s_ins},t.prototype.open=function(e,t,a){var i=this,n=!1;if(t&&t instanceof game.PanelVO){var o=parseInt(t.type);if(-1!=i.banbenarr.indexOf(o)&&Global.showbanbentip())return n;var r=0;t.childtype&&(r=t.childtype);var s=utils.GameComUtil.buttonUnLock(null,[o,r]);if(!s)return n;var l=GlobalAllProxy.getInstance().guideProxy;if(l&&!l.isPlayGuide()){var p=t.isGuidePanel();if(p){if(l.addGuideNovice(p.id),a)return GlobalAllProxy.getInstance().guideProxy.playGuideForStep(p.id,1,a),n;GlobalAllProxy.getInstance().guideProxy.playGuideForStep(p.id,p.playstepid)}}}n=!0;var c=dm.VDM.s_root,u=game.Injector.getInstance(e);u.panelVo=t,u.isNeedLoad()&&u.OpenLoad(!1);var m=u.getLayer();if(PanelLayer.scene==m)game.SceneDM.getIns().switchS(u);else if(PanelLayer.alert==m)i._alert(u,e);else if(PanelLayer.tip==m)i._tip(u,e);else if(PanelLayer.viPanel==m)i._showVI(e,u);else if(PanelLayer.topPostPanel==m)i._switchTopPostPanel(u,e);else if(PanelLayer.panel==m){i._switchP(u);var g=(i.nobackpanelArr,i.nobackpanelArr.indexOf(e));-1==g&&i.addopenList(e,t);var _=i._arrVI.length;_&&c.addChild(i._arrVI[_-1]),null!=i._obTopM&&c.addChild(i._obTopM),i._mTopVIPanel&&c.addChild(i._mTopVIPanel),i._mTopPostPanel&&c.addChild(i._mTopPostPanel),i._guidePanel&&c.addChild(i._guidePanel)}else PanelLayer.top==m?(i._switchTop(u),i._mTopVIPanel&&c.addChild(i._mTopVIPanel),i._mTopPostPanel&&c.addChild(i._mTopPostPanel),i._guidePanel&&c.addChild(i._guidePanel)):PanelLayer.topVIPanel==m?i._switchTopVIPanel(u,e):PanelLayer.guidePanel==m&&i._switchGuidePanel(u,e);return n},t.prototype._switchGuidePanel=function(e,t){var a=this;a._guidePanel=e,a._cguidePanel=t;var i=dm.VDM.s_root;i.addChild(e),e._isSubCreated&&e.onShow(!1)},t.prototype._closeGuideVIPanel=function(){var e=this;null!=e._guidePanel&&(dm.VDM.s_root.removeChild(e._guidePanel),e._guidePanel._isSubCreated&&(e._guidePanel.onHide(!1),e._guidePanel=null))},t.prototype._switchP=function(e){var a=this;if(e!=a._obM){t.getIns().clearTopPanels(),t.getIns().clearVIPanels(),null!=e?(dm.VDM.s_root.addChild(e),(e._isSubCreated||!e.startLoadRes)&&(e.visible=!1),e._isSubCreated&&(e.onShow(!1),a.loadAndOpenPanel(e))):a.loadAndOpenPanel(e)}},t.prototype.loadAndOpen=function(e){var t=this;if(e){var a=e.getLayer();PanelLayer.panel==a&&t.loadAndOpenPanel(e)}},t.prototype.loadAndOpenPanel=function(e){var t=this,a=t._obM;if(t._obM!=e&&(t._obM=e),null!=a&&a!=e){a._isSubCreated&&a.onHide(!1);var i=a.parent;null!=i&&i.removeChild(a),t._obM=e,t.closepanel(a,e)}t._obM&&(t._obM.visible=!0,t._tryTopA(dm.VDM.s_root))},t.prototype.openpanelok=function(){var e=this;null!=e._obM},t.prototype.setcacheAsBitmap=function(e){var t,a=this.nocacheArr,i=!0;for(var n in a)if(t=a[n],e instanceof t){i=!1;break}},t.prototype.closepanel=function(e,t){var a=this;if(e.getLayer()==PanelLayer.panel){var i,n=a.backNOHomeArr,o=!0;for(var r in n)if(i=n[r],e instanceof i){o=!1;break}if(null==t){for(var s,l,p,c=egret.getDefinitionByName(egret.getQualifiedClassName(e)),u=this.panelOpenList,m=u.length,g=!1,_=m-1;_>=0;_--){if(s=u[_],s[0]!=c){g&&(l=s[0],p=s[1]);break}g=!0,u.splice(_,1)}if(l)return void this.open(l,p)}(o&&null==t||null==t&&null==e)&&Global.goMainScene()}},t.prototype.setpanelbg=function(e,t){var a=this;if(t){var i,n=a.bgimgoutArr,o=!1;for(var r in n)if(i=n[r],e instanceof i){o=!0;break}}},t.prototype.isOpend=function(e){var t=this;if(t._isVI(e))return!0;if(t._obM instanceof e)return!0;if(t._mTopVIPanel instanceof e)return!0;if(t._mTopPostPanel instanceof e)return!0;if(t._guidePanel instanceof e)return!0;if(game.SceneDM.getIns().isOpend(e))return!0;var a=Manifest.getIns(e);return a&&a.isOpend()?!0:!1},t.prototype.close=function(e){var t=this;t._obM instanceof e?t.clearPanels():t._arrT.indexOf(e)>-1?t._closeVI(e):t._cAlert==e?t._closeAlert():t._cTip==e?t._closeTip():t._obTopM instanceof e?t.clearTopPanels():t._cTopVIPanel==e?t._closeTopVIPanel():t._mTopPostPanel==e?t._closeTopVIPanel():t._cguidePanel==e?t._closeGuideVIPanel():game.SceneDM.getIns().close(e),t._closeTip()},t.prototype.clearScene=function(){game.SceneDM.getIns().switchS(null)},t.prototype.clearPanels=function(){this._switchP(null)},t.prototype.clearAlertPanel=function(){this._closeAlert()},t.prototype.clearTopPanels=function(){this._switchTop(null)},t.prototype.formaokfun=function(){var e=Manifest.getIns(vm.HeroFormaPanel);e&&e.isOpend()&&(e.saveForma(),e.setPandan(!0));var a=t.getIns();a.m_formaarr&&(a.goWindow(a.m_formaarr,a.m_formaobj),a.m_formaarr=null,a.m_formaobj=null)},t.prototype.formanofun=function(){var e=t.getIns();e.m_formaarr&&(e.goWindow(e.m_formaarr,e.m_formaobj),e.m_formaarr=null,e.m_formaobj=null)},t.prototype.goWindow=function(e,a,i){var n=this,o=!1,r=MandPool.getIns(game.PanelVO);if(r.setdata(e,a),r){var s=r.type,l=0;r.childtype&&(l=r.childtype);var p=utils.GameComUtil.buttonUnLock(null,[s,l]);if(!p)return o}var c,u=+e[0],m=!1;switch(u){case GlobalViewIDEnum.pType_friendship:case GlobalViewIDEnum.pType_richfight:case GlobalViewIDEnum.pType_clubfightmap:case GlobalViewIDEnum.pType_dekaronroad:case GlobalViewIDEnum.pType_qualifying:if(u==GlobalViewIDEnum.pType_friendship?c=FightEnum.type_pvf:u==GlobalViewIDEnum.pType_richfight?c=FightEnum.type_pvp:u==GlobalViewIDEnum.pType_clubfightmap?c=FightEnum.type_pvc:u==GlobalViewIDEnum.pType_dekaronroad?c=FightEnum.type_pvd:u==GlobalViewIDEnum.pType_qualifying&&(c=FightEnum.type_pvs),c){var g=Manifest.getIns(FightDM);if(g.islogFight(c))return GlobalAllProxy.getInstance().gameProxy.NetReport(c),o;if(g.isFight(c)){var _=t.getIns();return _.goWindow([GlobalViewIDEnum.pType_gamemain,c]),o}}break;case GlobalViewIDEnum.pType_build_friend:var h=GlobalAllProxy.getInstance().friendProxy.friendList;if(h&&!h.length)return FLOAT.NShowPutong([Language.ins.build_tip5]),o;break;case GlobalViewIDEnum.pType_shop_pay:var d=PFAll.isiosopen(iostest_type.pay);if(!d)return o=!1;var y=GlobalAllProxy.getInstance().activityProxy.activityArr.firstChargeInit;if(y&&0==y.status)return t.getIns().goWindow([GlobalViewIDEnum.pType_first_recharge]),o=!1;break;case GlobalViewIDEnum.pType_gamemain:SoundMgr.getInstance().SetSoundVolume(.4),SoundMgr.getInstance().PlaySound(GlobalSoundEffect.sound_fightbg),m=!0;break;case GlobalViewIDEnum.pType_trainbereborn:var v,f=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();if(f){var b=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(f),G=game.SResponsePlayer.getMinBornCardTrait();if(b.card_trait<G){for(var x,C=GlobalAllProxy.getInstance().playerProxy.playerArr,T=0,P=C.length;P>T;T++)if(x=C[T],x.card_trait>=G){v=x.playerid,GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(x.playerid);break}}else v=f}if(!v)return FLOAT.NShowPutong([Language.ins.train_add_tip36]),o;break;case GlobalViewIDEnum.pType_train_fetter:var v,f=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();if(f){var b=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(f),G=game.SResponsePlayer.getMinFetterCardTrait();if(b.card_trait<G){for(var x,C=GlobalAllProxy.getInstance().playerProxy.playerArr,T=0,P=C.length;P>T;T++)if(x=C[T],x.card_trait>=G){v=x.playerid,GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(x.playerid);break}}else v=f}if(!v)return FLOAT.NShowPutong([Language.ins.train_add_tip36]),o;break;case GlobalViewIDEnum.pType_first_recharge:case GlobalViewIDEnum.pType_Operation_yiyuan:case GlobalViewIDEnum.pType_activity_sevenlogin:case GlobalViewIDEnum.pType_recharge_package:case GlobalViewIDEnum.pType_rank_activity:var A=GlobalAllProxy.getInstance().activityProxy,w=A.iscanJump(e);if(o=w,!o)return FLOAT.NShowPutong([Language.ins.title_tip_36]),o;break;case GlobalViewIDEnum.pType_guild_signgif:var k=GlobalAllProxy.getInstance().guildProxy;if(!k.Guild||!k.Guild.data){var _=t.getIns();return _.goWindow([GlobalViewIDEnum.pType_guild_apply]),o}}if(!m&&!t.getIns().isOpend(vm.GameMainView)){var I=GlobalEnum.panelEnum[u];if(I){var S=game.Injector.getInstance(I);S&&S.getLayer()==PanelLayer.panel&&(SoundMgr.getInstance().SetSoundVolume(1),SoundMgr.getInstance().PlaySound(GlobalSoundEffect.sound_bg))}}if(u){var I=GlobalEnum.panelEnum[u];if(I){var S=game.Injector.getInstance(I),E=S.getLayer();if(E==PanelLayer.panel&&n._obM&&n._obM instanceof vm.HeroView){var R=Manifest.getIns(vm.HeroFormaPanel);if(R&&R.isOpend()){var L=vm.HeroView.formaChangeFun();if(L)return n.m_formaarr=e,n.m_formaobj=a,R.setPandan(!0),vm.HeroView.showSaveAlert(n.formaokfun,n.formanofun,n),o}}o=!0,n.isOpend(I)?S.isOpend()&&(S.panelVo=r,S.onShow(!1)):o=t.getIns().open(I,r,i)}}return o},t.prototype.addopenList=function(e,t){var a=this.panelOpenList,i=a.length;switch(e){case vm.MainView:this.panelOpenList=[]}if(i=a.length,i>0){var n=a[i-1];n[0]!=e&&a.push([e,t])}else a.push([e,t])},t.prototype.clearOpenList=function(){this.panelOpenList=[]},t.prototype.removeOpenList=function(e){for(var t=this.panelOpenList,a=t.length,i=a-1;i>=0;i--){var n=t[i];n[0]==e&&t.splice(i,1)}},t.prototype.removeOpenListLast=function(){var e=this.panelOpenList,t=e.length;if(t>0){var a=t-1;e.splice(a,1)}},t.prototype.decideClose=function(e){t.getIns().isOpend(e)&&t.getIns().close(e)},t}(game.VIPanel_DM);__reflect(PanelDM.prototype,"PanelDM");var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getIns=function(){var e=this;return null==e.s_ins&&(e.s_ins=new t),e.s_ins},t.prototype.switchS=function(e){var t=this;if(e!=t._obM){if(null!=t._obM){var a=t._obM.parent;null!=a&&a.removeChild(t._obM),t._obM._isSubCreated&&t._obM.onHide(!1)}t._obM=e,null!=e&&(dm.VDM.s_root.addChildAt(e,0),e._isSubCreated&&e.onShow(!1)),PanelDM.getIns().clearPanels()}},t.prototype.close=function(e){var t=this;return null!=t._obM&&t._obM instanceof e?(t.switchS(null),!0):!1},t.prototype.isOpend=function(e){var t=this;return t._obM instanceof e},t}(e.GameDM);e.SceneDM=t,__reflect(t.prototype,"game.SceneDM")}(game||(game={}));var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t.m_errorObj={},t.m_errortip=!1,t._loaderrbl=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),window.closeLoadingView&&window.closeLoadingView(),Global.ishtml&&(Global.isIOS_ts=window.isIOS_ts),egret.TextField.default_fontFamily=GlobalEnum.comfont,eui.Label.default_fontFamily=GlobalEnum.comfont,this.stage.maxTouches=1,RES.setMaxLoadingThread(4),egret.ImageLoader.crossOrigin="anonymous",egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&(PFAll.game_params=location.search);var t=this;utils.GameComUtil.isPhone()||(t.stage.orientation=egret.OrientationMode.AUTO);var a=new AssetAdapter;t.stage.registerImplementation("eui.IAssetAdapter",a),t.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),Global.ishtml?(t.initversion(),utils.GameComUtil.isPhone()||(this.stage.setContentSize(Global.initStageWidth,Global.initStageHeight),t.stage.scaleMode=egret.StageScaleMode.SHOW_ALL,Global.stageWidth=Global.initStageWidth,Global.stageHeight=Global.initStageHeight)):(t.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,t.initversion()),"webgl"==egret.Capabilities.renderMode?Global.isWebGL=!0:Global.isWebGL=!1,t.stage.addEventListener(egret.Event.RESIZE,t.resizefun,t),t.resizefun(),egret.lifecycle.onPause=this.deactivatefun,egret.lifecycle.onResume=this.activatefun,egret.lifecycle.addLifecycleListener(function(e){document.addEventListener("qbrowserVisibilityChange",function(t){t.hidden?(PFAll.isOutStopRender()&&e.pause(),SoundMgr.getInstance().deactivateStopSound()):(PFAll.isOutStopRender()&&e.resume(),SoundMgr.getInstance().deactivatePlaySound(),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&GlobalAllProxy.getInstance().gameProxy.NetHeartbeat())})})},t.prototype.initseverdata=function(){if(Global.ishtml){var e=window.gamedata;if(e){var t=e.pf;Global.html_severNE=t;var a=null,i=!1;if(a&&a.simulation_platform){a.simulation_account,a.simulation_port,a.simulation_host,a.simulation_platform;Global.isPT_Moli=!0,Global.PT_Moli_name=a.simulation_account,Global.chathost=a.simulation_host,Global.chatport=+a.simulation_port,t=a.simulation_platform,i=!0}var n=GlobalConfig.getOffVO(t);if(n&&(Global.severNE=n.usept,Global.serverURL=n.serverURL,Global.serverPath=n.serverURL+"gateway.php",i||(Global.chathost=n.sever,Global.chatport=+n.post)),PFAll.InitPF(Global.severNE),a&&a.simulation_platform){var o=a.simulation_timestamp,r=a.simulation_str,s=a.simulation_channel,l=a.simulation_area;PFAll.game_platform=+s,PFAll.game_time=+o,PFAll.game_token=r,PFAll.game_serverId=+l}}}},t.prototype.resizefun=function(e){void 0===e&&(e=null);var t=this,a=1024,i=640,n=a/i,o=(Global.initStageHeight/Global.initStageWidth,egret.Capabilities.boundingClientHeight),r=egret.Capabilities.boundingClientWidth,s=(t.stage.width,t.stage.height,new egret.Point(r,o));if(utils.GameComUtil.isPhone()){var l=s.y/s.x;s.y<s.x&&(l=s.x/s.y),isNaN(l)||(n>=l?t.stage.scaleMode!=egret.StageScaleMode.SHOW_ALL&&(t.stage.scaleMode=egret.StageScaleMode.SHOW_ALL):t.stage.scaleMode!=egret.StageScaleMode.FIXED_WIDTH&&(t.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH))}utils.GameComUtil.isPhone()&&t.showresizefun()},t.prototype.activatefun=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),PFAll.isOutStopRender()&&egret.ticker.resume(),SoundMgr.getInstance().deactivatePlaySound(),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&GlobalAllProxy.getInstance().gameProxy.NetHeartbeat()},t.prototype.deactivatefun=function(){PFAll.isOutStopRender()&&egret.ticker.pause(),SoundMgr.getInstance().deactivateStopSound()},t.prototype.showresizefun=function(){var e=this;Global.stageWidth=e.stage.stageWidth,Global.stageHeight=e.stage.stageHeight,EventBus.getIns().sendMessage(game.GameCommands.STAGE_RESIZE)},t.prototype.initversion=function(){var e=this;e._rendomNum=Math.floor(1e7*Math.random())+"",RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,e.initthm,e);var t,a=window.gameCdnUrl?window.gameCdnUrl:"";if(Global.ishtml){var i=window.gameVersionNumber;if(i){var n=".js?v=",o=i.indexOf(n);-1!=o&&(e._rendomNum=i.substr(n.length))}t=a+"resource/default.rescopy.json?v="+e._rendomNum}else t=a+"resource/default.rescopy.json";RES.loadConfig(t,a+"resource/")},t.prototype.initthm=function(){var e,t=this,a=window.gameCdnUrl?window.gameCdnUrl:"";e=Global.ishtml?a+"resource/default.thm.json?v="+t._rendomNum:a+"resource/default.thm.json";var i=new eui.Theme(e,t.stage);i.addEventListener(eui.UIEvent.COMPLETE,t.onThemeLoadComplete,t)},t.prototype.onThemeLoadComplete=function(e){var t=this;RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,t.onConfigComplete,t),t.isThemeLoadEnd=!0,t.startLoad()},t.prototype.startLoad=function(){var e=this;e._loaderrbl=!1,this.addLoadEvent(),PFAll.game_change_logo&&RES.getResByUrl(PFAll.game_change_logo,e.loadptimg,e,RES.ResourceItem.TYPE_IMAGE),PFAll.game_change_bg&&RES.getResByUrl(PFAll.game_change_bg,e.loadptimg,e,RES.ResourceItem.TYPE_IMAGE),PFAll.game_change_loadbg&&RES.getResByUrl(PFAll.game_change_loadbg,e.loadptimg,e,RES.ResourceItem.TYPE_IMAGE),RES.loadGroup("loading")},t.prototype.loadptimg=function(e){},t.prototype.addLoadEvent=function(){var e=this;RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,e.onItemLoadError,e)},t.prototype.removeLoadEvent=function(){var e=this;RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,e.onResourceLoadError,e),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,e.onItemLoadError,e)},t.prototype.onConfigComplete=function(e){var t=this;RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,t.onConfigComplete,t),t.initPanelDM(),t.startPlayGame()},t.prototype.touchTapFun=function(e){var t=this,a=(e.target,ResName.mc_mouse),i=utils.GameComUtil.getArmature(a,a,t);i&&(this.stage.addChild(i),i.x=e.stageX,i.y=e.stageY,i.touchChildren=!1,i.touchEnabled=!1,i.animation.play("effect",1))},t.prototype.startPlayGame=function(){var e=[],t=this;if(GlobalAllProxy.getInstance(),Global.configinitBl)egret.setTimeout(t.createScene,t,100),t.loadingView.setProgress(100,100);else{var a;if(Global.isconfigZip){var i=t.getConfigBin();a=e.concat([i,"signlogin"])}else a=e.concat(["init_config","signlogin"]);RES.createGroup(GlobalEnum.res_mainload,a,!0),RES.loadGroup(GlobalEnum.res_mainload)}},t.prototype.onResourceLoadComplete=function(e){var t=this,a=e.groupName;if(a==GlobalEnum.res_mainload)RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.onResourceLoadComplete,t),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,t.onResourceProgress,t),t.isResourceLoadEnd=!0,t.loadingView.setProgress(100,100),egret.setTimeout(t.createScene,t,100);else if("loading"==a){if(Global.ishtml){var i=document.getElementById("preloading");i&&i.style&&(i.style.display="none"),window.showBg&&window.showBg()}GlobalConfig.tipInit(GlobalConfig.getConfigs("cfg_tips",null).DATA),GlobalConfig.offInit(GlobalConfig.getConfigs("cfg_off",null).DATA),GlobalConfig.languageInit(GlobalConfig.getConfigs("cfg_language",null).DATA),t.initseverdata(),t.loadingView||(t.loadingView=new LoadingUI,t.addChild(t.loadingView)),t.loadingView.onShow(),t.onConfigComplete()}},t.prototype.createScene=function(){var e=this;e.isThemeLoadEnd&&e.isResourceLoadEnd&&e.startCreateScene()},t.prototype.getConfigBin=function(){var e="configsbin";if(Global.html_severNE){var t=GlobalConfig.getOffVO(Global.html_severNE);t&&t.config&&"0"!=t.config&&(e=t.config)}return e},t.prototype.initdata=function(){var e=this,t=GlobalConfig,a=null,i=!1;if(Global.isconfigZip){i=!0;var n=e.getConfigBin(),o=RES.getRes(n);a=new JSZip(o)}Global.configopendataBl=!0,t.gameConfigInit(t.getConfigs("cfg_gameconfig",a).DATA),t.keywordInitText(t.getConfigs("cfg_keywordtext",a,!1)),t.clubrandnameInit(t.getConfigs("cfg_clubrandname",a).DATA),t.playerposInit(t.getConfigs("cfg_playerpos",a).DATA),t.showInit(t.getConfigs("cfg_show",a).DATA),t.matchReportInit(t.getConfigs("cfg_matchreport",a).DATA),t.copyRewardInit(t.getConfigs("cfg_copyrewardnew",a).DATA),t.formationInit(t.getConfigs("cfg_formation",a).DATA),t.itemInit(t.getConfigs("cfg_item",a).DATA),t.rankmatchconfigInit(t.getConfigs("cfg_rankmatchconfig",a).DATA),t.rankmatchweekInit(t.getConfigs("cfg_rankmatchweek",a).DATA),t.unlockInit(t.getConfigs("cfg_unlock",a).DATA),t.clubInit(t.getConfigs("cfg_club",a).DATA),t.formationporpertyInit(t.getConfigs("cfg_formationporperty",a).DATA),t.tacticsporpertyInit(t.getConfigs("cfg_tacticsporperty",a).DATA),t.tacticstoformationInit(t.getConfigs("cfg_tacticstoformation",a).DATA),t.tacticscenterInit(t.getConfigs("cfg_tacticscenter",a).DATA),t.clubgradeInit(t.getConfigs("cfg_clubgrade",a).DATA),t.staffpriceInit(t.getConfigs("cfg_staffprice",a).DATA),t.copyclubgradeInit(t.getConfigs("cfg_copyclubgrade",a).DATA),t.copyclubgradestarInit(t.getConfigs("cfg_copyclubgradestar",a).DATA),t.copyclubgradedescribeInit(t.getConfigs("cfg_copyclubgradedescribe",a).DATA),t.playerporpertyInit(t.getConfigs("cfg_playerporperty",a).DATA),t.locationrelationInit(t.getConfigs("cfg_locationrelation",a).DATA),t.playerstarlevelInit(t.getConfigs("cfg_playerstarlevel",a).DATA),t.powercoefficientInit(t.getConfigs("cfg_powercoefficient",a).DATA),t.locationexpandInit(t.getConfigs("cfg_locationexpand",a).DATA),t.primaryattributeInit(t.getConfigs("cfg_primaryattribute",a).DATA),t.evaluateInit(t.getConfigs("cfg_evaluate",a).DATA),t.skillInit(t.getConfigs("cfg_skill",a).DATA),t.friendscoreInit(t.getConfigs("cfg_friendscore",a).DATA),t.friendstraightwinInit(t.getConfigs("cfg_friendstraightwin",a).DATA),t.friendscorerewardInit(t.getConfigs("cfg_friendscorereward",a).DATA),t.skillgradeInit(t.getConfigs("cfg_skillgrade",a).DATA),t.playerstarInit(t.getConfigs("cfg_playerstar",a).DATA),t.playerexpInit(t.getConfigs("cfg_playerexp",a).DATA),t.techcenterInit(t.getConfigs("cfg_techcenter",a).DATA),t.techbookInit(t.getConfigs("cfg_techbook",a).DATA),t.techexprtInit(t.getConfigs("cfg_techexprt",a).DATA),t.techplayeraddInit(t.getConfigs("cfg_techplayeradd",a).DATA),t.equipstrengthenInit(t.getConfigs("cfg_equipstrengthen",a).DATA),t.equipclassInit(t.getConfigs("cfg_equipclass",a).DATA),t.equipclasssuitInit(t.getConfigs("cfg_equipclasssuit",a).DATA),t.equipqualityInit(t.getConfigs("cfg_equipquality",a).DATA),t.equipqualitysuitInit(t.getConfigs("cfg_equipqualitysuit",a).DATA),t.equipqualitysuitnewInit(t.getConfigs("cfg_equipqualitysuitnew",a).DATA),t.towercopyInit(t.getConfigs("cfg_towercopy",a).DATA),t.towerrewardInit(t.getConfigs("cfg_towerreward",a).DATA),t.towerrestInit(t.getConfigs("cfg_towerrest",a).DATA),t.towerstrengthenInit(t.getConfigs("cfg_towerstrengthen",a).DATA),t.towershopInit(t.getConfigs("cfg_towershop",a).DATA),t.scoutcenterInit(t.getConfigs("cfg_scoutcenter",a).DATA),t.scoutratioInit(t.getConfigs("cfg_scoutratio",a).DATA),t.activeInit(t.getConfigs("cfg_active",a).DATA),t.activebagInit(t.getConfigs("cfg_activebag",a).DATA),t.shopInit(t.getConfigs("cfg_shop",a).DATA),t.vipInit(t.getConfigs("cfg_vip",a).DATA),t.vipacessInit(t.getConfigs("cfg_vipacess",a).DATA),t.countryInit(t.getConfigs("cfg_country",a).DATA),t.porpertytypeInit(t.getConfigs("cfg_porpertytype",a).DATA),t.secretarytaskInit(t.getConfigs("cfg_secretarytask",a).DATA),t.secretaryguildInit(t.getConfigs("cfg_secretaryguild",a).DATA),t.secretaryreportInit(t.getConfigs("cfg_secretaryreport",a).DATA),t.achieveInit(t.getConfigs("cfg_achieve",a).DATA),t.achieverewardInit(t.getConfigs("cfg_achievereward",a).DATA),t.questiondailybagInit(t.getConfigs("cfg_questiondailybag",a).DATA),t.questionweeklybagInit(t.getConfigs("cfg_questionweeklybag",a).DATA),t.questionrewardInit(t.getConfigs("cfg_questionreward",a).DATA),t.logoInit(t.getConfigs("cfg_logo",a).DATA),t.priceInit(t.getConfigs("cfg_price",a).DATA),t.systemlanguageInit(t.getConfigs("cfg_systemlanguage",a).DATA);var r=PFAll.getChargePath();t.chargeInit(t.getConfigs(r,a).DATA),t.chargeiosInit(t.getConfigs("cfg_chargeios",a).DATA),t.guideInit(t.getConfigs("cfg_guide",a).DATA),t.guidestepInit(t.getConfigs("cfg_guidestep",a).DATA),t.barrageInit(t.getConfigs("cfg_barrage",a).DATA),t.giftbagInit(t.getConfigs("cfg_giftbag",a).DATA),t.fetterInit(t.getConfigs("cfg_fetter",a).DATA),t.shoptransferInit(t.getConfigs("cfg_shoptransfer",a).DATA),t.activityiconInit(t.getConfigs("cfg_activityicon",a).DATA),t.activityInit(t.getConfigs("cfg_activity",a).DATA),t.randomdropInit(t.getConfigs("cfg_randomdrop",a).DATA),t.carnivaInit(t.getConfigs("cfg_activitysevenday",a).DATA),t.monthcarInit(t.getConfigs("cfg_monthcard",a).DATA),t.shareInit(t.getConfigs("cfg_share",a).DATA),t.tacticalInit(t.getConfigs("cfg_tacticsrestrain",a).DATA),t.shartxtInit(t.getConfigs("cfg_sharetext",a).DATA),t.qualifyingdayrewardInit(t.getConfigs("cfg_arenascorereward",a).DATA),t.qualifyingrankrewardInit(t.getConfigs("cfg_arenarankreward",a).DATA),t.shareinviterichInit(t.getConfigs("cfg_shareinviterich",a).DATA),t.activityoperateInit(t.getConfigs("cfg_activityoperate",a).DATA),t.activitydanbipayInit(t.getConfigs("cfg_activitydanbipay",a).DATA),t.activityleijiInit(t.getConfigs("cfg_activityleijipay",a).DATA),t.shareinvitelevelInit(t.getConfigs("cfg_shareinvitelevel",a).DATA),t.activityjinqiuInit(t.getConfigs("cfg_activityjinqiu",a).DATA),t.activityyiyuanInit(t.getConfigs("cfg_activityyiyuan",a).DATA),t.activitytouziInit(t.getConfigs("cfg_activitytouzi",a).DATA),t.activitybaozangInit(t.getConfigs("cfg_activitybaozang",a).DATA),t.fetterclubInit(t.getConfigs("cfg_fetterclub",a).DATA),t.activityzaixianInit(t.getConfigs("cfg_activityzaixian",a).DATA),t.activityxiaofeiInit(t.getConfigs("cfg_activityxiaofei",a).DATA),t.activityqiandaoInit(t.getConfigs("cfg_activityqiandao",a).DATA),t.activityjuxingInit(t.getConfigs("cfg_activityjuxing",a).DATA),t.copyplayerrewardInit(t.getConfigs("cfg_copyplayerreward",a).DATA),t.scouttypeInit(t.getConfigs("cfg_scouttype",a).DATA),t.scoutplayerInit(t.getConfigs("cfg_scoutplayer",a).DATA),t.guildInit(t.getConfigs("cfg_guild",a).DATA),t.postInit(t.getConfigs("cfg_post",a).DATA),t.coachInit(t.getConfigs("cfg_coach",a).DATA),t.coachimspireInit(t.getConfigs("cfg_coachimspire",a).DATA),t.coachlevelInit(t.getConfigs("cfg_coachlevel",a).DATA),t.coachstarInit(t.getConfigs("cfg_coachstar",a).DATA),t.coachtrainInit(t.getConfigs("cfg_coachtrain",a).DATA),t.cardpoolInit(t.getConfigs("cfg_scoutspicalrank",a).DATA),t.titleInit(t.getConfigs("cfg_title",a).DATA),t.activitydianjiangInit(t.getConfigs("cfg_activitydianjiang",a).DATA),t.activitychaozhiInit(t.getConfigs("cfg_activityqianggou",a).DATA),t.activityshangjingInit(t.getConfigs("cfg_activityshangjin",a).DATA),t.trainskillgroupInit(t.getConfigs("cfg_skillsuit",a).DATA),t.activitylabaInit(t.getConfigs("cfg_activitylaba",a).DATA),t.leagueInit(t.getConfigs("cfg_leaguerank",a).DATA),t.leagueRewardInit(t.getConfigs("cfg_leaguereward",a).DATA),t.betChampionInit(t.getConfigs("cfg_quizchampion",a).DATA),t.activityzhuanpanInit(t.getConfigs("cfg_activityzhuanpan",a).DATA),t.activitymibaoInit(t.getConfigs("cfg_activitymibao",a).DATA);
var s;if(Global.isconfigZip){var n=e.getConfigBin();s=n}else s="init_config";RES.destroyRes(s);GlobalTimeManager.instance,e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),PFAll.InitConfig()},t.prototype.issignloaderror=function(e){var t=this;if(e&&""!=e){var a=this.m_errorObj;a[e]?a[e]+=1:a[e]=1;var i=!1;for(var n in a)RES.isGroupLoaded(n)?delete a[n]:i=!0;if(i&&!t.m_errortip){t.m_errortip=!0;var o=new AlertVO,r=Language.ins.alert_load_link;o.info=r,o.showCancel=!1,JAlert.show(o,Language.ins.title_tishi,t.loaderrorfun,t,t.loaderrorfun)}}},t.prototype.loaderrorfun=function(){var e=this.m_errorObj;this.m_errortip=!1;for(var t in e)RES.isGroupLoaded(t)?delete e[t]:RES.loadGroup(t)},t.prototype.onItemLoadError=function(e){var t=this,a=e.groupName;a==GlobalEnum.res_signload?t.issignloaderror(a):a&&""!=a&&utils.GameComUtil.linkloaderror()},t.prototype.onResourceLoadError=function(e){var t=this,a=e.groupName;a==GlobalEnum.res_signload?t.issignloaderror(a):a&&""!=a&&utils.GameComUtil.linkloaderror()},t.prototype.onResourceProgress=function(e){var t=this;e.groupName==GlobalEnum.res_mainload&&t.loadingView&&t.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.startCreateScene=function(){var e=this;if(dm.VDM.setRoot(e),FLOAT.$STAGE=e,!FLOAT.LogoSpr){var t=new egret.DisplayObjectContainer;FLOAT.LogoSpr=t,t.width=10,t.height=10,t.visible=!1,e.addChild(t)}PanelType.getIns(),DMType.getIns();if(Global.stage=e,GlobalEnum.setpanelEnum(),GlobalAllProxy.getInstance(),e.initdata(),Global.severNE!=Global.severNE_debug&&!Global.isPT_Moli&&PFAll.isGetPFdata()){var a=GlobalAllProxy.getInstance().gameProxy.severlistData;a||GlobalAllProxy.getInstance().gameProxy.NetGameNotice(PFAll.game_pf,PFAll.game_platform,PFAll.game_userid,PFAll.game_token,PFAll.game_pf_channel)}PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamelogin]),egret.setTimeout(e.hitLoadUI,e,200)},t.prototype.hitLoadUI=function(){var e=this,t=e.loadingView;t&&t.parent&&(t.onHide(),t.parent.removeChild(t))},t.prototype.initPanelDM=function(){var e=this;dm.VDM.setRoot(e),FLOAT.$STAGE=e,Global.stage=e;PanelType.getIns();GlobalEffects.buttonEffect=new game.BaseButtonEffect},t}(eui.UILayer);__reflect(Main.prototype,"Main");var dm;!function(e){var t=function(){function e(){}return e.setRoot=function(e){this.s_root=e},e}();e.VDM=t,__reflect(t.prototype,"dm.VDM")}(dm||(dm={}));var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,a,i){function n(e){t.call(i,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),a.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var DMType=function(){function e(){Manifest.map(FightDM),Manifest.map(FightResDM)}return e.getIns=function(){return null==this.s_ins&&(this.s_ins=new e),this.s_ins},e}();__reflect(DMType.prototype,"DMType");var GameEnum=function(){function e(){}return e.DYNAMIC_FIGHT_RES_GROUP="dynamicFightRes",e.FIGHT_RES_PLOT_COM="FIGHT_RES_PLOT_COM",e.NET_LOAD="net_",e.load_pt_pay="load_pt_pay",e.net_websocket_link="net_websocket_link",e.net_websocket_relink="net_websocket_relink",e}();__reflect(GameEnum.prototype,"GameEnum");var PanelLayer=function(){function e(){}return e.scene="scene",e.panel="panel",e.top="top",e.viPanel="viPanel",e.topVIPanel="topVI",e.topPostPanel="topPostPanel",e.tip="tip",e.alert="alert",e.guidePanel="guide",e}();__reflect(PanelLayer.prototype,"PanelLayer");var PanelType=function(){function e(){Manifest.map(MainTop2Panel),Manifest.map(vm.ShareNewView),Manifest.map(vm.GuildeAddHeroView),Manifest.map(vm.AlertBuyTimeView),Manifest.map(vm.ShareCollectView),Manifest.map(vm.ShareRegalView),Manifest.map(vm.ShareEverydayView),Manifest.map(vm.HeroGroomTeamView),Manifest.map(vm.ScoutLibraryView),Manifest.map(vm.ScoutRecruitNewView),Manifest.map(vm.GameFollowView),Manifest.map(vm.AlertView),Manifest.map(vm.MainView),Manifest.map(vm.GameMainView),Manifest.map(vm.RankView),Manifest.map(vm.SignLoginView),Manifest.map(vm.RichFightView),Manifest.map(vm.MainGetItem),Manifest.map(vm.RichZuRewardPanel),Manifest.map(vm.RichRankRewardView),Manifest.map(vm.RichFightInfoView),Manifest.map(vm.RichRankView),Manifest.map(vm.TacticsBgView),Manifest.map(vm.TacticsFormaPanel),Manifest.map(vm.TacticsFormaInfoView),Manifest.map(vm.TacticsFormaUpgradeView),Manifest.map(vm.TacticsStudyInfoView),Manifest.map(vm.TacticsStudyUpgradeView),Manifest.map(vm.ClubRecruitStaffView),Manifest.map(vm.ClubFightMapView),Manifest.map(vm.HeroView),Manifest.map(vm.HeroFormaPanel),Manifest.map(vm.HeroListPanel),Manifest.map(vm.HeroStudyPanel),Manifest.map(vm.HeroChangeView),Manifest.map(vm.HeroInfoView),Manifest.map(vm.FightResultView),Manifest.map(vm.FriendShipView),Manifest.map(vm.TipView),Manifest.map(vm.TrainEnterView),Manifest.map(vm.TrainBreachView),Manifest.map(vm.TrainSkillView),Manifest.map(vm.TrainUpStarView),Manifest.map(vm.TrainChooseView),Manifest.map(vm.TrainUpSkillView),Manifest.map(vm.TrainBreachChooseView),Manifest.map(vm.TechBgView),Manifest.map(vm.TechEquipPanel),Manifest.map(vm.TechEquipQualityView),Manifest.map(vm.TechEquipStudyPanel),Manifest.map(vm.TechEquipUpGradeView),Manifest.map(vm.FightDekaronRankView),Manifest.map(vm.FightDekaronResultView),Manifest.map(vm.FightDekaronRoadView),Manifest.map(vm.FightDekaronShopView),Manifest.map(vm.FightDekaronSweepView),Manifest.map(vm.ScoutBgView),Manifest.map(vm.ScoutRecruitInfoView),Manifest.map(vm.HeroPokedexView),Manifest.map(vm.FriendBgView),Manifest.map(vm.FriendAskPanel),Manifest.map(vm.FriendListPanel),Manifest.map(vm.FriendLookUpPanel),Manifest.map(vm.BackPackBgView),Manifest.map(vm.BackPackInfoView),Manifest.map(vm.DayTaskView),Manifest.map(vm.ShopBgView),Manifest.map(vm.ShopBuyView),Manifest.map(vm.FightEnterView),Manifest.map(vm.MailView),Manifest.map(vm.MailInfoView),Manifest.map(vm.SecretaryBgView),Manifest.map(vm.SecretaryGrowPanel),Manifest.map(vm.SecretaryEncyPanel),Manifest.map(vm.SecretaryReportPanel),Manifest.map(vm.VipView),Manifest.map(vm.VipObtainView),Manifest.map(vm.VipAwardInfoView),Manifest.map(vm.MonthCarView),Manifest.map(vm.AchieveView),Manifest.map(vm.AchieveListView),Manifest.map(vm.AchieveAwardView),Manifest.map(vm.SetUpInfoView),Manifest.map(vm.SetUpChangeNameView),Manifest.map(vm.SetUpLogoView),Manifest.map(vm.SetUpExchangeView),Manifest.map(vm.SignCreatClubView),Manifest.map(vm.ChatView),Manifest.map(vm.PeopleInfoView),Manifest.map(vm.AnswerView),Manifest.map(vm.AnswerResultView),Manifest.map(vm.AnswerRankView),Manifest.map(vm.AnswerAwardView),Manifest.map(vm.BuildManageView),Manifest.map(vm.BuildFriendView),Manifest.map(vm.BuildInviteView),Manifest.map(vm.BuildNewsView),Manifest.map(vm.BuildStaffView),Manifest.map(vm.ClubDetailView),Manifest.map(vm.AchieveChangeView),Manifest.map(vm.TrainUpStarInfoView),Manifest.map(vm.FightFastView),Manifest.map(vm.FightNextView),Manifest.map(vm.FightOffLineView),Manifest.map(vm.FightPrewarView),Manifest.map(vm.HeroLockInfoView),Manifest.map(vm.HelpView),Manifest.map(vm.AlertRewardView),Manifest.map(vm.FightDekaronRewardView),Manifest.map(vm.NewPlayFollowView),Manifest.map(vm.GuideFirstFightView),Manifest.map(vm.BuildInfoView),Manifest.map(vm.AlertZhanliView),Manifest.map(vm.AlertNoteView),Manifest.map(vm.ShopPayView),Manifest.map(vm.ChatBarrageView),Manifest.map(vm.ClubGradeInfoView),Manifest.map(vm.ClubFightMapInfoView),Manifest.map(vm.AlertListView),Manifest.map(vm.HeroFormationView),Manifest.map(vm.TacticsFormationPanel),Manifest.map(vm.TaskFollowView),Manifest.map(vm.BackPackSynthesisInfoView),Manifest.map(vm.HeroRecoverFastView),Manifest.map(vm.TrainBeRebornView),Manifest.map(vm.ScoutUnlockPanel),Manifest.map(vm.ScoutMarketView),Manifest.map(vm.MainGetwayView),Manifest.map(vm.ScoutExtraUnlockPanel),Manifest.map(vm.BuildClubInfoView),Manifest.map(vm.ActivityView),Manifest.map(vm.ActivitySevenLoginView),Manifest.map(vm.ActivityCumulativeSignView),Manifest.map(vm.ActivityGiftPacksView),Manifest.map(vm.ActivityDrawingView),Manifest.map(vm.RechargeRebateView),Manifest.map(vm.RechargePackageView),Manifest.map(vm.RechargeConsumptionView),Manifest.map(vm.ClubSweepView),Manifest.map(vm.RechargeInvestmentView),Manifest.map(vm.FirstRechargeView),Manifest.map(vm.RechargeFundView),Manifest.map(vm.RankPowerView),Manifest.map(vm.RankActivityView),Manifest.map(vm.RankLevelView),Manifest.map(vm.RankPeakView),Manifest.map(vm.RankRecruitView),Manifest.map(vm.FightOffLineListView),Manifest.map(vm.CarnivalActivityView),Manifest.map(vm.TipAwardView),Manifest.map(vm.BuildUpLevelView),Manifest.map(vm.FightDekaronStopView),Manifest.map(vm.MainAllNoteView),Manifest.map(vm.PlayerSharView),Manifest.map(vm.BuildSharView),Manifest.map(vm.RandomSharView),Manifest.map(vm.ShareGetGifView),Manifest.map(vm.WeeklySharView),Manifest.map(vm.QualifyingView),Manifest.map(vm.QualifyingRankRewardView),Manifest.map(vm.QualifyingRankView),Manifest.map(vm.QualifyingDayRewardView),Manifest.map(vm.QualifyingRecordView),Manifest.map(vm.OperationOneRechargeView),Manifest.map(vm.OperationLeiJiPayView),Manifest.map(vm.OperationContinuityRechargeView),Manifest.map(vm.FriendShipRewardView),Manifest.map(vm.OperationYiYuanView),Manifest.map(vm.OperationTouZiView),Manifest.map(vm.OperationBaoZangView),Manifest.map(vm.OperationBaoZangHeroView),Manifest.map(vm.OperationZaiXianView),Manifest.map(vm.OperationXiaofeiView),Manifest.map(vm.OperationQianDaoView),Manifest.map(vm.OperationJuXingView),Manifest.map(vm.GuildView),Manifest.map(vm.GuildApplyView),Manifest.map(vm.GuildInfoView),Manifest.map(vm.GuildChangeNameView),Manifest.map(vm.GuildCreateView),Manifest.map(vm.GuildSetUpView),Manifest.map(vm.GuildApprovalView),Manifest.map(vm.GuildRankView),Manifest.map(vm.GuildSignGifView),Manifest.map(vm.GuildLogView),Manifest.map(vm.GuildListView),Manifest.map(vm.GuildChangeNoticeView),Manifest.map(vm.GuildRedBaoView),Manifest.map(vm.CoachBgView),Manifest.map(vm.CoachLookView),Manifest.map(vm.CoachInfoPanel),Manifest.map(vm.CoachExcitaPanel),Manifest.map(vm.CoachTrainPanel),Manifest.map(vm.CoachUpgradePanel),Manifest.map(vm.CoachUpInfoView),Manifest.map(vm.TrainFetterView),Manifest.map(vm.TrainFetterListView),Manifest.map(vm.MainChooseHeroView),Manifest.map(vm.TitleView),Manifest.map(vm.TitleDetailsPanel),Manifest.map(vm.TitleManagePanel),Manifest.map(vm.TitleAdvancedPanel),Manifest.map(vm.LeagueBgView),Manifest.map(vm.LeagueDanView),Manifest.map(vm.LeagueEliminatePanel),Manifest.map(vm.LeagueGroupPanel),Manifest.map(vm.LeagueRankView),Manifest.map(vm.LeagueScheduleBgView),Manifest.map(vm.LeagueAwardView),Manifest.map(vm.LeagueShopView),Manifest.map(vm.ScoutPreView),Manifest.map(vm.OperationSSRPointView),Manifest.map(vm.OperationSSRChooseView),Manifest.map(vm.OperationChaoZhiBuyView),Manifest.map(vm.OperationCallView),Manifest.map(vm.OperationYuRenJieView),Manifest.map(vm.TrainSkillGroupView),Manifest.map(vm.AnswerScoreRewardView),Manifest.map(vm.GuideGetHeroView),Manifest.map(vm.GuideDownView),Manifest.map(vm.ActivityTimedBagView),Manifest.map(vm.ActivitySuperBuyView),Manifest.map(vm.LeagueLookFightView),Manifest.map(vm.LeagueAllAwardView),Manifest.map(vm.BetShopView),Manifest.map(vm.BetView),Manifest.map(vm.BetMatchView),Manifest.map(vm.BetChampionView),Manifest.map(vm.ShareEvaluateView),Manifest.map(vm.OperationZhuanPanView),Manifest.map(vm.OperationZPShopView),Manifest.map(vm.OperationMiBaoView),Manifest.map(vm.MailObtainPropView)}return e.getIns=function(){var t=this;return null==t.s_ins&&(t.s_ins=new e),t.s_ins},e}();__reflect(PanelType.prototype,"PanelType");var Global=function(){function e(){}return e.isMusic=function(){return"1"==e.music_isopen},e.isSound=function(){return"1"==e.sound_isopen},e.setFightAutoBl=function(t){e.fightpve_auto=t},e.setMusicBl=function(t){var a=t?"1":"0";e.music_isopen!=a&&(e.music_isopen=t?"1":"0",SaveUtil.setItem(SaveUtil.type_music_isopen,e.music_isopen));var i=SoundMgr.getInstance();t?i._musicbgid&&i.PlaySound(i._musicbgid):i.StopSound()},e.setSoundBl=function(t){var a=t?"1":"0";e.sound_isopen!=a&&(e.sound_isopen=t?"1":"0",SaveUtil.setItem(SaveUtil.type_sound_isopen,e.sound_isopen))},e.goMainScene=function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_main])},e.isUgCost=function(e){var t=this,a=!1,i=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(i.stone>=e&&(a=!0),!a){var n=Language.ins.no_ug_tip,o=new AlertVO;o.okLabel=Language.ins.btn_go_pay,o.info=n,JAlert.show(o,Language.ins.title_tishi,t.alercostfun,t),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_playerror)}return a},e.alercostfun=function(){},e.iscoinCost=function(e){var t=this,a=!1,i=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(i.gold>=e&&(a=!0),!a){var n=Language.ins.no_coin_tip,o=new AlertVO;o.okLabel=Language.ins.btn_go_paycoin,o.info=n,JAlert.show(o,Language.ins.title_tishi,t.alercostcoinfun,t),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_playerror)}return a},e.alercostcoinfun=function(){},e.showbanbentip=function(){var e=this;return e.isbanben&&(SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_playerror),FLOAT.NShowPutong([Language.ins.game_no_down])),e.isbanben},e.checkNameIsLegal=function(e){for(var t,a=/[^\u4e00-\u9fa5]/,i=/[^\x00-\xff]/,n=/^[0-9]*$/,o=/^[A-Za-z]+$/,r=/[\u0800-\u4e00]+/,s=e,l=s.length,p=!0,c=0;l>c;c++){t=s[c];var u=Boolean(a.test(t)||i.test(t)),m=n.test(t),g=o.test(t),_=r.test(t);u||m||g||_||(p=!1)}return p},e.serverPath="https://apifbqqdemo.meplayplay.com/gateway.php",e.serverURL="https://apifbqqdemo.meplayplay.com/",e.chathost="172.24.3.3",e.chatport=9500,e.version=20180306,e.isbanben=!0,e.uidkey="",e.uid="",e.isrest=!0,e.isconfigZip=!0,e.isshowBarrage=!0,e.ishtml=!0,e.isPlauGuide=!0,e.isapphigh=!0,e.isDecide=!1,e.isIphoneX=!1,e.isshowGuide=!0,e.isjuqing=!0,e.configinitBl=!1,e.sid="",e.configopendataBl=!1,e.serverType_C="c",e.serverType_G="g",e.isPT_Moli=!1,e.PT_Moli_name="",e.severNE="debug",e.severNE_debug="debug",e.severNE_aiweiyou="aiweiyou",e.severNE_qqllq="qqllq",e.severNE_wanba="wanba_ts",e.severNE_dujiaoshou="dujiaoshou",e.severNE_dujiaoshouiostest="dujiaoshou_iostest",e.severNE_tanwan="tanwan",e.severNE_japan="japan",e.severNE_english="english",e.severNE_russia="russia",e.servrNE_tanwantest="tanwantest",e.servrNE_mobilegame="mobilegame",e.servrNE_wxgame="wxgame",e.servrNE_blockchain="blockchain",e.severNE_Arr=["blockchain","wxgame","mobilegame","tanwantest","russia","english","tanwan","debug","aiweiyou","wanba","dujiaoshou","dujiaoshou_iostest","japan"],e.severNeId=90063,e.severNE_yahoo_wiki="yahoo_wiki",e.servrNE_germany="germany",e.severNE_russia_vk="vk",e.severNE_russia_ok="ok",e.severlocal="local",e.severname="",e.severpass="",e.severuserid="",e.initStageWidth=640,e.initStageHeight=1024,e.stageWidth=640,e.stageHeight=1138,e.stageScale=1,e.bginitWight=640,e.bginitHeight=1138,e.isWebGL=!1,e.gamestartTime=0,e.systemTimeOff=0,e.systemTimeDate=0,e.systemTimeNum=0,e.systemStartTime=0,e.music_isopen="0",e.sound_isopen="1",e.fightpve_auto=!1,e.isIOS_ts=!1,e}();__reflect(Global.prototype,"Global");var GlobalAllProxy=function(){function e(){}return e.getInstance=function(){var t=this;return null!=t.instance&&t.instance.guideProxy||(t.instance=new e,t.instance.gameProxy=new game.GameProxy,t.instance.fightProxy=new game.FightProxy,t.instance.playerProxy=new game.PlayerProxy,t.instance.guideProxy=new game.GuideProxy,t.instance.backpackProxy=new game.BackPackProxy,t.instance.friendProxy=new game.FriendProxy,t.instance.chatProxy=new game.ChatProxy,t.instance.activityProxy=new game.ActivityProxy,t.instance.operationProxy=new game.OperationProxy,t.instance.guildProxy=new game.GuildProxy),t.instance},e.prototype.refreshGame=function(){var e=this;e.gameProxy.refreshGame(),e.fightProxy.refreshGame(),e.playerProxy.refreshGame(),e.guideProxy.refreshGame(),e.backpackProxy.refreshGame(),e.friendProxy.refreshGame(),e.chatProxy.refreshGame(),e.activityProxy.refreshGame(),e.operationProxy.refreshGame(),e.guildProxy.refreshGame()},e.prototype.zeroPointRefresh=function(e){var t=this;t.gameProxy.zeroPointRefresh(e),t.fightProxy.zeroPointRefresh(e),t.playerProxy.zeroPointRefresh(e),t.guideProxy.zeroPointRefresh(e),t.backpackProxy.zeroPointRefresh(e),t.friendProxy.zeroPointRefresh(e),t.chatProxy.zeroPointRefresh(e),t.activityProxy.zeroPointRefresh(e),t.operationProxy.zeroPointRefresh(e),t.guildProxy.zeroPointRefresh(e),t.gameProxy.NetZerorefreshCardPool()},e.prototype.timePlay=function(e){void 0===e&&(e=1);var t=this;t.gameProxy.timePlay(e),t.fightProxy.timePlay(e),t.playerProxy.timePlay(e),t.guideProxy.timePlay(e),t.backpackProxy.timePlay(e),t.friendProxy.timePlay(e),t.chatProxy.timePlay(e),t.activityProxy.timePlay(e),t.operationProxy.timePlay(e),t.guildProxy.timePlay(e)},e.SINGLETON_MSG="GlobalAllProxy Singleton already constructed!",e}();__reflect(GlobalAllProxy.prototype,"GlobalAllProxy");var GlobalConfig=function(){function e(){}return e.getConfigs=function(e,t,a){if(void 0===t&&(t=null),void 0===a&&(a=!0),t){var i=e+".json";return a?JSON.parse(t.file(i).asText()):t.file(i).asText()}return RES.getRes(e)},e.gameConfigInit=function(e){this.gameconfig_DATE={};var t,a,i,n=(this.gameconfig_DATE,""),o=ParamLoader.instance;if(o.blDataInConfig){var r=["ServerHeartGet","ServerIniLogo","ServerLeagueLv","ServerContinent","ServerInitialLogo","ServerPeakStart","ServerPeakEnd"];for(i in e)a=e[i],t=new game.GameConfigVO,t.objectToThis(a),n=t.key,"0"!=n&&(-1!=r.indexOf(n)?o[n]=a.value:o[n]=t.value);o.changeFrame()}},e.keywordInit=function(e){var t,a,i="sb",n="@鹿心社";for(t in e)i+="|"+e[t].k;var o=this.excludeSpecial(i);a=new RegExp(o,"g"),a.test(n),this.keyWordStr=o,console.log(this.keyWordStr)},e.keywordInitText=function(e){this.keyWordStr=e},e.excludeSpecial=function(e){return e=e.replace(/[\@\#\$\%\^\-\&\*\{\}\:\'\"\<\>\?\）\（\(\)]/g,"\\$&")},e.excludeSpecialRemove=function(e){return e=e.replace(/[\@\#\$\%\^\-\&\*\{\}\:\'\"\<\>\?\）\（\(\)]/g,"")},e.playerposInit=function(e){this.playerpos_DATE={};var t,a,i,n,o=this.playerpos_DATE,r="";for(i in e)a=e[i],t=new game.PlayerposVO,t.objectToThis(a),r=t.playerpos+"_"+t.attack,o[r]||(o[r]={}),n=o[r],n[t.ballpos]=t},e.languageInit=function(e){var t,a,i,n,o,r=Language.ins,s=Language.arrStrS;for(t in e)a=e[t].key,i=e[t].value,o=r[a],-1!=s.indexOf(a)||o&&o instanceof Array?(n=i.split(","),r[a]=n):r[a]=i},e.trimStr=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e.itemInit=function(t){this.ITEM_DATE=e.comInitData(t,game.ItemVO,"objectid")},e.rankmatchconfigInit=function(t){this.rankmathconfig_DATE=e.comInitData(t,game.RankMathConfigVO,"rankid");var a,i=this.rankmathconfig_DATE,n=0,o=0;for(var r in i)a=i[r],n||(n=a.rankid),o||(o=a.rankid),n=Math.min(n,a.rankid),o=Math.max(o,a.rankid);this.minRichRankNum=n,this.maxRichRankNum=o},e.rankmatchweekInit=function(t){this.rankmathweek_DATE=e.comInitData(t,game.RankMathWeekVO,"id")},e.unlockInit=function(t){this.UPLOCK_DATA=e.comInitData(t,game.UnLockVO,"id")},e.clubInit=function(t){this.CLUB_DATA=e.comInitData(t,game.ComClubVO,"clublv")},e.getClubVO=function(e){return this.CLUB_DATA[e]},e.getClubLevelVO=function(e){var t,a=this.CLUB_DATA;for(var i in a)if(t=a[i],e>=t.minexp&&e<t.maxexp)return t;return t},e.formationporpertyInit=function(t){this.FORMATIONPORPERTY_DATA=e.comInitDataTwo(t,game.ComFormaPorVO,"fid","flv")},e.getFormationProperVO=function(e,t){var a=e+"_"+t;return this.FORMATIONPORPERTY_DATA[a]},e.tipInit=function(t){this.tip_dataArr=e.comInitDataArr(t,game.ComTipVO)},e.offInit=function(t){this.off_dataArr=e.comInitDataArr(t,game.ComOffVO)},e.getOffVO=function(e){for(var t,a=this.off_dataArr,i=0,n=a.length;n>i;i++)if(t=a[i],t.pt==e)return t;return null},e.tacticsporpertyInit=function(t){this.TACTICSPORPERTY_DATA=e.comInitDataTwo(t,game.ComTacticsPorVO,"tid","tlv")},e.getTacticsPorPertyArrVO=function(e){var t,a=e?game.ComTacticsPorVO.ttype_act:game.ComTacticsPorVO.ttype_def,i=this.TACTICSPORPERTY_DATA,n=[],o={};for(var r in i)t=i[r],o[t.tid]||t.ttype!=a||(o[t.tid]=1,n.push(t));return n},e.getTacticstoPorPertyVO=function(e,t){var a=e+"_"+t;return this.TACTICSPORPERTY_DATA[a]},e.tacticstoformationInit=function(t){this.TACTICSTOFORMATION_DATA=e.comInitDataTwo(t,game.ComTacticstoFormaVO,"tid","fid")},e.getTacticstoFormationVO=function(e,t){var a=e+"_"+t;return this.TACTICSTOFORMATION_DATA[a]},e.tacticscenterInit=function(t){this.TACTICSCENTER_DATA=e.comInitData(t,game.ComTacticsCenterVO,"taclv")},e.getTacticsCenterVO=function(e){return this.TACTICSCENTER_DATA[e]},e.clubgradeInit=function(t){this.CLUBGRADE_DATA=e.comInitData(t,game.ComClubgradeVO,"clubgrade")},e.getClubgradeVO=function(e){return this.CLUBGRADE_DATA[e]},e.playerporpertyInit=function(t){this.PLAYERPORPERTY_DATA=e.comInitData(t,game.ComPlayerPorpertyVO,"playerid")},e.getPlayerPorpertyVO=function(e){return this.PLAYERPORPERTY_DATA[e]},e.playerstarlevelInit=function(t){this.PLAYERSTARLEVEL_DATA=e.comInitDataThree(t,game.ComPlayerStarLevelVO,"pclass","pstar","plv")},e.getPlayerstarlevelVO=function(e,t,a){var i=e+"_"+t+"_"+a;return this.PLAYERSTARLEVEL_DATA[i]},e.powercoefficientInit=function(t){this.POWERCOEFFICIENT_DATA=e.comInitData(t,game.ComPowercoefficientVO,"location")},e.getPowercoefficientVO=function(e){return this.POWERCOEFFICIENT_DATA[e]},e.locationexpandInit=function(t){this.LOCATIONEXPAND_DATA=e.comInitData(t,game.ComLocationexpandVO,"location")},e.getLocationexpandVO=function(e){return this.LOCATIONEXPAND_DATA[e]},e.primaryattributeInit=function(t){this.PRIMARYATTRIBUTE_DATA=e.comInitData(t,game.ComPrimaryattributeVO,"porpertytype")},e.getPrimaryattributeVO=function(e){return this.PRIMARYATTRIBUTE_DATA[e]},e.skillInit=function(t){this.SKILL_DATA=e.comInitData(t,game.ComSkillVO,"sid")},e.getSkillVO=function(e){return this.SKILL_DATA[e]},e.friendscoreInit=function(t){var a=e.comInitDataArr(t,game.ComFriendScoreVO);this.FRIENDSCORE_DATA=a},e.getFriendScore=function(e){for(var t,a=this.FRIENDSCORE_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.opponent==e)return t.getnum();return 0},e.friendstraightwinInit=function(t){var a=e.comInitDataArr(t,game.ComFriendStraightWinVO);this.FRIENDSTRAIGHTWIN_DATA=a;var i=a.length,n=a[i-1];this.friendstraightwin_max=n.getnum()},e.friendstraightwinForLevel=function(e){for(var t,a=[],i=this.FRIENDSTRAIGHTWIN_DATA,n=0,o=i.length;o>n;n++)t=i[n],t.minlv<=e&&t.maxlv>e&&a.push(t);return a},e.friendscorerewardInit=function(t){var a=e.comInitDataArr(t,game.ComFriendScorerewardVO);this.FRIENDSCOREREWARD_DATA=a;var i=a.length,n=a[i-1];this.friendscorereward_max=n.getnum()},e.friendscorerewardForLevel=function(e){for(var t,a=[],i=this.FRIENDSCOREREWARD_DATA,n=0,o=i.length;o>n;n++)t=i[n],t.minlv<=e&&t.maxlv>e&&a.push(t);return a},e.friendscorerewardForGrade=function(e){for(var t,a=this.FRIENDSCOREREWARD_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.grade==e)return t;return null},e.evaluateInit=function(t){this.EVALUATE_DATA=e.comInitData(t,game.ComEvaluateInitVO,"id")},e.getEvaluateVO=function(e){var t,a=this.EVALUATE_DATA;for(var i in a)if(t=a[i],e>=t.potemin&&e<t.potemax)return t;return null},e.skillgradeInit=function(t){this.SKILLGRADE_DATA=e.comInitDataTwo(t,game.ComSkillGradeVO,"sclass","porperty")},e.getSkillGradeVO=function(e,t){var a=e+"_"+t;return this.SKILLGRADE_DATA[a]},e.playerstarInit=function(t){this.PLAYERSTAR_DATA=e.comInitDataTwo(t,game.ComPlayerStarVO,"pclass","pstar")},e.getPlayerStarVO=function(e,t){var a=e+"_"+t;return this.PLAYERSTAR_DATA[a]},e.playerexpInit=function(t){this.PLAYEREXP_DATA=e.comInitDataThree(t,game.ComPlayerExpVO,"pclass","pstar","plv")},e.getPlayerExpVO=function(e,t,a){var i=e+"_"+t+"_"+a;return this.PLAYEREXP_DATA[i]},e.getPlayerExpVOForExp=function(e,t,a){var i,n=this.PLAYEREXP_DATA,o=this.getPlayerStarVO(e,t),r=o.bookgrade;for(var s in n)if(i=n[s],i.pclass==e&&i.pstar==t){if(i.plv==r&&i.minpexp<=a)return i;if(a>=i.minpexp&&a<i.maxpexp)return i}return null},e.locationrelationInit=function(e){var t={},a={};for(var i in e)t[parseInt(e[i].locations)]=parseInt(e[i].location),a[parseInt(e[i].location)]=parseInt(e[i].job);this.LOCATIONRELATION_COACH=a,this.LOCATIONRELATION_DATA=t},e.getLocationrelation=function(e){return this.LOCATIONRELATION_DATA[e]},e.getLocationrelationForCoach=function(e){return this.LOCATIONRELATION_COACH[e]},e.getLocArr=function(e){var t=[],a=this.LOCATIONRELATION_DATA;for(var i in a)a[i]==e&&t.push(parseInt(i));return t},e.copyclubgradeInit=function(t){e.firstClubGradeid=t[0].id,this.COPYCLUBGRADE_DATA=e.comInitDataTwo(t,game.ComCopyclubgradeVO,"id","star")},e.getCopyclubgradeVO=function(e,t){var a=e+"_"+t;return this.COPYCLUBGRADE_DATA[a]},e.getCopyclubgradeVOArr=function(e){var t,a=[],i=this.COPYCLUBGRADE_DATA;for(var n in i)t=i[n],t.level==e&&1==t.star&&a.push(t);return a.sort(utils.GameUtil.sortMatckFun(["id"],[0])),a},e.copyclubgradestarInit=function(t){var a=e.comInitDataArr(t,game.ComCopyClubRradeStarVO);this.copyclubgradestar_DATA=a;var i=a.length,n=a[i-1];this.copyclubgradestar_max=n.getnum(),this.copyclubgrade_min_level=a[0].level,this.copyclubgrade_max_level=n.level},e.getCopyClubRradeStarVO=function(e){for(var t,a=this.copyclubgradestar_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.getCopyclubgradestarForLevel=function(e){for(var t,a=[],i=this.copyclubgradestar_DATA,n=0,o=i.length;o>n;n++)t=i[n],t.level==e&&a.push(t);return a},e.copyclubgradedescribeInit=function(t){var a=e.comInitDataArr(t,game.ComCopyClubGradeCescribeVO);this.copyclubgradedescribe_DATA=a},e.getCopyClubGradeCescribeVO=function(e){for(var t,a=this.copyclubgradedescribe_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.type==e)return t;return null},e.staffpriceInit=function(t){this.STAFFPRICE_DATA=e.comInitDataArr(t,game.ComStaffpriceVO)},e.getStaffpriceVO=function(e){var t,a=this.STAFFPRICE_DATA;for(var i in a)if(t=a[i],t.minstaff<=e&&e<t.maxstaff)return t;return null},e.getStaffCost=function(e,t,a){void 0===a&&(a=0/0);var i,n=this.STAFFPRICE_DATA,o=new game.ComItemGroupVo;o.count=0,o.addnum=0;var r,s=!0;isNaN(a)&&(s=!1);for(var l=0,p=n.length;p>l;l++)i=n[l],r=i.isInNumCost(e,t,a),o.count+=r.count,o.itemid=r.itemid,o.addnum+=r.addnum,s&&(a-=o.count);return[o]},e.comInitData=function(e,t,a){var i,n,o,r={};for(o in e)n=e[o],i=new t,i.objectToThis(n),r[i[a]]=i;return r},e.comInitDataArr=function(e,t){var a,i,n,o=[];for(n in e)i=e[n],a=new t,a.objectToThis(i),o.push(a);return o},e.comInitDataTwo=function(e,t,a,i){var n,o,r,s,l={};for(r in e)o=e[r],n=new t,n.objectToThis(o),s=n[a]+"_"+n[i],l[s]=n;return l},e.comInitDataThree=function(e,t,a,i,n){var o,r,s,l,p={};for(s in e)r=e[s],o=new t,o.objectToThis(r),l=o[a]+"_"+o[i]+"_"+o[n],p[l]=o;return p},e.matchReportInit=function(e){this.matchReport_DATE=[];var t,a,i,n=this.matchReport_DATE;for(i in e)a=e[i],t=new game.MatchReportVO,t.objectToThis(a),n.push(t)},e.copyRewardInit=function(e){var t,a,i,n,o={};for(i in e)a=e[i],t=new PveMapVO,t.objectToThis(a),o[t.id]=t,n=n?Math.min(n,t.id):t.id;this.pvemap_DATE=o,this.copyRewardMinId=n},e.formationInit=function(t){this.formation_DATE=e.comInitData(t,FormationVO,"id")},e.showInit=function(t){this.show_DATE=e.comInitData(t,game.PitchVO,"id")},e.techcenterInit=function(t){this.TECHCENTER_DATA=e.comInitData(t,game.ComTechCenterVO,"techlv")},e.getTechCenterVO=function(e){return this.TECHCENTER_DATA[e]},e.techbookInit=function(t){this.TECHBOOK_DATA=e.comInitDataThree(t,game.ComTechBookVO,"booklv","bookgrade","booktype")},e.getTechBookVO=function(e,t,a){var i=e+"_"+t+"_"+a;return this.TECHBOOK_DATA[i]},e.techexprtInit=function(t){this.TECHEXPRT_DATA=e.comInitDataArr(t,game.ComTechExprtVO)},e.getTechExprtVO=function(e,t,a){for(var i,n=this.TECHEXPRT_DATA,o=0,r=n.length;r>o;o++)if(i=n[o],i.booklv==e&&i.bookgrade==t&&i.booktype==a)return i;return null},e.techplayeraddInit=function(t){this.TECHPLAYERADD_DATA=e.comInitData(t,game.ComTechPlayerAddVO,"pgrade")},e.getTechPlayerAddVO=function(e){return this.TECHPLAYERADD_DATA[e]},e.equipstrengthenInit=function(t){this.EQUIPSTRENGTHEN_DATA=e.comInitDataTwo(t,game.ComEquipStrengThenVO,"equiptype","slv")},e.getEquipStrengThenVO=function(e,t){var a=e+"_"+t;return this.EQUIPSTRENGTHEN_DATA[a]},e.getEquipStrengThenLevelNum=function(e){var t,a=0,i=this.EQUIPSTRENGTHEN_DATA;for(var n in i)if(t=i[n],e>=t.minexp&&e<t.maxexp){a=t.slv;break}return a},e.equipclassInit=function(t){this.EQUIPCLASS_DATA=e.comInitDataTwo(t,game.ComEquipClassVO,"equiptype","classlv")},e.getEquipClassVO=function(e,t){var a=e+"_"+t;return this.EQUIPCLASS_DATA[a]},e.equipclasssuitInit=function(t){this.EQUIPCLASSSUIT_DATA=e.comInitDataArr(t,game.ComEquipClasssuitVO)},e.getEquipClassSuitVOArr=function(e){for(var t,a=this.EQUIPCLASSSUIT_DATA,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.classlv<=e&&i.push(t);return i},e.getEquipClassSuitVO=function(e){for(var t,a=this.EQUIPCLASSSUIT_DATA,i=null,n=0,o=a.length;o>n;n++)if(t=a[n],t.id==e){i=t;break}return i},e.getEquipClassSuitVOForMin=function(e){for(var t,a=this.EQUIPCLASSSUIT_DATA,i=null,n=0,o=a.length;o>n;n++)t=a[n],t.classlv<=e&&(!i||i.classlv<t.classlv)&&(i=t);return i},e.equipqualityInit=function(t){this.EQUIPQUALITY_DATA=e.comInitDataTwo(t,game.ComEquipQualityVO,"equiptype","quality")},e.getEquipQualityVO=function(e,t){0==t&&(t=1);var a=e+"_"+t;return this.EQUIPQUALITY_DATA[a]},e.equipqualitysuitInit=function(t){this.EQUIPQUALITYSUIT_DATA=e.comInitDataArr(t,game.ComEquipQualitySuitVO)},e.getEquipQualityQuitVOArr=function(e){for(var t,a=e.sort(function(e,t){return t-e}),i=this.EQUIPQUALITYSUIT_DATA,n=[],o=0,r=i.length;r>o;o++)t=i[o],t.isunlock(a)&&n.push(t);return n},e.equipqualitysuitnewInit=function(t){this.EQUIPQUALITYSUITNEW_DATA=e.comInitDataArr(t,game.ComEquipQualitySuitNew)},e.getEquipQualityQuitNewVO=function(e){for(var t,a=this.EQUIPQUALITYSUITNEW_DATA,i=null,n=0,o=a.length;o>n;n++)if(t=a[n],t.quality==e){i=t;break}return i},e.towercopyInit=function(t){this.towercopy_DATA=e.comInitDataTwo(t,game.ComTowerCopyVO,"id","star");var a,i=this.towercopy_DATA,n=100,o=0;for(var r in i)a=i[r],n=Math.min(n,a.id),o=Math.max(o,a.id);this.towerMinNum=n,this.towerMaxNum=o},e.getTowerCopyVO=function(e,t){var a=e+"_"+t;return this.towercopy_DATA[a]},e.getTowerCopyVOForCid=function(e){var t,a=this.towercopy_DATA;for(var i in a)if(t=a[i],t.cid==e)return t;return null},e.towerrewardInit=function(t){this.towerreward_DATA=e.comInitData(t,game.ComTowerRewardVO,"id")},e.getTowerRewardVO=function(e){return this.towerreward_DATA[e]},e.towerrestInit=function(t){this.towerrest_DATA=e.comInitData(t,game.ComTowerRestVO,"id");var a,i=this.towerrest_DATA,n=[];for(var o in i)a=i[o],n.push(a.cid);this.towerrestCidArr=n},e.getTowerRestVO=function(e){return this.towerrest_DATA[e]},e.getTowerRestVOForcid=function(e){var t,a=this.towerrest_DATA;for(var i in a)if(t=a[i],t.cid==e)return t;return null},e.towerstrengthenInit=function(t){this.towerstrengthen_DATA=e.comInitData(t,game.ComTowerStrengThenVO,"type")},e.getTowerStrengThenVO=function(e){return this.towerstrengthen_DATA[e]},e.towershopInit=function(t){this.towershop_DATA=e.comInitDataArr(t,game.ComTowerShopVO)},e.getTowerShopVO=function(e){for(var t,a=this.towershop_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.scoutcenterInit=function(t){this.scoutcenter_DATA=e.comInitData(t,game.ComScoutCenterVO,"scolv")},e.getScoutCenterVO=function(e){return this.scoutcenter_DATA[e]},e.scoutratioInit=function(t){this.scoutratio_DATA=e.comInitDataTwo(t,game.ComScoutRatioVO,"scouttype","clubgrade")},e.getScoutRatioVO=function(e,t){var a=e+"_"+t;return this.scoutratio_DATA[a]},e.activeInit=function(t){this.active_DATA=e.comInitData(t,game.ComActiveVO,"id")},e.getActiveVO=function(e){return this.active_DATA[e]},e.activebagInit=function(t){this.activebag_DATA=e.comInitDataArr(t,game.ComActiveBagVO)},e.getActiveBagVO=function(e){var t,a=this.activebag_DATA;for(var i in a)if(t=a[i],t.id==e)return t;return null},e.shopInit=function(t){this.shop_DATA=e.comInitData(t,game.ComShopVO,"id")
},e.getShopVO=function(e){return this.shop_DATA[e]},e.vipInit=function(t){this.vip_DATA=e.comInitData(t,game.ComVipVO,"viplv");var a,t=this.vip_DATA,i=100,n=0;for(var o in t)a=t[o],i=Math.min(a.viplv,i),n=Math.max(a.viplv,n);this.minviplv=i,this.maxviplv=n},e.getVipVO=function(e){return this.vip_DATA[e]},e.getVipLevelVO=function(e){var t,a=this.vip_DATA;for(var i in a)if(t=a[i],e>=t.minexp&&e<t.maxexp)return t;return t},e.vipacessInit=function(t){this.vipacess_DATA=e.comInitDataArr(t,game.ComVipAcessVO)},e.getVipAcessVO=function(e){var t,a=this.vipacess_DATA;for(var i in a)if(t=a[i],t.id==e)return t;return null},e.countryInit=function(e){var t,a,i={};for(a in e)t=e[a],i[t.country]=t.countryname;this.country_DATA=i},e.getCountryStr=function(e){return this.country_DATA[e]},e.porpertytypeInit=function(t){this.porpertytype_DATA=e.comInitData(t,game.ComPorpertyTypeVO,"porid")},e.getPorpertytypeVO=function(e){return this.porpertytype_DATA[e]},e.secretarytaskInit=function(t){this.secretarytask_DATA=e.comInitData(t,game.ComSecretaryTaskVO,"taskid")},e.getSecretaryTaskVO=function(e){return this.secretarytask_DATA[e]},e.secretaryguildInit=function(t){this.secretaryguild_DATA=e.comInitDataArr(t,game.ComSecretaryGuildVO)},e.getSecretaryGuildVOArr=function(e){for(var t,a=[],i=this.secretaryguild_DATA,n=0,o=i.length;o>n;n++)t=i[n],t.id==e&&a.push(t);return a},e.secretaryreportInit=function(t){this.secretaryreport_DATA=e.comInitData(t,game.ComSecretaryReportVO,"type")},e.getSecretaryReportVO=function(e){return this.secretaryreport_DATA[e]},e.achieveInit=function(t){this.achieve_DATA=e.comInitDataArr(t,game.ComAchieveVO)},e.getAchieveVO=function(e){for(var t,a=this.achieve_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.achieverewardInit=function(t){this.achievereward_DATA=e.comInitDataArr(t,game.ComAchieveRewardVO)},e.getAchieveRewardVO=function(e){for(var t,a=this.achievereward_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.achievelv==e)return t;return null},e.getAchieveRewardLevelVO=function(e){var t,a=this.achievereward_DATA;for(var i in a)if(t=a[i],e>=t.minscore&&e<t.maxscore)return t;return null},e.questiondailybagInit=function(t){this.questiondailybag_DATA=e.comInitDataArr(t,game.ComQuestionDailyBagVO);for(var a,i=this.questiondailybag_DATA,n=0,o=0,r=i.length;r>o;o++)a=i[o],n=Math.max(a.score,n);this.questiondailybagMax=n},e.questionweeklybagInit=function(t){this.questionweeklybag_DATA=e.comInitDataArr(t,game.ComQuestionWeeklyBagVO)},e.questionrewardInit=function(t){this.questionreward_DATA=e.comInitDataArr(t,game.ComQuestionRewardVO)},e.getQuestionRewardVO=function(e){for(var t,a=this.questionreward_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.maxlv>e&&t.minlv<=e)return t},e.priceInit=function(t){this.price_DATA=e.comInitData(t,game.ComPriceVO,"num");var a,t=this.price_DATA,i=0;for(var n in t)a=t[n],i=Math.max(i,a.num);e.price_maxlv=i},e.getPriceVO=function(e){var t=this.price_DATA[e];return t||(t=this.price_DATA[this.price_maxlv]),t},e.chargeInit=function(t){this.charge_DATA=e.comInitData(t,game.ComChargeVO,"id")},e.chargeiosInit=function(t){this.chargeios_DATA=e.comInitData(t,game.ComChargeVO,"id")},e.getChargeVO=function(e){var t=PFAll.isIosTest();return t?this.chargeios_DATA[e]:this.charge_DATA[e]},e.getChargeArrVO=function(e){var t=[],a=this,i=a.charge_DATA;for(var n in i)i[n].type==e&&t.push(i[n]);return t},e.systemlanguageInit=function(t){this.systemlanguage_DATA=e.comInitData(t,game.ComSystemlanguageVO,"id")},e.getSystemlanguageVOUnlock=function(e){var t,a,i,n,o,r=this.systemlanguage_DATA,s=e.length;for(var l in r)if(t=r[l],a=t.getUnlockidS(),o=a.length,s>1)1==o?+e[0]==+a[0]&&(i=t):o>1&&+e[1]==+a[1]&&+e[0]==+a[0]&&(n=t);else if(1==a.length&&+e[0]==+a[0])return t;return n?n:i?i:null},e.logoInit=function(t){this.logo_DATA=e.comInitDataArr(t,game.ComlogoVO)},e.getlogoVO=function(e){for(var t,a=this.logo_DATA,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.isAddedIncludeThisLocationForPostion=function(e,t){var a=!1,i=t.split(",");if(i&&i.length>0)for(var n=0;n<i.length;n++)if(e==Number(i[n])||2==Number(i[n])){a=!0;break}return a},e.getlogoVOArrForType=function(e){for(var t,a=this.logo_DATA,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.type==e&&i.push(t);return i},e.getlogoVOForTypeAndNum=function(e,t){for(var a,i=this.logo_DATA,n=0,o=i.length;o>n;n++)if(a=i[n],a.type==e&&a.num==t)return a;return null},e.clubrandnameInit=function(e){var t,a,i=[],n=[];for(a in e)t=e[a],i.push(t.fname),n.push(t.lname);this.fnamearr_DATA=i,this.lnamearr_DATA=n},e.getPitchVo=function(e){var t=this.show_DATE,a=t[e];return a},e.getMatchReportVO=function(e,t,a){for(var i,n,o=this.matchReport_DATE,r=[],s=0,l=o.length;l>s;s++)n=o[s],n.type==e&&n.subtype==t&&n.result==a&&r.push(n);var p=r.length;return p&&(i=r[Math.floor(Math.random()*p)]),i},e.getPlayPos=function(e,t,a){var i=t+1,n=0,o=e%100,r=a?1:0,s=o+"_"+r;!this.playerpos_DATE[s];var l=this.playerpos_DATE[s][i];return l&&(n=l.runpos-1),n},e.getPveMapVO=function(e){return this.pvemap_DATE[e]},e.getFormationVO=function(e){return this.formation_DATE[e]},e.getItemVo=function(e){return this.ITEM_DATE[e]},e.getItemIdForPlayerId=function(e,t){void 0===t&&(t=!1);var a,i,n=this.ITEM_DATE,o=[item_type.type_playerpiece];for(var r in n)if(a=n[r],i=a.type,t){if(-1!=o.indexOf(i)&&parseInt(a.parameter)==e)return a}else if(parseInt(a.parameter)==e)return a;return null},e.getMathConfigVO=function(e){return this.rankmathconfig_DATE[e]},e.getMathWeekVOforRank=function(e){var t,a=this.rankmathweek_DATE;for(var i in a)if(t=a[i],e>=t.minrank&&e<=t.maxrank)return t;return null},e.getUnLockVo=function(e){return this.UPLOCK_DATA[e]},e.getUnLockVoForArr=function(t){var a=0;if(t){var i=t[0],n=0;t[1]&&(n=t[1]);var o=e.getUnLockVo(i);if(null!=o){var r=o.getUnlockStr(n);if(null!=r&&parseInt(r[0])){var s=parseInt(r[0]);(s==unlock_type.level||s==unlock_type.pve_check)&&(a=parseInt(r[1]))}}}return a},e.barrageInit=function(t){this.barrage_DATA=e.comInitDataArr(t,game.BarrageVO)},e.getbarrageVo=function(e){for(var t,a=this.barrage_DATA,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.minlv<=e&&t.maxlv>=e&&i.push(n);var r=i.length;if(r){var s=Math.floor(Math.random()*r);return a[s]}return null},e.guideInit=function(t){this.GUIDE_ARRAR=e.comInitDataArr(t,game.GuideVO)},e.getGuideVo=function(e){for(var t,a=this.GUIDE_ARRAR,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.getGuideVoForType=function(e){for(var t,a=this.GUIDE_ARRAR,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.type==e&&i.push(t);return i},e.fetterInit=function(t){this.fetter_data=e.comInitData(t,game.ComFetterVO,"playerid")},e.getFetterVO=function(e){var t=this.fetter_data;return t[e]},e.shoptransferInit=function(t){this.shoptransfer_data=e.comInitData(t,game.ComShopTransferVO,"id")},e.getShopTransferVO=function(e){var t=this.shoptransfer_data;return t[e]},e.activityiconInit=function(t){this.activityicon_data=e.comInitDataArr(t,game.ComActivityIconVO)},e.getActivityIconVOForType=function(e){for(var t,a=[],i=this.activityicon_data,n=0,o=i.length;o>n;n++)t=i[n],t.type==e&&a.push(t);return a},e.getActivityIconVOForValue=function(e){for(var t,a=this.activityicon_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.value==e)return t;return null},e.getActivityIconVOForId=function(e){for(var t,a=this.activityicon_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.monthcarInit=function(t){this.monthcarInit_data=e.comInitData(t,game.ComMonthCarVO,"cardtype")},e.getMonthCarVO=function(e){var t=this.monthcarInit_data;for(var a in t)if(+e==+t[a].cardtype)return t[a];return null},e.betChampionInit=function(t){this.betChampionInit_dataArr=e.comInitDataArr(t,game.ComBetChampionVo)},e.tacticalInit=function(t){this.tacticalInit_data=e.comInitDataArr(t,game.ComTacticalVO)},e.getTcticalVO=function(e,t){var a,i=this.tacticalInit_data;for(var n in i)if(a=i[n],+e==+a.mytac&&+t==+a.optac)return a;return null},e.getBestTcticalID=function(e){var t,a=this.tacticalInit_data;e=+e;var i=1e4;for(var n in a)if(t=a[n],e==t.optac&&t.effect==i)return t.mytac;return null},e.shartxtInit=function(t){this.shartxtInit_data=e.comInitDataArr(t,game.ComSharTxtVO)},e.getShartxtVO=function(e){var t=[];for(var a in this.shartxtInit_data)+e==+this.shartxtInit_data[a].tpid&&t.push(this.shartxtInit_data[a]);return t},e.qualifyingdayrewardInit=function(t){this.qualifyingdayrewardInit_data=e.comInitDataArr(t,game.ComQualifyingdayrewardVO)},e.getqualifyingdayrewardVO=function(e){var t;for(var a in this.qualifyingdayrewardInit_data)if(t=this.qualifyingdayrewardInit_data[a],+e==+t.id)return t;return null},e.qualifyingrankrewardInit=function(t){this.qualifyingrankrewardInit_data=e.comInitDataArr(t,game.ComQualifyingrankrewardVO)},e.getqualifyingrankrewardVO=function(e){var t,a=this.qualifyingrankrewardInit_data;for(var i in a)if(t=a[i],+e>=+t.minrank&&+e<=+t.maxrank)return t;return null},e.activityoperateInit=function(t){this.activityoperateInit_data=e.comInitDataArr(t,game.ComActivityOperateVO)},e.getactivityoperateVO=function(e){var t,a=this.activityoperateInit_data;for(var i in a)if(t=a[i],+e==t.id)return t;return null},e.activitydianjiangInit=function(t){this.activitydianjiang_data=e.comInitDataArr(t,game.ComActivityDianjiangVO)},e.getComActivityDianjiangVO=function(e){var t,a=this.activitydianjiang_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activitychaozhiInit=function(t){this.activitychaozhi_data=e.comInitDataArr(t,game.ComActivityChaoZhiVO)},e.getComActivityChaoZhiVO=function(e){var t,a=this.activitychaozhi_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityshangjingInit=function(t){this.activityshangjing_data=e.comInitDataArr(t,game.ComActivityshangjingVO)},e.getComActivityshangjingVO=function(e){var t,a=this.activityshangjing_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activitylabaInit=function(t){this.activitylaba_data=e.comInitDataArr(t,game.ComActivitylabaVO)},e.getComActivitylabaVO=function(e){var t,a=this.activitylaba_data;for(var i in a)if(t=a[i],+e==t.id)return t;return null},e.leagueInit=function(t){this.leagueInit_data=e.comInitDataArr(t,game.ComLeagueVO)},e.getComLeagueVO=function(e){var t,a=this.leagueInit_data;for(var i in a)if(t=a[i],+e==t.score)return t;return null},e.getComLeagueforRankVO=function(e){var t,a=this.leagueInit_data;for(var i in a)if(t=a[i],+e==t.rank)return t;return null},e.leagueRewardInit=function(t){this.leagueReward_data=e.comInitDataArr(t,game.ComLeagueRewardVO)},e.getLeagueRewardVO=function(){var e,t=[],a=!1,i=this.leagueReward_data;for(var n in i){e=i[n],a=!1;for(var o=0,r=t.length;r>o;o++)e.rank==t[o]&&(a=!0);a||t.push(e.rank)}return t},e.getLeagueRewardForRankVO=function(e){var t,a=[],i=this.leagueReward_data;for(var n in i)t=i[n],t.rank==e&&a.push(t);return a},e.trainskillgroupInit=function(t){this.trainskillgroup_data=e.comInitDataArr(t,game.ComTrainSkillGroupVO)},e.getComTrainSkillGroupVO=function(e){var t,a=[],i=this.trainskillgroup_data;for(var n in i)t=i[n],+e==t.id&&a.push(t);return a},e.getOneComTrainSkillGroupVO=function(e){var t,a=this.trainskillgroup_data;for(var i in a)if(t=a[i],+e==t.index)return t;return null},e.activitydanbipayInit=function(t){this.activitydanbipayInit_data=e.comInitDataArr(t,game.ComActivitydanbipayVO)},e.getactivitydanbipayVO=function(e){var t,a=this.activitydanbipayInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityleijiInit=function(t){this.activityleijiInit_data=e.comInitDataArr(t,game.ComActivityleijipayVO)},e.getactivityleijiVO=function(e){var t,a=this.activityleijiInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityjinqiuInit=function(t){this.activityjinqiuInit_data=e.comInitDataArr(t,game.ComActivityjinqiuVO)},e.getactivityjinqiuVO=function(e){var t,a=this.activityjinqiuInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityyiyuanInit=function(t){this.activityyiyuanInit_data=e.comInitDataArr(t,game.ComActivityyiyuanVO)},e.getactivityyiyuanVO=function(e){var t,a=this.activityyiyuanInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityzhuanpanInit=function(t){this.activityzhuanpanInit_data=e.comInitDataArr(t,game.ComActivityzhuanpanVO)},e.getactivityzhuanpanVO=function(e){var t,a=this.activityzhuanpanInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activitymibaoInit=function(t){this.activitymibaoInit_data=e.comInitDataArr(t,game.ComActivitymibaoVO)},e.getactivitymibaoVO=function(e){var t,a=this.activitymibaoInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activitytouziInit=function(t){this.activitytouziInit_data=e.comInitDataArr(t,game.ComActivitytouziVO)},e.getactivitytouziVO=function(e){var t,a=this.activitytouziInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activitybaozangInit=function(t){this.activitybaozangInit_data=e.comInitDataArr(t,game.ComActivitybaozangVO)},e.getactivitybaozangVO=function(e){var t,a=this.activitybaozangInit_data,i=[];for(var n in a)t=a[n],+e==t.relation&&i.push(t);return i},e.fetterclubInit=function(t){this.fetterclub_data=e.comInitDataArr(t,game.ComFetterClubVO)},e.getFetterClubVO=function(e){var t,a=this.fetterclub_data;for(var i in a)if(t=a[i],+e==t.id)return t;return null},e.activityzaixianInit=function(t){this.activityzaixianInit_data=e.comInitDataArr(t,game.ComActivityzaixianVO)},e.getactivityzaixianVO=function(e){var t,a=this.activityzaixianInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.copyplayerrewardInit=function(t){this.copyplayerrewardInit_data=e.comInitDataArr(t,game.ComCopyPlayerRewardVO),this.copyplayerrewardInit_data.sort(utils.GameUtil.sortMatckFun(["stage"],[0]))},e.getCopyPlayerRewardVO=function(e){var t,a=this.copyplayerrewardInit_data;for(var i in a)if(t=a[i],+e==t.id)return t;return null},e.scouttypeInit=function(t){this.scouttype_data=e.comInitDataArr(t,game.ComScoutTypeVO)},e.getScoutTypeVO=function(e){for(var t,a=this.scouttype_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.drawtype==e)return t;return null},e.scoutplayerInit=function(t){this.scoutplayer_data=e.comInitDataArr(t,game.ComScoutPlayerVO)},e.getScoutPlayerArrForType=function(e){for(var t,a=this.scoutplayer_data,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.drawtype==e&&i.push(t.playerid);return i},e.getScoutPlayerArrForId=function(e){for(var t,a=this.scoutplayer_data,i=[],n=0,o=a.length;o>n;n++)t=a[n],t.playerid==e&&i.push(t.drawtype);return i},e.guildInit=function(t){this.guild_data=e.comInitDataArr(t,game.ComguildVO)},e.getguildVO=function(e){for(var t,a=this.guild_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.soclv==e)return t;return null},e.postInit=function(t){this.post_data=e.comInitDataArr(t,game.ComPostVO)},e.getPostVO=function(e){for(var t,a=this.post_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.cardpoolInit=function(t){this.cardpool_data=e.comInitDataArr(t,game.ComCardPoolVO)},e.getCardPoolVO=function(e){for(var t,a=this.cardpool_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.titleInit=function(t){this.title_data=e.comInitDataTwo(t,game.ComTitleVO,"titletype","level")},e.getTitleVO=function(e,t){var a=e+"_"+t;return this.title_data[a]},e.coachtrainInit=function(t){this.coachtrain_data=e.comInitDataArr(t,game.ComCoachTrainVO)},e.getCoachTrainVO=function(e){for(var t,a=this.coachtrain_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.coachstarInit=function(t){this.coachstar_data=e.comInitDataThree(t,game.ComCoachStarVO,"coachid","star","coachclass");var a,i,t=this.coachstar_data,n={};for(var o in t)a=t[o],i=a.coachid,n[i]||(n[i]=0),n[i]=Math.max(a.clubclass,n[i]);this.coachClaMaxObj=n},e.getCoachStarVO=function(e,t,a){var i=e+"_"+t+"_"+a;return this.coachstar_data[i]},e.coachlevelInit=function(t){this.coachlevel_data=e.comInitDataTwo(t,game.ComCoachLevelVO,"coachid","coachcevel")},e.getCoachLevelVO=function(e,t){var a=e+"_"+t;return this.coachlevel_data[a]},e.coachimspireInit=function(t){this.coachimspire_data=e.comInitDataArr(t,game.ComCoachImspireVO)},e.getCoachImspireVO=function(e){for(var t,a=this.coachimspire_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.coachInit=function(t){this.coach_data=e.comInitDataArr(t,game.ComCoachVO)},e.getCoachVO=function(e){for(var t,a=this.coach_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.coachid==e)return t;return null},e.activityxiaofeiInit=function(t){this.activityxiaofeiInit_data=e.comInitDataArr(t,game.ComActivityxiaofeiVO)},e.getactivityxiaofeiVO=function(e){var t,a=this.activityxiaofeiInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityqiandaoInit=function(t){this.activityqiandaoInit_data=e.comInitDataArr(t,game.ComActivityqiandaoVO)},e.getactivityqiandaoVO=function(e){var t,a=this.activityqiandaoInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.activityjuxingInit=function(t){this.activityjuxingInit_data=e.comInitDataArr(t,game.ComActivityjuxingVO)},e.getactivityjuxingVO=function(e){var t,a=this.activityjuxingInit_data;for(var i in a)if(t=a[i],+e==t.relation)return t;return null},e.shareInit=function(t){this.shareInit_data=e.comInitData(t,game.ComShareVO,"id")},e.getShareVO=function(e){var t=this.shareInit_data;e=+e;var a;for(var i in t)if(a=t[i],e==a.id)return a;return null},e.shareinvitelevelInit=function(t){this.shareinvitelevel_data=e.comInitDataArr(t,game.ComShareInviteLevelVO)},e.getShareInviteLevelVOForNum=function(e){for(var t,a,i=this.shareinvitelevel_data,n=0,o=i.length;o>n;n++)t=i[n],e>=t.lv&&(a=t);return a},e.shareinviterichInit=function(t){this.shareinviterich_data=e.comInitDataArr(t,game.ComShareInviteRichVO)},e.getShareInviteRichVO=function(e){for(var t,a=this.shareinviterich_data,i=0,n=a.length;n>i;i++)if(t=a[i],e==t.id)return t;return null},e.getShareInviteRichVOForNum=function(e){for(var t,a,i=this.shareinviterich_data,n=0,o=i.length;o>n&&(t=i[n],a=t,!(t.chargediamond&&e<=t.chargediamond));n++);return null},e.activityInit=function(t){this.activityInit_data=e.comInitData(t,game.ComActivityVO,"id")},e.getActivityVO=function(e){for(var t in this.activityInit_data)if(+e==+this.activityInit_data[t].id)return this.activityInit_data[t];return null},e.carnivaInit=function(t){this.carnivaInit_data=e.comInitData(t,game.ComCarnivalVO,"taskid")},e.getCarnivaVO=function(e){for(var t in this.carnivaInit_data)if(+e==+this.carnivaInit_data[t].taskid)return this.carnivaInit_data[t];return null},e.getCarnivaArrVO=function(e){var t=[];for(var a in this.carnivaInit_data)+e==+this.carnivaInit_data[a].day&&t.push(this.carnivaInit_data[a]);return t},e.randomdropInit=function(t){this.randomdrop_arr=e.comInitDataArr(t,game.ComRandomDropVO)},e.getRandomDropVOStr=function(e){for(var t,a=this.randomdrop_arr,i="",n=0,o=a.length;o>n;n++)t=a[n],t.rdropid==e&&(""!=i&&(i+=";"),i+=t.objectid+",1");return i},e.giftbagInit=function(t){this.giftbag_data=e.comInitDataArr(t,game.ComGiftBagVO);for(var a,i=this.giftbag_data,n=0,o=0,r=i.length;r>o;o++)a=i[o],n=Math.max(n,a.param);e.giftbagMax=n},e.getGifBagVOid=function(e){for(var t,a=this.giftbag_data,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t;return null},e.guidestepInit=function(t){var a,i,n,o,r=e;for(n in t)i=t[n],a=new game.GuideStepVO,a.objectToThis(i),o&&o.id==a.gid?o.step.push(a):(o=r.getGuideVo(a.gid),o&&o.step.push(a))},e.towerMinNum=0,e.towerMaxNum=0,e.minviplv=0,e.maxviplv=0,e}();__reflect(GlobalConfig.prototype,"GlobalConfig");var GlobalEffects=function(){function e(){}return e}();__reflect(GlobalEffects.prototype,"GlobalEffects");var GlobalEnum=function(){function e(){}return e.setIsnewlogin=function(e){this.isnewlogin=e},e.getIconName=function(e){var t="";return e&&(t="icon_"+e),t},e.getSmalIconName=function(e){var t="";return e&&(t="smalicon_"+e),t},e.getSkillIconName=function(e){var t="";return e&&(t="skill_icon_"+e),t},e.setpanelEnum=function(){var t=e;t.panelEnum[GlobalViewIDEnum.pType_main]=vm.MainView,t.panelEnum[GlobalViewIDEnum.pType_gamelogin]=vm.SignLoginView,t.panelEnum[GlobalViewIDEnum.pType_gamemain]=vm.GameMainView,t.panelEnum[GlobalViewIDEnum.pType_gamerank]=vm.RankView,t.panelEnum[GlobalViewIDEnum.pType_gamehero]=vm.HeroView,t.panelEnum[GlobalViewIDEnum.pType_richfight]=vm.RichFightView,t.panelEnum[GlobalViewIDEnum.pType_maingetitem]=vm.MainGetItem,t.panelEnum[GlobalViewIDEnum.pType_richzureward]=vm.RichZuRewardPanel,t.panelEnum[GlobalViewIDEnum.pType_richrankreward]=vm.RichRankRewardView,t.panelEnum[GlobalViewIDEnum.pType_richfightinfo]=vm.RichFightInfoView,t.panelEnum[GlobalViewIDEnum.pType_tactics]=vm.TacticsBgView,t.panelEnum[GlobalViewIDEnum.pType_tacticsformainfo]=vm.TacticsFormaInfoView,t.panelEnum[GlobalViewIDEnum.pType_tacticsformainupgrade]=vm.TacticsFormaUpgradeView,t.panelEnum[GlobalViewIDEnum.pType_tacticsstudyinfo]=vm.TacticsStudyInfoView,t.panelEnum[GlobalViewIDEnum.pType_tacticsstudyupgrade]=vm.TacticsStudyUpgradeView,t.panelEnum[GlobalViewIDEnum.pType_clubrecruitstaff]=vm.ClubRecruitStaffView,t.panelEnum[GlobalViewIDEnum.pType_clubfightmap]=vm.ClubFightMapView,t.panelEnum[GlobalViewIDEnum.pType_heroinfo]=vm.HeroInfoView,t.panelEnum[GlobalViewIDEnum.pType_herochange]=vm.HeroChangeView,t.panelEnum[GlobalViewIDEnum.pType_fightresult]=vm.FightResultView,t.panelEnum[GlobalViewIDEnum.pType_friendship]=vm.FriendShipView,t.panelEnum[GlobalViewIDEnum.pType_tip]=vm.TipView,t.panelEnum[GlobalViewIDEnum.pType_trainenter]=vm.TrainEnterView,t.panelEnum[GlobalViewIDEnum.pType_trainbreach]=vm.TrainBreachView,t.panelEnum[GlobalViewIDEnum.pType_trainskill]=vm.TrainSkillView,t.panelEnum[GlobalViewIDEnum.pType_trainupstar]=vm.TrainUpStarView,t.panelEnum[GlobalViewIDEnum.pType_trainchoose]=vm.TrainChooseView,t.panelEnum[GlobalViewIDEnum.pType_trainupskill]=vm.TrainUpSkillView,t.panelEnum[GlobalViewIDEnum.pType_trainbreachchoose]=vm.TrainBreachChooseView,t.panelEnum[GlobalViewIDEnum.pType_tech]=vm.TechBgView,t.panelEnum[GlobalViewIDEnum.pType_techequipquality]=vm.TechEquipQualityView,t.panelEnum[GlobalViewIDEnum.pType_techequipupgrade]=vm.TechEquipUpGradeView,t.panelEnum[GlobalViewIDEnum.pType_dekaronrank]=vm.FightDekaronRankView,t.panelEnum[GlobalViewIDEnum.pType_dekaronresult]=vm.FightDekaronResultView,t.panelEnum[GlobalViewIDEnum.pType_dekaronroad]=vm.FightDekaronRoadView,t.panelEnum[GlobalViewIDEnum.pType_dekaronshop]=vm.FightDekaronShopView,t.panelEnum[GlobalViewIDEnum.pType_dekaronsweep]=vm.FightDekaronSweepView,t.panelEnum[GlobalViewIDEnum.pType_scout]=vm.ScoutBgView,t.panelEnum[GlobalViewIDEnum.pType_scoutinfo]=vm.ScoutRecruitInfoView,t.panelEnum[GlobalViewIDEnum.pType_heropokedex]=vm.HeroPokedexView,t.panelEnum[GlobalViewIDEnum.pType_friend]=vm.FriendBgView,t.panelEnum[GlobalViewIDEnum.pType_backpack]=vm.BackPackBgView,t.panelEnum[GlobalViewIDEnum.pType_backpackinfo]=vm.BackPackInfoView,t.panelEnum[GlobalViewIDEnum.pType_backpacksynthesisinfo]=vm.BackPackSynthesisInfoView,t.panelEnum[GlobalViewIDEnum.pType_daytask]=vm.DayTaskView,t.panelEnum[GlobalViewIDEnum.pType_shop]=vm.ShopBgView,t.panelEnum[GlobalViewIDEnum.pType_shopbuy]=vm.ShopBuyView,t.panelEnum[GlobalViewIDEnum.pType_fightenter]=vm.FightEnterView,t.panelEnum[GlobalViewIDEnum.pType_mail]=vm.MailView,t.panelEnum[GlobalViewIDEnum.pType_mailinfo]=vm.MailInfoView,t.panelEnum[GlobalViewIDEnum.pType_secretary]=vm.SecretaryBgView,t.panelEnum[GlobalViewIDEnum.pType_vip]=vm.VipView,t.panelEnum[GlobalViewIDEnum.pType_vip_obtain]=vm.VipObtainView,t.panelEnum[GlobalViewIDEnum.pType_vip_awardinfo]=vm.VipAwardInfoView,t.panelEnum[GlobalViewIDEnum.pType_monthcar]=vm.MonthCarView,t.panelEnum[GlobalViewIDEnum.pType_achieve]=vm.AchieveView,t.panelEnum[GlobalViewIDEnum.pType_achieve_list]=vm.AchieveListView,t.panelEnum[GlobalViewIDEnum.pType_achieve_award]=vm.AchieveAwardView,t.panelEnum[GlobalViewIDEnum.pType_setup_info]=vm.SetUpInfoView,t.panelEnum[GlobalViewIDEnum.pType_setup_name]=vm.SetUpChangeNameView,t.panelEnum[GlobalViewIDEnum.pType_setup_logo]=vm.SetUpLogoView,t.panelEnum[GlobalViewIDEnum.pType_sign_creatclub]=vm.SignCreatClubView,t.panelEnum[GlobalViewIDEnum.pType_chat]=vm.ChatView,t.panelEnum[GlobalViewIDEnum.pType_people_Info]=vm.PeopleInfoView,t.panelEnum[GlobalViewIDEnum.pType_setup_exchange]=vm.SetUpExchangeView,t.panelEnum[GlobalViewIDEnum.pType_answer]=vm.AnswerView,t.panelEnum[GlobalViewIDEnum.pType_answer_award]=vm.AnswerAwardView,t.panelEnum[GlobalViewIDEnum.pType_answer_rank]=vm.AnswerRankView,t.panelEnum[GlobalViewIDEnum.pType_answer_result]=vm.AnswerResultView,t.panelEnum[GlobalViewIDEnum.pType_build]=vm.BuildManageView,t.panelEnum[GlobalViewIDEnum.pType_build_friend]=vm.BuildFriendView,t.panelEnum[GlobalViewIDEnum.pType_build_invite]=vm.BuildInviteView,t.panelEnum[GlobalViewIDEnum.pType_build_news]=vm.BuildNewsView,t.panelEnum[GlobalViewIDEnum.pType_build_staff]=vm.BuildStaffView,t.panelEnum[GlobalViewIDEnum.pType_club_detail]=vm.ClubDetailView,t.panelEnum[GlobalViewIDEnum.pType_achieve_change]=vm.AchieveChangeView,t.panelEnum[GlobalViewIDEnum.pType_train_upstarinfo]=vm.TrainUpStarInfoView,t.panelEnum[GlobalViewIDEnum.pType_rich_weekrank]=vm.RichRankView,t.panelEnum[GlobalViewIDEnum.pType_fight_fast]=vm.FightFastView,t.panelEnum[GlobalViewIDEnum.pType_fight_next]=vm.FightNextView,t.panelEnum[GlobalViewIDEnum.pType_fight_offline]=vm.FightOffLineView,t.panelEnum[GlobalViewIDEnum.pType_fight_prewar]=vm.FightPrewarView,t.panelEnum[GlobalViewIDEnum.pType_hero_lockinfo]=vm.HeroLockInfoView,t.panelEnum[GlobalViewIDEnum.pType_help]=vm.HelpView,t.panelEnum[GlobalViewIDEnum.pType_alert_reward]=vm.AlertRewardView,t.panelEnum[GlobalViewIDEnum.pType_dekaron_reward]=vm.FightDekaronRewardView,t.panelEnum[GlobalViewIDEnum.pType_guide]=vm.NewPlayFollowView,t.panelEnum[GlobalViewIDEnum.pType_tacticsforma]=vm.TacticsFormationPanel,t.panelEnum[GlobalViewIDEnum.pType_guidefirstfight]=vm.GuideFirstFightView,t.panelEnum[GlobalViewIDEnum.pType_build_info]=vm.BuildInfoView,t.panelEnum[GlobalViewIDEnum.pType_alert_zhanli]=vm.AlertZhanliView,t.panelEnum[GlobalViewIDEnum.pType_note]=vm.AlertNoteView,t.panelEnum[GlobalViewIDEnum.pType_shop_pay]=vm.ShopPayView,t.panelEnum[GlobalViewIDEnum.pType_chat_barrage]=vm.ChatBarrageView,t.panelEnum[GlobalViewIDEnum.pType_club_gradeinfo]=vm.ClubGradeInfoView,t.panelEnum[GlobalViewIDEnum.pType_alert_list]=vm.AlertListView,t.panelEnum[GlobalViewIDEnum.pType_clubmap_info]=vm.ClubFightMapInfoView,t.panelEnum[GlobalViewIDEnum.pType_taskfollow]=vm.TaskFollowView,t.panelEnum[GlobalViewIDEnum.pType_hero_recoverfast]=vm.HeroRecoverFastView,t.panelEnum[GlobalViewIDEnum.pType_trainbereborn]=vm.TrainBeRebornView,t.panelEnum[GlobalViewIDEnum.pType_heromarket]=vm.ScoutUnlockPanel,t.panelEnum[GlobalViewIDEnum.pType_market]=vm.ScoutMarketView,t.panelEnum[GlobalViewIDEnum.pType_main_geyway]=vm.MainGetwayView,t.panelEnum[GlobalViewIDEnum.pType_main_heromarket]=vm.ScoutExtraUnlockPanel,t.panelEnum[GlobalViewIDEnum.pType_club_info]=vm.BuildClubInfoView,t.panelEnum[GlobalViewIDEnum.pType_activity]=vm.ActivityView,t.panelEnum[GlobalViewIDEnum.pType_activity_sevenlogin]=vm.ActivityView,t.panelEnum[GlobalViewIDEnum.pType_activity_cumulativeSign]=vm.ActivityCumulativeSignView,t.panelEnum[GlobalViewIDEnum.pType_activity_giftpacks]=vm.ActivityGiftPacksView,t.panelEnum[GlobalViewIDEnum.pType_activity_drawing]=vm.ActivityDrawingView,t.panelEnum[GlobalViewIDEnum.pType_recharge_rebate]=vm.RechargeRebateView,t.panelEnum[GlobalViewIDEnum.pType_recharge_package]=vm.RechargePackageView,t.panelEnum[GlobalViewIDEnum.pType_recharge_consumption]=vm.RechargeConsumptionView,t.panelEnum[GlobalViewIDEnum.pType_club_sweep]=vm.ClubSweepView,t.panelEnum[GlobalViewIDEnum.pType_recharge_investment]=vm.RechargeInvestmentView,t.panelEnum[GlobalViewIDEnum.pType_first_recharge]=vm.FirstRechargeView,t.panelEnum[GlobalViewIDEnum.pType_rank_activity]=vm.RankActivityView,t.panelEnum[GlobalViewIDEnum.pType_rank_power]=vm.RankPowerView,t.panelEnum[GlobalViewIDEnum.pType_rank_levle]=vm.RankLevelView,t.panelEnum[GlobalViewIDEnum.pType_rank_peak]=vm.RankPeakView,t.panelEnum[GlobalViewIDEnum.pType_rank_recruit]=vm.RankRecruitView,t.panelEnum[GlobalViewIDEnum.pType_carniva]=vm.CarnivalActivityView,t.panelEnum[GlobalViewIDEnum.pType_offline_list]=vm.FightOffLineListView,t.panelEnum[GlobalViewIDEnum.pType_tip_awardarr]=vm.TipAwardView,t.panelEnum[GlobalViewIDEnum.pType_build_uplevel]=vm.BuildUpLevelView,t.panelEnum[GlobalViewIDEnum.pType_dekaron_stop]=vm.FightDekaronStopView,t.panelEnum[GlobalViewIDEnum.pType_mainallnote]=vm.MainAllNoteView,t.panelEnum[GlobalViewIDEnum.pType_sharenew]=vm.ShareNewView,t.panelEnum[GlobalViewIDEnum.pType_hero_shar]=vm.PlayerSharView,t.panelEnum[GlobalViewIDEnum.pType_build_shar]=vm.BuildSharView,t.panelEnum[GlobalViewIDEnum.pType_random_shar]=vm.RandomSharView,t.panelEnum[GlobalViewIDEnum.pType_pf_getgif]=vm.ShareGetGifView,t.panelEnum[GlobalViewIDEnum.pType_weekly_shar]=vm.WeeklySharView,t.panelEnum[GlobalViewIDEnum.pType_alert_buttime]=vm.AlertBuyTimeView,t.panelEnum[GlobalViewIDEnum.pType_qualifying]=vm.QualifyingView,t.panelEnum[GlobalViewIDEnum.pType_qualifying_rankreward]=vm.QualifyingRankRewardView,t.panelEnum[GlobalViewIDEnum.pType_qualifying_rank]=vm.QualifyingRankView,t.panelEnum[GlobalViewIDEnum.pType_qualifying_dayreward]=vm.QualifyingDayRewardView,t.panelEnum[GlobalViewIDEnum.pType_qualifying_Record]=vm.QualifyingRecordView,t.panelEnum[GlobalViewIDEnum.pType_share_collect]=vm.ShareCollectView,t.panelEnum[GlobalViewIDEnum.pType_Operation_OneRecharge]=vm.OperationOneRechargeView,t.panelEnum[GlobalViewIDEnum.pType_share_regal]=vm.ShareRegalView,t.panelEnum[GlobalViewIDEnum.pType_share_everyday]=vm.ShareEverydayView,t.panelEnum[GlobalViewIDEnum.pType_Operation_leijipay]=vm.OperationLeiJiPayView,t.panelEnum[GlobalViewIDEnum.pType_Operation_lianxupay]=vm.OperationContinuityRechargeView,t.panelEnum[GlobalViewIDEnum.pType_friendship_reward]=vm.FriendShipRewardView,t.panelEnum[GlobalViewIDEnum.pType_Operation_yiyuan]=vm.OperationYiYuanView,t.panelEnum[GlobalViewIDEnum.pType_Operation_touzi]=vm.OperationTouZiView,t.panelEnum[GlobalViewIDEnum.pType_Operation_baozang]=vm.OperationBaoZangView,t.panelEnum[GlobalViewIDEnum.pType_Operation_baozang_hero]=vm.OperationBaoZangHeroView,t.panelEnum[GlobalViewIDEnum.pType_hero_groomteam]=vm.HeroGroomTeamView,t.panelEnum[GlobalViewIDEnum.pType_Operation_zaixian]=vm.OperationZaiXianView,t.panelEnum[GlobalViewIDEnum.pType_Operation_leijispend]=vm.OperationXiaofeiView,t.panelEnum[GlobalViewIDEnum.pType_Operation_denglu]=vm.OperationQianDaoView,t.panelEnum[GlobalViewIDEnum.pType_Operation_juxing]=vm.OperationJuXingView,t.panelEnum[GlobalViewIDEnum.pType_scout_library]=vm.ScoutLibraryView,t.panelEnum[GlobalViewIDEnum.pType_guild_main]=vm.GuildView,t.panelEnum[GlobalViewIDEnum.pType_guild_apply]=vm.GuildApplyView,t.panelEnum[GlobalViewIDEnum.pType_guild_info]=vm.GuildInfoView,t.panelEnum[GlobalViewIDEnum.pType_guild_create]=vm.GuildCreateView,t.panelEnum[GlobalViewIDEnum.pType_guild_changename]=vm.GuildChangeNameView,t.panelEnum[GlobalViewIDEnum.pType_guild_setup]=vm.GuildSetUpView,t.panelEnum[GlobalViewIDEnum.pType_guild_approval]=vm.GuildApprovalView,t.panelEnum[GlobalViewIDEnum.pType_guild_rank]=vm.GuildRankView,t.panelEnum[GlobalViewIDEnum.pType_guild_signgif]=vm.GuildSignGifView,t.panelEnum[GlobalViewIDEnum.pType_guild_log]=vm.GuildLogView,t.panelEnum[GlobalViewIDEnum.pType_guild_list]=vm.GuildListView,t.panelEnum[GlobalViewIDEnum.pType_guild_changenotice]=vm.GuildChangeNoticeView,t.panelEnum[GlobalViewIDEnum.pType_guide_new]=vm.GuildeAddHeroView,t.panelEnum[GlobalViewIDEnum.pType_guild_redbag]=vm.GuildRedBaoView,t.panelEnum[GlobalViewIDEnum.pType_recruit_new]=vm.ScoutRecruitNewView,t.panelEnum[GlobalViewIDEnum.pType_pf_follow]=vm.GameFollowView,t.panelEnum[GlobalViewIDEnum.pType_coach]=vm.CoachBgView,t.panelEnum[GlobalViewIDEnum.pType_coach_look]=vm.CoachLookView,t.panelEnum[GlobalViewIDEnum.pType_coach_upstarinfo]=vm.CoachUpInfoView,t.panelEnum[GlobalViewIDEnum.pType_train_hero]=vm.MainChooseHeroView,t.panelEnum[GlobalViewIDEnum.pType_train_fetter]=vm.TrainFetterView,t.panelEnum[GlobalViewIDEnum.pType_train_fetterlist]=vm.TrainFetterListView,t.panelEnum[GlobalViewIDEnum.pType_title_mainui]=vm.TitleView,t.panelEnum[GlobalViewIDEnum.pType_title_details]=vm.TitleDetailsPanel,t.panelEnum[GlobalViewIDEnum.pType_title_manage]=vm.TitleManagePanel,t.panelEnum[GlobalViewIDEnum.pType_title_advanced]=vm.TitleAdvancedPanel,t.panelEnum[GlobalViewIDEnum.pType_league]=vm.LeagueBgView,t.panelEnum[GlobalViewIDEnum.pType_league_group]=vm.LeagueScheduleBgView,t.panelEnum[GlobalViewIDEnum.pType_league_dan]=vm.LeagueDanView,t.panelEnum[GlobalViewIDEnum.pType_league_rank]=vm.LeagueRankView,t.panelEnum[GlobalViewIDEnum.pType_league_award]=vm.LeagueAwardView,t.panelEnum[GlobalViewIDEnum.pType_league_shop]=vm.LeagueShopView,t.panelEnum[GlobalViewIDEnum.pType_scout_preview]=vm.ScoutPreView,t.panelEnum[GlobalViewIDEnum.pType_operation_ssrpoint]=vm.OperationSSRPointView,t.panelEnum[GlobalViewIDEnum.pType_operation_ssrchoose]=vm.OperationSSRChooseView,t.panelEnum[GlobalViewIDEnum.pType_operation_call]=vm.OperationCallView,t.panelEnum[GlobalViewIDEnum.pType_operation_chaozhi]=vm.OperationChaoZhiBuyView,t.panelEnum[GlobalViewIDEnum.pType_operation_yunrenjie]=vm.OperationYuRenJieView,t.panelEnum[GlobalViewIDEnum.pType_skill_group]=vm.TrainSkillGroupView,t.panelEnum[GlobalViewIDEnum.pType_answer_reward]=vm.AnswerScoreRewardView,t.panelEnum[GlobalViewIDEnum.pType_guide_gethero]=vm.GuideGetHeroView,t.panelEnum[GlobalViewIDEnum.pType_guide_down]=vm.GuideDownView,t.panelEnum[GlobalViewIDEnum.pType_activity_timedbag]=vm.ActivityTimedBagView,t.panelEnum[GlobalViewIDEnum.pType_activity_superbuy]=vm.ActivitySuperBuyView,t.panelEnum[GlobalViewIDEnum.pType_league_taotai]=vm.LeagueEliminatePanel,t.panelEnum[GlobalViewIDEnum.pType_league_lookfight]=vm.LeagueLookFightView,t.panelEnum[GlobalViewIDEnum.pType_league_allaward]=vm.LeagueAllAwardView,t.panelEnum[GlobalViewIDEnum.pType_bet_shop]=vm.BetShopView,t.panelEnum[GlobalViewIDEnum.pType_bet_view]=vm.BetView,t.panelEnum[GlobalViewIDEnum.pType_bet_match]=vm.BetMatchView,t.panelEnum[GlobalViewIDEnum.pType_bet_champion]=vm.BetChampionView,t.panelEnum[GlobalViewIDEnum.pType_operation_zhuanpan]=vm.OperationZhuanPanView,t.panelEnum[GlobalViewIDEnum.pType_operation_zpshop]=vm.OperationZPShopView,t.panelEnum[GlobalViewIDEnum.pType_operation_mibao]=vm.OperationMiBaoView,t.panelEnum[GlobalViewIDEnum.pType_share_evaluate]=vm.ShareEvaluateView,t.panelEnum[GlobalViewIDEnum.pType_mail_obtain]=vm.MailObtainPropView,t.panelIconEnum[GlobalViewIDEnum.pType_scout]=[Language.ins.title_scout,"tab_qt_d5"],t.panelIconEnum[GlobalViewIDEnum.pType_backpack]=[Language.ins.title_backpack,"tab_zjm_a22"],t.panelIconEnum[GlobalViewIDEnum.pType_dekaronroad]=[Language.ins.title_dekaronroad,"tab_tzzl_d6"],t.panelIconEnum[GlobalViewIDEnum.pType_friend]=[Language.ins.title_friend,"tab_friend_a5"],t.panelIconEnum[GlobalViewIDEnum.pType_friendship]=[Language.ins.title_friendship,"tab_yys_e4"],t.panelIconEnum[GlobalViewIDEnum.pType_heropokedex]=[Language.ins.title_heropokedex,"tab_qt_d42"],t.panelIconEnum[GlobalViewIDEnum.pType_daytask]=[Language.ins.title_daytask,"tab_hy_a1"],t.panelIconEnum[GlobalViewIDEnum.pType_tech]=[Language.ins.title_equip_study,"tab_kjzx_a1"],t.panelIconEnum[GlobalViewIDEnum.pType_trainenter]=[Language.ins.title_trainenter,"tab_xl_a6"],t.panelIconEnum[GlobalViewIDEnum.pType_trainbreach]=[Language.ins.title_trainbreach,"tab_xlzx1_j2"],t.panelIconEnum[GlobalViewIDEnum.pType_trainskill]=[Language.ins.title_trainskill,"tab_xlzx1_j1"],t.panelIconEnum[GlobalViewIDEnum.pType_trainupstar]=[Language.ins.title_trainupstars,"tab_xlzx1_j4"],t.panelIconEnum[GlobalViewIDEnum.pType_train_fetter]=[Language.ins.title_trainfetter,"tab_xlzx1_g1"],t.panelIconEnum[GlobalViewIDEnum.pType_shop]=[Language.ins.title_shop,"tab_shop_b1"],t.panelIconEnum[GlobalViewIDEnum.pType_fightenter]=[Language.ins.title_fightenter,"tab_sszx_a5"],t.panelIconEnum[GlobalViewIDEnum.pType_mail]=[Language.ins.title_mail,"tab_mail_b1"],t.panelIconEnum[GlobalViewIDEnum.pType_secretary]=[Language.ins.title_secretary,"tab_ms_a9"],t.panelIconEnum[GlobalViewIDEnum.pType_vip]=[Language.ins.title_vip,"tab_vip_a1"],t.panelIconEnum[GlobalViewIDEnum.pType_achieve]=[Language.ins.title_achieve,"tab_zjm_f5"],t.panelIconEnum[GlobalViewIDEnum.pType_tactics]=[Language.ins.title_tacticsconter,"tab_zs_f3"],t.panelIconEnum[GlobalViewIDEnum.pType_gamerank]=[Language.ins.title_gamerank,"tab_ph_a5"],t.panelIconEnum[GlobalViewIDEnum.pType_answer]=[Language.ins.title_answer,"tab_dati_a1"],t.panelIconEnum[GlobalViewIDEnum.pType_build]=[Language.ins.title_build,"tab_jy_c6"],t.panelIconEnum[GlobalViewIDEnum.pType_clubfightmap]=[Language.ins.title_clubfightmap,"tab_jjs_a1"],t.panelIconEnum[GlobalViewIDEnum.pType_gamehero]=[Language.ins.title_hero,"tab_qd1_a7"],t.panelIconEnum[GlobalViewIDEnum.pType_richfight]=[Language.ins.title_richfight,"tab_jjsn_a2"],t.panelIconEnum[GlobalViewIDEnum.pType_trainbereborn]=[Language.ins.title_trainbereborn,"tab_xlzx1_j3"],t.panelIconEnum[GlobalViewIDEnum.pType_hangup]=[Language.ins.title_fight_pve,"tab_gjjq_e5"],t.panelIconEnum[GlobalViewIDEnum.pType_qualifying]=[Language.ins.title_qualifying,"tab_sszx_b9"],t.panelIconEnum[GlobalViewIDEnum.pType_guild_main]=[Language.ins.title_guild,"tab_gh_f8"],t.panelIconEnum[GlobalViewIDEnum.pType_guild_signgif]=[Language.ins.title_guild,"tab_gh_f8"],t.panelIconEnum[GlobalViewIDEnum.pType_guild_apply]=[Language.ins.title_guild,"tab_gh_f8"],t.panelIconEnum[GlobalViewIDEnum.pType_coach]=[Language.ins.title_coach,"tab_jl_h3"],t.panelIconEnum[GlobalViewIDEnum.pType_title_mainui]=[Language.ins.title_tip_7,"tab_tx_c1"],t.panelIconEnum[GlobalViewIDEnum.pType_league]=[Language.ins.league_tip50,"tab_kuafu_e3"],t.panelIconEnum[GlobalViewIDEnum.pType_league_group]=[Language.ins.league_tip51,"tab_kuafu_b5"],t.panelIconEnum[GlobalViewIDEnum.pType_league_taotai]=[Language.ins.league_tip52,"tab_kuafu_a3"],t.panelIconEnum[GlobalViewIDEnum.pType_skill_group]=[Language.ins.title_skill_group,"tab_xlzx1_n9"],BufRequests.initData(),e.buildarr=[stafftype.type_player,stafftype.type_scout,stafftype.type_tactical,stafftype.type_tech]
},e.comfont="SimHei",e.namelenN=6,e.newnamelenN=7,e.wan_num=1e-4,e.hourtime=3600,e.rankwaittime=3e5,e.tbr_6=4,e.loaderrorTime=2e3,e.talk_act="act",e.talk_guid="guid",e.talk_task="task",e.talk_grad="grad",e.talk_tow="tow",e.talk_copy="copy",e.main_taskbtn="taskbtn",e.init_pvecheck=10001e3,e.coachmaxstar=10,e.itemid_coin=100001,e.itemid_ug=100002,e.itemid_study=100003,e.itemid_qiutan=100004,e.itemid_techdian=100005,e.itemid_playerexp=100006,e.itemid_love=100007,e.itemid_vipexp=100008,e.itemid_rong=100009,e.itemid_exp=100010,e.itemid_friendnum=100011,e.itemid_techzhuannum=100012,e.itemid_daytasknum=100013,e.itemid_skillexp=100014,e.itemid_linewin=101001,e.itemid_staritem=101002,e.itemid_breachcar=101012,e.itemid_qiucar=101013,e.itemid_star=101014,e.itemid_answerresult=101015,e.itemid_answerred=101016,e.itemid_pvefastcar=101019,e.itemid_fightskipcar=101020,e.itemid_heroexpcarA=102004,e.itemid_heroexpcarB=102005,e.itemid_heroexpcarC=102006,e.itemid_heroexpcarD=102007,e.itemid_coachshengcar=101027,e.itemid_firstpass=100015,e.itemid_scouttencar=102035,e.itemid_rongyaoB=100016,e.itemid_betB=100017,e.itemid_honorroll=100018,e.itemid_fighting=12,e.itemid_clublv=21,e.itemid_herocar=22,e.itemid_herostar=23,e.itemid_clearancecondition=25,e.itemid_buildtactics=26,e.itemid_fastfight_time=27,e.itemid_clubgrade=28,e.itemid_coachstar=29,e.itemid_tourmatch=30,e.itemid_promotionmatch=31,e.itemid_dekaron=32,e.itemid_achievementlv=33,e.itemid_equipmentquality=34,e.itemid_playerstarty=35,e.itemid_peakseason=36,e.itemid_playerquality=37,e.titletype_1=1,e.titletype_2=2,e.titletype_3=3,e.titletype_4=4,e.titletype_5=5,e.equip_equipmentquality_6=6,e.equip_equipmentquality_5=5,e.equip_equipmentquality_4=4,e.title_titlestyle_putong=1,e.title_titlestyle_teshu=2,e.itemPanelWidth=102,e.s_mcDataF=new egret.MovieClipDataFactory,e.panelEnum={},e.panelIconEnum={},e.res_mainload="res_mainload",e.res_signload="res_signload",e.res_initload="res_initload",e.studyAL=1,e.studyAR=2,e.studyAC=3,e.studyAT=4,e.studyColArr=["tab_zs_c7","tab_zs_c6","tab_zs_c6","tab_zs_c5","tab_zs_c5","tab_zs_c4"],e.coach_col_2="0xffffff",e.coach_col_3="0xe72247",e.coach_col_4="0xf2cf00",e.coach_col_5="0xf2cf00",e.coach_col_6="0xf2cf00",e.coach_col_7="0x6ddc38",e.coach_col_8="0x36b3d3",e.porpernumall=[1,2,3,4,5,6,7,8,9,10],e.porperbaiall=[12,13,14,15,16,17,18,19,20,21],e.tipmc_chat="tip_chat",e.tipmc_mail="tipmc_mail",e.tipmc_vip="tipmc_vip",e.tipmc_vipobtain="tipmc_vipobtain",e.tipmc_vipgif="tipmc_vipgif",e.tipmc_achieve="tipmc_achieve",e.tipmc_achievegetnew="tipmc_achievegetnew",e.tipmc_firstlogo="tip_firstlogo",e.tipmc_friendask="tipmc_friendask",e.tipmc_daytask="tipmc_daytask",e.tipmc_clubbuildaward="tipmc_clubbuildaward",e.tipmc_clubbuildenter="tipmc_clubbuildenter",e.tipmc_secretarytask="tipmc_secretarytask",e.tipmc_answer="tipmc_answer",e.tipmc_clubmap="tipmc_clubmap",e.tipmc_clubgrade="tipmc_clubgrade",e.tipmc_recruitexpert="tipmc_recruitexpert",e.tipmc_equipupgrade="tipmc_equipupgrade",e.tipmc_equipuporder="tipmc_equipuporder",e.tipmc_specialshop="tipmc_specialshop",e.tipmc_builduptech="tipmc_builduptech",e.tipmc_builduptactics="tipmc_builduptactics",e.tipmc_buildupscout="tipmc_buildupscout",e.tipmc_studyequipbook="tipmc_studyequipbook",e.tipmc_monthaward="tipmc_monthaward",e.tipmc_getnewhero="tipmc_getnewhero",e.tipmc_hero_synthesis="tipmc_hero_synthesis",e.tipmc_appoint_item="tipmc_appoint_item",e.tipmc_clubfightfull="tipmc_clubfightfull",e.tipmc_clubfightfull_reward="tipmc_clubfightfull_reward",e.tipmc_friendlove="tipmc_friendlove",e.tipmc_carnival="tipmc_carnival",e.tipmc_welfare="tipmc_welfare",e.tipmc_rank="tipmc_rank",e.tipmc_recharge="tipmc_recharge",e.tipmc_headthrust="tipmc_headthrust",e.tipmc_formation="tipmc_formation",e.tipmc_tactics="tipmc_tactics",e.tipmc_tacticsG="tipmc_tacticsG",e.tipmc_freestaff="tipmc_freestaff",e.tipmc_herobereborn="tipmc_herobereborn",e.tipmc_herofetter="tipmc_herofetter",e.tipmc_heroisoffline="tipmc_heroisoffline",e.tipmc_friendInvite="tipmc_friendInvite",e.tipmc_heroskillup="tipmc_heroskillup",e.tipmc_qualifyingday="tipmc_qualifyingday",e.tipmc_friendship_jifen="tipmc_friendship_jifen",e.tipmc_friendship_liansheng="tipmc_friendship_liansheng",e.tipmc_danbipay="tipmc_danbipay",e.tipmc_operationcall="tipmc_operationcall",e.tipmc_leijipay="tipmc_leijipay",e.tipmc_ssrpoint="tipmc_ssrpoint",e.tipmc_chaozhibuy="tipmc_chaozhibuy",e.tipmc_lianxupay="tipmc_lianxupay",e.tipmc_yiyuan="tipmc_yiyuan",e.tipmc_touzi="tipmc_touzi",e.tipmc_zaixian="tipmc_zaixian",e.tipmc_act_superbuy="tipmc_act_superbuy",e.tipmc_xiaofei_everyday="tipmc_xiaofei_everyday",e.tipmc_xiaofei_leiji="tipmc_xiaofei_leiji",e.tipmc_transfer_time="tipmc_transfer_time",e.tipmc_skill_partnerbag="tipmc_skill_partnerbag",e.tipmc_guild_apply="tipmc_guild_apply",e.tipmc_guild_donate_ug="tipmc_guild_donate_ug",e.tipmc_guild_donate_coin="tipmc_guild_donate_coin",e.tipmc_shareregal="tipmc_shareregal",e.tipmc_shareeveryday="tipmc_shareeveryday",e.tipmc_shareweek="tipmc_shareweek",e.tipmc_xinhuigethero="tipmc_xinhuigethero",e.tipmc_title="tipmc_title",e.tipmc_title_putong="tipmc_title_putong",e.tipmc_title_teshu="tipmc_title_teshu",e.tipmc_actlaba="tipmc_actlaba",e.tipmc_zhuanpan="tipmc_zhuanpan",e.tipmc_mibao="tipmc_mibao",e.tipmc_league_chengjiu="tipmc_league_chengjiu",e.tipmc_bet="tipmc_bet",e.tipmc_coach_getnew="tipmc_coach_getnew",e.tipmc_coach_trainover="tipmc_coach_trainover",e.tipmc_coach_upexcita="tipmc_coach_upexcita",e.tipmc_coach_upgrade="tipmc_coach_upgrade",e.activity_fuli=1003,e.activity_xiaofei=1004,e.activity_rank=1005,e.monthcar_zhou=1,e.monthcar_yue=2,e.monthcar_nian=3,e.activity_rank_power=1050103,e.activity_rank_level=1050203,e.activity_rank_peak=1050303,e.activity_rank_recruit=1050401,e.activity_rank_carniva=1060102,e.activity_rank_carnivatop=1060101,e.activity_rank_yiyuan=1070101,e.activitytype_baozang=110,e.book_quality=6,e.hero_quality=4,e.random_share=4,e.title_conditiontype_0=0,e.title_conditiontype_1=4001,e.title_conditiontype_2=4002,e.title_conditiontype_3=4003,e.title_conditiontype_4=4004,e.title_conditiontype_5=4005,e.title_conditiontype_7=4007,e.title_conditiontype_8=4008,e.title_conditiontype_11=4011,e.title_conditiontype_12=4012,e.title_conditiontype_13=4013,e.title_conditiontype_14=4014,e.title_conditiontype_5001=5001,e.skill_stype=[2,3,4],e.hero_maxlv=80,e.isnewlogin=!0,e.severDataArr=[],e}();__reflect(GlobalEnum.prototype,"GlobalEnum");var GlobalViewIDEnum;!function(e){e[e.pType_main=1]="pType_main",e[e.pType_gamemain=2]="pType_gamemain",e[e.pType_gameresule=3]="pType_gameresule",e[e.pType_gamerank=4]="pType_gamerank",e[e.pType_gamehero=5]="pType_gamehero",e[e.pType_gamelogin=6]="pType_gamelogin",e[e.pType_hangup=7]="pType_hangup",e[e.pType_richfight=8]="pType_richfight",e[e.pType_maingetitem=9]="pType_maingetitem",e[e.pType_richzureward=10]="pType_richzureward",e[e.pType_richrankreward=11]="pType_richrankreward",e[e.pType_richfightinfo=12]="pType_richfightinfo",e[e.pType_tactics=13]="pType_tactics",e[e.pType_tacticsformainfo=14]="pType_tacticsformainfo",e[e.pType_tacticsformainupgrade=15]="pType_tacticsformainupgrade",e[e.pType_tacticsstudyinfo=17]="pType_tacticsstudyinfo",e[e.pType_tacticsstudyupgrade=18]="pType_tacticsstudyupgrade",e[e.pType_clubrecruitstaff=21]="pType_clubrecruitstaff",e[e.pType_clubfightmap=22]="pType_clubfightmap",e[e.pType_heroinfo=23]="pType_heroinfo",e[e.pType_herochange=25]="pType_herochange",e[e.pType_fightresult=26]="pType_fightresult",e[e.pType_friendship=27]="pType_friendship",e[e.pType_tip=28]="pType_tip",e[e.pType_trainenter=29]="pType_trainenter",e[e.pType_trainbreach=30]="pType_trainbreach",e[e.pType_trainskill=31]="pType_trainskill",e[e.pType_trainupstar=32]="pType_trainupstar",e[e.pType_trainchoose=33]="pType_trainchoose",e[e.pType_trainupskill=34]="pType_trainupskill",e[e.pType_trainbreachchoose=35]="pType_trainbreachchoose",e[e.pType_tech=36]="pType_tech",e[e.pType_techequipquality=39]="pType_techequipquality",e[e.pType_techequipupgrade=40]="pType_techequipupgrade",e[e.pType_dekaronrank=45]="pType_dekaronrank",e[e.pType_dekaronresult=46]="pType_dekaronresult",e[e.pType_dekaronroad=47]="pType_dekaronroad",e[e.pType_dekaronshop=48]="pType_dekaronshop",e[e.pType_dekaronsweep=49]="pType_dekaronsweep",e[e.pType_scout=50]="pType_scout",e[e.pType_scoutinfo=52]="pType_scoutinfo",e[e.pType_heropokedex=53]="pType_heropokedex",e[e.pType_friend=54]="pType_friend",e[e.pType_backpack=55]="pType_backpack",e[e.pType_backpackinfo=56]="pType_backpackinfo",e[e.pType_daytask=57]="pType_daytask",e[e.pType_shop=58]="pType_shop",e[e.pType_shopbuy=59]="pType_shopbuy",e[e.pType_fightenter=60]="pType_fightenter",e[e.pType_mail=61]="pType_mail",e[e.pType_mailinfo=62]="pType_mailinfo",e[e.pType_secretary=63]="pType_secretary",e[e.pType_vip=64]="pType_vip",e[e.pType_vip_obtain=65]="pType_vip_obtain",e[e.pType_vip_awardinfo=67]="pType_vip_awardinfo",e[e.pType_monthcar=68]="pType_monthcar",e[e.pType_achieve=69]="pType_achieve",e[e.pType_achieve_list=70]="pType_achieve_list",e[e.pType_achieve_award=71]="pType_achieve_award",e[e.pType_setup_info=72]="pType_setup_info",e[e.pType_setup_name=73]="pType_setup_name",e[e.pType_setup_logo=74]="pType_setup_logo",e[e.pType_sign_creatclub=75]="pType_sign_creatclub",e[e.pType_chat=76]="pType_chat",e[e.pType_people_Info=77]="pType_people_Info",e[e.pType_setup_exchange=78]="pType_setup_exchange",e[e.pType_answer=79]="pType_answer",e[e.pType_answer_award=80]="pType_answer_award",e[e.pType_answer_rank=81]="pType_answer_rank",e[e.pType_answer_result=82]="pType_answer_result",e[e.pType_build=83]="pType_build",e[e.pType_build_friend=84]="pType_build_friend",e[e.pType_build_invite=85]="pType_build_invite",e[e.pType_build_news=86]="pType_build_news",e[e.pType_build_staff=87]="pType_build_staff",e[e.pType_club_detail=88]="pType_club_detail",e[e.pType_achieve_change=89]="pType_achieve_change",e[e.pType_train_upstarinfo=90]="pType_train_upstarinfo",e[e.pType_rich_weekrank=91]="pType_rich_weekrank",e[e.pType_fight_fast=92]="pType_fight_fast",e[e.pType_fight_next=93]="pType_fight_next",e[e.pType_fight_offline=94]="pType_fight_offline",e[e.pType_fight_prewar=95]="pType_fight_prewar",e[e.pType_hero_lockinfo=96]="pType_hero_lockinfo",e[e.pType_help=97]="pType_help",e[e.pType_alert_reward=99]="pType_alert_reward",e[e.pType_dekaron_reward=100]="pType_dekaron_reward",e[e.pType_guide=101]="pType_guide",e[e.pType_tacticsforma=102]="pType_tacticsforma",e[e.pType_guidefirstfight=104]="pType_guidefirstfight",e[e.pType_build_info=105]="pType_build_info",e[e.pType_alert_zhanli=106]="pType_alert_zhanli",e[e.pType_note=107]="pType_note",e[e.pType_shop_pay=109]="pType_shop_pay",e[e.pType_chat_barrage=110]="pType_chat_barrage",e[e.pType_club_gradeinfo=111]="pType_club_gradeinfo",e[e.pType_alert_list=112]="pType_alert_list",e[e.pType_clubmap_info=114]="pType_clubmap_info",e[e.pType_taskfollow=117]="pType_taskfollow",e[e.pType_backpacksynthesisinfo=118]="pType_backpacksynthesisinfo",e[e.pType_hero_recoverfast=119]="pType_hero_recoverfast",e[e.pType_trainbereborn=120]="pType_trainbereborn",e[e.pType_heromarket=121]="pType_heromarket",e[e.pType_market=122]="pType_market",e[e.pType_main_geyway=123]="pType_main_geyway",e[e.pType_main_heromarket=124]="pType_main_heromarket",e[e.pType_club_info=125]="pType_club_info",e[e.pType_activity=126]="pType_activity",e[e.pType_activity_sevenlogin=127]="pType_activity_sevenlogin",e[e.pType_activity_cumulativeSign=128]="pType_activity_cumulativeSign",e[e.pType_activity_giftpacks=129]="pType_activity_giftpacks",e[e.pType_activity_drawing=130]="pType_activity_drawing",e[e.pType_recharge_rebate=131]="pType_recharge_rebate",e[e.pType_recharge_package=132]="pType_recharge_package",e[e.pType_recharge_consumption=133]="pType_recharge_consumption",e[e.pType_club_sweep=134]="pType_club_sweep",e[e.pType_recharge_investment=135]="pType_recharge_investment",e[e.pType_first_recharge=136]="pType_first_recharge",e[e.pType_recharge_fund=137]="pType_recharge_fund",e[e.pType_rank_activity=138]="pType_rank_activity",e[e.pType_rank_power=139]="pType_rank_power",e[e.pType_rank_levle=140]="pType_rank_levle",e[e.pType_rank_peak=141]="pType_rank_peak",e[e.pType_rank_recruit=142]="pType_rank_recruit",e[e.pType_carniva=143]="pType_carniva",e[e.pType_offline_list=144]="pType_offline_list",e[e.pType_tip_awardarr=145]="pType_tip_awardarr",e[e.pType_build_uplevel=146]="pType_build_uplevel",e[e.pType_dekaron_stop=147]="pType_dekaron_stop",e[e.pType_mainallnote=148]="pType_mainallnote",e[e.pType_sharenew=149]="pType_sharenew",e[e.pType_hero_shar=154]="pType_hero_shar",e[e.pType_build_shar=155]="pType_build_shar",e[e.pType_random_shar=156]="pType_random_shar",e[e.pType_pf_getgif=157]="pType_pf_getgif",e[e.pType_weekly_shar=158]="pType_weekly_shar",e[e.pType_alert_buttime=159]="pType_alert_buttime",e[e.pType_qualifying=160]="pType_qualifying",e[e.pType_qualifying_rankreward=161]="pType_qualifying_rankreward",e[e.pType_qualifying_rank=162]="pType_qualifying_rank",e[e.pType_qualifying_dayreward=163]="pType_qualifying_dayreward",e[e.pType_qualifying_Record=164]="pType_qualifying_Record",e[e.pType_share_collect=165]="pType_share_collect",e[e.pType_Operation_OneRecharge=168]="pType_Operation_OneRecharge",e[e.pType_share_regal=166]="pType_share_regal",e[e.pType_share_everyday=167]="pType_share_everyday",e[e.pType_Operation_leijipay=169]="pType_Operation_leijipay",e[e.pType_Operation_lianxupay=170]="pType_Operation_lianxupay",e[e.pType_friendship_reward=178]="pType_friendship_reward",e[e.pType_Operation_yiyuan=171]="pType_Operation_yiyuan",e[e.pType_Operation_touzi=172]="pType_Operation_touzi",e[e.pType_Operation_leijispend=173]="pType_Operation_leijispend",e[e.pType_Operation_denglu=174]="pType_Operation_denglu",e[e.pType_Operation_zaixian=175]="pType_Operation_zaixian",e[e.pType_Operation_juxing=176]="pType_Operation_juxing",e[e.pType_Operation_baozang=177]="pType_Operation_baozang",e[e.pType_Operation_baozang_hero=179]="pType_Operation_baozang_hero",e[e.pType_hero_groomteam=180]="pType_hero_groomteam",e[e.pType_scout_library=181]="pType_scout_library",e[e.pType_guild_main=182]="pType_guild_main",e[e.pType_guild_apply=183]="pType_guild_apply",e[e.pType_guild_info=184]="pType_guild_info",e[e.pType_guild_create=185]="pType_guild_create",e[e.pType_guild_changename=186]="pType_guild_changename",e[e.pType_guild_setup=187]="pType_guild_setup",e[e.pType_guild_approval=188]="pType_guild_approval",e[e.pType_guild_rank=189]="pType_guild_rank",e[e.pType_guild_signgif=190]="pType_guild_signgif",e[e.pType_guild_changenotice=191]="pType_guild_changenotice",e[e.pType_guild_list=192]="pType_guild_list",e[e.pType_guild_log=193]="pType_guild_log",e[e.pType_guide_new=194]="pType_guide_new",e[e.pType_recruit_new=195]="pType_recruit_new",e[e.pType_guild_redbag=196]="pType_guild_redbag",e[e.pType_pf_follow=197]="pType_pf_follow",e[e.pType_coach=198]="pType_coach",e[e.pType_coach_look=199]="pType_coach_look",e[e.pType_coach_upstarinfo=200]="pType_coach_upstarinfo",e[e.pType_train_hero=201]="pType_train_hero",e[e.pType_train_fetter=202]="pType_train_fetter",e[e.pType_train_fetterlist=203]="pType_train_fetterlist",e[e.pType_title_mainui=204]="pType_title_mainui",e[e.pType_title_details=205]="pType_title_details",e[e.pType_title_manage=206]="pType_title_manage",e[e.pType_title_advanced=207]="pType_title_advanced",e[e.pType_league=208]="pType_league",e[e.pType_league_group=209]="pType_league_group",e[e.pType_league_dan=210]="pType_league_dan",e[e.pType_league_rank=211]="pType_league_rank",e[e.pType_league_award=212]="pType_league_award",e[e.pType_league_shop=213]="pType_league_shop",e[e.pType_scout_preview=214]="pType_scout_preview",e[e.pType_operation_ssrpoint=215]="pType_operation_ssrpoint",e[e.pType_operation_ssrchoose=216]="pType_operation_ssrchoose",e[e.pType_operation_chaozhi=217]="pType_operation_chaozhi",e[e.pType_operation_call=218]="pType_operation_call",e[e.pType_operation_yunrenjie=219]="pType_operation_yunrenjie",e[e.pType_skill_group=220]="pType_skill_group",e[e.pType_answer_reward=221]="pType_answer_reward",e[e.pType_guide_gethero=222]="pType_guide_gethero",e[e.pType_guide_down=223]="pType_guide_down",e[e.pType_activity_timedbag=224]="pType_activity_timedbag",e[e.pType_activity_superbuy=225]="pType_activity_superbuy",e[e.pType_league_taotai=226]="pType_league_taotai",e[e.pType_league_lookfight=227]="pType_league_lookfight",e[e.pType_league_allaward=228]="pType_league_allaward",e[e.pType_bet_shop=229]="pType_bet_shop",e[e.pType_bet_view=230]="pType_bet_view",e[e.pType_bet_match=231]="pType_bet_match",e[e.pType_bet_champion=232]="pType_bet_champion",e[e.pType_operation_zhuanpan=233]="pType_operation_zhuanpan",e[e.pType_operation_zpshop=234]="pType_operation_zpshop",e[e.pType_operation_mibao=235]="pType_operation_mibao",e[e.pType_mail_obtain=236]="pType_mail_obtain",e[e.pType_share_evaluate=300]="pType_share_evaluate"}(GlobalViewIDEnum||(GlobalViewIDEnum={}));var playertrait;!function(e){e[e.trait_N=1]="trait_N",e[e.trait_R=2]="trait_R",e[e.trait_SR=3]="trait_SR",e[e.trait_SSR=4]="trait_SSR",e[e.trait_UR=5]="trait_UR"}(playertrait||(playertrait={}));var skill_class;!function(e){e[e.class_green=2]="class_green",e[e.class_blue=3]="class_blue",e[e.class_purple=4]="class_purple",e[e.class_orange=5]="class_orange"}(skill_class||(skill_class={}));var playerlocation;!function(e){e[e.location_1=1]="location_1",e[e.location_2=2]="location_2",e[e.location_3=3]="location_3",e[e.location_4=4]="location_4",e[e.location_5=5]="location_5",e[e.location_6=6]="location_6",e[e.location_7=7]="location_7",e[e.location_8=8]="location_8",e[e.location_9=9]="location_9",e[e.location_10=10]="location_10",e[e.location_11=11]="location_11",e[e.location_12=12]="location_12",e[e.location_13=13]="location_13",e[e.location_14=14]="location_14"}(playerlocation||(playerlocation={}));var radarType;!function(e){e[e.radar_attack=1]="radar_attack",e[e.radar_defense=2]="radar_defense",e[e.radar_body=3]="radar_body",e[e.radar_skill=4]="radar_skill",e[e.radar_porters=5]="radar_porters"}(radarType||(radarType={}));var study_type;!function(e){e[e.type_attack=1]="type_attack",e[e.type_defense=2]="type_defense"}(study_type||(study_type={}));var equipType;!function(e){e[e.type_clothes=1]="type_clothes",e[e.type_britches=2]="type_britches",e[e.type_shoes=3]="type_shoes",e[e.type_kneepad=4]="type_kneepad",e[e.type_glove=5]="type_glove"}(equipType||(equipType={}));var recruitType;!function(e){e[e.type_expert=1]="type_expert",e[e.type_expert_ten=2]="type_expert_ten",e[e.type_master=3]="type_master",e[e.type_master_ten=4]="type_master_ten"}(recruitType||(recruitType={}));var taskserverType;!function(e){e[e.type_day=1]="type_day",e[e.type_secretytask=2]="type_secretytask",e[e.type_achievetask=3]="type_achievetask",e[e.type_fighting=4]="type_fighting",e[e.type_carnival=5]="type_carnival"}(taskserverType||(taskserverType={}));var porpertyType;!function(e){e[e.num_shoot=1]="num_shoot",e[e.num_break_through=2]="num_break_through",e[e.num_steal=3]="num_steal",e[e.num_marking=4]="num_marking",e[e.num_pass=5]="num_pass",e[e.num_trap=6]="num_trap",e[e.num_speed=7]="num_speed",e[e.num_strong=8]="num_strong",e[e.num_response=9]="num_response",e[e.num_one_to_one=10]="num_one_to_one",e[e.num_all=11]="num_all",e[e.bai_shoot=12]="bai_shoot",e[e.bai_break_through=13]="bai_break_through",e[e.bai_steal=14]="bai_steal",e[e.bai_marking=15]="bai_marking",e[e.bai_pass=16]="bai_pass",e[e.bai_trap=17]="bai_trap",e[e.bai_speed=18]="bai_speed",e[e.bai_strong=19]="bai_strong",e[e.bai_response=20]="bai_response",e[e.bai_one_to_one=21]="bai_one_to_one",e[e.bai_all=22]="bai_all"}(porpertyType||(porpertyType={}));var creatType;!function(e){e[e.type_init=0]="type_init",e[e.type_name=1]="type_name",e[e.type_palyerid=2]="type_palyerid"}(creatType||(creatType={}));var chatType;!function(e){e[e.type_com=0]="type_com",e[e.type_self=1]="type_self",e[e.type_post=2]="type_post",e[e.type_club=3]="type_club",e[e.type_sys=4]="type_sys"}(chatType||(chatType={}));var chatAreaType;!function(e){e[e.type_chat=1]="type_chat",e[e.type_post=2]="type_post",e[e.type_chatpost=3]="type_chatpost"}(chatAreaType||(chatAreaType={}));var showitemtype;!function(e){e[e.type_ug=0]="type_ug",e[e.type_qiutan=2]="type_qiutan",e[e.type_rong=3]="type_rong",e[e.type_friend=4]="type_friend",e[e.type_teshu=100]="type_teshu",e[e.type_league=9]="type_league",e[e.type_bet=10]="type_bet",e[e.type_zhuanpan=11]="type_zhuanpan"}(showitemtype||(showitemtype={}));var item_quality;!function(e){e[e.white=1]="white",e[e.green=2]="green",e[e.blue=3]="blue",e[e.purple=4]="purple",e[e.orange=5]="orange"}(item_quality||(item_quality={}));var logoType;!function(e){e[e.type_kuang=1]="type_kuang",e[e.type_zhuang=2]="type_zhuang",e[e.type_tiao=3]="type_tiao",e[e.type_tiaocol=4]="type_tiaocol",e[e.type_bgcol=5]="type_bgcol",e[e.type_all=6]="type_all"}(logoType||(logoType={}));var clubFightLockType;!function(e){e[e.type_heroquality=401]="type_heroquality",e[e.type_herostar=402]="type_herostar",e[e.type_equiplv=403]="type_equiplv",e[e.type_equipquality=404]="type_equipquality",e[e.type_equipclass=405]="type_equipclass",e[e.type_formationlv=406]="type_formationlv",e[e.type_studyact=407]="type_studyact",e[e.type_studydef=408]="type_studydef"}(clubFightLockType||(clubFightLockType={}));var playerlockType;!function(e){e[e.type_club=1]="type_club",e[e.type_clubmap=2]="type_clubmap"}(playerlockType||(playerlockType={}));var gif_type;!function(e){e[e.type_answer=100]="type_answer",e[e.type_clubmap=101]="type_clubmap"}(gif_type||(gif_type={}));var secretarytask_type;!function(e){e[e.type_zhu=1]="type_zhu"}(secretarytask_type||(secretarytask_type={}));var achieveClassType;!function(e){e[e.type_a=1]="type_a",e[e.type_b=2]="type_b",e[e.type_c=3]="type_c"}(achieveClassType||(achieveClassType={}));var vipaddtype;!function(e){e[e.type_a=1]="type_a",e[e.type_b=2]="type_b"}(vipaddtype||(vipaddtype={}));var guide_type;!function(e){e[e.type_force=0]="type_force",e[e.type_trigger=1]="type_trigger"}(guide_type||(guide_type={}));var panelmc_type;!function(e){e[e.type_zhanli=0]="type_zhanli",e[e.type_skillup=1]="type_skillup",e[e.type_clubupgrade=2]="type_clubupgrade",e[e.type_builduplv=3]="type_builduplv",e[e.type_richmc=4]="type_richmc",e[e.type_opennew=5]="type_opennew",e[e.type_equipupgrade=6]="type_equipupgrade",e[e.type_herobreach=7]="type_herobreach",e[e.type_herosign=8]="type_herosign",e[e.type_studyupgrade=9]="type_studyupgrade",e[e.type_starup=10]="type_starup",e[e.type_vipupgrade=11]="type_vipupgrade",e[e.type_herobereborn=12]="type_herobereborn",e[e.type_coachupcla=13]="type_coachupcla",e[e.type_coachupstar=14]="type_coachupstar",e[e.type_league=15]="type_league"}(panelmc_type||(panelmc_type={}));var item_type;!function(e){e[e.type_res=1]="type_res",e[e.type_item=2]="type_item",e[e.type_gif=3]="type_gif",e[e.type_player=4]="type_player",e[e.type_playerpiece=5]="type_playerpiece",e[e.type_logo=6]="type_logo",e[e.type_fast=7]="type_fast",e[e.type_coach=8]="type_coach",e[e.type_title=9]="type_title"}(item_type||(item_type={}));var gifbag_type;!function(e){e[e.type_month=1]="type_month"}(gifbag_type||(gifbag_type={}));var skill_type;!function(e){e[e.type_pass=1]="type_pass",e[e.type_halo=2]="type_halo",e[e.type_strike=3]="type_strike",e[e.type_grand=4]="type_grand",e[e.type_fetter=5]="type_fetter"}(skill_type||(skill_type={}));var ug_cost_type;!function(e){e[e.com=1]="com",e[e.fight_buy_win=2]="fight_buy_win",e[e.dekaron_shop=3]="dekaron_shop",e[e.club_fast=4]="club_fast",e[e.fight_fast=5]="fight_fast",e[e.fight_ship_again=6]="fight_ship_again",e[e.fight_ship_guwu=7]="fight_ship_guwu",e[e.fight_ship_change=8]="fight_ship_change",e[e.fight_rich_clearcd=9]="fight_rich_clearcd",e[e.scout_m_resh=10]="scout_m_resh",e[e.change_name=11]="change_name",e[e.buy_logo=12]="buy_logo",e[e.shop_buy=13]="shop_buy",e[e.equip_study=14]="equip_study",e[e.vip_buy=15]="vip_buy",e[e.buy_skillpot=16]="buy_skillpot",e[e.buy_baozang=17]="buy_baozang",e[e.buy_act_timebag=18]="buy_act_timebag"}(ug_cost_type||(ug_cost_type={}));var share_type;!function(e){e[e.type_award=1]="type_award",e[e.type_desktop=2]="type_desktop",e[e.type_sharenew=3]="type_sharenew",e[e.type_playershar=4]="type_playershar",e[e.type_buildshar=5]="type_buildshar",e[e.type_weeklyshar=10]="type_weeklyshar",e[e.type_invitingfriends=11]="type_invitingfriends",e[e.type_shareevery=12]="type_shareevery",e[e.type_sponsor=13]="type_sponsor",e[e.type_follow=14]="type_follow",e[e.type_evaluate=15]="type_evaluate",e[e.type_regal=101]="type_regal"}(share_type||(share_type={}));var sever_stata;!function(e){e[e.state_new=0]="state_new",e[e.state_hot=2]="state_hot",e[e.state_service=3]="state_service"}(sever_stata||(sever_stata={}));var share_pf_type;!function(e){e[e.share_type_friend=0]="share_type_friend",e[e.share_type_kongjian=1]="share_type_kongjian"}(share_pf_type||(share_pf_type={}));var pay_id;!function(e){e[e.touzi_pay_first=4]="touzi_pay_first",e[e.yiyuan_pay_id=13]="yiyuan_pay_id",e[e.activity_pay_fund=14]="activity_pay_fund",e[e.act_ssr_point=15]="act_ssr_point",e[e.touzi_pay_16=16]="touzi_pay_16",e[e.touzi_pay_17=17]="touzi_pay_17",e[e.touzi_pay_18=18]="touzi_pay_18",e[e.touzi_actsuperpay_0=101]="touzi_actsuperpay_0",e[e.touzi_actsuperpay_1=102]="touzi_actsuperpay_1",e[e.touzi_actsuperpay_2=103]="touzi_actsuperpay_2",e[e.touzi_actsuperpay_3=104]="touzi_actsuperpay_3"}(pay_id||(pay_id={}));var pay_type;!function(e){e[e.pay=1]="pay",e[e.month=2]="month",e[e.gift=3]="gift",e[e.actpay=4]="actpay"}(pay_type||(pay_type={}));var shopbuy_type;!function(e){e[e.shop=1]="shop",e[e.dekaronshp=2]="dekaronshp",e[e.leagueshop=3]="leagueshop",e[e.betshop=10]="betshop",e[e.zhuanpan=11]="zhuanpan"}(shopbuy_type||(shopbuy_type={}));var talker_type;!function(e){e[e.my=1]="my",e[e.nbc=2]="nbc",e[e.laiwan=3]="laiwan",e[e.reporter=4]="reporter",e[e.pressmy=5]="pressmy"}(talker_type||(talker_type={}));var report_type;!function(e){e[e.signcreat=1]="signcreat",e[e.guideComplete=2]="guideComplete",e[e.openMatchCenterFun=3]="openMatchCenterFun",e[e.choosesever=4]="choosesever",e[e.outgame=5]="outgame",e[e.pay=6]="pay",e[e.clublevelup=7]="clublevelup",e[e.login=8]="login"}(report_type||(report_type={}));var pf_openfun;!function(e){e[e.share=0]="share",e[e.desktop=1]="desktop",e[e.follow=2]="follow",e[e.invitation=3]="invitation"}(pf_openfun||(pf_openfun={}));var coachadd_type;!function(e){e[e.all=2]="all",e[e.qianfeng=3]="qianfeng",e[e.qianyao=4]="qianyao",e[e.zhongchang=5]="zhongchang",e[e.houyao=6]="houyao",e[e.houwei=7]="houwei",e[e.shoumen=8]="shoumen"}(coachadd_type||(coachadd_type={}));var coach_buff;!function(e){e[e.guaji_coin=2001]="guaji_coin",e[e.club_coin=2002]="club_coin",e[e.scout_coin=2003]="scout_coin",e[e.tactical_coin=2004]="tactical_coin",e[e.tech_coin=2005]="tech_coin",e[e.guaji_teshun=2006]="guaji_teshun"}(coach_buff||(coach_buff={}));var act_type;!function(e){e[e.goalkeeper=1020101]="goalkeeper",e[e.sevenday=1030101]="sevenday",e[e.cumsign=1030201]="cumsign",e[e.levelgif=1030301]="levelgif",e[e.onlinegif=1030501]="onlinegif",e[e.timedbag=1030601]="timedbag",e[e.superbuy=1030701]="superbuy",e[e.reccourtesy=1040101]="reccourtesy",e[e.dayrecharge=1040102]="dayrecharge",e[e.cumrecharge=1040103]="cumrecharge",e[e.continuousrecharge=1040104]="continuousrecharge",e[e.rankrecharge=1040204]="rankrecharge",e[e.consgift=1040201]="consgift",e[e.daycons=1040202]="daycons",e[e.cumcons=1040203]="cumcons",e[e.cumconrank=1040204]="cumconrank",e[e.opensfund=1040301]="opensfund",e[e.opensinves=1040401]="opensinves",e[e.traininves=1040402]="traininves",e[e.starinves=1040403]="starinves",e[e.formationinves=1040404]="formationinves",e[e.equipinves=1040405]="equipinves",e[e.fightpower=1050101]="fightpower",e[e.fightrank=1050102]="fightrank",e[e.targetwar=1050103]="targetwar",e[e.levelstarcraft=1050201]="levelstarcraft",e[e.levelrank=1050202]="levelrank",e[e.targetgrade=1050203]="targetgrade",e[e.peakcraft=1050301]="peakcraft",e[e.craftrank=1050302]="craftrank",e[e.targetintegral=1050303]="targetintegral",e[e.herorecruit=1050401]="herorecruit",e[e.carnival=1060101]="carnival",e[e.dayone=1060102]="dayone",e[e.daytwo=1060103]="daytwo",e[e.daythree=1060104]="daythree",e[e.dayfour=1060105]="dayfour",e[e.dayfive=1060106]="dayfive",e[e.daysix=1060107]="daysix",e[e.dayseven=1060108]="dayseven",e[e.ssrpoint=111]="ssrpoint",e[e.danbipay=101]="danbipay",e[e.leijipay=102]="leijipay",e[e.lianxupay=103]="lianxupay",e[e.yiyuan=104]="yiyuan",e[e.touzi=105]="touzi",e[e.xiaofei=106]="xiaofei",e[e.qiandao=107]="qiandao",e[e.zaixian=108]="zaixian",e[e.juxing=109]="juxing",e[e.baozang=110]="baozang",e[e.chaozhi=112]="chaozhi",e[e.rawardscout=113]="rawardscout",e[e.laba=114]="laba",e[e.bet=160]="bet",e[e.zhuanpan=117]="zhuanpan",e[e.mibao=118]="mibao"}(act_type||(act_type={}));var unlock_type;!function(e){e[e.level=1]="level",e[e.pve_check=2]="pve_check"}(unlock_type||(unlock_type={}));var iostest_type;!function(e){e[e.pay_activity=0]="pay_activity",e[e.activity=1]="activity",e[e.pay=2]="pay",e[e.answer=3]="answer",e[e.vip=4]="vip"}(iostest_type||(iostest_type={}));var binding_type;!function(e){e[e.init=0]="init",e[e.complete=1]="complete",e[e.repeat=2]="repeat"}(binding_type||(binding_type={}));var GlobalSeverClass=function(){function e(){}return e}();__reflect(GlobalSeverClass.prototype,"GlobalSeverClass");var ScienceBooks=function(){function e(){this.isshowmc=0,this.strarr=["num"]}return e.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},e}();__reflect(ScienceBooks.prototype,"ScienceBooks");var PlayerPosition=function(){function e(){}return e}();__reflect(PlayerPosition.prototype,"PlayerPosition");var ChangeFormaVO=function(){function e(){}return e.prototype.setVO=function(e){var t=this;e&&(t.playerid=e.playerid,t.level=e.level,t.name=e.name,t.number_tag=e.number_tag,t.position=e.position,t.location=e.location)},e}();__reflect(ChangeFormaVO.prototype,"ChangeFormaVO");var SEquipmentsVO=function(){function e(){}return e.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},e.prototype.addexpnum=function(e){this.exp+=e;var t=GlobalConfig.getEquipStrengThenLevelNum(this.exp);this.level=t},e}();__reflect(SEquipmentsVO.prototype,"SEquipmentsVO");var SInviteMessage=function(){function e(){}return e}();__reflect(SInviteMessage.prototype,"SInviteMessage");var SInviteFriendObject=function(){function e(){}return e}();__reflect(SInviteFriendObject.prototype,"SInviteFriendObject");var SEventCenter=function(){function e(){}return e}();__reflect(SEventCenter.prototype,"SEventCenter");var SOffLineData=function(){function e(){}return e}();__reflect(SOffLineData.prototype,"SOffLineData");var SOfflinePlayerUpgrade=function(){function e(){}return e}();__reflect(SOfflinePlayerUpgrade.prototype,"SOfflinePlayerUpgrade");var SBattleRequest=function(){function e(e,t,a,i,n,o){void 0===a&&(a=!1),void 0===i&&(i=""),void 0===n&&(n=0),void 0===o&&(o=0),this.type=e,this.enemy=t,this.custom=i,this.mapId=n,this.isshowPanel=a,this.upzhanli=o}return e}();__reflect(SBattleRequest.prototype,"SBattleRequest");var GlobalSoundEffect=function(){function e(){}return e.sound_bg="sound_bg",e.sound_click1="sound_click1",e.sound_fightbg="sound_fightbg",e.sound_fightlost="sound_fightlost",e.sound_fightwin="sound_fightwin",e.sound_shootlost="sound_shootlost",e.sound_shootup="sound_shootup",e.sound_whistling="sound_whistling",e.sound_fightstart="sound_fightstart",e.sound_fightover="sound_fightover",e.sound_getitem="sound_getitem",e.sound_signhero="sound_signhero",e.sound_changzhanli="sound_changzhanli",e.sound_buildup="sound_buildup",e.sound_playerror="sound_playerror",e.sound_levelup="sound_levelup",e.sound_dayfristinrich="sound_dayfristinrich",e.sound_vipanelchange="sound_vipanelchange",e.sound_buildgetitem="sound_buildgetitem",e.sound_recruitcarN="sound_recruitcarN",e.sound_recruitcarR="sound_recruitcarR",e.sound_recruitcarSR="sound_recruitcarSR",e.sound_recruitcarSSR="sound_recruitcarSSR",e.sound_recruitgoback="sound_recruitgoback",e.sound_recruitstart="sound_recruitstart",e
}();__reflect(GlobalSoundEffect.prototype,"GlobalSoundEffect");var GlobalTimeManager=function(){function e(){this._date=new Date,this._hoursNum=0/0;var e=this;e._cdtimer=new game.ComTimer,e._cdtimer.startTimer(),e._cdtimer.addEventListener("myTimer_evt",e.timerfun,e)}return e.prototype.Init=function(){var e=this,t=egret.getTimer();e.getDateDay(t)},e.prototype.timerfun=function(e){var t=this,a=egret.getTimer(),i=t.getDateDay(a);Manifest.getIns(FightDM).timeToFight();var n=GlobalAllProxy.getInstance();(!i||2>i)&&(i=1),n.timePlay(i),ParamLoader.instance.uniqueServerTime&&ParamLoader.instance.uniqueServerTime++},e.prototype.getDateDay=function(e){var t=this,a=Global,i=0;if(a.systemStartTime){var n=a.systemTimeNum;a.systemTimeNum=e-a.gamestartTime+a.systemStartTime,t._date.setTime(a.systemTimeNum),n&&a.systemTimeNum>n&&(i=Math.floor((a.systemTimeNum-n)/1e3)),t._date.getDate()!=a.systemTimeDate&&(a.systemTimeDate=t._date.getDate())}return i},Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e}();__reflect(GlobalTimeManager.prototype,"GlobalTimeManager");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_ty_a1","tab_jlbx_b1","tab_vip_d1","btn_common_3"],a.resGroupName="AchieveAwardSkin",a.wingSkinName=AchieveAwardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AchieveAwardSkinDR=t,__reflect(t.prototype,"skins.AchieveAwardSkinDR")}(skins||(skins={}));var vm;!function(e){var t=function(){function e(e){void 0===e&&(e=null),this.currentIndex=0,this.source=e}return e.prototype.setSource=function(e){this.reset(),this.source=e},e.prototype.getSource=function(){return this.source},Object.defineProperty(e.prototype,"head",{get:function(){return this.reset(),this.source.length>0?this.source[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tail",{get:function(){return this.source[this.source.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.source.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){var e;return this.hasNext()&&(this.currentIndex++,e=this.source[this.currentIndex]),e},enumerable:!0,configurable:!0}),e.prototype.isEnd=function(){return this.current==this.tail},e.prototype.isBegin=function(){return this.current==this.head},e.prototype.hasNext=function(){var e=this.currentIndex+1;return e<=this.source.length-1},e.prototype.hasPrev=function(){var e=this.currentIndex-1;return e>-1},Object.defineProperty(e.prototype,"prev",{get:function(){var e;return this.hasPrev()&&(this.currentIndex--,e=this.source[this.currentIndex]),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevDialog",{get:function(){var e;return this.hasPrev()&&(e=this.source[this.currentIndex-1]),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.source[this.currentIndex]},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.currentIndex=0},e.prototype.setCurrentIndex=function(e){this.currentIndex=e},e}();e.ArrayIterator=t,__reflect(t.prototype,"vm.ArrayIterator")}(vm||(vm={}));var game;!function(e){var t=function(){function e(){}return e.ScaleRect=function(e,t,a){t=0==t?1:t,a=0==a?1:a;var i=e.x+(e.width>>1),n=e.y+(e.height>>1);return e.height=e.height*a,e.width=e.width*t,e.x=i-(e.width>>1),e.y=n-(e.height>>1),e},e.offsetRect=function(e,t,a){return void 0===a&&(a=0),e.x+=t,e.y+=a,e},e}();e.GuideEnum=t,__reflect(t.prototype,"game.GuideEnum")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.prototype.getGuideVOByTriggerTaskID=function(e){void 0===e&&(e=0);for(var t=this.items.length,a=0;t>a;a++){var i=this.items[a];if(i.triggerParam==e)return i}return null},t.prototype.getGuideVO=function(e){void 0===e&&(e=0);for(var t,a=this.items,i=a.length,n=0;i>n;n++)if(t=a[n],t.id==e)return t;return null},t.prototype.toItemsArray=function(){if(null!=this.itemsArray)return this.itemsArray;this.itemsArray=[];for(var e=this.items.length,t=0;e>t;t++){var a=this.items[t];this.itemsArray.push(a)}return this.itemsArray},t.prototype.getNextGuideVO=function(e){var t=this.items,a=t.indexOf(e),i=a+1,n=t[i];return n&&n.type==guide_type.type_force?n:null},t.prototype.getNextNeedGuideVO=function(t,a){void 0===a&&(a=0);var i=this.getGuideVO(t);if(null==i)return null;var n=i.getStepItem(a);if(null==n)return null;var o=e.GuideVO.getTagNeedObj(i);if(i.isLastStep(n)||o.isout){var r=this.getNextGuideVO(i),s=null;r&&(s=e.GuideVO.getTagNeedObj(r));var l=o.curnum;return null==r||!s.endneednum&&s.curnum!=l||l<s.curnum||l>s.endneednum?null:{gid:r.id,sid:r.step[0].id}}var p=i.getNextStepItemByCurrentStep(n);return null==p?null:{gid:i.id,sid:p.id}},t.curlevel=1,t}();e.GuideParseVO=t,__reflect(t.prototype,"game.GuideParseVO")}(game||(game={}));var GuideSyncData=function(){function e(){this.guideID=0,this.stepID=0}return e.prototype.update=function(e,t){this.guideID=e,this.stepID=t},e.prototype.getSyncGuideID=function(){return this.guideID},e.prototype.getSyncStepID=function(){return this.stepID},e.prototype.gettoGuideId=function(){return this.guideID*e.guide_step_const+this.stepID},e.prototype.updateFromSyncID=function(t){this.update(e.TransTOGuideID(t),e.TransTOStepID(t))},e.TransTOSyncID=function(e,t){return e*this.guide_step_const+t},e.TransTOGuideID=function(e){return Math.floor(e/this.guide_step_const)},e.TransTOStepID=function(e){return e%this.guide_step_const},e.guide_step_const=1e4,e}();__reflect(GuideSyncData.prototype,"GuideSyncData");var Language=function(){function e(){this.wanba_imgurl="https://fbqqsrc.meplayplay.com/icon/",this.wxgame_imgurl="https://wcweb.egret-labs.org/icon/",this.sever_font="黑体",this.game_mi="米",this.game_name="荣耀足球",this.game_miaoshu="《荣耀足球》是首款放置类模拟经营H5足球游戏，游戏通过自主研发的AI引擎完整实现了整场足球比赛流程。游戏中球员技能搭配可以打造各种战术玩法。",this.game_get="获得",this.game_ok="确定",this.game_cancel="取消",this.game_month="月",this.game_day="日",this.game_hour="时",this.game_hour_s="小时",this.game_year="年",this.game_dian="点",this.game_minute="分",this.game_maohao=":",this.game_grade_s="阶",this.game_minute_s="分钟",this.game_second="秒",this.game_wan_s="万",this.game_qian_s="K",this.game_baiwan_s="M",this.game_yi_s="亿",this.game_no_down="功能暂未开放",this.game_pve_auto_tip0="VIP {0} 级可自动跳过战斗",this.player_die_reborn="角色死亡了，您是否要复活他",this.no_ug_tip="钻石不足，您是否前去充值",this.no_coin_tip="欧元不足，您是否前去购买",this.game_unlock_level="俱乐部达到{0}级开启",this.game_unlock="开启",this.game_reallyling="已领取",this.game_canling="领取",this.game_canling_p="领 取",this.game_nochoose="未选择",this.game_remax="已最大",this.game_curlevel="当前等级:{0}",this.game_no_open="暂未开放",this.game_lv_s="Lv.",this.game_lv_s_nodian="Lv",this.game_bifen_s_text="<font color='0x00A5E5'>{0}</font>/<font color='0x17FF00'>{1}</font>/<font color='0xFF0000'>{2}</font>",this.game_bifen_c_text="【<font color='{0}'>{1}</font>:<font color='{2}'>{3}</font>】",this.game_lv_s_text="总提高{0}球员<font color='{1}'>{2}%</font>全属性\n克制:<font color='{3}'>{4}</font>\n被克制:<font color='{5}'>{6}</font>",this.game_lv_s_text1="总降低对方{0}球员<font color='{1}'>{2}%</font>全属性\n克制:<font color='{3}'>{4}</font>\n被克制:<font color='{5}'>{6}</font>",this.game_lv_b_text="总提高{0}球员<font color='{1}'>{2}%</font>全属性",this.game_lv_b_text1="总降低对方{0}球员<font color='{1}'>{2}%</font>全属性",this.game_lv_next_tip="升到下一级：",this.game_lv_now_tip="当前等级：",this.game_upgrade_s="升 阶",this.game_uplv_s="升 级",this.game_uplv_s10="升10级",this.game_col="<font color='{0}'>{1}</font>",this.game_zisize="<font size='{0}'>{1}</font>",this.game_open_s="开",this.game_close_s="关",this.game_yes_s="是",this.game_no_s="否",this.game_club_s="俱乐部",this.game_club_loadlong="加载时间过长",this.game_day_s="天",this.game_pay_ok="您已支付成功",this.game_pay_nocom="当前平台支付没接入",this.game_shopbuy="购 买",this.game_really_shopbuy="已购买",this.game_get2="领取",this.game_zhanli_s="战力",this.game_is_loging="登录中，请稍后",this.game_is_wait="服务器正在维护中",this.game_size_col_s="<font size='{0}' color='{1}'>{2}</font>",this.game_ug_s="钻石",this.game_no_get="未获得",this.game_name_tip="名称:",this.game_no_tip="暂无",this.game_back="返回",this.game_isdown="已完成",this.game_unlock_pve="巡回赛{0}关开启",this.game_open_wait="敬请期待",this.game_loading="加载中,请稍候",this.game_comingsoon="即将开启",this.pt_error_token="获取信息失败",this.pt_tip0="没有找到该平台{0}",this.game_tip0="接口为空",this.game_tip1="抵制不良游戏，拒绝盗版游戏。注意自我保护，谨防上当受骗。\n适度游戏益脑，沉迷游戏伤身。合理安排时间，享受健康生活。",this.game_tip2="零一二三四五六七八九",this.game_tip3="资源不足",this.game_tip6="备案文号 文网游备字〔2018〕Ｍ-SLG 0116号新广出审[2017]8228号\n出版物号：ISBN 978-7-498-01293-7 著作权：上海疾创信息科技 \n本应用由“上海米玩信息科技”提供 年龄提示：16岁以上",this.log_tip0="游戏赠予",this.name_tactics="战术中心",this.club_time_str="{0}/小时",this.club_time_tip_1="同一关卡每天最多可挑战({0})次",this.club_time_tip_2="员工调整成功",this.club_time_tip_3="需要成功通过{0}",this.club_time_tip_4="{0}级解锁挑战",this.club_time_tip_5="俱乐部达到{0}级解锁",this.club_time_tip_6="该关卡已达到今日{0}次挑战次数上限",this.club_tip0="俱乐部产量",this.club_tip1="科技中心产量",this.club_tip2="战术中心产量",this.club_tip3="球探中心产量",this.club_tip4="挑战次数已用完！",this.club_tip5="客服QQ:3028925580",this.club_tip6="如果需要帮助和咨询,请手动添加客服\n[琳达]的QQ:3028925580",this.club_tip7="申请已发出",this.club_tip8="选择要展示的成就",this.club_tip9="获得：",this.club_tip10="更改队徽",this.club_tip11="兑换码",this.club_tip12="客服QQ:2757408329",this.club_tip13="游戏指南",this.club_tip14="申请好友",this.club_tip15="俱乐部名称：",this.club_tip16="更改名称",this.club_tip17="俱乐部等级：",this.club_tip18="荣耀之路排名：",this.club_tip19="巅峰赛段位：",this.club_tip20="玩家ID：",this.club_tip21="创建时间：",this.club_tip22="成就等级",this.club_tip23="背景音乐",this.club_tip24="游戏音效",this.club_tip25="位置",this.club_tip26="等级",this.club_tip27="名称",this.club_tip28="上阵战力",this.club_tip29="阵 型",this.club_tip30="战力+",this.club_tip31="球队装备",this.club_tip32="公会公告：",this.club_tip33="概率掉落",this.club_tip34="固定产出",this.club_tip35="开始挑战",this.club_tip36="扫 荡",this.club_tip37="主要产出",this.club_tip38="球员提升相关道具",this.club_tip39="通关业余赛开启",this.club_tip40="通关职业赛开启",this.club_tip41="挑战次数",this.club_tip42="本关掉落",this.club_tip43="请输入扫荡次数开始扫荡",this.club_tip44="固定掉落：",this.club_tip45="概率获得：",this.club_tip46="扫荡次数",this.club_tip47="开始扫荡",this.club_tip48="共计：",this.club_tip49="战力优先",this.club_tip50="品质优先",this.club_tip51="位置优先",this.club_tip52="仅该位置",this.club_tip53="暂无段位",this.club_tip54="当前拥有员工数量 {0}/{1}",this.max_tip_forma="太棒了！\n阵型已升达满级！",this.max_tip_study="太棒了！\n该战术已达满级！",this.max_tip_beborn="太棒了！\n该球员已达转生到满转！",this.fight_infi_1="时间:{0}\n{1} {2}:{3} {4}",this.fight_infi_2="比赛结束！\n{0} {1}:{2} {3}",this.fight_foul1="进球",this.fight_foul2="受伤",this.fight_foul3="黄牌",this.fight_foul4="红牌",this.fight_foul5="第二张黄牌",this.fight_foul6="任意球射门成功",this.fight_foul7="点球射门成功",this.fight_foul8="射门失败",this.fight_foul9="任意球射门失败",this.fight_foul10="点球射门失败",this.fight_foul11="抢断",this.fight_foul12="大脚解围",this.fight_foul13="开脚球",this.fight_tip0="重置次数*{0}",this.fight_tip1="离线时长  {0}",this.fight_tip2="快速比赛  {0}",this.fight_tip3="确定购买",this.fight_tip31="清除挑战冷却时间",this.fight_tip34="清除冷却时间",this.fight_tip33="清除",this.fight_tip32="确定修改",this.fight_tip4="消耗",this.fight_tip5="优先消耗：快速比赛卡",this.fight_tip6="今日剩余购买次数：{0}",this.fight_tip7="{0}比赛",this.fight_tip8="快速比赛({0})",this.fight_tip9="比赛获得",this.fight_tip10="提升实力",this.fight_tip11="{0}/小时",this.fight_tip12="获得以下奖励",this.fight_tip13="{0}点",this.fight_tip14="经验已满",this.fight_tip15="球队全属性：",this.fight_tip16="犯规概率：",this.fight_tip17="可获得{0}巡回赛收益",this.fight_tip18="(最多累积<font color='0x40daff'>24</font>小时离线收益)",this.fight_tip19="离线超过<font color='0x40daff'>8小时</font>后，只能获得<font color='0x40daff'>80%</font>离线收益",this.fight_tip20="VIP{0}加成",this.fight_tip21="战力：{0}",this.fight_tip22="{0}后挑战次数+1",this.fight_tip23="今日购买次数到达上限，请提升VIP等级。",this.fight_tip24="获胜奖励",this.fight_tip25="首胜奖励",this.fight_tip26="是否确定购买一次挑战次数?",this.fight_tip27="已达上限，无需购买",this.fight_tip28="通关最后一关一星难度解锁",this.fight_tip29="<font color='0x43E57E'>{0}</font>/小时<font color='0x43E57E'>(+{1})</font>",this.fight_ti30="是否确定购买这个队徽?",this.fight_ti32="是否花费钻石清除挑战冷却时间？",this.fight_ti33="是否花费{0}刷新转会球员？",this.fight_ti31="是否确定花费钻石修改名字?",this.fight_tip36="是否花费钻石购买4小时收益？",this.fight_tip37="每小时固定收益",this.fight_tip38="巡回赛自动比赛中......",this.fight_tip39="比赛中......",this.fight_tip40="{0} 射门成功，<font color='0x04fc05'>比分【{1}】</font>",this.fight_tip41="{0} 犯规，获得一张<font color='0x04fc05'>黄牌x1</font>",this.fight_tip42="{0} 犯规，获得一张<font color='0x04fc05'>黄牌x2</font> 累计<font color='0x04fc05'>两张黄牌</font>被罚下场！",this.fight_tip43="{0} 犯规，被<font color='0xfe090e'>红牌x1</font>被罚下场",this.fight_tip44="{0} 开出角球",this.fight_tip45="{0} 大脚解围，终结对手攻势！",this.fight_tip46="{0} 触发 {1}",this.fight_tip47="{0} 任意球射门，<font color='0x04fc05'>比分【{1}】</font>",this.fight_tip48="{0} 点球射门，<font color='0x04fc05'>比分【{1}】</font>",this.fight_tip49="{0} 射门，球未进",this.fight_tip50="{0} 任意球射门，球未进",this.fight_tip51="{0} 点球射门，球未进",this.fight_tip52="{0} 抢断 {1}",this.fight_tip53="{0}秒后自动下一步",this.fight_tip54="{0}秒后开始挑战下一关",this.fight_tip55="自动挑战已取消",this.fight_tip56="克制对手:",this.fight_tip57="被克制:",this.fight_tip58="当前关卡挑战失败，已停止自动挑战",this.fight_tip59="请选择奖励！",this.fight_tip60="推荐使用：{0}",this.fight_tip61="当前战术为最佳战术",this.fight_tip62="进攻战术：{0}",this.fight_tip63="防守战术：{0}",this.fight_tip64="我方球队",this.fight_tip65="对方球队",this.fight_tip66="教练加成",this.fight_tip67="全队属性\n+{0}%",this.fight_tip68="抢断",this.fight_tip69="触发",this.fight_tip70="技能",this.fight_tip71="(熟练度已满)",this.fight_tip72="前 往",this.fight_tip73="可获得收益",this.fight_tip74="需要消耗",this.fight_tip75="快速提升俱乐部等级的最佳途径",this.fight_tip76="首次挑战关卡获得",this.fight_tip77="离线期间球员等级变化详情",this.fight_tip78="离线时长",this.fight_tip79="固定收益",this.fight_tip80="离线期间战力提升",this.fight_tip81="返 回",this.fight_tip82="我方",this.fight_tip83="对手",this.fight_tip84="进攻",this.fight_tip85="防守",this.fight_tip86="左路",this.fight_tip87="右路",this.fight_tip88="中路",this.fight_tip89="两翼",this.fight_tip90="战斗力",this.fight_tip91="号",this.fight_tip92="名称",this.fight_tip93="球员数据",this.fight_tip94="进攻战术",this.fight_tip95="防守战术",this.fight_tip96="评分",this.fight_tip97="球员名称",this.fight_tip98="技能名",this.fight_tip99="熟练度",this.fight_tip100="比赛进行中...",this.fight_tip101="姓名",this.fight_tip102="数据统计",this.fight_tip103="主队属性加成",this.fight_tip104="客队属性加成",this.fight_tip105="技能总览",this.fight_tip106="我方阵型战术",this.fight_tip107="对方阵型战术",this.fight_tip108="比赛实况",this.fight_tip109="技能状态",this.fight_tip110="双方球队",this.fight_tip111="阵型战术",this.fight_tip112="比赛概览",this.fight_tip113="比赛数据",this.fight_tip114="取消自动挑战",this.fight_tip115="挑战下关",this.fight_tip116="自动挑战下关",this.fight_tip117="失败将回前一关卡挂机",this.fight_tip118="巡回赛效率提升",this.fight_tip119="战",this.fight_tip120="术",this.fight_tip121="点击任意区域消失",this.fight_tip122="暂无记录",this.fight_tip123="对方",this.fight_tip124="转会市场中有SSR球员，是否确认刷新？",this.fight_btn_0="下一步",this.fight_btn_1="确 定",this.fight_btn_2="跳过({0})",this.fight_btn_3="跳过",this.tip_login_error="只能输入字母和数字",this.tip_login_error2="含有非法字符",this.no_loadcom_res="加载资源失败",this.friend_gif_0="进球 {0}",this.friend_gif_1="积分 {0}",this.friend_gif_2="连胜 {0}",this.friend_ship_tip0="本次鼓舞加成\n\n全队战力提升:{0}",this.friend_ship_tip1="鼓舞次数到达上限",this.friend_ship_tip2="是否花费钻石购买“连胜卡”",this.friend_ship_tip3="免费刷新次数已用完，是否确认刷新对手?",this.friend_ship_tip4="更换对手次数到达上限",this.friend_ship_tip5="是否确认再次挑战对手?",this.friend_ship_tip6="购买挑战次数已达上限",this.friend_ship_tip7="本次挑战失败，是否使用1张连胜卡保持当前{0}连胜？\n\n已有连胜卡：{1}",this.friend_ship_tip8="本次挑战失败，是否购买使用一张连胜卡保持当前{0}连胜？",this.friend_ship_tip9="{0}连胜",this.friend_ship_tip10="请先选择挑战对手",this.friend_ship_tip11="请先选择更换的对手",this.friend_ship_tip12="进球累计达到一定数量时，即可领取礼包",this.friend_ship_tip13="当前积分：{0}积分",this.friend_ship_tip14="{0}积分",this.friend_ship_tip15="最高连胜:{0}",this.friend_ship_tip16="当前连胜:{0}",this.friend_ship_tip17="每天00:00获得一次重置次数",this.friend_ship_tip18="鼓 舞",this.friend_ship_tip19="挑战失败，可再次点击挑战或者换个对手再次挑战",this.friend_ship_tip20="本次比赛获得",this.friend_ship_tip21="进球数",this.friend_ship_tip22="连胜积分",this.friend_ship_tip23="连胜次数",this.friend_ship_tip24="当前奖励阶级:{0}阶",this.friend_ship_tip25="Lv.{0}/Lv.{1}",this.friend_ship_tip26="{0}阶奖励需升级至:",this.friend_ship_tip27="可提升积分和连胜礼包奖励",this.friend_ship_tip28="已达最大奖励阶级",this.friend_award_tip0="进球礼包奖励",this.friend_award_tip1="积分礼包奖励",this.friend_award_tip2="连胜礼包奖励",this.setup_tip0="输入兑换码",this.setup_tip1="修改名称成功",this.setup_tip2="修改队徽成功",this.setup_tip3="自定义样式免费",this.setup_tip4="未达成解锁条件",this.setup_tip5="请输入激活码",this.setup_tip6="输入名称",this.setup_tip7="首次改名免费",this.setup_tip8="使用兑换码后，奖励将通过邮件发送",this.setup_tip9="用户中心",this.setup_tip10="更改名称",this.setup_tip11="更改队徽",this.setup_tip12="退出登陆",this.setup_tip13="背景音乐",this.setup_tip14="游戏音效",this.setup_tip15="花费",this.setup_tip16="效果预览",this.setup_tip17="购买后的队徽随时可以进行更换而无需再次购买！",this.setup_tip18="主要颜色",this.setup_tip19="次要颜色",this.setup_tip20="形状",this.setup_tip21="样式",this.setup_tip22="图案",this.setup_tip23="颜色",this.setup_tip24="成品",this.fundtips="(免费玩家第5天可达VIP4)",this.login_tip0="{0}服 {1}",this.login_tip1="公测{0}-{1}服",this.login_tip2="内网测试服",this.login_tip3="[推荐]",this.login_tip4="正在加载游戏...",this.login_tip5="首次加载稍长，请耐心等待",this.login_tip6="创建角色",this.login_tip7="违规字符，请重新输入",this.login_tip8="最多7个中文字",this.login_tip9="完成创建",this.login_tip10="邀请者:平台_区服_uid",this.login_tip11="登录区服",this.login_tip12="点击选服",this.login_tip13="最近登录",this.login_tip14="版本：",this.login_num=2,this.clubdetail_tip0="({0})",this.train_add_tip0="突破成功",this.train_add_tip1="突破失败,幸运值+100",this.train_add_tip3="失败可获得{0}点幸运值",this.train_add_tip4="每位球员最多可拥有3个位置",this.train_add_tip5="升级需要经验:{0}",this.train_add_tip6="球员升级成功",this.train_add_tip7="球员升星成功",this.train_add_tip8="技能升级成功",this.train_add_tip9="该位置不可扩展",this.train_add_tip10="该位置已扩展",this.train_add_tip11="熟练度达到最大值",this.train_add_tip12="熟练度未达到最大值",this.train_add_tip13="{0}：{1} <font color='0x4dff8f'>+{2}</font>",this.train_add_tip14="升级可提升各个属性",this.train_add_tip15="升星可提升各个属性的成长值",this.train_add_tip16="可上阵位置",this.train_add_tip17="技能",this.train_add_tip18="经验",this.train_add_tip19="是否确定升星\n\n(解约球员将“全额返还”特训点和星级凭证)",this.train_add_tip20="可供升级的经验不够",this.train_add_tip21="是否使用{0}",this.train_add_tip22="球员解约时升级经验和升星材料全额返还",this.train_add_tip23="{0}星解锁",this.train_add_tip24="升级可提升球员各项属性，升星可大幅提升属性<font color='0x00fe00'>成长值</font>并<font color='0x00fe00'>解锁技能</font>",this.train_add_tip25="未解锁",this.train_add_tip26="{0}星解锁该技能",this.train_add_tip27="不可转生",this.train_add_tip28="升至{0}星开启",this.train_add_tip29="技能每升一级消耗1点技能点和少量欧元，球员<font color='0x00fe00'>升星</font>和<font color='0x00fe00'>转生</font>次数决定了技能等级上限。",this.train_add_tip30="升级需求",this.train_add_tip31="升星需求",this.train_add_tip32="转",this.train_add_tip33="转生已满",this.train_add_tip34="条件满足",this.train_add_tip35="转生",this.train_add_tip36="你尚未拥有SR或SSR卡，无法使用该功能",this.train_add_tip37="同位置球员",this.train_add_tip38="星 级",this.train_add_tip39="熟练度",this.train_add_tip40="你的球队中有该球员，技能效果已激活",this.train_add_tip41="你尚未拥有该球员",this.train_add_tip42="你的背包中有该球员，需要签约该球员才能激活技能效果",this.train_add_tip43="非转会市场球员在升至四星时，也将会在转会市场刷出",this.train_add_tip44="搭档球员<font color='0x00fe00' size='18'>（已激活）</font>",this.train_add_tip45="搭档球员<font size='18'>（尚未激活）</font>",this.train_add_tip46="太棒了！\n该技能已达到满级！",this.train_add_tip47="太棒了！\n该球员已达到满级！",this.train_add_tip48="(已满)",this.train_add_tip49="升级",this.train_add_tip50="激活",this.train_add_tip51="等级已满请升星",this.train_add_tip52="更换球员",this.train_add_tip53="转生消耗",this.train_add_tip54="转 生",this.train_add_tip55="太棒了！该技能已达到满级！该技能已达到满级！",this.train_add_tip56="钻石突破",this.train_add_tip57="突破卡消耗",this.train_add_tip58="突破幸运值：",this.train_add_tip59="突破失败，突破幸运值+100，攒满可获得一张突破卡",this.train_add_tip60="突 破",this.train_add_tip61="立即突破",this.train_add_tip62="更换球员",this.train_add_tip63="可上阵位置",this.train_add_tip64="等级已满请升星",this.train_add_tip65="点击替换球员",this.train_add_tip66="N和R品质球员卡无法转生，列表已自动过滤掉",this.train_add_tip67="升级升星",this.train_add_tip68="使用经验来提升球员的等级",this.train_add_tip69="技能升级",this.train_add_tip70="位置突破",this.train_add_tip71="球员转生",this.train_add_tip72="熟练度",this.train_add_tip73="提升",this.train_add_tip74="获 取",this.train_add_tip75="等级上限",this.train_add_tip76="战 力",this.train_add_tip77="转 生",this.train_add_tip78="当前球员经验",this.train_add_tip79="升 星",this.train_add_tip80="太棒了！",this.train_add_tip81="选择球员",this.train_add_tip82="球员转生可消耗同位置球员卡",this.train_add_tip83="球员羁绊",this.train_add_tip84="阵容羁绊总览",this.train_add_tip85="羁绊球员推荐",this.train_add_tip86="点击“未获得”球员头像可以直接前往获取球员",this.train_add_tip87="羁绊激活条数",this.train_add_tip88="N和R品质球员卡没有羁绊，列表已自动过滤掉",this.train_add_tip89="以下是当前阵容激活羁绊球员需求列表",this.train_add_tip90="签约球员即可激活羁绊，可同时激活多条羁绊哦！",this.train_add_tip91="全部激活",this.train_add_tip92="前往获取",this.train_add_tip93="国家",this.train_add_tip94="羁绊条数",this.train_add_tip95="羁绊属性可叠加生效，“羁绊球员推荐”中可直接前往获取。<u>立即前往</u>",this.train_add_tip96="签约对应羁绊球员，可激活球员羁绊组合，获得全属性加成，羁绊属性可叠加",this.train_add_tip97="球员可以消耗钻石或者位置突破卡进行位置突破，球员上阵至突破后的位置能发挥全部实力",this.train_add_tip98="剩余技能点数可用于技能升级消耗",this.train_add_tip99="{0} 后获得1技能点数",this.train_add_tip100="技能等级上限",this.train_add_tip101="是否花费钻石购买{0}技能点？",this.train_add_tip102="{0} (点数已满)",this.train_add_tip103="{0} Lv.{1}(上限{2})",this.train_add_tip104="阵容羁绊总览",this.train_add_tip105="羁绊球员推荐",this.train_add_tip106="上阵中",this.train_add_tip107="背包中",this.train_add_tip108="替补席",this.train_add_tip109="未获得",this.train_add_tip110="仅显示背包中未签约的球员卡",this.train_add_tip111="组合描述",this.lan_tip0="已满星满级",this.tech_tip0="俱乐部达到Lv.{0}",this.tech_tip1="全部装备+{0}即可激活",this.tech_tip2="当前装备品质",this.tech_tip3="当前已获得属性加成",this.tech_tip4="未获得任何加成",this.tech_tip5="进阶属性会同时作用在球员和装备属性上",this.tech_tip6="装备进阶",this.tech_tip7="装备升品",this.tech_tip8="品质套装",this.tech_tip9="经验值:",this.tech_tip10="选择想要回收的科技书",this.tech_tip11="专家科研书",this.tech_tip12="研究科研书",this.tech_tip13="蓝图研究中...",this.tech_tip14="研究蓝图",this.tech_tip15="开始研究",this.tech_tip16="蓝图详情",this.tech_tip17="搜集装备报告",this.tech_tip18="再次搜集",this.tech_tip19="确定强化",this.tech_tip20="科技中心每提升一级，搜集报告的花费以及所提供的强化经验也将提升。",this.tech_tip21="请尽量搜集高品质的报告来强化装备",this.tech_tip22="幸运度满后下一次必出红色研究报告",this.tech_tip23="道具描述:",this.tech_tip24="消 耗",this.tech_book_tip0="选择想要回收的科技研究图纸",this.tech_book_tip1="点击图标放入研究图纸",this.tech_book_tip2="研究图纸",this.tech_book_tip3="图纸研究中…",this.tech_book_tip4="球员:{0}人",this.tech_book_tip5="兑换成功",this.tech_book_tip6="正在研究中，请等待",this.tech_book_tip7="已获得 {0} {1}经验",this.tech_book_tip8="预计产出经验 {0}(投放球员品质加成经验 +{1})",this.tech_book_tip9="剩余时间 {0} 球员总投入 {1}名",this.tech_book_tip10="研究已完成，已获得装备经验",this.tech_book_tip11="请先选择5种对应的研究图纸",this.tech_book_tip12="球员({0}/{1})",this.tech_book_tip13="研究 {0}小时 球员总投入 {1}名",this.tech_book_tip14="研究球员已满",this.tech_book_tip15="一键放入完成",this.tech_book_tip16="全部装备+{0}",this.tech_book_tip17="点击查看",this.tech_book_tip18="全部装备+{0}即可激活",this.tech_book_tip19="已激活",this.tech_book_tip20="未激活",this.tech_book_tip21="已升至最大阶",this.tech_book_tip22="研究完毕,请领取",this.tech_book_tip23="冷却时间",this.tech_book_tip24="全部装备+{0}",this.tech_book_tip25="装备属性+{0}%",this.tech_book_tip26="暂无",this.tech_book_tip27="00:00:00",this.tech_book_tip28="等级: <font color='0x01CBEF'>Lv.{0}</font>",this.tech_book_tip29="效果: <font color='0x00F204'>+{0}经验</font>",this.tech_book_tip30="即可激活",this.tech_book_tip31="已达最高品质",this.tech_book_tip32="已达最高等级",this.tech_book_tip33="<font color='0x00FF00'>(额外+{0})</font>",this.tech_book_tip34="缺少清除次数，可以提升vip获取更多次数",this.tech_book_tip35="您是否确定花费钻石清除cd",this.tech_book_tip36="立即结束({0})",this.equip_tip0="装备升阶成功",this.equip_tip1="装备升品成功",this.equip_tip2="太棒了！该装备已升至最高阶级！",this.equip_tip3="太棒了！该装备已升至最高品级！",this.dekaron_tip0="关卡挑战失败，则本次挑战将结束。\n（可手动点击“放弃挑战”结束）",this.dekaron_tip1="第{0}关",this.dekaron_tip2="休息室",this.dekaron_tip3="进攻",this.dekaron_tip4="控场",this.dekaron_tip5="防守",this.dekaron_tip6="当前排名 {0}",this.dekaron_tip7="挑战{0}关{1}星胜利即可开启",this.dekaron_tip8="仅可购买({0}/{1}）次",this.dekaron_tip9="每日限购({0}/{1}）次",this.dekaron_tip10="本次达到最大关卡",this.dekaron_tip11="第 {0} 关",this.dekaron_tip12="三星通关才能使用一键扫荡",this.dekaron_tip13="本次将扫荡第 {0}-{1} 关",this.dekaron_tip14="全体强化等级+1",this.dekaron_tip15="提升{0}%",this.dekaron_tip16="重置({0})",this.dekaron_tip17="当前奖励：第{0}关",this.dekaron_tip18="下关奖励：第{0}关",this.dekaron_tip19="请先选择奖励",this.dekaron_tip20="获得随机奖励",this.dekaron_tip21="获得额外加成",this.dekaron_tip22="请选择1项奖励",this.dekaron_tip23="放弃后本次挑战结束并结算奖励",this.dekaron_tip24="未开启",this.dekaron_tip25="购 买",this.dekaron_tip26="晋级赛挑战",this.dekaron_tip27="一旦失败满{0}次，将立即结束本次挑战",this.dekaron_tip28="再通过{0}关即可领取一次礼包",this.dekaron_tip29="重置次数：{0}",this.dekaron_tip30="你当前到达{0}关",this.dekaron_tip31=["进攻+{0}%","控场+{0}%","防守+{0}%"],this.dekaron_tip32="解锁条件：",this.dekaron_tip33="是否花费钻石购买此道具！",this.dekaron_tip34="选择奖励",this.dekaron_tip35="获得:",this.dekaron_tip36="今日挑战最高关卡",this.dekaron_tip37="今日评星获得数量",this.dekaron_tip38="本次挑战关数奖励",this.dekaron_tip39="难度不同，胜利后获得徽章数不同",this.dekaron_tip40="推荐战力：",this.dekaron_tip41="比赛获得：",this.dekaron_tip42="固定奖励",this.dekaron_tip43="随机奖励",this.dekaron_tip44="加成技能",this.dekaron_tip45="本次评星获得数量",this.dekaron_tip46="本次挑战关数已经获得以下奖励",this.dekaron_tip47="本次挑战已结束，请重置",this.dekaron_tip48="一键扫荡",this.dekaron_tip49="开始比赛",this.dekaron_tip50="排行榜",this.dekaron_tip51="挑战商店",this.dekaron_tip52="可使用徽章数：",this.dekaron_tip53="球队加成",this.dekaron_tip54="加成后",this.dekaron_tip55="放弃挑战",this.dekaron_tip56="本次比赛获得",this.dekaron_tip57="放弃挑战或失败两次自动结束挑战会获得以下奖励",this.dekaron_tip58="请选择进入休息所时，你会选择哪种奖励",this.dekaron_tip59="随机宝箱",this.dekaron_tip60="球队强化",this.dekaron_tip61="选择这个",this.dekaron_tip62="共计：",this.scout_tip0="放弃签约,可返还{0}交易卡",this.scout_tip1="已签约",this.scout_tip2="已拥有",this.scout_tip3="签约成功",this.scout_tip4="{0}后，尚未签约的球员，将视为放弃签约",this.scout_tip5="招募",this.scout_tip6="有高品质的球员尚未签约，是否确认放弃？",this.scout_tip7="再招募{0}次必出<font color='0xdb2dff'>SR球员</font>",this.scout_tip8="<font color='0xffda00'>必出</font><font color='0xdb2dff'>SR</font><font color='0xffda00'>及以上</font>",this.scout_tip9="<font color='0xffda00'>首次必出</font><font color='0xdb2dff'>SR</font><font color='0xffda00'>及以上</font>",this.scout_tip10="刷新成功",this.scout_tip11="球员卡池选择范围每两天轮换一次",this.scout_tip12="大师球探中每抽一张卡累计一点幸运值，幸运值累计到{0}时必出SSR球员，中途抽出SSR卡幸运值不清零",this.scout_tip13="暂无简介",this.scout_tip14="抽一次",this.scout_tip15="抽十次",this.scout_tip16="专家球探",this.scout_tip17="大师球探",this.scout_tip18="抽到的球员，都可以在背包中查看并签约使用\n大师球探的单抽券和十抽券可以在商店中买到",this.scout_tip19="球员升级到4星后，也将会在转会市场刷出",this.scout_tip20="暂未拥有4星球员",this.scout_tip21="俱乐部升阶将解锁更多球员",this.scout_tip22="球员升级到4星后，也将会在转会市场刷出",this.scout_tip23="转会球员解锁",this.scout_tip24="回收球员",this.scout_tip25="刷新次数：",this.scout_tip26="转会球员",this.scout_tip27="刷新球员",this.scout_tip28="点击球员卡片查看详情并\n随时在背包中签约使用或回收这些球员",this.scout_tip29="背包",this.scout_tip30="球员卡已放入背包，赶紧去背包签约吧",this.scout_tip31="同俱乐部球员之间可以相互羁绊哦",this.scout_tip32="俱乐部处于该阶时，转会市场即可刷出以下球员碎片(仅显示SR及以上品质球员)",this.scout_tip33="球员升级到4星后，也将会在转会市场刷出",this.scout_tip34="查看额外解锁",this.scout_tip35="下次卡池范围",this.scout_tip36="下次卡池变更倒计时:",this.scout_tip37="前往背包签约",this.scout_tip38="关闭",this.scout_tip39="8折",this.scout_tip40="5折",this.scout_tip41="再抽一次",this.scout_tip42="再抽十次",this.scout_tip43="是否花费钻石刷新卡池范围？",this.scout_tip44="刷新卡池需要达到VIP{0}，是否前往提升VIP等级？",this.hero_tip0="当前已收集 {0}",this.hero_tip1="解约可获得",this.hero_tip2="你确定要解约该球员么？\n解约后球员将消失，且无法找回！",this.hero_tip3="通关俱乐部晋级赛第{0}章{1}可以解锁",this.hero_tip4="一键上阵完成",this.hero_tip5="解约完成",this.hero_tip6="当前阵型尚未保存，是否保存?",this.hero_tip7="解约后球员将恢复为球员卡并存入背包",this.hero_tip8="解约后返还所有的升级经验和转生升星材料",this.hero_tip9="回收后该球员卡将消失",this.hero_tip10="同时你将获得",this.hero_tip11="你已拥有该球员，无需再次购买",this.hero_tip12="可在背包中查看签约或回收该球员卡",this.hero_tip13="{0}张",this.hero_tip14="你确定要回收这些球员并获得{0}{1}吗？\n回收后的球员卡将被销毁!",this.hero_tip15="{0}达到 {1}",this.hero_tip16="转生成功",this.hero_tip17="达到{0}星",this.hero_tip18="他能激活谁的最佳拍档技能？",this.hero_tip19="他能激活谁的羁绊？",this.hero_tip20="可合成",this.hero_tip21="背包中",this.hero_tip22="未获得",this.hero_tip23="不可转生",this.hero_tip24="可转生{0}次",this.hero_tip25="{0}全属性",this.hero_tip26="额外{0}",this.hero_tip27="羁绊说明：\n1. 收集球员，激活羁绊，当前球员即可获得全属性提升。\n2. 羁绊的球员，只需要签约，无需编入阵容，即可生效。\n3. 羁绊的球员，每次进阶和转生都会为当前球员提供额外属性。",this.hero_tip28="阵型",this.hero_tip29="该球员跟其他球员之间没有最佳拍档关联",this.hero_tip30="该球员跟其他球员之间没有羁绊关联",this.hero_tip31="背包中有{0}张球员卡片（其中SSR {1}张， SR {2}张）",this.hero_tip32="可签约",this.hero_tip33="羁绊球员和最佳拍档,不需要上阵也可以激活！",this.hero_tip34="所有阵型",this.hero_tip35="阵容羁绊总览",this.hero_tip36="按品质",this.hero_tip37="按战力",this.hero_tip38="保存使用",this.hero_tip39="一键上阵可根据需求选择品质上阵或战力上阵",this.hero_tip40="更换阵型",this.hero_tip41="跨区域属性降低",this.hero_tip42="跨位置属性降低",this.hero_tip43="查 看",this.hero_tip44="更 换",this.hero_tip45="上阵球员属性加成",this.hero_tip46="国籍",this.hero_tip47="身高",this.hero_tip48="技 能",this.hero_tip49="进攻",this.hero_tip50="射门",this.hero_tip51="突破",this.hero_tip52="防守",this.hero_tip53="抢断",this.hero_tip54="盯人",this.hero_tip55="技巧",this.hero_tip56="传球",this.hero_tip57="控球",this.hero_tip58="身体",this.hero_tip59="速度",this.hero_tip60="强壮",this.hero_tip61="守门",this.hero_tip62="反应",this.hero_tip63="扑救",this.hero_tip64="解 约",this.hero_tip65="签 约",this.hero_tip66="回 收",this.hero_tip67="位 置",this.hero_tip68="签约价",this.hero_tip69="名 称",this.hero_tip70="品 质",this.hero_tip71="签 约",this.hero_tip72="性格",this.hero_tip73="全部回收",this.hero_tip74="全部回收奖励",this.hero_tip75="进攻研究",this.hero_tip76="防守研究",this.hero_tip77="拖动场上求换可快速互换位置",this.shop_tip0="限购\n\n次",this.shop_tip0_d="每日\n\n次",this.shop_tip0_z="每周\n\n次",this.shop_tip0_m="每月\n\n次",this.shop_tip1="热销",this.shop_tip2="请选择购买数量",this.shop_tip4="剩余领取天数",this.shop_tip5="你确定要购买{0}数量{1}",this.shop_tip6="是否发起一次模拟充值",this.shop_tip7="首次充值加送",this.shop_tip8="充值加送",this.shop_tip9="你确定要购买vip{0}专属礼包",this.shop_tip10="vip经验{0}",this.shop_tip11="荣誉商店每周刷新一次",this.shop_tip12="钻石可以通过充值、巅峰赛、成就等获得",this.shop_tip13="友情点可以通过好友互送获得",this.shop_tip14="充值成功",this.shop_tip15="关注成功",this.shop_tip16="秀币",this.shop_tip17="充值发送成功，等待处理",this.shop_tip18="限时",this.shop_tip19="限购1次",this.shop_tip20="今日限购",this.shop_tip21="每周限购",this.shop_tip22="超值卡包",this.shop_tip23="道具描述",this.shop_tip24="购买数量",this.shop_tip25="购买总价",this.shop_tip26="不可出售",this.shop_tip27="查看特权",this.shop_tip28="再充值",this.shop_tip29="¥{0}",this.shop_tip30="你确定要购买{0}",this.mail_tip0="已过期",this.mail_tip1="{0}天后过期",this.mail_tip2="{0}后过期",this.mail_tip3="(限{0}次",this.mail_tip4="另赠{0}钻石",this.mail_tip5="系统邮件",this.mail_tip6="标题",this.mail_tip7="内容",this.mail_tip8="快速领取",this.mail_tip9="快速删除",this.mail_tip10="你还没有邮件",this.mail_tip11="一键领取邮件详情",this.mail_tip12="邮件:{0}",this.mail_tip13="获得:{0} x{1}",this.pf_tip1="每日第一次分享都可以领取奖励\n{0}\n\n（奖励会通过邮件发放）",this.pf_tip2="收藏游戏至桌面可获得奖励\n{0}\n\n（奖励会通过邮件发放）",this.pf_tip3="点击分享",this.pf_tip4="点击收藏",this.pf_tip5="分享成功",this.pf_tip6="收藏成功",this.pf_tip7="您已取消支付",this.pf_tip8="支付失败",this.pf_tip9="分享取消",this.pf_tip10="恭喜你获得：\n{0}",this.pf_tip11="记得明天继续到\n玩吧礼包中心领取新的礼包哦！",this.pf_tip12="领取成功",this.pf_tip13="每天只能领取一次哦",this.pf_tip14="你今天已经领取过：\n{0}",this.pf_tip15="收藏游戏成功，请前往邮件领取奖励",this.pf_tip16="IOS支付功能暂未开启",this.pf_buiding_tip0="已绑定过账号",this.pf_buiding_tip1="登录成功！",this.pf_russia1="活动开启:\n{0}至{1}",this.question_tip0="第{0}名",this.question_tip1="{0}以后",this.logo_tip0="主次颜色不能一样",this.logo_tip1="已拥有",this.logo_tip2="免费",this.build_tip0="员工调整({0})",this.build_tip1="球队阵型 {0} {1}",this.build_tip2="入住时间:{0}",this.build_tip3="每小时额外提供{0}%产出",this.build_tip4="邀请已发出",this.build_tip5="请先添加好友",this.build_tip6="装备研究",this.build_tip7="球员招募",this.build_tip8="前往球队",this.build_tip9="员工数量上限",this.build_tip10="建筑升级上限",this.build_tip11="装备升阶上限",this.build_tip12="阵型等级上限",this.build_tip13="战术等级上限",this.build_tip14="员工调整",this.build_tip15="战术点产出",this.build_tip16="科技点产出",this.build_tip17="球探点产出",this.build_tip18="欧元产出",this.build_tip19="己最大",this.build_tip20="太棒了！\n俱乐部已进阶到满阶！",this.build_tip21="邀请已全部发出",this.build_tip22="暂无合适的邀请对象",this.build_tip23="太棒了！\n改建筑已升到满级！",this.build_tip24="当前等级 Lv.{0}",this.build_tip25="下阶等级 Lv.{0}",this.build_tip26="vip{0}收益",this.no_in_rank="1000+",this.build_tip27="{0}%",this.build_tip28="每小时产出欧元",this.build_tip29="每小时产出战术点",this.build_tip30="每小时产出科技点",this.build_tip31="每小时产出球探点",this.build_tip32="入驻",this.build_tip33="邀请你入驻",this.build_tip34="员工数",this.build_tip35="升至下阶转会市场球员解锁",this.build_tip36="建筑升阶需求",this.build_tip37="总员工人数",this.build_tip38="建筑基础产出",this.build_tip39="总员工人数",this.build_tip40="好友建筑等级越高，收益越多",this.build_tip41="好友列表",this.build_tip42="入驻时长：",this.build_tip43="可获得",this.build_tip44="当前员工数量",this.build_tip45="好友入驻收益提升",this.build_tip46="升至下阶转会市场球员解锁",this.build_tip47="查看全部",this.build_tip48="产出详情",this.build_tip49="建筑产出",this.build_tip50="员工总产出",this.build_tip51="员工人数",this.build_tip52="每个员工产出",this.build_tip53="VIP加成",this.build_tip54="好友入驻加成",this.build_tip55="你入驻的好友越多，收益越大",this.build_tip56="邀 请",this.build_tip57="一键邀请",this.build_tip58="暂时没有好友入驻",this.build_tip59="好友邀驻",this.build_tip60="已入驻好友建筑",this.build_tip61="剩余：",this.build_tip62="去好友家",this.build_tip63="您暂时还没有好友，请先添加好友!!!",this.build_tip64="当你的建筑有好友入驻时，每小时收益额外增加30%",this.build_tip65="添加好友",this.build_tip66="暂未拥有好友",this.build_tip67="你入驻的建筑等级越高，收益越大",this.build_tip68="只显示最近24小时的邀请",this.build_tip69="可招募员工",this.build_tip70="最大员工数",this.build_tip71="空闲员工数",this.build_tip72="一键分配",this.build_tip73="建筑升级需求",this.build_tip74="员工人数上限",this.build_tip75="激活月卡可获得额外的员工 <u>立即前往</u>",this.share_tip0="次数 {0}/{1}",this.share_tip1="距离下次邀请{0}",this.share_tip2="等待豪门出现",this.share_tip3="奖励 {0}",this.share_tip4="目标：邀请到的好友总充值{0}钻石",this.share_tip5="邀请好友登录游戏达到{0}/{1}人即可领取\n每日只有一次领取次数\n累计达到7次后不再可领取",this.share_tip6="剩余次数：{0}/{1}",this.share_tip7="等级达到{0}/{1}领取",this.share_tip8="确定删除该邀请的好友，\n\n可重新邀请其他好友进入游戏继续领取奖励？",this.share_tip9="删除好友邀请",this.share_tip10="分享QQ空间",this.share_tip11="分享给朋友",this.share_tip12="发送到QQ群",this.share_tip13="微信分享",this.share_tip14="奖励会通过邮件发放",this.share_tip15="点击收藏",this.share_tip16="分享领取大礼包",this.share_tip17="首页",this.share_tip18="尾页",this.share_tip19="需要请尚未创建游戏角色的好友才有效哦",this.share_tip20="进度：",this.share_tip21="获取方式：",this.share_tip22="成功邀请",this.share_tip23="好友登录游戏",this.share_tip24="邀请好友",this.share_tip25="邀请朋友",this.mian_tip0="球员战力   {0}",this.mian_tip1="装备战力   {0}",this.mian_tip2="阵型战力   {0}",this.mian_tip3="教练战力   {0}",this.mian_tip4="头衔战力   {0}",this.mian_tip5="队徽战力   {0}",this.fight_enter_tip0="可获得:战术指导书、阵型训练书、战术点、欧元",this.fight_enter_tip1="可获得:星级凭证、球探点、装备升阶卡、战术指导书等等",this.fight_enter_tip2="可获得:钻石、荣誉、特训卡（荣誉可在荣誉商店兑换道具）",this.fight_enter_tip3="可获得:科技点、装备升阶卡、装备升品卡、欧元",this.fight_enter_tip4="今日可重置次数 {0}",this.fight_enter_tip5="俱乐部达到{0}级开启",this.fight_enter_tip6="今日剩余挑战对手 {0}",this.fight_enter_tip7="今日剩余挑战次数 {0}",this.fight_enter_tip8="开放时间：{0}-{1}",this.fight_enter_tip9="未到开启时间",this.fight_enter_tip10="当前对手实力强于你,可能挑战失败!\n确认是否继续挑战!",this.fight_enter_tip11="可获得：钻石、荣誉、欧元、特训卡",this.fight_enter_tip12="冠军联赛获得",this.fight_enter_tip13="未报名(点击进入报名)",this.fight_enter_tip14="待分组",this.fight_enter_tip15="小组赛 第{0}轮",this.fight_enter_tip16="8强赛",this.fight_enter_tip17="4强赛",this.fight_enter_tip18="半决赛",this.fight_enter_tip19="决赛",this.fight_enter_tip20="下轮联赛",this.fight_enter_tip21="被淘汰",this.radar_act="进 攻",this.radar_def="防 守",this.radar_body="身 体",this.radar_skill="技 巧",this.radar_porters="守 门",this.forma_tip1="阵型保存成功",this.main_money_tiptext="当前拥有欧元：",this.main_tip0="<u>点击查看</u>",this.main_tip1="世界",this.main_tip2="私聊",this.main_tip3="公会",this.main_tip4="系统",this.main_tip5="教 练",this.main_tip6="公 会",this.main_tip7="球 探",this.main_tip8="球员图鉴",this.main_tip9="排行榜",this.main_tip10="好友",this.main_tip11="邮件",this.main_tip12="成就",this.main_tip13="球队",this.main_tip14="背包",this.main_tip15="巡回赛",this.main_tip16="商店",this.main_tip17="更多",this.main_tip18="喜从天降",this.main_tip19="土豪伙伴",this.main_tip20="每日钻石",this.main_tip21="每周分享",this.main_tip22="钻石分享",this.main_tip23="球员卡已满足转生数量！",this.main_tip24="对应球员卡不能替换！",this.qualifying_tip0="每次战斗可获得{0}积分，每日24点重置",this.qualifying_tip1="当前积分：{0}",this.qualifying_tip2="{0}积分可领取",this.qualifying_tip3="排行榜奖励每日<font color='0x53FF00'>20点</font>发放",this.qualifying_tip4="第{0}名",this.qualifying_tip5="第{0}-{1}名",this.qualifying_tip6="当前可购买挑战次数：{0}/{1}",this.qualifying_tip7="我的排名:{0}",this.qualifying_tip8="我的排名:{0}   保持当前排名({1})即可获得以下奖励",this.qualifying_tip9="我的排名:{0}   保持当前排名({1}-{2})即可获得以下奖励",this.qualifying_tip12="我的排名:1000+   暂无奖励",this.qualifying_tip_1="1、每天20：00系统根据所有人当前排名发放奖励\n2、奖励通过邮件发放，请注意查收\n3、每次挑战无论胜负都可获得积分，领取积分奖励",this.qualifying_tip_2="排位赛刷新对手CD{0}秒",this.qualifying_tip10="1000+",this.qualifying_tip11=1e3,this.qualifying_tip13="No.",this.qualifying_tip14="{0}名",this.qualifying_tip15="查看详细规则",this.qualifying_tip16="排行奖励",this.qualifying_tip17="显示最近20条",this.qualifying_tip18="请在下方选择您想要挑战的对手",this.qualifying_tip19="今日剩余次数:",this.qualifying_tip20="挑战冷却：",this.qualifying_tip21="防守记录",this.qualifying_tip22="竞技排行",this.qualifying_tip23="刷新对手",this.qualifying_tip24="本次比赛结果",this.qualifying_tip25="每日积分",this.qualifying_tip26="当前排名",this.title_rich_zureward="小组赛各段位奖励",this.title_rich_zureward_info="段位奖励",this.title_rich_rankreward="巅峰榜奖励",this.title_rich_info_time="【{0}】",this.title_rich_weekrank="本周总积分榜",this.title_rich_fightinfo="玩家小组赛战况",this.title_qualify_backinfo="防守记录",this.title_hero_change="球员更换",this.title_train_fetterlist="羁绊球员推荐",this.title_hero_lockinfo="球员信息",this.title_tech_studychange="球员选择",this.title_train_skillup="技能升级",this.title_train_skillactiva="技能激活",this.title_train_skillproficiencyup="熟练度提升",this.title_train_breachchoose="位置突破",this.title_train_uplvinfo="球员升级详情",this.title_train_upstarinfo="球员升星详情",this.title_hero_surrender="解约",this.title_tactics_formainfo="阵型",this.title_tactics_forma="更换阵型",this.title_tactics_study="战术",this.title_tactics_actstudy="进攻战术",this.title_tactics_defstudy="防守战术",this.title_tactics_studyup="战术升级",this.title_tactics_formaup="所有阵型升级",this.title_tactics_manageup="战术中心升级",this.title_fight_result="比赛结果",this.title_club_up="俱乐部升阶",this.title_club_recruitstaff="招募员工",this.title_help="帮助",this.title_tech_equipplus="装备进阶加成",this.title_tech_equipquality="装备品阶加成",this.title_tech_equipupgrade="装备改良",this.title_tech_equipup="装备进阶",this.title_tech_equipup_pin="装备升品",this.title_tech_expertbook="专家科研书",this.title_tech_custombook="自定义研究",this.title_tech_bookstudyinfo="研究详情",this.title_tech_bookrecovery="选择你要回收的科技书",this.title_tech_manageupgrade="科技中心升级",this.title_scout_manageupgrade="球探中心升级",this.title_dekaron_rank="排行榜",this.title_dekaron_result="挑战结束",this.title_dekaron_reward="奖励预览",this.title_dekaron_shop="挑战商店",this.title_dekaron_stop="结束挑战",this.title_dekaron_sweep="挑战扫荡",this.title_backpack_info="道具详情",this.title_backpack_use="使 用",this.title_backpack_syn="合 成",this.title_backpack_sell="出 售",this.title_vip_obtain="获取VIP点数途径",this.title_vip_dayaward="VIP每日福利",this.title_setup_info="设置",this.title_people_info="玩家信息",this.title_setup_logo="修改队徽",this.title_setup_name="修改名称",this.title_setup_exchange="使用兑换码",this.title_achieve_list="成就",this.title_achieve_list_title="成就详情",this.title_achieve_change="更换成就展示",this.title_achieve_award="所有成就奖励",this.title_monthcar="月卡",this.title_chat="聊天",this.title_shopbuy="购买",this.title_shopbuytitle="购买道具",this.title_answer_award="总决赛奖励",this.title_answer_rank="总决赛排行榜",this.title_build_invite="邀请好友入驻",this.title_build_news="好友邀驻",this.title_build_staff="员工调整",this.title_club_detail="俱乐部详情",this.title_fight_fast="快速比赛",this.title_fight_offline="离线收益",this.title_fight_fastaward="快速比赛收益",this.title_fight_prewar="准备比赛",this.fight_prewar_tip0="VIP等级达到 V{0} 时默认选择最佳战术",this.title_fight_skilladd="技能熟练度",this.title_shop_pay="充 值",this.title_club_gradeinfo="俱乐部阶级详情",this.title_scout_unlock="转会额外解锁",this.title_scout_hero="转会球员解锁",this.title_sign_choosesever="服务器列表",this.title_hero_recoverfast="批量回收",this.title_getway_hero="获取球员",this.title_offline_hero="球员离线收益",this.title_build_uplv="{0}升级",this.title_build_upgrade="{0}升阶",this.title_pf_share="分享有礼",this.title_pf_collect="收藏有礼",this.title_qualifying_dayreward="每日奖励",this.title_hero_groomteam="阵容羁绊总览",this.title_scout_libray="选择抽卡范围",this.title_coach_upstarinfo="教练升星属性加成",this.answer_tip0="日常赛",this.answer_tip1="周日赛",this.answer_tip2="通过邮件发放",this.answer_tip3="题目准备中",this.answer_tip4="答题进行中，请等待下一题",this.answer_tip5="答题结束",this.answer_tip6="得分 +{0}",this.answer_tip7="答题时间",this.answer_tip8="等待时间",this.answer_tip9="等待揭晓",this.answer_tip10="很遗憾，答错了",this.answer_tip11="恭喜你，答对了",this.answer_tip12="每周一至周六积分累计达到2000分即可参加周日总决赛",this.answer_tip13="本周累计得分",this.answer_tip14="智能道具（周一至周六答题可获得）",this.answer_tip15="累计积分奖励",this.answer_tip16="直接选择正确答案",this.answer_tip17="排除一个错误答案",this.answer_tip18="答题奖励",this.answer_tip19="名次",this.answer_tip20="俱乐部",this.answer_tip21="总决赛得分",this.answer_tip22="剩余题数",this.answer_tip23="得分",this.answer_tip24="题目正在准备中···",this.answer_tip25="今日答题已参与",this.answer_tip26="点击选择正确答案",this.answer_gif_tip0="每日问答奖励",this.answer_gif_tip1="奖励在答题活动结束后，通过邮件发放",this.answer_gif_tip2="{0}积分以上可获得",this.answer_gif_tip3="我的积分:{0}  答题结束后将通过邮件发放以下奖励",this.answer_gif_tip4="第 {0} 题",this.summary_tip1="比赛开始",this.summary_tip2="比赛结束",this.hangup_next1="点击挑战下一关",this.hangup_next2="即将开始挑战...",this.hangup_next3="正在挑战该关卡",this.club_grade_tip="俱乐部等级达到{0}级 可以升阶",this.club_grade_tip2="{0}/小时",this.club_grade_tip3="{0}升至{1}阶",this.club_grade_tip4="{0}升至{1}级",this.club_staff_tip1="请选择招募的员工数量",this.club_staff_tip2="没有可分配空闲员工",this.club_info_tip1="加入游戏时间:{0}",this.shar_tip_txt="分享额外获得",this.achieve_tip0="{0}级奖励",this.achieve_tip1="尚未获得",this.achieve_tip2="{0}获得",this.achieve_tip3="成就等级:{0}",this.achieve_tip4="成就积分:{0}",this.achieve_tip5="<font color='0x4F83B3'>成就每提升一级，都可获得</font><font color='0x00E52A'>100钻石</font><font color='0x4F83B3'>，通过邮件发送。</font>",this.achieve_tip6="成就等级",this.achieve_tip7="全服排名:",this.achieve_tip8="点击此处:",this.achieve_tip9="暂无成就:",this.cost_tip0="请提升vip等级",this.cost_tip1="可购买次数",this.cost_tip2="达到 {0}俱乐部",this.coach_tip0="太棒了！该教练已达到满阶！",this.coach_tip1="教练达到{0}级",this.coach_tip2="获得：{0}经验",this.coach_tip3="+{0}%",this.coach_tip4="<font color='{0}'>全体{1}属性增加  <font color='0xC2FF47'>{2}%</font></font>",this.coach_tip5="到达条件",this.coach_tip6="俱乐部达到{0}级",this.coach_tip7="恭喜你获得新教练{0}",this.coach_tip8="<font color='{0}'>全体{1}属性增加  <font color='0xC2FF47'>{2}% {3}</font></font>",this.coach_tip9="对全体球员生效",this.coach_tip10="升星额外提升属性",this.coach_tip11="活动时间已过，是否花费{0}钻石购买激活",this.coach_tip12="下阶 {0}",this.coach_tip13="是否花费{0}钻石购买激活",this.coach_tip14="升阶额外提升属性",this.coach_tip15="未激活",this.coach_tip16="战力 +{0}",this.coach_tip17="确认消耗{0}{1},进行{2}小时训练，获得经验{3}?<font color='0x00ff00'>（所有已激活教练都可获得经验)</font>",this.coach_tip18="当前经验：",this.coach_tip19="激 励",this.coach_tip20="姓 名",this.coach_tip21="国 籍",this.coach_tip22="等 级",this.coach_tip23="阶 级",this.coach_tip24="执教特点",this.coach_tip25="职业生涯",this.coach_tip26="教练经验：",this.coach_tip27="升星材料：",this.coach_tip28="下星",this.coach_tip29="升星消耗",this.coach_tip30="教练升星",this.coach_tip31="教练进阶",this.coach_tip32="名次",this.coach_tip33="俱乐部",this.coach_tip34="评星数",this.coach_tip35="最高关卡",this.coach_tip36="所有已激活教练都可获得训练经验",this.coach_add_2="全队",this.coach_add_3="前锋",this.coach_add_4="前腰",this.coach_add_5="中场",this.coach_add_6="后腰",this.coach_add_7="后卫",this.coach_add_8="守门员",this.trainupskill_tip="使用后可增加<font color='0x53FF00'>{0}点</font>技能熟练度",this.club_map_tip0="晋级赛星级奖励",this.club_map_tip1="打过前一关解锁",this.club_map_tip2="已三星通关",this.club_map_tip3="第{0}场",this.club_map_tip4="球员提升相关道具",this.club_map_tip5="战术提升相关道具",this.club_map_tip6="阵型提升相关道具",this.club_map_tip7="购买挑战次数",this.club_map_tip8="当前可购买挑战次数：{0}/{1}\n<font color='0x787878' size='20'>(提升VIP和激活月卡可获得更多次数)</font>",this.rechargerebate_title="充值消费",this.activity_title="福利大厅",this.first_recharge_title="首次充值",this.activity_time_single="{0}/{1}/{2} {3}:{5}",this.activity_time="{0} - {1}",this.activity_countdown="{0}:{1}:{2}",this.activity_tip0="开服第<font color='0x32FF00'>{0}</font>天可领取：",this.activity_tip1="累计签到第<font color='0x32FF00'>{0}</font>天可领取({1}/{2})：",this.activity_tip2="俱乐部等级达到<font color='0x32FF00'>{0}</font>级可领取：",this.activity_tip3="活动时间：{0}—{1}",this.activity_tip4=["每日充值","连续充值","累计充值"],this.activity_tip5="今日充值<font color='0x32FF00'>{0}</font>钻石可领取(<font color='0xFFFF00'>{1}</font>/{2})",this.activity_tip6="累计充值<font color='0x32FF00'>{0}</font>钻石可领取(<font color='0xFFFF00'>{1}</font>/{2})",this.activity_tip7=["每日消费","累计消费","消费排行"],this.activity_tip8="今日消费<font color='0x32FF00'>{0}</font>钻石可领取(<font color='0x00FF00'>{1}</font>/{2})",this.activity_tip9="累计消费<font color='0x32FF00'>{0}</font>钻石可领取(<font color='0x00FF00'>{1}</font>/{2})",this.activity_tip10=["训练投资","星级投资","阵型战术","装备投资"],this.activity_tip11="开服第<font color='0x32FF00'>{0}</font>天可领取",this.activity_tip12="VIP{0}可领",this.activity_tip13="达到<font color='0x32FF00'>{0}</font>级可领取",this.activity_tip14="活动开启:{0}至{1}",this.activity_tip15="<font color='0xEEED45'>VIP{0}</font>以上可购买",this.activity_tip16="已有{0}购买",this.activity_tip17="当前开服第{0}天",this.activity_tip18="当前:VIP{0}",this.activity_tip19="{0}/3",this.activity_tip20="VIP{0}",this.activity_tip21="正在抽奖中！",this.activity_tip22="充点小钱",this.activity_tip23="需在线{0}后可用",this.activity_tip24=["战力排行","目标战力"],this.activity_tip25=["等级排行","目标等级"],this.activity_tip26=["巅峰排行","目标积分"],this.activity_tip27="第1名",this.activity_tip28="第2名",this.activity_tip29="第3名",this.activity_tip30="{0}—{1}名",this.activity_tip31="战力:",this.activity_tip32="等级:",this.activity_tip33="积分:",this.activity_tip34="目标战力",this.activity_tip35="目标等级",this.activity_tip36="目标积分",this.activity_tip37="距离进入榜单还差{0}战斗力，加油哦！",this.activity_tip38="{0}至{1}",this.activity_tip39="<font color='0xFFFFFF'>({0}/{1})</font>",this.activity_tip40="次数已用完",this.activity_tip41="未达成",this.activity_tip42="前往",this.activity_tip43="今日充值",this.activity_tip45="<u>前往获得积分</u>",this.activity_tip46="<u>完成首充</u>",this.activity_tip47="当前累计 {0} 天",this.activity_tip48="充值达到<font color='0x32FF00'>{0}</font>元",this.activity_tip49="累计充值达到<font color='0x32FF00'>{0}</font>元",this.activity_tip50="登录第{0}天可领取",this.activity_tip51="第{0}天",this.activity_tip52="<font color='0xFFF062'>{0}</font>于<font color='0x00F0F0'>{1}</font>分获得钻石",this.activity_tip53="奖励积分",this.activity_tip54="限购\n\n次",this.activity_tip55="原价",this.activity_tip56="今日奖励",this.activity_tip57="额外奖励",this.activity_tip58="本次至少获得",this.activity_tip59="本次拉霸需要",this.activity_tip60="今日充值",this.activity_tip61="现有",this.activity_tip62="钻石",this.activity_tip63="今日剩余次数",this.activity_tip64="获奖名单",this.activity_tip65="结束时间",this.activity_tip66="累计积分达到定量，即可额外领取超值奖励",this.activity_tip67="活动时间:",this.activity_tip68="当前积分",this.activity_tip69="累计积分达到100即可领取SSR梅西噢",this.activity_tip70="价格",this.activity_tip71="开通月卡>>",this.activity_tip72="月卡用户可购买",this.activity_tip73="<诺伊尔>",this.activity_tip74="百倍返还",this.activity_tip75="可获得队徽：{0}",this.activity_tip76="点击首页俱乐部详情“更换队徽”按钮可选择已激活的队徽",this.activity_tip77="可获得头衔：{0}",this.activity_tip78="{0}/{1}",this.activity_tip79="剩余：{0}次",this.activity_tip80="<font color='0xffc800'>价 值：</font>{0}",this.activity_tip81="<font color='0xffc800'>现 价：</font>{0}",this.activity_tip82="{0}\n折",this.activity_tip83="已连续充值<font color='0x32FF00'>{0}</font>/{1}天",this.activity_tip84="每日充值{0}钻石，连续7天更可获得头衔奖励",this.activity_tip85="累计消费:",this.activity_tip86="确定要购买1个{0}",this.activity_first_tip0="<u>通关巡回赛第20关立即获得</u>",this.activity_first_tip1="<u>1元抢购活动立即获得</u>",this.activity_first_tip2="<u>首次充值活动立即获得</u>",this.activity_first_tip3="活动奖励已获得",this.activity_first_tip4="充值 ¥{0}",this.activity_first_tip5="{0}钻石",this.activity_first_tip6="获得",this.game_chat_tip="请输入聊天内容",this.game_chat_init="{0}级后可世界频道聊天",this.chat_tip0="悄悄对你说",this.chat_tip1="你",this.chat_tip2="今日剩余次数 <font color='0xa4ee53'>{0}/{1}</font>",this.chat_tip3="需要俱乐部{0}级才能使用",this.chat_tip4="不在线的玩家看不到私聊哦",this.chat_tip5="还没有聊天记录",this.chat_tip6="加入公会后开启公会聊天",this.chat_tip7="悄悄对{0}说",this.chat_tip8="系统消息",this.chat_tip9="系统",this.chat_tip10="弹幕",this.chat_tip11="发 送",this.chat_tip12="消耗",this.chat_tip13="详 情",this.chat_tip14="私 聊",this.game_creat_init="最多{0}个中文字",this.game_creat_newname="请输入新的名字",this.game_creat_init_tip="<font color='0x01ff00'>首次改名免费</font>",this.game_creat_init_tip1="<font color='0xFFFFFF'>最多7个汉字或字符(a~z,0~9)</font>",this.game_creat_tip0="请输入名字",this.game_creat_tip1="请选择私聊对象",this.game_creat_tip2="对 <font color='0x9f5ac5'>{0}</font> 悄悄的说",this.game_creat_tip3="世界：",this.game_creat_tip4="公会：",this.game_login_name="请输入id",this.tip_login_name="请输入id",this.rich_tip_1="第{0}小组",this.rich_tip_2="晋级",this.rich_tip_3="降级",this.rich_tip_4="第{0}名",this.rich_tip_5="第一名",this.rich_tip_6="第二名",this.rich_tip_7="第三名",this.rich_tip_8="巅峰",this.rich_tip_9="晋级",this.rich_tip_10="明天保级区的玩家将继续留在{0}",this.rich_tip_11="明天降级区的玩家降级到{0}",this.rich_tip_12="暂无排名",this.rich_tip_13="{0}/{1}",this.rich_tip_14="晋级区",this.rich_tip_15="剩余挑战对手：{0}",this.rich_tip_16="挑战冷却中",this.rich_tip_17="积分",this.rich_tip_18="挑战",this.rich_tip_19="当前段位：",this.rich_tip_20="已赛",this.rich_tip_21="胜平负",this.rich_tip_22="进球数",this.rich_tip_23="净胜球",this.rich_tip_24="本周豪门榜排名",this.rich_tip_25="上周豪门榜排名",this.rich_tip_26="玩家小组赛战况",this.rich_tip_27="段位奖励",this.rich_tip_28="本周排行",this.rich_tip_29="挑战冷却：",this.rich_tip_30="今日最佳球队",this.rich_tip_31="已挑战",this.rich_tip_32="保级区",this.rich_tip_33="明天降级区的玩家降级到白银区",this.rich_tip_34="降级区",this.rich_tip_35="本次比赛获得",this.rich_tip_36="巅峰积分",this.rich_tip_37="当前排名",this.rich_tip_38="每周一4:10，通过邮件发放奖励",this.rich_tip_39="我的排名",this.rich_tip_40="段位",this.rich_tip_41="本周积分榜会在本周二开始显示，且仅显示前200名详细数据。",this.rich_tip_42="排名奖励",this.rich_tip_43="每日4:00，通过邮件发放奖励",this.rich_tip_44="开启时间未到!",this.rich_btn_1="挑战",this.rich_btn_2="比赛中",this.rich_btn_3="再次挑战",this.operation_tip_1="单笔充值{0}钻石可领，并额外获得{1}钻石",this.operation_tip_2="额外返还{0}%",this.operation_tip_3="充值达到{0}钻石可领取(<font color='0xFFFF00'>{1}</font>/{2})",this.operation_tip_4="今日充值{0}钻石可领取(<font color='0xFFFF00'>{1}</font>/{2})",this.operation_tip_5="当前累计({0}/{1})天",this.operation_tip_6="累计{0}/{1}天",this.operation_tip_7="当前累计<font color='0x32FF00'>{0}/{1}</font>分钟",this.operation_tip_8=["每日消费","累计消费"],this.operation_tip_9="今日消费<font color='0x00FF00'>{0}</font>/{1}钻石",this.operation_tip_10="累计消费<font color='0x00FF00'>{0}</font>/{1}钻石",this.operation_tip_11="本月已签到{0}天",this.operation_tip_12="仅限{0}次",this.operation_tip_13="有几率获得球员或以下球员碎片",this.operation_tip_14="每次必然获得",this.operation_tip_15="抢购价格 {0} RMB",this.operation_tip_16="请先选择要领取的球员",this.operation_tip_17="确定购买1个足球宝藏礼包",this.operation_tip_18="({0}次)",this.operation_tip_19="累计{0}/{1}次",this.operation_tip_20="(每日仅可领取一次)",this.operation_tip_21="立即领取",this.operation_tip_22="累计{0}天",this.operation_tip_23="{0}x{1}",this.operation_tip_24="{0}次",this.operation_tip_25="<font color='0xFFF062'>{0}</font>于<font color='0x00F0F0'>{1}</font>分获得",this.runner_main_tip0="",this.treasure_main_tip0="",this.operation_tip_26="1级宝箱",this.operation_tip_27="2级宝箱",this.operation_tip_28="3级宝箱",this.operation_tip_29="4级宝箱",this.operation_tip_30="5级宝箱",this.operation_tip_31="限免一次",this.operation_tip_32="开十次",this.operation_tip_33="开一次",this.operation_tip_34="累积宝箱x{0}",this.month_tip0="激活后领取",this.month_tip1="已领取",this.month_tip2="一键领取",this.month_tip3="¥",this.month_tip4="开通当天后连续<font color='0xFFD400' size='22'>{0}</font>天",this.month_tip5="<font color='0xFFD400' size='22'>{0}</font>",this.month_tip6="开通当天后<font color='0xFFD400' size='20'>永久使用</font>",this.month_tip7="开通当天后连续<font color='0xFFD400' size='22'>{0}</font>天",this.month_tip8="立即获得{0}钻石\n<font color='0xFFD400' size='20'>{1}</font>",this.month_tip9="购买可激活",this.month_tip10="已激活",this.month_tip11=" 立即激活 ¥{0} ",this.month_tip12=" 领取今日礼包 ",this.month_tip13=" 已领取 ",this.month_tip14=" 价值",this.monthcarddes="1.三种特权可同时激活\n2.月卡特权直充不计入其他充值活动",this.vip_tip0="VIP{0}每日礼包",this.vip_tip1="今日登陆可领取 <font color='0x00ff67' size='22'>{0}</font> VIP点数! 连续登陆可增加领取数量!",this.vip_tip2="VIP{0} 会员特权",this.vip_tip3="VIP{0}专属礼包",this.vip_tip4="累计充值<font color='0x00BFFF' size='24'>{0}钻石</font>可获得该特权",this.vip_tip5="请领取\n对应的VIP礼包",this.vip_tip6="会员提升至VIP{0}",this.vip_tip7="今日已连续登陆<font color='0x00ff25'>{0}</font>天，可领取<font color='0x00ff25'>{1}</font>VIP点数",this.vip_tip8="{0}天",this.vip_tip9="可以升级 VIP{0}",this.vip_tip10="VIP{0}",this.vip_tip11="奖励预览",this.vip_tip12="连续登陆",this.vip_tip13="VIP点数",this.vip_tip14="再充值",this.vip_tip15="可立刻升级为",this.vip_tip16="获取VIP点数",this.vip_tip17="请领取",this.vip_tip18="原价",this.vip_tip19="现价",this.vip_tip20="VIP{0}购买",this.vip_tip21="v{0}",this.vip_tip22="当前特权",this.vip_tip23="新增",this.vip_tip24="提升",this.task_tip0="本周活跃度:{0}",this.task_tip1="<font color='0xffaa00'>{0}</font>可领",this.task_tip2="活跃度",this.task_tip3="今日活跃度",this.tips_tip0="获得途径：",this.tips_tip1="类型：",this.tips_tip2="等级：",this.tips_tip3="描述：",this.tips_tip4="属性加成：",this.tips_tip5="进阶属性加成：",this.tips_tip6="品质加成",this.tips_tip7="拍档球员:{0}",this.tips_tip8="未激活(缺拍档球员)",this.tips_tip9="已激活",this.tips_tip10="未解锁（{0}星解锁）",this.tips_tip11="道具描述：",this.tips_tip12="技能说明：",this.tips_tip13="状态：",this.tips_tip14="（未签约）",this.tips_tip15="拥有数量：{0}",this.tips_tip16="未激活",this.tips_tip17="升品属性加成：",this.tips_tip18="强化属性加成：",this.tips_tip19="（未拥有）",this.secretary_tip0="主线",this.secretary_tip1="支线",this.secretary_tip2="奖励",this.rank_tip0="球员战力",this.rank_tip1="球员身价",this.rank_tip2="球员星级",this.rank_tip3="球员等级",this.rank_tip4="排行榜每小时变动一次",this.rank_tip5="我的排名",this.rank_tip6="球队",this.rank_tip7="球员名称",this.rank_tip8="球员战力",this.rank_tip9="球员身价",this.rank_tip10="成就等级",this.backpack_tip0="数量不能为0",this.backpack_tip1="获得新球员{0}",this.backpack_tip2="拥有数量：<font color='0x01ff00'>{0}</font>",this.backpack_tip4="当前拥有 {0} {1} {2} {3}",this.backpack_tip5="{0}卡{1}张",this.backpack_tip6="不可出售",this.backpack_tip7="合成需消耗",this.backpack_tip8="合成后获得",this.backpack_tip9="使用数量",this.backpack_tip10="出售总价",this.backpack_tip11="出售数量",this.backpack_tip12="经验+{0}",this.backpack_tip13="<font size = 24><font color=#FFFFFF>N卡{0}张</font> <font color=#53C5DF>R卡{1}张 </font><font color=#6C1982>SR卡{2}张 </font><font color=#F7A610>SSR卡{3}张</font></font>\n\n<font size=18>你确定回收这些球员并获得<font color=#6C1982>{4}交易凭证</font>吗？\n回收后球员卡将被销毁，无法找回！</font>",this.friend_info_string="请输入好友完整ID或俱乐部名称",this.friend_tip0="申请已发出",this.friend_tip1="加好友",this.friend_tip2="已申请",this.friend_tip3="玩家等级：",this.friend_tip4="玩家ID：",this.friend_tip5="已申请\n等待对方同意",this.friend_tip6="今天日只能领取{0}次",this.friend_tip7="好友还未赠送",this.friend_tip8="已领取",this.friend_tip9="今日已赠送过",this.friend_tip10="发送成功",this.friend_tip11="成功赠送！",this.friend_tip12="友情点+10",this.friend_tip13="{0}小时前",this.friend_tip14="{0}天前",this.friend_tip15="刚刚",this.friend_tip16="最近登录：",this.friend_tip17="暂无好友请求",this.friend_tip18="你还没有添加好友",this.friend_tip19="一键收取",this.friend_tip20="一键赠送",this.friend_tip21="查 找",this.friend_tip22="刷 新",this.friend_tip23="随机玩家列表",this.friend_tip24="最多显示30名好友申请,请尽快处理",this.tactics_tip_1="{0}后可再次领取",this.tactics_tip_2="{0}后到达上限",this.tactics_tip_3="<font color='0x00ff00'>所有阵型</font>都将提升至Lv.{0}",this.tactics_tip_4="使用中",this.tactics_tip_5="每个阵型加成的属性都将得到提升！",this.tactics_tip_6="全部屬性",this.tactics_tip_7="战术中心达到Lv{0}",this.tactics_tip_8="升级消耗",this.tactics_tip_9="{0}{1}级解锁",this.tactics_tip_10="全休",this.tactics_tip_11="全属性",this.tactics_tip_12="{0} Lv.{1}",this.tactics_tip_13="{0} (Lv.{1})",this.tactics_tip_14="{0}Lv{1}",this.league_tip0="排 名",this.league_tip1="奖 励",this.league_tip2="荣耀星级",this.league_tip3="赛程奖励",this.league_tip4="查看赛程",this.league_tip5="VIP{0}玩家可开启自动报名",this.league_tip6="经历赛季：{0}",this.league_tip7="我的段位：{0}",this.league_tip8="段位成就",this.league_tip9="联赛排行榜",this.league_tip10="兑换商店",this.league_tip11="已报名（等待分组）",this.league_tip12="点击报名",this.league_tip13="已 赛",this.league_tip14="战 果",this.league_tip15="进球数",this.league_tip16="小组积分",this.league_tip17="名 称",this.league_tip18="段 位",this.league_tip19="冠军次数",this.league_tip20="我的排行",this.league_tip21="同 服",this.league_tip22="跨 服",this.league_tip23="参加冠军联赛可获得荣耀币",this.league_tip24="每天晚上8点30分结算赛程奖励后刷新排行榜",this.league_tip25="{0}胜/{1}平/{2}负",this.league_tip26="{0}(<font color='{1}'>{2}{3}</font>)",this.league_tip30="{0}(<font color='{1}'>{2}</font>)",this.league_tip27="第{0}轮<font color='0x07FF00'>（已结束）</font>",this.league_tip28="第{0}轮<font color='0xFF0000'>（未开始）</font>",this.league_tip29=["A组","B组","C组","D组","E组","F组","G组","H组"],this.league_tip31="星 级x",this.league_tip32="段位达到 ",this.league_tip33=["同 服","跨 服"],this.league_tip34="主场",this.league_tip35="客场",this.league_tip36="胜出球队",this.league_tip37="主场比赛",this.league_tip38="客场比赛",this.league_tip39="(奖励通过邮件发放，注意查收)",this.league_tip40="暂无比赛",this.league_tip41="观看比赛",this.league_tip42="暂无排行数据",this.league_tip43="({0}/{1})",this.league_tip44="暂未参加冠军联赛",this.league_tip45="再提升1颗星排名可前进{0}名",this.league_tip46="本轮比赛中球队分为：",this.league_tip47="[{0}人-{1}]",this.league_tip48="因此本次奖励按照<font color='0x2DFF00'>[{0}]</font>为基础计算",this.league_tip49="({0}.S{1})",this.league_tip50="冠军联赛",this.league_tip51="联赛赛程",this.league_tip52="淘汰赛",this.pokedex_tip0="品质",this.pokedex_tip1="位置",this.pokedex_tip2="全部",this.pokedex_tip3="背包中",this.guild_tip0="输入公会名称",this.guild_tip1="公会详情",this.guild_tip2="修改公会名称",this.guild_tip3="请输入新的名称",this.guild_tip4="创建公会",this.guild_tip5="公会管理",this.guild_tip6="{0}/{1}",this.guild_tip7="LV.{0}",this.guild_tip8="需要批准才能加入",this.guild_tip9="申请即可加入",this.guild_tip10="会长：{0}",this.guild_tip11="申 请",this.guild_tip12="已申请",this.guild_tip13="被拒绝",this.guild_tip14="权限不足",this.guild_tip15="修改公告",this.guild_tip16="请输入公告内容",this.guild_tip17="公会日志",this.guild_tip18=["全部","日常","签到"],this.guild_tip19="公会排行",this.guild_tip20="级别：{0}",this.guild_tip21="战力：{0}",this.guild_tip22="三日贡献：{0}",this.guild_tip23="总贡献：{0}",this.guild_tip24="申请列表",this.guild_tip25="踢出",this.guild_tip26="晋升",this.guild_tip27="降级",this.guild_tip28="转让",this.guild_tip29="{0}人红包",this.guild_tip30="贡献+{0}",this.guild_tip31="{0}/{1}个红包",this.guild_tip32="很遗憾,该红包已抢完!",this.guild_tip33="你抢到了",this.guild_tip34="你确定要退出公会吗？\n退出后全部贡献将被清空！",this.guild_tip35="普通捐献",this.guild_tip36="已捐献",this.guild_tip37="豪华捐献",this.guild_tip38="暂无公会",this.guild_tip39="今天已抢过该档位红包",this.guild_tip40="{0}钻",this.guild_tip41="暂未设置公告！",this.guild_tip42="确定要把该玩家踢出公会吗？\n踢出后全部贡献将被清空！",this.guild_tip43="修改名称需要花费{0}钻",this.guild_tip44="已抢过",this.guild_tip45="玩家球队被邀请参加一场全球的巡回赛，最终向豪门俱乐部进军。",this.guild_tip46="公会列表",this.guild_tip47="公  会",this.guild_tip48="成  员",this.guild_tip49="三日贡献",this.guild_tip50="战  力",this.guild_tip51="没有申请记录",this.guild_tip52="输入名称",this.guild_tip53="最多7个汉字或14个字符（Aa~Zz，0~9）",this.guild_tip54="输入公会名称",this.guild_tip55="最多70个汉字或140个字符",this.guild_tip56="确定创建",this.guild_tip57="职位",this.guild_tip58="总贡献",this.guild_tip59="退出公会",this.guild_tip60="踢 出",this.guild_tip61="晋 升",this.guild_tip62="查看详情",this.guild_tip63="暂无日志",this.guild_tip64="公会排行以公会等级和三日贡献为依据，每小时更新一次",this.guild_tip65="排名",this.guild_tip66="公会",this.guild_tip67="总战力",this.guild_tip68="详情",this.guild_tip69="我的公会",this.guild_tip70="公会名称：",this.guild_tip71="修改后72小时内将无法再次修改",this.guild_tip72="申请设置：",this.guild_tip73="无需批准直接加入",this.guild_tip74="需要公会官员批准才能加入",this.guild_tip75="修  改",this.guild_tip76="编辑公告",this.guildlog1="<B><font color='0x00ff0c'>{0}</font></B> 退出了公会",this.guildlog2="<B><font color='0x00ff0c'>{0}</font></B> 被<B><font color='0xFFD306'>{1}</font></B> 踢出公会",this.guildlog3="<B><font color='0x00ff0c'>{0}</font></B> 加入了公会",this.guildlog4="<B><font color='0x00ff0c'>{0}</font></B> 被<B><font color='0xFFD306'>{1}</font></B> 批准加入公会",this.guildlog5="<B><font color='0x00ff0c'>{0}</font></B> 进行了<B><font color='0x00ff0c'>普通捐献</font></B>",this.guildlog6="<B><font color='0x00ff0c'>{0}</font></B> 进行了<B><font color='0xFF00FF'>豪华捐献</font></B>",this.guildlog7="<B><font color='0x00ff0c'>{0}</font></B> 被<B><font color='0xFFD306'>{1}</font></B> 晋升为副会长",this.guildlog8="<B><font color='0x00ff0c'>{0}</font></B> 被<B><font color='0xFFD306'>{1}</font></B> 降为会员",this.guildlog9="<B><font color='0x00ff0c'>{0}</font></B> 被<B><font color='0xFFD306'>{1}</font></B> 转让为会长",this.alert_tip0="选择购买次数",this.alert_tip1="消耗",this.mark_tip0="俱乐部：",this.mark_tip1="国  籍：",this.mark_tip2="已充值：",this.mark_tip3="剩余时间：",this.mark_tip4="永久",this.mark_tip5="有效期:",this.mark_tip6="当前排名:",this.mark_tip7="我的等级:",this.mark_tip8="我的战力:",this.mark_tip9="我的积分:",this.mark_tip10="积分",this.btn_mian="首 页",this.btn_recruit="球 员",this.btn_hangup="挂 机",this.btn_train="训 练",this.btn_more="更 多",this.btn_rich="富豪赛",this.btn_reset="重 置",this.btn_tactics="战 术",this.btn_ship_resh="重置({0})",this.btn_ship_look="查看",this.btn_ship_fight="挑战({0})",this.btn_ship_change="更换({0})",this.btn_tech_equip_grade="升阶",this.btn_tech_equip_quality="升品",this.btn_dekaron_fight="允许失败次数：{0}/{1}",this.btn_backpack_sell="出 售",this.btn_backpack_gouse="前往使用",this.btn_backpack_use="使 用",this.btn_backpack_use2="使用",this.btn_backpack_syn="合 成",this.btn_backpack_recovery="批量回收",this.btn_answer_rankaward="排行榜奖励",this.btn_answer_rank="总决赛榜",this.btn_cancel="取 消",this.btn_ok="确 定",this.btn_save="保 存",this.btn_go_pay="前往充值",this.btn_go_paycoin="前往购买",this.btn_alert_govip="前往查看特权",this.btn_achieve_award="所有奖励",this.btn_exchange="兑换",this.btn_pay_p="充 值",this.btn_agree="同 意",this.btn_refusal="拒 绝",this.btn_add_friend="加好友",this.btn_sign="签约",this.btn_obtain="获取",this.btn_now_go="立即前往",this.btn_playback="回 放",this.btn_challenge="挑 战",this.btn_goto="前 往",this.btn_admission="入 驻",this.btn_activation="激 活",this.btn_delete="删 除",this.btn_look_fight="观看比赛",this.btn_refresh_now="立即刷新",this.btn_select_recover="选择回收",this.error_jiedata="解析服务器数据出错",this.list_btn_act="进攻战术",this.list_btn_def="防守战术",this.degree_wait="替补",this.title_card_pool_refresh="卡池刷新",this.title_upgrade_vip="提升VIP",this.title_tishi="信息提示",this.title_buy="购买",this.title_refresh="转会球员刷新",this.title_tacticsconter="战术中心",this.title_gamerank="排行榜",this.title_tech="科技中心",this.title_equip_study="装备研究",this.title_club="俱乐部",this.title_scout="球探",this.title_fight_pve="巡回赛",this.title_scout_market="后刷新次数+1",this.title_scout_info="球探中心",this.title_scout_recruit="球员招募",this.title_answer="智力竞赛",this.title_build="俱乐部经营",this.title_clubfightmap="晋级赛",this.title_clubsweep="扫 荡",this.title_rich="巅峰小组赛",this.title_hero="球队",this.title_richfight="巅峰赛",this.title_inspire="鼓舞",this.title_usewin="使用连胜卡",this.title_buywin="购买连胜卡",this.title_reshopp="刷新对手",this.title_buyshiptime="挑战购买",this.title_backpack="背包",this.title_dekaronroad="荣耀之路",this.title_friend="好友",this.title_friendship="挑战赛",this.title_trainenter="球员训练",this.title_trainbreach="位置突破",this.title_trainskill="技能升级",this.title_trainbereborn="球员转生",this.title_trainupstars="升级升星",this.title_trainfetter="球员羁绊",this.title_shop="商店",this.title_fightenter="赛事中心",this.title_heropokedex="球员图鉴",this.title_daytask="每日活跃",this.title_mail="邮件",this.title_alertnote="公告",this.title_answerok="恭喜你，答对了",this.title_secretary="小秘书",this.title_vip="会员中心",this.title_achieve="成就",this.title_recovercar="回收球员卡",this.title_selectRecoverCar="当前已选择球员卡",this.title_qualifying="排位赛",this.title_guild="公会",this.title_coach="教练",this.title_league_dan="段位奖励",this.title_league_rank="联赛排行榜",this.title_league_award="赛程奖励",this.title_league_shop="兑换商店",this.title_league_name="冠军联赛",this.title_buy_skillpot="购买技能点",this.title_skill_group="技能组合搭配",this.alert_no_link="连接失败，请点击重试",this.alert_sever_link="服务器连接失败，请检查网络",this.alert_other_link="请求失败，请检查网络",this.alert_load_link="加载资源失败，请检查网络",this.alert_to_link="服务器链接失败，请检查网络,并尝试重新链接",this.alert_other_login="账号已在别处登陆",this.alert_relink_time="尝试重连{0}次",this.alert_error_kick="你已被服务器强制断开",this.alert_server_close="服务器断开维护，请稍后再试",this.alert_ug_tip="本次登录期间，此消费不在提醒",this.alert_sever_close="网络链接中断",this.no_finish="该功能未完成",this.no_open="该功能未开启",this.guide_npc="顾问·琳达",this.guide_name_2="顾问·琳达",this.guide_name_3="莱万多夫斯基",this.guide_name_4="记者",this.guide_click_no="请根据引导指示操作！",this.guide_click_wait="别急，让我们再看看球员的表现",this.guide_click_fight="请等待比赛结束",this.guide_tip0="{0}开启",this.guide_tip1="已开启",this.guide_tip2="{0}级开启",this.guide_tip3="已解锁，点击查看吧",this.guide_tip4="通关巡回赛\n{0}关解锁",this.guide_tip5="巡回赛{0}关解锁",this.guide_tip6="招募更多队员",this.guide_tip7="完成GO!",this.hero_info_tip0="概览",this.hero_info_tip1="属性",this.hero_info_tip2="数据",this.hero_info_tip3="球员搭配",this.hero_info_tip4="羁绊",this.hero_info_tip5="关联",this.hero_info_tip6="将球员下阵后在球员列表中查看解约！",this.hero_info_tip7="该球员成功{0}转",this.hero_study_tip0="VIP等级达到 V{0} 巡回赛、晋级赛、荣耀之路默认选择最佳战术",this.title_tip_0="进阶需求",this.title_tip_1="激活需求",this.title_tip_2="进阶",this.title_tip_3="首次通关巡回赛(含挂机),晋级赛,荣耀之路和荣誉兑换可获得大量积分",this.title_tip_4="太棒了！该头衔已升至最高阶级！",this.title_tip_5="级",this.title_tip_6="头衔进阶",this.title_tip_7="头衔",this.title_tip_8=["基础头衔","特殊头衔"],this.title_tip_9="进阶",this.title_tip_10="可进阶",this.title_tip_11="可激活",this.title_tip_12="暂未开放特殊头衔！",this.title_tip_13="增加战力:",this.title_tip_14="需要:",this.title_tip_15="已达最高阶级",this.title_tip_16="暂无头衔",this.title_tip_17="暂无",this.title_tip_18="装备",this.title_tip_19="球员阵容",this.title_tip_20="{0}\n获得后自动激活",this.title_tip_21="激活后增加战力：{0}",this.title_tip_22="下一阶增加战力：{0}",this.title_tip_23="已升至满阶战力：{0}",this.title_tip_24="通关巡回赛({0}/{1})关",this.title_tip_25="通关晋级赛({0}/{1})关",this.title_tip_26="通关荣耀之路({0}/{1})关",this.title_tip_27="成就等级达到({0}/{1})级",this.title_tip_28="战力达到({0}/{1})万",this.title_tip_29="拥有紫色装备({0}/{1})件",this.title_tip_30="拥有橙色装备({0}/{1})件",this.title_tip_31="拥有红色装备({0}/{1})件",this.title_tip_32="拥有5星球员({0}/{1})个",this.title_tip_33="拥有6星球员({0}/{1})个",this.title_tip_34="巅峰赛达到{0}({1}/{2})",this.title_tip_35="拥有SSR球员({0}/{1})个",this.title_tip_36="活动已结束",this.studyNameArr=["守门员","后卫","后腰","中场","前腰","前锋"],this.herolist_tpyes=["基 础","扩 展","数 据"],this.herolist_tpyes2=["当前","背包中"],this.equip_tpyes=["球衣","球裤","球鞋","护腿","手套"],this.degree_names=["前锋","左前腰","前腰","右前腰","左中场","中场","右中场","左后腰","后腰","右后腰","左后卫","后卫","右后卫","守门员"],this.shop_tiparr=["特卖商店","钻石商店","荣誉商店","友情商店"],this.fight_timeArr=["上半场","下半场","加时赛","加时赛","点球大战"],this.fight_typeStrArr=["传球","射门","带球","截断球","解围","犯规","角球","任意球","点球","点球大战"],this.game_data_name=["控球率","传球成功率","总射门次数","射门成功率","任意球","角球","犯规","黄牌","红牌","受伤"],this.list_btn_hero=["球队阵容","阵型升级","战术升级","球员列表"],this.list_btn_uphero=["当前替补","背包中"],this.list_btn_hangup=["特殊掉落","球员属性","统计数据","好友加油"],this.list_btn_rich=["小组赛","本周积分榜"],this.list_btn_tactics=["阵型研究","战术研究"],this.list_btn_friend=["好 友","查 找","请 求"],this.list_btn_scout=["球员招募"],this.list_btn_tech=["球员装备","装备强化"],this.list_btn_secretary=["成长任务","游戏指南"],this.list_btn_shop=["热 卖","道 具","充 值"],this.list_btn_club=["员工分配","信息概览"],this.list_btn_fightresult=["比赛结果","比赛概览"],this.list_btn_fightresultB=["比赛结果","比赛概览","球员收益"],this.list_btn_equp_up=["升 阶","升 品"],this.list_btn_equp_quality=["已获得属性","加成总览"],this.list_btn_backpack=["道 具","球 员","球员碎片"],this.list_btn_rank=["等级排行","战力排行","成就排行"],this.list_btn_achieve=["全 部","未达成"],this.list_btn_chat=["世界","公会","私聊","系统"],this.list_btn_setuplogo=["形 状","样 式","图 案","颜 色","成 品"],this.list_btn_fightprewarA=["比赛概况","我的球队","对方球队"],this.list_btn_fightprewarB=["比赛概况","我的球队"],this.list_btn_clubdetail=["总 览","球 队","公 会","教 练"],this.list_btn_clubmy=["总 览"],this.list_btn_severlist=["最近服务器","服务器列表"],this.list_btn_pokeA=["推荐搭配"],this.list_btn_pokeB=["图鉴搭配"],this.list_btn_scoutmarket=["球员","道具"],this.list_btn_title=["头衔详情","所有头衔"],this.list_sever_statas=["新服","空闲","爆满","维护"],this.list_league_group=["小组赛","淘汰赛"],this.list_league_group_taotai=["16进8","8进4","4进2","2进1"],this.trap_formation="被克阵型：",this.restrained_formation="克制阵型：",this.attributename=["射门","突破","抢断","盯人","传球","控球","速度","强壮","反应","扑救"],this.level_opening="级开启",this.poke_teams=["全部","先发阵容","后发阵容","影帝阵容","团队"],this.fight_infoarr=["技 能","抢 断","射 门","事 件"],this.poke_class=["全部","SSR","SR"],this.guild_namearr=["会员","副会长","会长"],this.tactics_up="战术加成 {0}",this.tactics_old="???",this.chat_needgold_tip="次数用完后，再次聊天需要消耗钻石",this.monthcard_tip_1="立即获得<font color='0x01FF00'>{0}钻石</font>，激活<font color='0x01FF00'>周卡特权</font>可领取<font color='0x01FF00'>每日周卡礼包</font>",this.monthcard_tip_2="立即获得<font color='0x01FF00'>{0}钻石</font>，激活<font color='0x01FF00'>月卡特权</font>可领取<font color='0x01FF00'>每日月卡礼包</font>",this.monthcard_tip_3="立即获得<font color='0x01FF00'>{0}钻石</font>，激活<font color='0x01FF00'>终身卡特权</font>可领取<font color='0x01FF00'>每日终身卡礼包</font>",this.monthcard_tip_4="立即激活",this.hero_player="球员",this.log_ug_buy="正常购买",this.log_uug_spepay="特殊直冲",this.log_uug_addpos="位置突破",this.log_uug_onecar="钻石单抽",this.log_uug_tencar="钻石十连抽",this.log_uug_buyhang="购买挂机时间",this.log_uug_buyfriendF="挑战赛鼓舞",this.log_uug_changefriendF="挑战赛更换对手",this.log_uug_friendFagain="挑战赛再次挑战",this.log_uug_clubFbuy="晋级赛购买次数",this.log_uug_buytalk="购买聊天发送次数",this.log_uug_shop="商店",this.log_uug_activitydrawing="拉霸",this.log_uug_scoutRefreshCardPool="卡池刷新",this.russia_vk_recharge="{0} vote",this.bet_tab_group1=["冠军竞猜","比赛竞猜"],this.bet_tab_group2=["投注赛事","查看彩果"],this.bet_activity_timeTF="活动时间:{0} - {1}",this.bet_contdown_tf="<font color=#eeff00>投注倒计时:</font><font color=#00FF00>{0}</font>",this.bet_contdown_stop_tf="<font color=#ff0000>已停止投注</font>",this.bet_voucher_tf="竞猜券 {0}",this.bet_send_reward_tip0="冠军竞猜奖励将在世界杯结束后第二天通过邮件发放",this.bet_voucher="竞猜券 {0}",this.bet_group_matche_TF0="小组赛\n{0}截止",this.sbet_result_tf5_0="待定",this.bet_result_tf5_1="<font color='#DFF206'>中奖了\n奖金：{0}</font>",this.bet_result_tf5_2="<font color='#798D9C'>未中奖\n再接再厉</font>",this.bet_result_tip1="<font color='#5DA8F2'>主胜</font>",this.bet_result_tip2="<font color='#AD1D28'>客胜</font>",this.bet_result_tip3="<font color='#00FF00'>平</font>",this.bet_match_result_tip1="主胜",this.bet_match_result_tip2="客胜",this.bet_match_result_tip3="平",this.bet_group_matche_TF2="{0}\n{1}",this.bet_gameTF="{0}  {1}场比赛可投注",this.bet_shop_item_name="竞猜券 {0}",this.bet_champion_num="已投注：{0}",this.bet_champion_tip1="投注竞猜券",this.bet_champion_tip2="（必需押注100的整数倍）",this.bet_champion_tip3="预计奖金",this.bet_champion_tip4="竞猜券 {0}",this.bet_match_tip0="比赛日期 {0}",this.bet_match_tip1="(只能选择一个结果，投注后可再次投注)",this.bet_match_tip2="（必需押注100的整数倍）",this.bet_match_tip3="投注竞猜券",this.bet_match_tip4="预计奖金",this.bet_match_tip5="竞猜券 {0}",this.bet_match_tip6="请选择投注数量",this.bet_match_tip7="请选择结果",this.tf_odds0="主胜：{0}",this.tf_odds1="平：{0}",this.tf_odds2="客胜：{0}",this.bet_match_tip8="选 择",this.bet_match_tip9="竞猜券不足",this.bet_top_ui_1_tf0="投注方案",this.bet_top_ui_1_tf1="结果(主队VS客队)",this.bet_top_ui_1_tf2="赔率",this.bet_top_ui_1_tf3="彩果",this.bet_result_tf6="投注竞猜券:{0}",this.bet_result_tf2="<font color='#5DA8F2'>{0}</font>:<font color='#AD1D28'>{1}</font>",this.bet_champion_tip0="赔率:{0}",this.bet_champion_tip5="确定投注",this.bet_champion_tip6="投注",this.bet_champion_tip7="继续投注",this.bet_match_tip10="赛事竞猜投注",this.bet_champion_num_1="已投注：",this.bet_success="投注成功",this.bet_stop_tip0="已截止投注",this.bet_tip1="<font color='#FFF000'>1、每充值1钻石可额外获得10竞猜券\n2、当天比赛竞猜的结果和奖励将在第二天12：00前自动发到账户\n3、竞猜券可在“竞猜商城”购买道具</font>";
var t="list_btn_fightresultB,list_league_group,herolist_tpyes2,list_btn_scoutmarket,guild_namearr,poke_class,list_btn_severlist,list_btn_pokeA,list_btn_pokeB,list_sever_statas,poke_teams,studyNameArr,herolist_tpyes,equip_tpyes,degree_names,shop_tiparr,fight_timeArr,fight_typeStrArr,game_data_name,list_btn_hero,list_btn_heroinfo,list_btn_heroinfoB,list_btn_hangup,list_btn_rich,list_btn_tactics,list_btn_friend,list_btn_scout,list_btn_tech,list_btn_secretary,list_btn_shop,list_btn_club,list_btn_fightresult,list_btn_equp_up,list_btn_equp_quality,list_btn_backpack,list_btn_rank,list_btn_achieve,list_btn_chat,list_btn_setuplogo,list_btn_fightprewarA,list_btn_fightprewarB,list_btn_clubdetail,list_btn_clubmy,attributename,activity_tip4,activity_tip7,activity_tip10,activity_tip24,activity_tip25,activity_tip26,fight_infoarr,dekaron_tip31,operation_tip_8,list_btn_uphero,guild_tip18,list_btn_title,league_tip29,league_tip33,list_league_group_taotai,bet_tab_group1,bet_tab_group2";e.arrStrS=t.split(",")}return Object.defineProperty(e,"ins",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e}();__reflect(Language.prototype,"Language");var game;!function(e){var t=function(e){function t(t){var a=e.call(this)||this;a.SCROLL_MODE=1,a.FLING_MODE=2,a.mFinished=!1;var i=a;return i.mFinished=!0,i.context=t,a}return __extends(t,e),t.prototype.onTouchEvent=function(e){},t.prototype.scrollBy=function(e,t){var a=this;a.scrollTo(a.mScrollX+e,a.mScrollY+t)},t.prototype.scrollTo=function(e,t){var a=this;if(a.mScrollX!=e||a.mScrollY!=t){var i=a.mScrollX,n=a.mScrollY;a.mScrollX=e,a.mScrollY=t,a.onScrollChanged(a.mScrollX,a.mScrollY,i,n)}},t.prototype.onScrollChanged=function(e,t,a,i){},t.prototype.startScroll=function(e,t,a,i,n){var o=this;o.mMode=o.SCROLL_MODE,o.mFinished=!1,o.mDuration=n,o.mStartTime=(new Date).getTime(),o.mStartX=e,o.mStartY=t,o.mFinalX=e+a,o.mFinalY=t+i,o.mDeltaX=a,o.mDeltaY=i,o.mDurationReciprocal=1/o.mDuration,o.mViscousFluidScale=8,o.mViscousFluidNormalize=1},t.prototype.computeScrollOffset=function(){var e=this;if(e.mFinished)return!1;var t=(new Date).getTime()-e.mStartTime;if(t<e.mDuration)switch(e.mMode){case e.SCROLL_MODE:var a=t*e.mDurationReciprocal;null==e.mInterpolator&&(a=e.viscousFluid(a)),e.mCurrX=e.mStartX+Math.round(a*e.mDeltaX),e.mCurrY=e.mStartY+Math.round(a*e.mDeltaY);break;case e.FLING_MODE:var i=t/1e3,n=e.mVelocity*i-e.mDeceleration*i*i/2;e.mCurrX=e.mStartX+Math.round(n*e.mCoeffX),e.mCurrX=Math.min(e.mCurrX,e.mMaxX),e.mCurrX=Math.max(e.mCurrX,e.mMinX),e.mCurrY=e.mStartY+Math.round(n*e.mCoeffY),e.mCurrY=Math.min(e.mCurrY,e.mMaxY),e.mCurrY=Math.max(e.mCurrY,e.mMinY)}else e.mCurrX=e.mFinalX,e.mCurrY=e.mFinalY,e.mFinished=!0;return!0},t.prototype.viscousFluid=function(e){return 0},t.prototype.computeScroll=function(){},t}(eui.Component);__reflect(t.prototype,"ComScroller")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.date=new Date,t.timer=new egret.Timer(100),t.lastTime=0,t}return __extends(t,e),t.prototype.startTimer=function(){var e=this;e.numA=e.date.getTime(),e.timer.addEventListener(egret.TimerEvent.TIMER,e.handler,e),e.timer.start()},t.prototype.stopTimer=function(){var e=this;e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.handler,e)},t.prototype.handler=function(e){var t=this,a=new Date;t.numB=a.getTime(),t.nowTime=(t.numB-t.numA)/1e3,Math.floor(t.nowTime)>t.lastTime&&(t.lastTime=Math.floor(t.nowTime),t.dispatchEvent(new egret.Event("myTimer_evt")))},t}(egret.EventDispatcher);e.ComTimer=t,__reflect(t.prototype,"game.ComTimer")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.prototype.LineLayout=function(){},e.prototype.dispose=function(){this.renders=null},e.prototype.apply=function(t,a,i,n,o){var r=this;if(0!=t.length){var s,l;r.renders=t,t=t.filter(r.isHasImageContent,r);for(var p=0;p<t.length;p++){s=t[p];var c=0==p?null:t[p-1];null==c?s.x=0:s.x=0+c.x+c.width+a,s.y=0}l=t[t.length-1].width+t[t.length-1].x;for(var u=Math.abs(l-n),m=0;m<t.length;m++)s=t[m],i==e.CENTER?s.x+=u/2:i==e.RIGHT&&(s.x+=u)}},e.prototype.isHasImageContent=function(e,t,a){return e.hasOwnProperty("hasContent")?1==e.hasContent:!0},e.adjustWidthCenter=function(e,t){t.x=(e.width-t.width)/2},e.adjustWidthCenterByParentWidth=function(e,t){t.x=(e-t.width)/2},e.setCenterAlign=function(e,t){t.x=(e.width-t.width)/2,t.y=(e.height-t.height)/2},e.setCenterAlignParentRect=function(e,t){t.x=(e.width-t.width)/2,t.y=(e.height-t.height)/2},e.setLeftAlign=function(e,t){t.x=0,t.y=(e.height-t.height)/2},e.setRightAlign=function(e,t){t.x=e.width-t.width,t.y=(e.height-t.height)/2},e.LEFT=0,e.CENTER=1,e.RIGHT=2,e}();e.LineLayout=t,__reflect(t.prototype,"game.LineLayout")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var a=t.call(this)||this;a._numImgs=[],a._space=-30,a._align=0;var i=a;return i.layout=new e.LineLayout,i.setSize(100,30),a}return __extends(a,t),a.prototype.onCheckout=function(){},a.prototype.onRemand=function(){},a.prototype.setSize=function(e,t){var a=this;a.graphics.clear(),a.graphics.beginFill(0,0),a.graphics.drawRect(0,0,e,t),a.graphics.endFill()},a.prototype.setAlign=function(e){var t=this;t._align=e},a.prototype.setSpace=function(e){this._space=e},a.prototype.init=function(){var t=this;t.layout||(t.layout=new e.LineLayout),t.setSize(100,30),t._numImgs=[]},a.prototype.setTL=function(e,t){void 0===t&&(t=10);var a=this;if(null!=e){a._tl=e,a._sprSheet=new egret.SpriteSheet(e);for(var i,n=t,o=e.textureWidth,r=e.textureHeight,s=o/n,l=0;n>l;l++)i=s,a._sprSheet.createTexture(l.toString(),l*s,0,i,r,0,0)}},a.prototype.setValue=function(e,t){void 0===t&&(t=!1);var a=this;a._value=e,a.updateView(t)},a.prototype.setStrValue=function(e){var t,i,n=this,o=e;for(var r in n._numImgs)t=n._numImgs[r],null!=t.parent&&t.parent.removeChild(t);var s,l=0,p=0,c=[],u="",m=a.otherArr,g=0;for(l;l<o.length;l++)u=o.charAt(l),g=m.indexOf(u),s=-1!=g?10+g:parseInt(u),n._numImgs.length>l+p?i=n._numImgs[l+p]:(i=new egret.Bitmap,n._numImgs.push(i)),c.push(i),n.imgGotoAndStop(n.getFrameIndexAtNumber(s),i),n.addChild(i);n.layout.apply(c,n._space,n._align,n.width,n.height)},a.prototype.getValue=function(){return this._value},a.prototype.getValuestring=function(){return Math.abs(this._value).toString()},a.prototype.updateView=function(e){var t,a,i=this,n=i.getValuestring();for(var o in i._numImgs)t=i._numImgs[o],null!=t.parent&&t.parent.removeChild(t);var r=0,s=0,l=[];for(e&&(s=i.addSymbol(l)),r;r<n.length;r++){var p=parseInt(n.charAt(r));i._numImgs.length>r+s?a=i._numImgs[r+s]:(a=new egret.Bitmap,i._numImgs.push(a)),l.push(a),i.imgGotoAndStop(i.getFrameIndexAtNumber(p),a),i.addChild(a)}i.layout.apply(l,i._space,i._align,i.width,i.height)},a.prototype.addSymbol=function(e){var t,a=this,i=0,n=0;if(0==a._value)return n;a._numImgs.length>i?t=a._numImgs[i]:(t=new egret.Bitmap,a._numImgs.push(t));var o=a._value>0?10:11;return n=1,a.imgGotoAndStop(o,t),e.push(t),a.addChild(t),n},a.prototype.imgGotoAndStop=function(e,t){t.texture=this._sprSheet.getTexture(e.toString())},a.prototype.getFrameIndexAtNumber=function(e){return e},a.prototype.dispose=function(){var e=this;e._tl=null,e._numImgs=null,e.removeChildren(),e.layout=null,e._sprSheet=null},a.otherArr=["a","b"],a}(egret.Sprite);e.SkimNumber=t,__reflect(t.prototype,"game.SkimNumber",["IRemandObj"])}(game||(game={}));var FloatAnimoVO=function(){function e(){}return e}();__reflect(FloatAnimoVO.prototype,"FloatAnimoVO");var FloatAnimoInfoVO=function(){function e(){}return e}();__reflect(FloatAnimoInfoVO.prototype,"FloatAnimoInfoVO");var FloatAnimo=function(){function e(){}return e.startAnimoMc=function(e){var t=this;t.m_animovo=e,t.startLoader(e)},e.startLoader=function(e){for(var t,a,i=this,n=i.animopatharr,o=[],r=0,s=n.length;s>r;r++)t=n[r],a=ResName.getDragonArr(t),o=o.concat(a);for(var l,p=e.showarr,c=0,u=p.length;u>c;c++)l=p[c],o.push(ResName.getItemIcon(l.itemid));var m=ResName.animo_move_texiao;LoadingMaskView.show(m),RES.createGroup(m,o,!0),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,i.groupComplete_res,i),RES.loadGroup(m)},e.groupComplete_res=function(e){var t=this,a=ResName.animo_move_texiao,i=e.groupName;i==a&&(LoadingMaskView.remove(a),t.showAnimo(t.m_animovo),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.groupComplete_res,t))},e.showAnimo=function(e){var t,a,i=e.showarr;e.mcarr=[];for(var n=0,o=i.length;o>n;n++)t=i[n],a=MandPool.getIns(FloatAnimoItem),a.setData(t,e.mcroot),e.mcarr.push(a);EventBus.addMessage(game.GameCommands.FLOAT_ANIMO_ITEM_OVER,this.animoItemOver,this)},e.animoItemOver=function(e,t){for(var a,i=this,n=e,o=i.m_animovo,r=o.mcarr,s=r.length-1;s>=0;s--)a=r[s],n==a&&(MandPool.remand(a),r.splice(s,1));r.length||(o.callFun&&o.callParent&&(o.callFun.call(o.callParent),o.callFun=null,o.callParent=null),o.mcroot=null)},e.animopatharr=[ResName.itemovermc,ResName.itemcreatmc,ResName.itemmovemc],e}();__reflect(FloatAnimo.prototype,"FloatAnimo");var FloatAnimoItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.setData=function(e,t){this.m_infovo=e,this.m_myparent=t,this.startNewMc()},t.prototype.startNewMc=function(){var e=this,t=e.getArmature(ResName.itemcreatmc,"m_itemcreatmc"),a=this.m_infovo;t&&(e.m_myparent?e.m_myparent.addChild(t):FLOAT.$STAGE.addChild(t),t.x=a.movepos.x,t.y=a.movepos.y,t.animation.play("effect",1),t.addEventListener(dragonBones.EventObject.FRAME_EVENT,e.playermc2,e))},t.prototype.playermc2=function(e){var t=this,a=t.getArmature(ResName.itemmovemc,"m_itemmovemc"),i=this.m_infovo;if(a){t.m_myparent?t.m_myparent.addChild(a):FLOAT.$STAGE.addChild(a),a.x=i.movepos.x,a.y=i.movepos.y;var n=ResName.getItemIcon(i.itemid),o=a.armature.getSlot("iconbox"),r=RES.getRes(n),s=new egret.Bitmap;s.texture=r,s.anchorOffsetX=45,s.anchorOffsetY=45,o.display=s,a.animation.play("effect",0),egret.Tween.get(a).to({x:i.topos.x},400,egret.Ease.cubicIn).call(t.playermc3,t),egret.Tween.get(a).to({y:i.topos.y},400)}},t.prototype.playermc3=function(){var e=this,t=e.getArmature(ResName.itemovermc,"m_itemovermc"),a=this.m_infovo;t&&(e.m_myparent?e.m_myparent.addChild(t):FLOAT.$STAGE.addChild(t),t.x=a.topos.x,t.y=a.topos.y,t.animation.play("effect",1),e.m_itemmovemc&&e.m_itemmovemc.parent&&e.m_itemmovemc.parent.removeChild(e.m_itemmovemc),t.addEventListener(dragonBones.EventObject.COMPLETE,this.animooverfun,this))},t.prototype.animooverfun=function(e){var t=this,a=this.m_itemcreatmc,i=this.m_itemmovemc,n=this.m_itemovermc;utils.GameComUtil.removeAnimoSelf(a),utils.GameComUtil.removeAnimoSelf(i),utils.GameComUtil.removeAnimoSelf(n),EventBus.sendMessage(game.GameCommands.FLOAT_ANIMO_ITEM_OVER,t),t.m_myparent=null,t.m_infovo=null},t.prototype.getArmature=function(e,t){var a,i=this;return i[t]?a=i[t]:(a=utils.GameComUtil.getSYArmature(e),i[t]=a),a},t}(egret.EventDispatcher);__reflect(FloatAnimoItem.prototype,"FloatAnimoItem",["IRemandObj"]);var game;!function(e){var t=function(){function e(){}return e.prototype.up=function(e,t){var a=1,i=1;e.scaleX<0&&(a=-1),e.scaleY<0&&(i=-1),egret.Tween.get(e).to({scaleX:a,scaleY:i},500,egret.Ease.elasticOut)},e.prototype.over=function(e,t){},e.prototype.out=function(e,t){},e.prototype.down=function(e,t){egret.Tween.removeTweens(e);var a=1.1,i=a,n=a;e.scaleX<0&&(i=-a),e.scaleY<0&&(n=-a),egret.Tween.get(e).to({scaleX:i,scaleY:n},120,egret.Ease.quadIn)},e.prototype.stop=function(e,t){},e}();e.BaseButtonEffect=t,__reflect(t.prototype,"game.BaseButtonEffect",["game.IDoraButtonEffect"])}(game||(game={}));var FLOAT=function(){function e(){}return e.ShowBg=function(e){var t=this;null==t.dibmp&&(t.dibmp=new egret.Sprite,t.dibmp.graphics.clear(),t.dibmp.graphics.beginFill(0,.3),t.dibmp.graphics.drawRect(0,0,Global.stageWidth,Global.stageWidth),t.dibmp.graphics.endFill(),t.dibmp.touchEnabled=!0),e?(t.dibmp.alpha=0,egret.Tween.get(t.dibmp).to({alpha:.3},200),t.$STAGE.addChildAt(t.dibmp,1)):(egret.Tween.get(t.dibmp).to({alpha:0},200),t.dibmp.parent&&t.$STAGE.removeChild(t.dibmp))},e.ShowHurtNum=function(e,t,a,i,n,o,r){if(void 0===i&&(i=null),void 0===n&&(n=1),void 0===o&&(o=-100),void 0===r&&(r=0),null!=t){var s=new game.HurtFloat(e,i,n,o,r);s.itemPic.x=a.x,s.itemPic.y=a.y,t instanceof eui.Component?t.addChild(s.itemPic):t.addChild(s.itemPic),s.showHurt()}},e.ShowDisplayObject=function(e,t,a,i,n,o,r){if(void 0===i&&(i=null),void 0===n&&(n=1),void 0===o&&(o=-100),void 0===r&&(r=0),null!=t){var s=new game.FlyingPicFloat(e,i,n,o,r);s.itemPic.x=a.x,s.itemPic.y=a.y,t instanceof eui.Component?t.addChild(s.itemPic):t.addChild(s.itemPic),s.display()}},e.ShowPic=function(e,t,a,i,n,o){void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=1),void 0===n&&(n=-100),void 0===o&&(o=0);var r=new game.FlyingPicFloat(e,a,i,n,o);if(null==t)r.itemPic.x=Global.stageWidth-r.itemPic.width>>1,r.itemPic.y=Global.stageHeight-r.itemPic.height>>1,this.$STAGE.addChild(r.itemPic);else{var s=t.getBounds();-1==t.scaleX&&(r.itemPic.scaleX=-1),r.itemPic.x=s.width/2,r.itemPic.y=20,game.LineLayout.setCenterAlign(t,r.itemPic),t.addChild(r.itemPic)}r.display()},e.NShowPutong=function(e,t){void 0===t&&(t=!1),this._newPutongshow(e,t)},e.NShowItem=function(e,t){void 0===t&&(t=!1),this._newitemshow(e,t)},e.NShowMoreProp=function(e){this._newMoreProp(e)},e._newMoreProp=function(e){var t,a=this,i=a.propArr,n=0;if(n=i.length,egret.clearTimeout(this.proptime),n>0)for(var o=0;n>o;o++)t=i.shift(),t.ishit||t.hit();a.propdataarr=e;for(var r,s=e.length,l=game.PropFlot.minY,p=game.PropFlot.txtLNum,c=5,u=0;s>u;u++)r=e.shift(),r&&(t=MandPool.getIns(game.PropFlot),t.initFloatTxtPos(r),a.$STAGE.addChild(t.txt),t.txt.y=l+2+(u+1)*p,-1==i.indexOf(t)&&i.push(t),c>=u?t.moveY(t.txt.y-p,200*u):t.moveY(t.txt.y-p));a.proptime=egret.setTimeout(a._morePropMove,a,200*(c+1)+100)},e._morePropMove=function(){var e=this,t=e.propArr,a=t.length;if(egret.clearTimeout(this.proptime),0!=a){for(var i,n=(game.PropFlot.minY,game.PropFlot.txtLNum),o=a-1;o>=0;o--)i=t[o],i&&i.moveY(i.txt.y-n);e.proptime=egret.setTimeout(e._morePropMove,e,300)}},e.showLoopInfo=function(e){void 0===e&&(e=!1),game.NewItemFloatVo.showLoopInfo(e)},e.NShowProp=function(e){},e._newPutongshow=function(e,t){var a=this,i=a.putongArr;if(1==e.length){if(e[0]==a.putongoldstr&&0!=i.length&&!t)return;a.putongoldstr=e[0]}var n=MandPool.getIns(game.MultiFloat);n.sList=e,n.initFloatTxtPos(),a.$STAGE.addChild(n.contspr),n.display(0),-1==i.indexOf(n)&&i.push(n);var o=i.length;if(o>1)for(var r,s,l=.5*(Global.stageHeight-54),p=0;o>p;p++)r=i[p],s=l-54*(o-p-1),r.moveY(s)},e._newitemshow=function(e,t){void 0===t&&(t=!1),this.itemArr=e;var a=e.length,i=0;i=this.itemsprArr.length,0>=a||PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_maingetitem],{itemArr:e,issuc:t})},e.itemShowOver=function(){0==this.itemsprArr.length&&(this.itemArr.length>0?this._newitemshow(this.itemArr):this.ShowBg(!1))},e.newshownext=function(){egret.clearTimeout(this.itemtimeNum),this._newitemshow(this.itemArr)},e.ShowArtWords=function(e,t,a,i,n,o){void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=-100),void 0===o&&(o=null),this.__show(e,t,a,i,n,o)},e.ShowGreen=function(e,t,a,i,n,o){void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=-120),void 0===n&&(n=null),void 0===o&&(o=!1);var r=this.greenTf;null!=a&&(r=a),null==t&&o?(this.addVoArr.push(new game.FloatItemVo(game.FloatItemVo.type_Green,e,t,r,null,i,n)),this.__formshow()):this.__show(e,t,r,null,i,n)},e.ShowRed=function(e,t,a,i,n,o){void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=-100),void 0===n&&(n=null),void 0===o&&(o=!1),null==t&&o?(this.addVoArr.push(new game.FloatItemVo(game.FloatItemVo.type_Red,e,t,this.redTf,null,i,n)),this.__formshow()):this.__show(e,t,this.redTf,null,i,n)},e.__show=function(e,t,a,i,n,o){void 0===i&&(i=null),void 0===n&&(n=-100),void 0===o&&(o=null);var r=this,s=Date.now(),l=Math.floor(.01*s-.01*r.oldtime)<1;r.oldtime=Date.now();var p=MandPool.getIns(game.FlyingFloat);p.sList=e,null==o&&l&&r.oldpot.y<500&&(o=new egret.Point(r.oldpot.x,r.oldpot.y+33)),p.initFloatTxtPos(t,o),r.oldpot.x=p.txt.x,r.oldpot.y=p.txt.y,null!=t?t.addChild(p.txt):r.$STAGE.addChild(p.txt),a==r.greenTf?(p.txt.textColor=ColorUtil.green,p.txt.stroke=1,p.txt.strokeColor=0,p.txt.bold=!0):a==r.redTf&&(p.txt.textColor=ColorUtil.red,p.txt.stroke=1,p.txt.strokeColor=0,p.txt.bold=!0),p.display(n)},e.__formshow=function(){var e=this;if(e.addVoArr.length<=0)return void(e._formshowIngbl=!1);if(!e._formshowIngbl){e._formshowIngbl=!0;var t=200,a=0,i=e.addVoArr.shift();null!=i&&(e.__show(i.strArr,i.component,i.tf,i.filters,i.posYOffset,i.referencePoint),i.strArr.length>0&&(a=i.strArr.length-1*t)),t+=a,egret.setTimeout(e.formshownext,e,t)}},e.formshownext=function(){this._formshowIngbl=!1,this.__formshow()},e.NShowEquipProp=function(e){this._newEquipProp(e)},e._newEquipProp=function(e){var t,a=this,i=a.equipArr,n=0;if(n=i.length,egret.clearTimeout(a.equipproptime),n>0)for(var o=0;n>o;o++)t=i.shift(),t.ishit||t.hit();a.equippropdataarr=e;for(var r,s=e.length,l=game.PropEquipFlot.minY,p=game.PropEquipFlot.txtLNum,c=5,u=0;s>u;u++)r=e.shift(),r&&(t=MandPool.getIns(game.PropEquipFlot),t.initFloatTxtPos(r),a.$STAGE.addChild(t.contspr),t.contspr.y=l+2+(u+1)*p,-1==i.indexOf(t)&&i.push(t),c>=u?t.moveY(t.contspr.y-p,200*u):t.moveY(t.contspr.y-p));a.equipproptime=egret.setTimeout(a._moreEquipPropMove,a,200*(c+1)+100)},e._moreEquipPropMove=function(){var e=this,t=e.equipArr,a=t.length;if(egret.clearTimeout(this.equipproptime),0!=a){for(var i,n=(game.PropEquipFlot.minY,game.PropEquipFlot.txtLNum),o=a-1;o>=0;o--)i=t[o],i&&i.moveY(i.txt.y-n);e.equipproptime=egret.setTimeout(e._moreEquipPropMove,e,500)}},e.redTf="redTf",e.greenTf="greenTf",e.putongArr=[],e.itemsprArr=[],e.propArr=[],e.putongoldstr="",e.equipArr=[],e.equippropdataarr=[],e.propdataarr=[],e.itemArr=[],e.addVoArr=[],e.itemtimeNum=0,e.proptime=0,e.oldpot=new egret.Point(0,0),e.equipproptime=0,e}();__reflect(FLOAT.prototype,"FLOAT");var game;!function(e){var t=function(){function e(e,t,a,i,n,o,r){void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=-120),void 0===r&&(r=null),this.referencePoint=null,this.eff=0;var s=this;s.type=e,s.strArr=t,s.component=a,s.tf=i,s.filters=n,s.posYOffset=o,s.referencePoint=r}return e.type_Green=1,e.type_Red=2,e}();e.FloatItemVo=t,__reflect(t.prototype,"game.FloatItemVo")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.txt=new e.Text;var t=this;t.txt.touchEnabled=!1,t.txt.textAlign=egret.HorizontalAlign.CENTER}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.initFloatTxtPos=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var a=this;if(a._component=e,a.txt.alpha=1,a.sList.hasOwnProperty("0")&&a.settext(!1),null==a._component)a.txt.x=Global.stageWidth-a.txt.width>>1,a.txt.y=Global.stageHeight-a.txt.height>>1,a.txt.y+=Math.floor(50*Math.random()),null!=t&&(a.txt.x=t.x,a.txt.y=t.y);else{var i=a._component.getBounds();-1==a._component.scaleX&&(a.txt.scaleX=-1),a.txt.x=i.width/2,a.txt.y=20,null!=t&&(a.txt.x=t.x,a.txt.y=t.y)}},t.prototype.settext=function(e){var t=this,a="";for(var i in t.sList)a+=t.sList[i]+"\n";e&&(t.sList=[]),t.txt.text=a},t.prototype.display=function(e){var t=this;t.defaultPosYOffset=e,t.sList.hasOwnProperty("0")?(t.settext(!0),egret.Tween.get(t.txt).to({y:t.txt.y+t.defaultPosYOffset},1e3,egret.Ease.backOut).call(t.onCompleteCaller,t)):(null!=t.txt.parent&&t.txt.parent.removeChild(t.txt),MandPool.remand(t))},t.prototype.onCompleteCaller=function(){var e=this;e.initFloatTxtPos(e._component),e.display(e.defaultPosYOffset)},t}();e.FlyingFloat=t,__reflect(t.prototype,"game.FlyingFloat",["IRemandObj"])}(game||(game={}));var game;!function(e){var t=function(){function t(e,t,a,i,n){var o=this;o.itemPic=e,o.ease=t,o.delay=a,o.offsetX=n,o.offsetY=i}return t.prototype.display=function(){var e=this;e.delay?egret.Tween.get(e.itemPic).to({x:e.itemPic.x+e.offsetX,y:e.itemPic.y+e.offsetY},e.delay,e.ease).call(e.onCompleteHandler,e):egret.Tween.get(e.itemPic).to({x:e.itemPic.x+e.offsetX,y:e.itemPic.y+e.offsetY},e.delay,e.ease).call(e.onCompleteHandler,this)},t.prototype.onCompleteHandler=function(){var t=this;if(null!=t.itemPic){if(null!=t.itemPic.parent){var a=t.itemPic.parent;a instanceof eui.Component?a.removeChild(t.itemPic):a.removeChild(t.itemPic)}t.itemPic instanceof e.SkimNumber&&t.itemPic.dispose(),MandPool.remand(t.itemPic)}t.itemPic=null},t}();e.FlyingPicFloat=t,__reflect(t.prototype,"game.FlyingPicFloat")}(game||(game={}));var game;!function(e){var t=function(){function t(e,t,a,i,n){var o=this;o.itemPic=e,o.ease=t,o.delay=a,o.offsetX=n,o.offsetY=i}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.display=function(){var e=this;e.delay?egret.Tween.get(e.itemPic).to({x:e.itemPic.x+e.offsetX,y:e.itemPic.y+e.offsetY},e.delay,e.ease).call(e.onCompleteHandler,e):egret.Tween.get(e.itemPic).to({x:e.itemPic.x+e.offsetX,y:e.itemPic.y+e.offsetY},e.delay,e.ease).call(e.onCompleteHandler,e)},t.prototype.showHurt=function(){var e=this;e.itemPic.scaleX=e.itemPic.scaleY=.5,egret.Tween.get(e.itemPic).to({scaleX:1,scaleY:1},e.delay,egret.Ease.elasticOut).to({x:e.itemPic.x+e.offsetX,y:e.itemPic.y+e.offsetY},200).call(e.onCompleteHandler,e)},t.prototype.onCompleteHandler=function(){var t=this;if(null!=t.itemPic){if(null!=t.itemPic.parent){var a=t.itemPic.parent;a instanceof eui.Component?a.removeChild(t.itemPic):a.removeChild(t.itemPic)}t.itemPic instanceof e.SkimNumber&&t.itemPic.dispose(),MandPool.remand(t.itemPic)}t.itemPic=null},t}();e.HurtFloat=t,__reflect(t.prototype,"game.HurtFloat")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.ishit=!1,this.sprw=341,this.sprh=122;var t=this;t.contspr||(t.contspr=new egret.Sprite),t.txt||(t.txt=new e.Text,t.txt.touchEnabled=!1,t.txt.textAlign=egret.HorizontalAlign.LEFT,t.txt.x=108,t.txt.y=20,t.txt.width=222,t.txt.height=24,t.txt.size=18,t.txt.textColor=16777215),t.destxt||(t.destxt=new e.Text,t.destxt.touchEnabled=!1,t.destxt.textAlign=egret.HorizontalAlign.LEFT,t.destxt.x=108,t.destxt.y=51,t.destxt.width=222,t.destxt.height=56,t.destxt.size=18,t.destxt.textColor=16777215),t.contspr.addChild(t.txt),t.contspr.addChild(t.destxt)}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.initFloatTxtPos=function(t){var a=this;a._myvo=t;var i=0,n=0;if(a.txt.text=t.showstr,i=Global.stageWidth-a.sprw>>1,n=Global.stageHeight-a.sprh>>1,a.contspr.x=i,a.contspr.y=n,a.contspr.width=393,a.contspr.height=141,null==a.bgimg){var o=RES.getRes("table_Share_Frame_18");a.bgimg=new egret.Bitmap(o);var r=new egret.Rectangle(35,28,2,6);a.bgimg.scale9Grid=r,a.bgimg.width=341,a.bgimg.height=112,a.contspr.addChildAt(a.bgimg,0)}null==a.itemimg&&(a.itemimg=new egret.Bitmap,a.contspr.addChild(a.itemimg),a.itemimg.x=23,a.itemimg.y=25,a.itemimg.width=90,a.itemimg.height=90),null==a.itemcom&&(a.itemcom=new e.BackPackItemComPanel,a.contspr.addChild(a.itemcom),a.itemcom.x=20,a.itemcom.y=20),null==a.imgtiao&&(a.imgtiao=new egret.Shape,a.imgtiao.graphics.beginFill(254654768,1),a.imgtiao.graphics.drawRect(0,0,223,2),a.imgtiao.graphics.endFill(),a.imgtiao.x=107,a.imgtiao.y=45,a.contspr.addChild(a.imgtiao)),t.data&&null!=a.itemcom&&a.itemcom.setitemdata(t.data)},t.prototype.setImag=function(e){var t=this;return null==RES.getRes(e)?void RES.getResAsync(e,t.loadIconOver,t):void(null!=t.itemimg&&(t.itemimg.texture=RES.getRes(e),t.itemimg.width=90,t.itemimg.height=90))},t.prototype.loadIconOver=function(e,t){var a=this,i=a._myvo;if(i){var n=i.imgname;if(null==RES.getRes(n))return;a.setImag(n)}},t.prototype.moveY=function(e){var t=this;egret.clearTimeout(t.timenum),t.ishit||egret.Tween.get(t.contspr).to({y:e},200).call(t.displaycom,t)},t.prototype.display=function(){var e=this;egret.clearTimeout(e.timenum),e.contspr.alpha=0,egret.Tween.get(e.contspr).to({alpha:1},200).call(e.displaycom,e)},t.prototype.onCompleteCaller=function(){var e=this;e.ishit=!1,e.dis()},t.prototype.dis=function(){var e=this;null!=e.contspr.parent&&e.contspr.parent.removeChild(e.contspr);var t=FLOAT.itemsprArr.indexOf(e);t>-1&&FLOAT.itemsprArr.splice(t,1),MandPool.remand(e),FLOAT.itemShowOver()},t.prototype.displaycom=function(){var e=this;egret.clearTimeout(e.timenum),e.timenum=egret.setTimeout(e.hit,e,900)},t.prototype.hit=function(){var e=this;e.ishit=!0,egret.clearTimeout(e.timenum);var t=e.contspr.x-200+Math.floor(100*Math.random());egret.Tween.get(e.contspr).to({alpha:0,x:t},200).call(e.onCompleteCaller,e)},t}();e.ItemFloat=t,__reflect(t.prototype,"game.ItemFloat",["IRemandObj"])}(game||(game={}));var game;!function(e){var t=function(){function t(){this.txt=new e.Text,this.ishit=!1;var t=this;t.txt.touchEnabled=!1,t.txt.textAlign=egret.HorizontalAlign.CENTER,t.contspr=new egret.Sprite,t.contspr.addChild(t.txt),t.txt.x=40,t.txt.y=10,t.txt.size=22,t.txt.textColor=16777215,t.txt.bold=!0}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.initFloatTxtPos=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var a=this;a._component=e;var i=0,n=0;if(a.sList.hasOwnProperty("0")&&a.settext(!1),i=Global.stageWidth-a.txt.width>>1,n=Global.stageHeight-a.txt.height>>1,a.contspr.width=a.txt.width,a.contspr.height=a.txt.height,a.contspr.x=i-40+.5*a.contspr.width,a.contspr.y=n+.5*a.contspr.height,null==a.bgimg){var o=RES.getRes("bg_Frame_01");a.bgimg=new egret.Bitmap(o);var r=new egret.Rectangle(80,6,2,36);a.bgimg.scale9Grid=r,a.contspr.addChildAt(a.bgimg,0)}a.bgimg.width=a.txt.width+80,a.bgimg.height=a.txt.height,a.contspr.anchorOffsetX=.5*a.contspr.width,a.contspr.anchorOffsetY=.5*a.contspr.height},t.prototype.moveY=function(e){var t=this;egret.clearTimeout(t.timenum);var a=e+.5*t.contspr.height;t.ishit||(150>e?(t.hit(),egret.Tween.get(t.contspr).to({y:a},300)):egret.Tween.get(t.contspr).to({y:a},300).call(t.displaycom,t))},t.prototype.settext=function(e){var t=this,a="";for(var i in t.sList)a+=t.sList[i]+"\n";e&&(t.sList=[]),t.txt.text=a},t.prototype.display=function(e){var t=this;if(egret.clearTimeout(t.timenum),t.defaultPosYOffset=e,t.sList.hasOwnProperty("0"))t.settext(!0),t.contspr.alpha=0,t.contspr.scaleX=t.contspr.scaleY=0,egret.Tween.get(t.contspr).to({alpha:1,scaleX:1,scaleY:1},300).call(t.displaycom,t);else{null!=t.contspr.parent&&t.contspr.parent.removeChild(t.contspr);var a=FLOAT.putongArr.indexOf(t);a>-1&&FLOAT.putongArr.splice(a,1),MandPool.remand(t)}},t.prototype.onCompleteCaller=function(){var e=this;e.ishit=!1,e.initFloatTxtPos(),e.display(e.defaultPosYOffset)},t.prototype.displaycom=function(){var e=this;egret.clearTimeout(e.timenum),e.timenum=egret.setTimeout(e.hit,e,1500)},t.prototype.hit=function(){var e=this;e.ishit=!0,egret.clearTimeout(e.timenum),egret.Tween.get(e.contspr).to({alpha:0},300).call(e.onCompleteCaller,e)},t}();e.MultiFloat=t,__reflect(t.prototype,"game.MultiFloat",["IRemandObj"])}(game||(game={}));var game;!function(e){var t=function(){function t(e,t,a,i){void 0===a&&(a=7358770),void 0===i&&(i=!0),this.type=0,this.eff=0,this.color=7358770,this.imgname="",this.showstr="";var n=this,o="";i&&(o=Language.ins.game_get+"："),n.showstr=o+e,n.color=a,n.imgname=t}return t.addBagItemNum=function(t,a,i){if(void 0===i&&(i=!1),!(0>=a)){var n,o=GlobalConfig.getItemVo(t);if(null!=o){var r=new e.SeverItemVO;n=new e.NewItemFloatVo(o.name+"+"+a,""),n.imgname=GlobalEnum.getIconName(o.icon),n.id=t,n.num=a,r.itemid=t,r.count=a,n.data=r}this.addarrinfo(n,i)}},t.addOther=function(t,a,i){void 0===i&&(i=!1);var n;n=new e.NewItemFloatVo(t+"+"+a,""),this.addarrinfo(n,i)},t.addarrinfo=function(e,t){var a=this;if(null!=e)if(t)a.isloop||(a.isloop=!0,a.addinit()),a.addArr.push(e);else{a.isloop=!1;var i=[];i.push(e),FLOAT.NShowItem(i)}},t.showLoopInfo=function(e){void 0===e&&(e=!1);var t=this;t.addArr.length>0&&(FLOAT.NShowItem(t.addArr,e),t.addArr=[],t.isloop=!1)},t.addinit=function(){this.addArr=[]},t.isloop=!1,t.addArr=[],t}();e.NewItemFloatVo=t,__reflect(t.prototype,"game.NewItemFloatVo")}(game||(game={}));var game;!function(e){var t=function(){function t(){this.timenum=0,this.waitnum=0,this.txt=new e.Text,this.ishit=!1;var t=this;t.txt.touchEnabled=!1,t.txt.textAlign=egret.HorizontalAlign.CENTER,t.contspr=new egret.Sprite,t.txt.x=40,t.txt.y=12,t.txt.size=22,t.txt.textColor=16777215,t.txt.bold=!0}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.initFloatTxtPos=function(e){var t=this,a=0,i=0;if(t.txt.text=e.showstr,t.txt.textColor=e.color,a=Global.stageWidth-t.txt.width>>1,i=Global.stageHeight-t.txt.height>>1,t.ishit=!1,t.contspr.width=t.txt.width,t.contspr.height=50,t.contspr.x=a-40+.5*t.contspr.width,t.contspr.y=i+.5*t.contspr.height,null==t.bgimg){var n=RES.getRes("bg_Frame_01");t.bgimg=new egret.Bitmap(n);var o=new egret.Rectangle(80,6,2,36);t.bgimg.scale9Grid=o,t.contspr.addChildAt(t.bgimg,0)}t.contspr.addChild(t.txt),t.bgimg.width=t.txt.width+80,t.bgimg.height=50,t.contspr.anchorOffsetX=.5*t.contspr.width,t.contspr.anchorOffsetY=.5*t.contspr.height},t.prototype.moveY=function(e,a){void 0===a&&(a=0);var i=this;if(egret.clearTimeout(i.timenum),egret.clearTimeout(i.waitnum),a>0)i.waitnum=egret.setTimeout(i.moveY,i,a,e);else if(!i.ishit){e<t.minY?i.hit():e<t.maxY?egret.Tween.get(i.contspr).to({y:e,alpha:1},200):(i.contspr.alpha=0,i.contspr.y=e)}},t.prototype.display=function(){var e=this;egret.clearTimeout(e.timenum),e.contspr.alpha=0,egret.Tween.get(e.contspr).to({alpha:1},200).call(e.displaycom,e)},t.prototype.onCompleteCaller=function(){var e=this;e.ishit=!1,e.dis()},t.prototype.dis=function(){var e=this;null!=e.contspr&&e.contspr.removeChild(e.txt);var t=FLOAT.equipArr.indexOf(e);t>-1&&FLOAT.equipArr.splice(t,1),MandPool.remand(e),FLOAT.itemShowOver()},t.prototype.displaycom=function(){var e=this;egret.clearTimeout(e.timenum),e.timenum=egret.setTimeout(e.hit,e,900)},t.prototype.hit=function(){var e=this;e.ishit=!0,egret.clearTimeout(e.timenum);var a=e.contspr.y-t.txtLNum;egret.Tween.get(e.contspr).to({alpha:0,y:a},200).call(e.onCompleteCaller,e)},t.maxY=222,t.minY=90,t.txtLNum=26,t}();e.PropEquipFlot=t,__reflect(t.prototype,"game.PropEquipFlot",["IRemandObj"])}(game||(game={}));var game;!function(e){var t=function(){function t(){this.timenum=0,this.waitnum=0,this.txt=new e.Text,this.ishit=!1;var t=this;t.txt.touchEnabled=!1,t.txt.textAlign=egret.HorizontalAlign.CENTER,t.txt.x=141,t.txt.size=24,t.txt.textColor=7358770}return t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.initFloatTxtPos=function(e){var t=this,a=0,i=0;t.txt.text=e.showstr,t.txt.textColor=e.color,a=Global.stageWidth-t.txt.width>>1,i=Global.stageHeight-t.txt.height>>1,t.txt.x=a,t.txt.alpha=0,t.ishit=!1},t.prototype.moveY=function(e,a){void 0===a&&(a=0);var i=this;if(egret.clearTimeout(i.timenum),egret.clearTimeout(i.waitnum),a>0)i.waitnum=egret.setTimeout(i.moveY,i,a,e);else if(!i.ishit){e<t.minY?i.hit():e<t.maxY?egret.Tween.get(i.txt).to({y:e,alpha:1},200):(i.txt.alpha=0,i.txt.y=e)}},t.prototype.display=function(){var e=this;egret.clearTimeout(e.timenum),e.txt.alpha=0,egret.Tween.get(e.txt).to({alpha:1},200).call(e.displaycom,e)},t.prototype.onCompleteCaller=function(){var e=this;e.ishit=!1,e.dis()},t.prototype.dis=function(){var e=this;null!=e.txt.parent&&e.txt.parent.removeChild(e.txt);var t=FLOAT.propArr.indexOf(e);t>-1&&FLOAT.propArr.splice(t,1),MandPool.remand(e),FLOAT.itemShowOver()},t.prototype.displaycom=function(){var e=this;egret.clearTimeout(e.timenum),e.timenum=egret.setTimeout(e.hit,e,900)},t.prototype.hit=function(){var e=this;e.ishit=!0,egret.clearTimeout(e.timenum);var a=e.txt.y-t.txtLNum;egret.Tween.get(e.txt).to({alpha:0,y:a},200).call(e.onCompleteCaller,e)},t.maxY=222,t.minY=90,t.txtLNum=26,t}();e.PropFlot=t,__reflect(t.prototype,"game.PropFlot",["IRemandObj"])}(game||(game={}));var game;!function(e){var t=function(){function e(e,t){void 0===t&&(t=7358770),this.color=7358770,this.showstr="";
var a=this;a.showstr=e,a.color=t}return e}();e.PropFlotVo=t,__reflect(t.prototype,"game.PropFlotVo")}(game||(game={}));var game;!function(e){var t=function(e){function t(t){void 0===t&&(t=egret.HorizontalAlign.CENTER);var a=e.call(this)||this;a.m_blAllowSuperVisible=!0,a.m_blVisible=!0;var i=a;return i.textAlign=t,i.touchEnabled=!1,i.fontFamily=Language.ins.sever_font,a}return __extends(t,e),t.prototype.startDelayShow=function(e){void 0===e&&(e=350);var t=this;t.m_blAllowSuperVisible=!1,t.visible=!1,t.m_nTimeoutID=setTimeout(t._Show,e)},t.prototype._Show=function(){var e=this;clearTimeout(e.m_nTimeoutID),e.m_blAllowSuperVisible=!0,e.visible=e.m_blVisible},Object.defineProperty(t.prototype,"visible",{get:function(){return this.m_blVisible},set:function(e){var t=this;t.m_blVisible=e,t.m_blAllowSuperVisible&&(t.visible=e)},enumerable:!0,configurable:!0}),t.prototype.update=function(){},Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){var t=this;t._centerX=e,t.update()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){var t=this;t._centerY=e,t.update()},enumerable:!0,configurable:!0}),t.prototype.easeTo=function(e,t,a){void 0===a&&(a=1)},t.prototype.onEaseToUpdater=function(e){var t=this;null!=t&&(t.text=e+"")},t.prototype.dispose=function(){},t}(egret.TextField);e.Text=t,__reflect(t.prototype,"game.Text")}(game||(game={}));var FntUtil=function(){function e(){}return e.createBitmapLabel=function(e,t,a,i){if(("NaN"==a||"undefined"==a)&&utils.GameComUtil.log("@有变量为空"),null!=e){e.removeChildren();var n=new eui.BitmapLabel;return n.font=RES.getRes(t),n.text=a,n.y=(e.height-i)/2,e.addChild(n),this._fntMap.add(e,n),n}},e.createUIAssetLable=function(e,t,a,i,n){if(null!=e){for(var o,r,s,l,p,c,u=e.numChildren,m=a.length,g=0,_=0,h=0,d=e.width,y=e.height,v=PFAll.isNowPF([Global.severNE_russia]),f=0;m>f;f++)u>f?c=e.getChildAt(f):(c=new eui.Image,e.addChild(c)),o=a[f],s=v?o>="а"&&"я">=o?t+"_s_"+o:o>="А"&&"Я">=o?t+"_m_"+o:t+"_"+o:o>="a"&&"z">=o?t+"_s_"+o:o>="A"&&"Z">=o?t+"_m_"+o:t+"_"+o,l=0,p=0," "==o?(l=.5*g,p=_,r=null):(r=RES.getRes(s),r?(l=r.textureWidth,p=r.textureHeight,g=l,_=p):console.log("lost:"+s)),c.source=r,f>0?(c.x=h+n,h+=n+l):(h+=l,c.x=0),c.y=(y-p)/2;var b=0;b="left"==i?0:"middle"==i?.5*(d-h):d-h;for(var f=0;m>f;f++)c=e.getChildAt(f),c.x+=b;if(u>m)for(f=m;u>f;f++)c=e.getChildAt(f),c.source=null}},e.showFnt=function(e,t,a,i){void 0===i&&(i=0),this.createUIAssetLable(e,t,a,"middle",i)},e.showFntRight=function(e,t,a,i){void 0===i&&(i=0),this.createUIAssetLable(e,t,a,"right",i)},e.showFntLeft=function(e,t,a,i){void 0===i&&(i=0),this.createUIAssetLable(e,t,a,"left",i)},e.showFntLeft2=function(e,t,a,i){void 0===i&&(i=0),this.createUIAssetLable(e,t,a,"left",i)},e.removeFnt=function(e){var t=this._fntMap.remove(e);t&&(t.parent&&t.parent.removeChild(t),t=null)},e._fntMap=new HashMap,e}();__reflect(FntUtil.prototype,"FntUtil");var game;!function(e){var t=function(e){function t(t){void 0===t&&(t=0);var a=e.call(this)||this;a._dataArr=[],a._itemArr=[],a._isfirst=!0,a._laygap=4,a._layAlign=egret.HorizontalAlign.LEFT,a._layVAlign=egret.VerticalAlign.MIDDLE,a._ishorizontal=!0,a.ismin=!1,a._bimappoint=new egret.Point(43,43),a._txtcol=16777215,a._txtsize=22;var i=a;return i.creatchild(),a}return __extends(t,e),t.prototype.setTextColor=function(e){var t=this;t._txtcol=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextColor(e)},t.prototype.setTextSize=function(e){var t=this;t._txtsize=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextSize(e)},t.prototype.setHorizontal=function(e){this._ishorizontal=e,this.changeLayout()},t.prototype.setGroupAlign=function(e,t){void 0===t&&(t=egret.VerticalAlign.MIDDLE);var a=this;a._layAlign=e,a._layVAlign=t,a.changeLayout()},t.prototype.setGroupGap=function(e){var t=this;t._laygap=e,t.changeLayout()},t.prototype.setImgWH=function(e,t){var a=this;a._bimappoint.x=e,a._bimappoint.y=t;for(var i,n=a._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setImgWH(e,t)},t.prototype.setItemScale=function(e){var t=this,a=GlobalEnum.itemPanelWidth*e;t._bimappoint.x=a,t._bimappoint.y=a;for(var i,n=t._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setItemScale(e)},t.prototype.setDataArr=function(e){var t=this;t._dataArr=e;var a=t._dataArr,i=a.length;t.clearitems();for(var n,o,r=t._itemArr,s=0;i>s;s++)r[s]?n=r[s]:(n=t.ismin?new HeroDegree2:new HeroDegree,r[s]=n),o=a[s],o&&n.setData(o),t.addChild(n)},t.prototype.clearitems=function(){for(var e,t,a=this,i=a._itemArr,n=0,o=i.length;o>n;n++)e=i[n],t=e.parent,t&&t.removeChild(e)},t.prototype.creatchild=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.changeLayout(),e.height=40)},t.prototype.changeLayout=function(){var e,t=this;!t._layZont||t._ishorizontal&&t._layZont instanceof eui.VerticalLayout||!t._ishorizontal&&t._layZont instanceof eui.HorizontalLayout?(e=t._ishorizontal?new eui.HorizontalLayout:new eui.VerticalLayout,t._layZont=e):e=t._layZont,e.gap=t._laygap,e.verticalAlign=t._layVAlign,e.horizontalAlign=t._layAlign,t.layout=e},t.prototype.dispose=function(){var e=this;e.clearitems(),e._dataArr=[],e._itemArr=[]},t}(eui.Group);e.ComHeroDegreeGroup=t,__reflect(t.prototype,"game.ComHeroDegreeGroup")}(game||(game={}));var game;!function(e){var t=function(e){function t(t){void 0===t&&(t=0);var a=e.call(this)||this;a._itemArr=[],a._isfirst=!0,a._laygap=4,a._layAlign=egret.HorizontalAlign.LEFT,a._layVAlign=egret.VerticalAlign.MIDDLE,a._ishorizontal=!0,a._bimappoint=new egret.Point(43,43),a._txtcol=16777215,a._txtsize=22;var i=a;return i.creatchild(),a}return __extends(t,e),t.prototype.setGroupAlign=function(e,t){void 0===t&&(t=egret.VerticalAlign.MIDDLE);var a=this;a._layAlign=e,a._layVAlign=t,a.changeLayout()},t.prototype.setGroupGap=function(e){var t=this;t._laygap=e,t.changeLayout()},t.prototype.setHorizontal=function(e){this._ishorizontal=e,this.changeLayout()},t.prototype.setImgWH=function(e,t){var a=this;a._bimappoint.x=e,a._bimappoint.y=t;for(var i,n=a._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.width=e,i.height=t},t.prototype.setItemScale=function(e){var t=this,a=GlobalEnum.itemPanelWidth*e;t._bimappoint.x=a,t._bimappoint.y=a;for(var i,n=t._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.scaleX=i.scaleY=e},t.prototype.setDataArr=function(e,t){void 0===t&&(t="tab_jlb_a4");var a=this;a.clearitems();for(var i,n=a._itemArr,o=0;e>o;o++)n[o]?i=n[o]:(i=new eui.Image,i.source=t,n[o]=i),a.addChild(i)},t.prototype.clearitems=function(){for(var e,t,a=this,i=a._itemArr,n=0,o=i.length;o>n;n++)e=i[n],t=e.parent,t&&t.removeChild(e)},t.prototype.creatchild=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.changeLayout(),e.height=40)},t.prototype.changeLayout=function(){var e,t=this;!t._layZont||t._ishorizontal&&t._layZont instanceof eui.VerticalLayout||!t._ishorizontal&&t._layZont instanceof eui.HorizontalLayout?(e=t._ishorizontal?new eui.HorizontalLayout:new eui.VerticalLayout,t._layZont=e):e=t._layZont,e.gap=t._laygap,e.verticalAlign=t._layVAlign,e.horizontalAlign=t._layAlign,t.layout=e},t.prototype.dispose=function(){var e=this;e.clearitems(),e._itemArr=[]},t}(eui.Group);e.ComHeroStarGroup=t,__reflect(t.prototype,"game.ComHeroStarGroup")}(game||(game={}));var game;!function(e){var t=function(t){function a(e){void 0===e&&(e=0);var a=t.call(this)||this;a._curmode=0,a.isfirst=!0,a._bimappoint=new egret.Point(40,40),a._txtcol=16777215,a._txtsize=22,a._width=70,a._needShowTip=!1;var i=a;return i._curmode=e,i.touchChildren=!1,i.touchEnabled=!0,i.creatchild(),a}return __extends(a,t),a.prototype.setTextColor=function(e){var t=this;t._txtcol=e},a.prototype.setTextSize=function(e){var t=this;t._txtsize=e},a.prototype.setItemScale=function(e){var t=this,a=GlobalEnum.itemPanelWidth*e;t._bimappoint.x=a,t._bimappoint.y=a,t._txtitem&&t.changestate()},a.prototype.setImgWH=function(e,t){var a=this;a._bimappoint.x=e,a._bimappoint.y=t,a._txtitem&&a.changestate()},a.prototype.creatchild=function(){var e=this;if(e.isfirst){e.isfirst=!1;var t=new eui.HorizontalLayout;t.gap=4,t.verticalAlign=egret.VerticalAlign.MIDDLE,e.layout=t}},a.prototype.setHorizon=function(e){var t=this;if(t.horizon_layout=e,t.layout){var a=new eui.HorizontalLayout;a.gap=4,a.verticalAlign=egret.VerticalAlign.MIDDLE,a.horizontalAlign=e,t.layout=a}},Object.defineProperty(a.prototype,"itempanel",{get:function(){var t=this;if(null==t._itempanel){var a=.5;t._itempanel=new e.BackPackItemComPanel,t._itempanel.scaleX=a,t._itempanel.scaleY=a}return t._itempanel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bitmapitem",{get:function(){var e=this;return null==e._bitmapitem&&(e._bitmapitem=new eui.Image,e._bitmapitem.height=e._bimappoint.y,e._bitmapitem.width=e._bimappoint.x),e._bitmapitem},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"txtitem",{get:function(){var e=this;return null==e._txtitem&&(e._txtitem=new eui.Label,e._txtitem.fontFamily=Language.ins.sever_font,e._txtitem.size=22,e._txtitem.textColor=16777215,e._txtitem.verticalAlign=egret.VerticalAlign.MIDDLE,e._txtitem.top=0,e._txtitem.bottom=0,e._txtitem.height=e._bimappoint.y,e._txtitem.width=e._width),e._txtitem},enumerable:!0,configurable:!0}),a.prototype.setdata=function(e,t,a,i){void 0===a&&(a=null),void 0===i&&(i=!1);var n=this,o=n.bitmapitem,r=n.txtitem;n.changestate(),o.source=e,n.addChild(o);var s=t;isNaN(parseInt(t))||(s=utils.GameUtil.getNumToStr(t)),r.text=s.toString(),n.addChild(r),null!=a&&(n._itemid=a),i&&(r.visible=!1,n.width=40)},a.prototype.setIdAndText=function(e,t,a){void 0===t&&(t=0/0),void 0===a&&(a="");var i=this;i._itemid=e;var n=(GlobalConfig.getItemVo(e),"0");isNaN(t)?(t=GlobalAllProxy.getInstance().backpackProxy.getItemCount(e),n=a+utils.GameUtil.getNumToStr(+t)):n=a+utils.GameUtil.getNumToStr(+t);var o=ResName.getMinItemIcon(e),r=i.bitmapitem,s=i.txtitem;i.changestate(),r.source=o,i.addChild(r),s.text=n.toString(),i.addChild(s)},a.prototype.changestate=function(){var e,t,a,i=this;i._bimappoint&&(null!=i._bitmapitem&&(e=i._bitmapitem,e.width=i._bimappoint.x,e.height=i._bimappoint.y),null!=i._txtitem&&(a=i._txtitem,a.height=i._bimappoint.y,a.textColor=i._txtcol,a.size=i._txtsize),null!=i._itempanel&&(t=i._itempanel,i._scalenum=i._bimappoint.x/GlobalEnum.itemPanelWidth,t.scaleX=i._scalenum,t.scaleY=i._scalenum))},a.prototype.setTip=function(e){var t=this;t._needShowTip=!0,t._needShowTip?t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t):t.removeEventListener(egret.TouchEvent.TOUCH_TAP,t.clickfun,t)},a.prototype.clickfun=function(t){var a=this,i=GlobalConfig.getItemVo(a._itemid);if(i&&a._needShowTip){var n=0,o=0;o=e.TipSimpleObject.type_item,n=i.objectid,utils.GameComUtil.ShowTip(a,n,o,i)}},a.mode_item=0,a.mode_equip=1,a.mode_equiporitem=2,a}(eui.Group);e.ComItemGroup=t,__reflect(t.prototype,"game.ComItemGroup")}(game||(game={}));var game;!function(e){var t=function(){function t(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.itemid=e,this.count=t}return t.getUserItemArr=function(t){var a=[];if(t){var i;for(var n in t)i=new e.ComItemGroupVo,i.itemid=parseInt(t[n].pid),i.count=parseInt(t[n].num),a.push(i)}return a},t}();e.ComItemGroupVo=t,__reflect(t.prototype,"game.ComItemGroupVo")}(game||(game={}));var game;!function(e){var t=function(t){function a(e){void 0===e&&(e=0);var a=t.call(this)||this;a._dataArr=[],a._itemArr=[],a._isfirst=!0,a._laygap=4,a._layAlign=egret.HorizontalAlign.LEFT,a._layVAlign=egret.VerticalAlign.MIDDLE,a._ishorizontal=!0,a._bimappoint=new egret.Point(40,40),a._txtcol=16777215,a._txtsize=20;var i=a;return i.touchChildren=!0,i.touchEnabled=!1,i.creatchild(),a}return __extends(a,t),a.prototype.setHorizontal=function(e){this._ishorizontal=e,this.changeLayout()},a.prototype.setTextColor=function(e){var t=this;t._txtcol=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextColor(e)},a.prototype.setTextSize=function(e){var t=this;t._txtsize=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextSize(e)},a.prototype.setGroupAlign=function(e,t){void 0===t&&(t=egret.VerticalAlign.MIDDLE);var a=this;a._layAlign=e,a._layVAlign=t,a.changeLayout()},a.prototype.setGroupGap=function(e){var t=this;t._laygap=e,t.changeLayout()},a.prototype.setImgWH=function(e,t){var a=this;a._bimappoint.x=e,a._bimappoint.y=t;for(var i,n=a._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setImgWH(e,t)},a.prototype.setItemScale=function(e){var t=this,a=GlobalEnum.itemPanelWidth*e;t._bimappoint.x=a,t._bimappoint.y=a;for(var i,n=t._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setItemScale(e)},a.prototype.setDataArr=function(t,a,i,n,o){void 0===a&&(a=""),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!1);var r=this;r._dataArr=t;var s=r._dataArr,l=s.length;r.clearitems();for(var p,c,u=r._itemArr,m=0;l>m;m++){if(u[m]?p=u[m]:(p=new e.ComItemGroup,u[m]=p,p.setImgWH(r._bimappoint.x,r._bimappoint.y),p.setTextColor(r._txtcol),p.setTextSize(r._txtsize)),c=s[m],c.itemid){p.setTextColor(r._txtcol);var g;if(i){var _=GlobalConfig.getItemVo(c.itemid);g=c.count,p.setdata(GlobalEnum.getIconName(GlobalConfig.getItemVo(c.itemid).icon),_.name+" "+a+g,c.itemid,o)}else g=c.count,p.setdata(GlobalEnum.getIconName(GlobalConfig.getItemVo(c.itemid).icon),a+g,c.itemid,o);p.setTip(n)}r.addChild(p)}},a.prototype.clearitems=function(){for(var e,t,a=this,i=a._itemArr,n=0,o=i.length;o>n;n++)e=i[n],t=e.parent,t&&t.removeChild(e)},a.prototype.creatchild=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.changeLayout(),e.height=40)},a.prototype.changeLayout=function(){var e,t=this;!t._layZont||t._ishorizontal&&t._layZont instanceof eui.VerticalLayout||!t._ishorizontal&&t._layZont instanceof eui.HorizontalLayout?(e=t._ishorizontal?new eui.HorizontalLayout:new eui.VerticalLayout,t._layZont=e):e=t._layZont,e.gap=t._laygap,e.verticalAlign=t._layVAlign,e.horizontalAlign=t._layAlign,t.layout=e},a.prototype.dispose=function(){var e=this;e.clearitems(),e._dataArr=[],e._itemArr=[]},a}(eui.Group);e.ComItemListGroup=t,__reflect(t.prototype,"game.ComItemListGroup")}(game||(game={}));var game;!function(e){var t=function(t){function a(e){void 0===e&&(e=0);var a=t.call(this)||this;a._dataArr=[],a._itemArr=[],a._isfirst=!0,a._laygap=4,a._layAlign=egret.HorizontalAlign.LEFT,a._bimappoint=new egret.Point(33,33),a._txtcol=16777215,a._txtsize=22;var i=a;return i.touchChildren=!0,i.touchEnabled=!1,i.creatchild(),a}return __extends(a,t),a.prototype.setTextColor=function(e){var t=this;t._txtcol=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextColor(e)},a.prototype.setTextSize=function(e){var t=this;t._txtsize=e;for(var a,i=t._itemArr,n=0,o=i.length;o>n;n++)a=i[n],a.setTextSize(e)},a.prototype.setGroupAlign=function(e){var t=this;t._layAlign=e,t.changeLayout()},a.prototype.setGroupGap=function(e){var t=this;t._laygap=e,t.changeLayout()},a.prototype.setImgWH=function(e,t){var a=this;a._bimappoint.x=e,a._bimappoint.y=t;for(var i,n=a._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setImgWH(e,t)},a.prototype.setItemScale=function(e){var t=this,a=GlobalEnum.itemPanelWidth*e;t._bimappoint.x=a,t._bimappoint.y=a;for(var i,n=t._itemArr,o=0,r=n.length;r>o;o++)i=n[o],i.setItemScale(e)},a.prototype.setDataArr=function(t,a,i,n,o,r,s,l){void 0===a&&(a=""),void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===l&&(l=!1);var p=this;p._dataArr=t;var c,u,m=p._dataArr,g=m.length,_=p._itemArr;p.clearitems();for(var h=0;g>h;h++)_[h]?c=_[h]:(c=new e.BackPackShowPanel,_[h]=c),c.setTip(o),u=m[h],u.itemid&&c.setitemdata(u,i,0,!1,!1,n,r,s,l),p.addChild(c)},a.prototype.clearitems=function(){for(var e,t,a=this,i=a._itemArr,n=0,o=i.length;o>n;n++)e=i[n],t=e.parent,t&&t.removeChild(e)},a.prototype.creatchild=function(){var e=this;e._isfirst&&(e._isfirst=!1,e.changeLayout(),e.height=40)},a.prototype.changeLayout=function(){var e=this,t=new eui.HorizontalLayout;t.gap=e._laygap,t.verticalAlign=egret.VerticalAlign.MIDDLE,t.horizontalAlign=e._layAlign,e.layout=t},a.prototype.dispose=function(){var e=this;e.clearitems(),e._dataArr=[],e._itemArr=[]},a}(eui.Group);e.ComShowListGrop=t,__reflect(t.prototype,"game.ComShowListGrop")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.CHANGE,t.changeEnd,t),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.waitchange,t),t}return __extends(t,e),t.prototype.changeEnd=function(e){void 0===e&&(e=null),utils.GameComUtil.setListMaskChange(this)},t.prototype.waitchange=function(e){void 0===e&&(e=null);var t=this;egret.clearTimeout(t._changeTime),t._changeTime=egret.setTimeout(this.changeEnd,this,10)},t.prototype.updateDisplayList=function(t,a){e.prototype.updateDisplayList.call(this,t,a),this.waitchange()},t}(eui.Scroller);e.MyScroller=t,__reflect(t.prototype,"game.MyScroller")}(game||(game={}));var game;!function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.onCheckout=function(){},a.prototype.onRemand=function(){var e=this;e.group&&(e.group.mask=null),this.removeChildren()},a.prototype.setLogoUrl=function(t){var a=this;a.m_logostr=t;var i,n,o=e.ComlogoVO.getLogoSouceName(t,logoType.type_tiao,"name");if(ComLogoManage.textureWidth)i=ComLogoManage.textureWidth,n=ComLogoManage.textureHeight;else{var r=RES.getRes(o);i=r.textureWidth,n=r.textureHeight}var s=a.group?a.group:new egret.DisplayObjectContainer;a.group=s;var l=e.ComlogoVO.getLogoSouceName(t,logoType.type_tiaocol,"name"),p=e.ComlogoVO.getLogoSouceName(t,logoType.type_bgcol,"name"),c=new eui.Rect(i,n,l);s.addChild(c);var u,m,g,_,h=e.ComlogoVO.getLogoSouceName(t,logoType.type_kuang,"name"),d=e.ComlogoVO.getLogoSouceName(t,logoType.type_zhuang,"name"),y=ResName.logo_kuang_img+h,v=ResName.logo_kuang_mask+h,f=utils.GameComUtil.getImageAdd(RES.getRes(o),null,p,1);u=a.img1?a.img1:new eui.Image,m=a.img2?a.img2:new eui.Image,g=a.img3?a.img3:new eui.Image,_=a.img4?a.img4:new eui.Image,a.img1=u,a.img2=m,a.img3=g,a.img4=_,u.source=f,m.source=RES.getRes(y),d?g.source=RES.getRes(d):g.source=null,_.source=RES.getRes(v),s.addChild(u),s.addChild(m),s.addChild(g),a.addChild(_),a.addChild(s),s.mask=_},a}(eui.Group);e.ComLogoGroup=t,__reflect(t.prototype,"game.ComLogoGroup",["IRemandObj"])}(game||(game={}));var ComLogoImage=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.setLogoUrl=function(e,t){void 0===t&&(t=!0);var a="1_1_1_1_2";e||(e=a);var i=e.split("_");i.length<=1&&(e=a,i=e.split("_")),this.m_logostr=e;var n=parseInt(i[0]);if(0==n){var o=parseInt(i[1]),r="",s=GlobalConfig.getlogoVO(o);s&&(r=GlobalConfig.getlogoVO(o).name),this.source=r}else ComLogoManage.getIns().getTexture(e,this,t)},t}(eui.Image);__reflect(ComLogoImage.prototype,"ComLogoImage");var ComLogoManage=function(){function e(){}return e.getIns=function(){return null==this.s_ins&&(this.s_ins=new e,this.s_ins.m_textureObj={},this.s_ins.m_textureImgObj={},this.s_ins.m_textureNumObj={},this.s_ins.m_textureGroupObj={}),this.s_ins},e.prototype.getTexture=function(e,t,a){var i=this,n=i.m_textureObj,o=i.m_textureImgObj;i.m_textureNumObj,i.m_textureGroupObj;if(n[e])t.source=n[e];else{o[e]?o[e].push(t):o[e]=[t];var r=game.ComlogoVO.getlogoSouceArr(e);if(r.length){var s=ResName.logo_load+e;a||(s=ResName.logo_nosave_load+e),RES.createGroup(s,r,!0),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,i.groupComplete_res,i),RES.loadGroup(s)}else i.creatShowLogo(e,a)}},e.prototype.groupComplete_res=function(e){var t,a=this,i=e.groupName,n=ResName.logo_load,o=ResName.logo_nosave_load,r=i.indexOf(n),s=i.indexOf(o);-1!=r?(t=i.substr(n.length),a.creatShowLogo(t,!0)):-1!=s&&(t=i.substr(o.length),a.creatShowLogo(t,!1))},e.prototype.creatShowLogo=function(e,t){var a=this.m_textureNumObj,i=this.m_textureGroupObj;if(!i[e]){var n=MandPool.getIns(game.ComLogoGroup);i[e]=n,n.setLogoUrl(e),FLOAT.LogoSpr.addChild(n),n.visible=!1,a[e]&&egret.clearTimeout(o);var o=egret.setTimeout(this.timeCopy,this,1500,e,t);a[e]=o}},e.prototype.timeCopy=function(t,a){var i=this.m_textureObj,n=this.m_textureImgObj,o=this.m_textureNumObj,r=this.m_textureGroupObj;o[t]=0;var s,l,p,c=n[t];if(e.textureWidth)l=e.textureWidth,p=e.textureHeight;else{var u=game.ComlogoVO.getLogoSouceName(t,logoType.type_tiao,"name"),m=RES.getRes(u);l=m.textureWidth,p=m.textureHeight}var g=r[t],_=new egret.RenderTexture;if(_.drawToTexture(g,new egret.Rectangle(0,0,l,p)),a&&(i[t]=_),c)for(var h=c.length-1;h>=0;h--)s=c[h],s.m_logostr==t&&(s.source=_),c.splice(h,1);g.parent&&g.parent.removeChild(g),MandPool.remand(g),r[t]=null},e}();__reflect(ComLogoManage.prototype,"ComLogoManage");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.bl_MayReceive=!1,e.bl_isopenRecruit=!1,e.open_btn={},e}return __extends(a,t),a.prototype.refreshGame=function(){var e=this;e.open_btn={},e.activityArr=null,e.rankactivityArr=null,e.bl_MayReceive=!1},a.prototype.zeroPointRefresh=function(e){var t=this;t.updata()},a.prototype.updata=function(){var e=this;e.activityArr.updata(),e.rankactivityArr.updata()},a.prototype.timePlay=function(t){var a=this;if(a.rankactivityArr&&a.rankactivityArr.yiYuan){var i=parseInt(Global.systemTimeNum/1e3+""),n=a.rankactivityArr.yiYuan;n.endTime-i<=0&&(a.rankactivityArr.yiYuan=null,EventBus.sendMessage(e.GameCommands.MAIN_TOPBTN_CHANGE))}},a.prototype.addOpenBinId=function(e){var t=GlobalAllProxy.getInstance().activityProxy.open_btn;t[e]=1},a.prototype.getOpenBtnBl=function(e){var t=GlobalAllProxy.getInstance().activityProxy.open_btn,a=!1;return t[e]&&(a=!0),a},a.prototype.iscanJump=function(e){var t,a=this,i=e.length,n=!0;i>0&&(t=+e[0]);var o,r;if(t)switch(t){case GlobalViewIDEnum.pType_first_recharge:o=a.activityArr,n=o&&o.firstChargeInit?!0:!1;break;case GlobalViewIDEnum.pType_Operation_yiyuan:r=GlobalAllProxy.getInstance().activityProxy.rankactivityArr,n=r&&r.yiYuan?!0:!1;break;case GlobalViewIDEnum.pType_activity_sevenlogin:var s=GlobalAllProxy.getInstance().activityProxy.activityArr;n=s&&s.sevenLogin?!0:!1;break;case GlobalViewIDEnum.pType_recharge_package:o=a.activityArr,n=o&&o.payInit?!0:!1;break;case GlobalViewIDEnum.pType_rank_activity:o=a.rankactivityArr,n=o&&o.levelInit?!0:!1}return n},a.prototype.NetActivityInfo=function(){var e=BufRequests.Activity_Init,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetBGiantsRankingResponse=function(){var e=BufRequests.Activity_GiantsRanking,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetReceiveReward=function(e,t){var a=BufRequests.Activity_ActivityGift,i={activityId:e,param:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetEvedayReceiveReward=function(e){var t=BufRequests.Activity_DailyGiftRewards,a={param:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetServiceBuy=function(e){var t=BufRequests.Activity_OpenServiceBuy,a={activityId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetOpenServiceItemBuy=function(e,t,a){var i=BufRequests.Activity_OpenServiceItemBuy,n={activityId:e,itemId:t,num:a};this.callProBSim(i,n,Global.serverType_C)},a.NAME="ActivityProxy",a}(e.BaseProxy);e.ActivityProxy=t,__reflect(t.prototype,"game.ActivityProxy")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.backItemArr=[],e}return __extends(a,t),a.prototype.refreshGame=function(){var e=this;e.backItemArr=[],e.shopBuyArr=null,e.itemIdArr=null},a.prototype.zeroPointRefresh=function(t){var a=this;a.dailyLimitation=t.storeDailyLimitation;var i=t.storeWeekLimitation,n=t.firstDayWeek;i&&i.length&&(a.weeklyLimitation=i);var o=a.shopBuyArr;if(o){var r,s,l,p,c=GlobalConfig;for(s=0,l=o.length;l>s;s++)r=o[s],p=c.getShopVO(r.pid),p&&2==p.buycycle?n&&(r.num=0):r.num=0}EventBus.sendMessage(e.GameCommands.SHOP_DATA_CHANGE)},a.prototype.getShopNum=function(e){var t=0,a=this.shopBuyArr;if(a){var i,n,o;for(n=0,o=a.length;o>n;n++)if(i=a[n],i.pid==e){t=i.num;break}}return t},a.prototype.setShopNum=function(e,t,a){var i=this.shopBuyArr;if(i){var n,o,r;for(o=0,r=i.length;r>o;o++)if(n=i[o],n.pid==e)return void(a?n.num=t+ +n.num:n.num=t);var s=new SUserItem(e,t);i.push(s)}},a.prototype.getItemforitemid=function(e){for(var t,a,i=this.backItemArr,n=0,o=i.length;o>n;n++)if(a=i[n],a.itemid==e){t=a;break}return t},a.prototype.getOwnPlayerCarIds=function(){for(var e,t,a=this.backItemArr,i=[],n=item_type.type_player,o=0,r=a.length;r>o;o++)e=a[o],e.count&&(t=GlobalConfig.getItemVo(e.itemid),t.type==n&&i.push(parseInt(t.parameter)));return i},a.prototype.getItemCount=function(e){var t,a=0,i=GlobalAllProxy.getInstance().playerProxy,n=i.playerinfo;switch(e=parseInt(e)){case GlobalEnum.itemid_coin:a=n.gold;break;case GlobalEnum.itemid_ug:a=n.stone;break;case GlobalEnum.itemid_firstpass:var o=GlobalAllProxy.getInstance().playerProxy.titledata;o&&(a=+o.integral);break;case GlobalEnum.itemid_exp:var r=GlobalAllProxy.getInstance().playerProxy.clubData;r&&(a=r.exp);break;case GlobalEnum.itemid_playerexp:a=n.exp_pool;break;case GlobalEnum.itemid_study:var s=i.tacticsData;s&&(a=s.potions);break;case GlobalEnum.itemid_techdian:var l=i.scienceData;l&&(a=l.points);break;case GlobalEnum.itemid_qiutan:var p=i.scoutData;p&&(a=p.points);break;case GlobalEnum.itemid_love:a=n.lovestar;break;case GlobalEnum.itemid_vipexp:a=n.vipExp;break;case GlobalEnum.itemid_rong:a=n.honor;break;case GlobalEnum.itemid_skillexp:a=n.skillPoint;break;case GlobalEnum.itemid_techzhuannum:var c=GlobalAllProxy.getInstance().playerProxy.scienceData;c&&(a=c.zpoints);break;case GlobalEnum.itemid_rongyaoB:var u=GlobalAllProxy.getInstance().fightProxy.UserCrossData;u&&(a=u.gloryCoin);break;default:t=this.getItemforitemid(e),null!=t&&(a=t.count)}return a},a.prototype.getItemArrForTag=function(e,t){for(var a,i,n=this.backItemArr,o=[],r=GlobalConfig,s=t?1:0,l=vm.BackPackBgView.type_hero+1,p=0,c=n.length;c>p;p++)a=n[p],i=r.getItemVo(a.itemid),!a.count||s&&s!=i.display||(a.rank=i.rank,e?e==i.tag&&o.push(a):i.tag&&i.tag!=l&&o.push(a));return o},a.prototype.getBagItem=function(e){void 0===e&&(e=!1);for(var t,a,i=[],n=this.backItemArr,o=GlobalEnum,r=0,s=n.length;s>r;r++)t=n[r],a=t.itemid,t.count>0&&a!=o.itemid_coin&&a!=o.itemid_ug&&a!=o.itemid_exp&&(a>=90010&&90334>=a||(e?t.isfuwen()&&i.push(t):t.isfuwen()||i.push(t)));return i},a.prototype.addBagItemNum=function(t,a,i,n,o,r,s){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===r&&(r=null),void 0===s&&(s=!0);var l=GlobalAllProxy.getInstance().playerProxy,p=l.playerinfo;if(t=parseInt(t),a=parseInt(a)){if(0>a&&t!=GlobalEnum.itemid_ug){var c=Math.abs(a),u=GlobalConfig.getItemVo(t);u&&TDGATool.onItemUse(c,u.name)}switch(t){case GlobalEnum.itemid_coin:p.adducoin(a,i,n);break;case GlobalEnum.itemid_ug:p.addug(a,i,n,r);break;case GlobalEnum.itemid_betB:p.addGuessCoin(a,i,n,r);break;case GlobalEnum.itemid_firstpass:var m=GlobalAllProxy.getInstance().playerProxy.titledata;m&&m.integral&&(m.integral=+m.integral+ +a+""),n&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_firstpass,a,i);break;case GlobalEnum.itemid_exp:p.adduexp(a,i,n);break;case GlobalEnum.itemid_playerexp:p.addPlayerExpNum(a,i,n,s);break;case GlobalEnum.itemid_study:l.addustudy(a,i,n);break;case GlobalEnum.itemid_techdian:l.addtechnum(a,i,n);break;case GlobalEnum.itemid_qiutan:l.addqiutannum(a,i,n);break;case GlobalEnum.itemid_love:p.addlovestar(a,i,n);break;case GlobalEnum.itemid_vipexp:p.addvipexp(a,i,n,o);break;case GlobalEnum.itemid_techzhuannum:var g=GlobalAllProxy.getInstance().playerProxy.scienceData;g&&(g.zpoints+=a),n&&a>0&&e.NewItemFloatVo.addBagItemNum(t,a,i);break;case GlobalEnum.itemid_rong:p.addhonor(a,i,n);break;case GlobalEnum.itemid_skillexp:p.addSkillExpNum(a,i,n);break;case GlobalEnum.itemid_rongyaoB:GlobalAllProxy.getInstance().fightProxy.UserCrossData.gloryCoin+=a,e.NewItemFloatVo.addBagItemNum(t,a,i);break;default:var _=this.getItemforitemid(t);if(null==_?(_=new e.SeverItemVO,_.initdata(),_.itemid=t,_.count=a,this.backItemArr.push(_)):_.count+=a,a>0&&_){var h=GlobalConfig.getItemVo(_.itemid);if(h)switch(h.type){case item_type.type_logo:GlobalAllProxy.getInstance().playerProxy.playerinfo.addNewLogoForId(+h.parameter);break;case item_type.type_coach:GlobalAllProxy.getInstance().playerProxy.addNewCoachForId(+h.parameter),EventBus.getIns().sendMessage(e.GameCommands.COACH_GET_NEW);break;case item_type.type_title:GlobalAllProxy.getInstance().playerProxy.addNewTitleForType(+h.parameter);break;case item_type.type_player:GlobalAllProxy.getInstance().playerProxy.getnewhero=1,_.isnew=1,EventBus.sendMessage(e.GameCommands.TIP_MC_CHANGE)}}_.count<0&&(_.count=0),n&&a>0&&e.NewItemFloatVo.addBagItemNum(t,a,i)}EventBus.sendMessage(e.GameCommands.BACKPACK_DATACHANGE)}},a.prototype.addBagItemToArr=function(t,a,i,n,o){if(void 0===a&&(a=!0),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===o&&(o=null),t&&0!=t.length){for(var r,s=this,l=t.length,p=0;l>p;p++)r=t[p],r instanceof e.ComItemGroupVo?s.addBagItemNum(r.itemid,r.count,a,i,n,o):r instanceof e.SeverItemVO?s.addBagItemNum(r.itemid,r.count,a,i,n,o):s.addBagItemNum(r.id,r.num,a,i,n,o);l&&a&&FLOAT.showLoopInfo()}},a.prototype.addServerItem=function(t,a,i,n,o){if(void 0===a&&(a=!0),void 0===i&&(i=!0),void 0===n&&(n=null),void 0===o&&(o=null),t.length){var r,s=[];GlobalAllProxy.getInstance().backpackProxy;e.SeverItemVO;for(var l in t)r=new e.SeverItemVO,r.setseverdata(t[l]),s.push(r);this.addBagItemToArr(s,a,i,n,o)}},a.prototype.changeItemArrForServer=function(t){var a,i=[];e.SeverItemVO;for(var n in t)a=new e.SeverItemVO,a.setseverdata(t[n]),i.push(a);this.backItemArr=i},a.prototype.redServerItem=function(t,a){if(void 0===a&&(a=null),t.length){var i,n=[];GlobalAllProxy.getInstance().backpackProxy;e.SeverItemVO;for(var o in t)i=new e.SeverItemVO,i.setseverdata(t[o]),n.push(i);this.redBagItemToArr(n,a)}},a.prototype.redBagItemToArr=function(t,a){if(void 0===a&&(a=null),t&&0!=t.length)for(var i,n=this,o=t.length,r=0;o>r;r++)i=t[r],i instanceof e.ComItemGroupVo||i instanceof e.SeverItemVO?n.addBagItemNum(i.itemid,-i.count,!1,!1,null,a):n.addBagItemNum(i.id,-i.num,!1,!1,null,a)},a.prototype.redBagItemNum=function(e,t,a){void 0===a&&(a=null),this.addBagItemNum(e,-t,!1,!1,null,a)},a.prototype.NetUseItem=function(e,t){var a=BufRequests.USE_ITEM,i={itemId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetSynthesisItem=function(e,t){var a=BufRequests.ITEM_SYNTHESIZE,i={itemId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetSaleItems=function(e,t){var a=BufRequests.SALE_ITEMS,i={itemId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetStoreInit=function(){var e=BufRequests.STORE_INITIALIZE,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetStoreBuy=function(e,t){var a=BufRequests.STORE_BUY,i={itemId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.getSelectRecoverSUserItemArr=function(e){var t=this;t._selectRarr=[];for(var a,i,n=t.getItemArrForTag(e+1,!0),o=[],r=0;r<n.length;r++)if(a=n[r],1==a.isSelectRecover){var i=new SUserItem(a.itemid,a.selectRecoverAmount);i.pid=a.itemid,i.num=String(a.selectRecoverAmount),o.push(i),a.count>a.selectRecoverAmount?a.count-=a.selectRecoverAmount:(n.splice(r,1),r--)}return t._selectRarr=o,o},a.prototype.updatePlayerCarData=function(e){var t=this;t._selectRarr&&t._selectRarr.length>0&&t.redServerItem(t._selectRarr),t._selectRarr=null},a.NAME="BackPackProxy",a}(e.BaseProxy);e.BackPackProxy=t,__reflect(t.prototype,"game.BackPackProxy")}(game||(game={}));var SUserItem=function(){function e(e,t){this.pid=e,this.num=+t}return e}();__reflect(SUserItem.prototype,"SUserItem");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_jlbsj_a6","tab_cj_b3","achieve_icon_1","tab_jlbx_b2","tab_jlbsj_b2","tab_lt_a3","tab_jb_a5"],a.resGroupName="AchieveChangeSkin",a.wingSkinName=AchieveChangeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AchieveChangeSkinDR=t,__reflect(t.prototype,"skins.AchieveChangeSkinDR")
}(skins||(skins={}));var SSendData=function(){function e(){}return e}();__reflect(SSendData.prototype,"SSendData");var SBroadcast=function(){function e(){}return e}();__reflect(SBroadcast.prototype,"SBroadcast");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.bl_newchatCom=!1,e.bl_newchatself=!1,e.bl_newchatclub=!1,e.bl_newchatsys=!1,e.showtime=0,e.isshowmain=!1,e.chatBarrageArr=[],e.chatPostArr=[],e}return __extends(a,t),a.prototype.refreshGame=function(){var e=this;e.chatArr=null,e.chatBarrageArr=[],e.chatPostArr=[],e.bl_newchatCom=!1,e.bl_newchatself=!1,e.bl_newchatclub=!1,e.bl_newchatsys=!1},a.prototype.timePlay=function(t){var a=this;a.showtime<50&&a.isshowmain&&a.showtime++,a.showtime%10==0&&a.showtime/10>0&&EventBus.sendMessage(e.GameCommands.GUILD_NOCHAT)},a.prototype.addChatArr=function(t){var a,i,n,o,r=this,s=!1,l=!1,p=r.bl_newchatCom,c=r.bl_newchatself,u=r.bl_newchatclub,m=r.bl_newchatsys;for(a=0,i=t.length;i>a;a++){if(n=t[a],n.area==chatAreaType.type_chat||n.area==chatAreaType.type_chatpost){r.chatArr?r.chatArr.push(n):r.chatArr=[n];var g=r.chatArr.length;if(g>50&&r.chatArr.splice(0,1),n.chatType==chatType.type_com){r.bl_newchatCom=!0;var g=r.chatBarrageArr.length;g>=20&&r.chatArr.splice(0,1),r.chatBarrageArr.push(n)}else n.chatType==chatType.type_self?r.bl_newchatself=!0:n.chatType==chatType.type_club?r.bl_newchatclub=!0:n.chatType==chatType.type_sys&&n.postId&&(o=GlobalConfig.getPostVO(n.postId),o&&o.reddot&&(r.bl_newchatsys=!0))}(n.area==chatAreaType.type_post||n.area==chatAreaType.type_chatpost)&&(n.sendTime=+n.sendTime,r.chatPostArr.push(n),r.chatPostArr.length>50&&r.chatPostArr.pop(),l=!0)}(p!=r.bl_newchatCom||c!=r.bl_newchatself||u!=r.bl_newchatclub||m!=r.bl_newchatsys)&&(s=!0),s&&(r.chatArr.sort(utils.GameUtil.sortMatckFun(["sendTime"],[0])),EventBus.sendMessage(e.GameCommands.TIP_MC_CHANGE)),l&&(r.chatPostArr.sort(utils.GameUtil.sortMatckFun(["priority","sendTime"],[0,0])),PanelDM.getIns().isOpend(vm.MainAllNoteView)?EventBus.sendMessage(e.GameCommands.CHAT_POST_CHANGE):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_mainallnote]))},a.prototype.getChatArr=function(e){var t=[],a=this.chatArr;if(a)for(var i,n=0,o=a.length;o>n;n++)i=a[n],i.chatType==e&&t.push(i);return t},a.prototype.NetPublicChat=function(e,t){var a=BufRequests.PUBLIC_CHAT,i={msg:e,type:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetPrivateChat=function(e,t){var a=BufRequests.PRIVATE_CHAT,i={uid:e,msg:t};this.callProBSim(a,i,Global.serverType_C)},a.NAME="ChatProxy",a}(e.BaseProxy);e.ChatProxy=t,__reflect(t.prototype,"game.ChatProxy")}(game||(game={}));var PromotionGameVO=function(){function e(){}return e.prototype.iswin=function(){var e=!1,t=this.score.split(":");return t.length>1&&(e=parseInt(t[0])>parseInt(t[1])),e},e.prototype.setscore=function(e,t){this.score=e+":"+t},e}();__reflect(PromotionGameVO.prototype,"PromotionGameVO");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.UserCrossJump=GlobalViewIDEnum.pType_league_group,t}return __extends(t,e),t.prototype.refreshGame=function(){var e=this;e.fightData=null,e.richdata=null,e.weekRankdata=null,e.friendshipData=null,e.dekaronData=null,e.dekaronRankData=null,e.qualifyingData=null,e.qualifyingRankData=null,e.qualifyingRecordData=null,e.UserCrossData=null,e.LevelReward=null;var t=Manifest.getIns(FightDM);t&&t.clearpveupTip()},t.prototype.zeroPointRefresh=function(e){var t=this;t.friendshipData&&t.friendshipData.zeroPointRefresh(e),t.dekaronData&&t.dekaronData.zeroPointRefresh(e),t.qualifyingData&&t.qualifyingData.zeroPointRefresh(e)},t.prototype.NetUserCrossInitRequest=function(){var e=BufRequests.Cross_Init,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetUserCrossBMRequest=function(){var e=BufRequests.Cross_Apply,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetRankGroupRequest=function(){var e=BufRequests.Cross_Rank,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetLevelRewardRequest=function(){var e=BufRequests.Cross_rewardInit,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetCrossLevelRewardRequest=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var a=BufRequests.Cross_levelReward,i={type:e,level:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetCrossGloryCoinRequest=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var a=BufRequests.Cross_GloryCoinCost,i={itemId:e,itemNum:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetBattleRequest=function(e,t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=""),void 0===n&&(n=0),utils.GameComUtil.log("fightsend:"+e);var o=BufRequests.Battle,r={type:e,enemy:t.toString(),custom:i.toString(),mapId:n};this.callProBSim(o,r,Global.serverType_C,a)},t.prototype.NetGroupRequest=function(){var e=BufRequests.Group,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetQualifyingInit=function(){var e=BufRequests.Qualifying_Init,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetQualifyingOpponent=function(){var e=BufRequests.Qualifying_RefreshOpponent,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetPurchaseTimesRequest=function(e){var t=BufRequests.Qualifying_PurchaseChallengeTimes,a={num:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetClearTimeRequest=function(e,t){void 0===t&&(t=0);var a=BufRequests.Qualifying_ClearCoolingTime,i={type:e};this.callProBSim(a,i,Global.serverType_C,t)},t.prototype.NetQualifyingRank=function(){var e=BufRequests.Qualifying_Ranking,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetQualifyingDailyRewardsRequest=function(e,t){var a=BufRequests.Qualifying_DailyRewards,i={keyState:e,grade:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetChallengesRecord=function(){var e=BufRequests.Qualifying_ChallengesRecord,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetBattlefieldReportRequest=function(e,t){void 0===t&&(t=0);var a=BufRequests.Secretary_BattlefieldReport,i={battleId:e,type:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetGroupUserRequest=function(e){var t=BufRequests.GroupUser,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetRankRequest=function(){var e=BufRequests.GroupRank,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetRankMemberRequest=function(e){var t=BufRequests.GroupRankMember,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetfriendinitRequest=function(){var e=BufRequests.FRIEND_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetfriendresetRequest=function(){var e=BufRequests.FRIEND_RESET,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetfriendchangeRequest=function(e,t){var a=BufRequests.FRIEND_CHANGE,i={fid:e,usestone:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetfriendinspireRequest=function(){var e=BufRequests.FRIEND_INSPIRE,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetfriendrewardRequest=function(e,t){var a=BufRequests.FRIEND_REWARD,i={type:e,reward_num:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetfriendbuycardRequest=function(e,t){var a=BufRequests.FRIEND_BUY_CARD,i={num:e};this.callProBSim(a,i,Global.serverType_C,t)},t.prototype.NetfriendbuychanceRequest=function(e){var t=BufRequests.FRIEND_BUY_CHANCE,a=null;this.callProBSim(t,a,Global.serverType_C,e)},t.prototype.NetbabelinitRequest=function(){var e=BufRequests.BABEL_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetbabelresetRequest=function(){var e=BufRequests.BABEL_RESET,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetbabeladdedupgradeRequest=function(e){var t=BufRequests.BABEL_ADDED_UPGRADE,a={type:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetbabelstorebuyRequest=function(e,t){var a=BufRequests.BABEL_STORE_BUY,i={itemId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetbabelrankRequest=function(){var e=BufRequests.BABEL_RANK,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetbabelmopupRequest=function(e,t,a,i){var n=BufRequests.BABEL_MOP_UP,o={type:e,storey:t,one_key:a,reward_type:i};this.callProBSim(n,o,Global.serverType_C)},t.prototype.NetBabelLoungeReward=function(e,t){var a=BufRequests.BABEL_LOUNGE_REWARD,i={id:e,type:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetBabelInitiativeEnd=function(){var e=BufRequests.BABEL_INITIATIVE_END,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetInstantPlay=function(e,t){var a=BufRequests.INSTANT_PLAY,i={missionId:e,useType:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetStartBeforeGame=function(e,t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=""),void 0===n&&(n=0);var o=BufRequests.START_BEFORE_GAME,r={type:e,enemy:t.toString(),custom:i.toString(),mapId:n};this.callProBSim(o,r,Global.serverType_C)},t.prototype.NetSkipCombat=function(e,t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=""),void 0===n&&(n=0);var o=BufRequests.SKIP_COMBAT,r={type:e,enemy:t.toString(),custom:i.toString(),mapId:n};this.callProBSim(o,r,Global.serverType_C)},t.prototype.NetBBuyGoods=function(e,t){var a=BufRequests.BUY_TIMES,i={productTypes:e,productNum:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetBMoppingUp=function(e,t,a,i){var n=BufRequests.Club_MoppingUp,o={mapId:e,copyId:t,degree:a,times:i};this.callProBSim(n,o,Global.serverType_C)},t.prototype.NetBCustomsReward=function(e){var t=BufRequests.Secretary_CustomsReward,a={missionId:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetBLookFight=function(e){var t=BufRequests.Battle_Game,a={type:e};this.callProBSim(t,a,Global.serverType_C)},t.NAME="FightProxy",t}(e.BaseProxy);e.FightProxy=t,__reflect(t.prototype,"game.FightProxy")}(game||(game={}));var SBabelRankResponse=function(){function e(){}return e}();__reflect(SBabelRankResponse.prototype,"SBabelRankResponse");var SBabelRankUser=function(){function e(){}return e}();__reflect(SBabelRankUser.prototype,"SBabelRankUser");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.receiveLoveCnt=0,t}return __extends(t,e),t.prototype.refreshGame=function(){var e=this;e.friendList=null,e.findList=null,e.askList=null,e.idifno=null,e.receiveLoveCnt=0},t.prototype.zeroPointRefresh=function(e){var t=this;t.receiveLoveCnt=0;var a,i=this.friendList;if(i)for(var n=0,o=i.length;o>n;n++)a=i[n],a.is_give=0,a.is_exist_get=0,a.is_get=0},t.prototype.getFriendVo=function(e){var t=this.friendList;if(t)for(var a,i=0,n=t.length;n>i;i++)if(a=t[i],a.fid==e)return a;return null},t.prototype.NetUserFriendList=function(){var e=BufRequests.USER_FRIEND_LIST,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetUserFriendAdd=function(e){e+="";var t=BufRequests.USER_FRIEND_ADD,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetUserFriendDel=function(e){e+="";var t=BufRequests.USER_FRIEND_DEL,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetUserFriendApplyAction=function(e,t){var a=BufRequests.USER_FRIEND_APPLY_ACTION,i={type:e,fid:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetUserFriendFind=function(){var e=BufRequests.USER_FRIEND_FIND,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetUserFriendFindByFid=function(e){var t=BufRequests.USER_FRIEND_FINDBYFID,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetUserFriendGiveLove=function(e){var t=BufRequests.USER_FRIEND_GIVE_LOVE,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetUserFriendGetLove=function(e){var t=BufRequests.USER_FRIEND_GET_LOVE,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetUserOneKeyLove=function(e){var t=BufRequests.Friend_OneKey,a={type:e};this.callProBSim(t,a,Global.serverType_C)},t.NAME="FriendProxy",t}(e.BaseProxy);e.FriendProxy=t,__reflect(t.prototype,"game.FriendProxy")}(game||(game={}));var SUserFriends=function(){function e(){}return e}();__reflect(SUserFriends.prototype,"SUserFriends");var SNoticeResponse=function(){function e(){}return e}();__reflect(SNoticeResponse.prototype,"SNoticeResponse");var SNoticeList=function(){function e(){}return e}();__reflect(SNoticeList.prototype,"SNoticeList");var SMail=function(){function e(){}return e}();__reflect(SMail.prototype,"SMail");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.logintype=0,e.check_offline=!1,e.mainchooseheroarr=[],e.mainuserarr=[],e.bet_data=[0,[],[],[]],e.bet_champion_data=[],e.bet_match_data=[],e.isShowBetRedPoint=!0,e.tipmcVO=new TipMcVO,e.alertcostobj={},e.alertVoArr=[],e}return __extends(a,t),a.prototype.refreshGame=function(){var e=this;e.daytask=null,e.maildata=null,e.achieveData=null,e.secretaryData=null,e.rankclubdata=null,e.rankfightdata=null,e.rankquestiondata=null,e.questiondata=null,e.severlistData=null,e.chooseSeverVO=null,e.rankachievedata=null,e.offlineData=null,e.logintype=0,e.alertcostobj={},e.alertVoArr=[]},a.prototype.setChooseSever=function(e){e&&(PFAll.game_serverId=+e.svrId,PFAll.game_servername=e.name,this.chooseSeverVO=e)},a.prototype.zeroPointRefresh=function(e){var t=this;t.daytask&&t.daytask.zeroPointRefresh(e)},a.prototype.timePlay=function(e){var t=this.rankquestiondata;t&&t.timePlay(e);var a=this.questiondata;a&&a.timePlay(e)},a.prototype.setcoststate=function(e,t){var a=t?1:0;this.alertcostobj[e]=a},a.prototype.getMailVO=function(e){var t=this.maildata;if(t)for(var a,i=0,n=t.length;n>i;i++)if(a=t[i],a.mailId==e)return a;return null},a.prototype.setLoginData=function(t){var a=this,i=GlobalAllProxy.getInstance().playerProxy,n=t.user,o=t.player,r=t.item,s=t.modifyNameNum,l=t.modifyLogoNum,p=t.freeChat;if(i.modifyNameNum=s,i.modifyLogoNum=l,i.continuousLogin=t.continuousLogin,i.shareTimes=t.shareTimes,i.freeChat=p,i.randomDeliveryId=t.randomDeliveryId,i.customsClearance=t.customsClearance,i.fightLogArr=t.event,i.teamType=t.teamType,i.scoutPoolEndTime=t.scoutPoolEndTime,i.scoutPool=t.scoutPool,i.todayReflashTime=t.todayReflashTime,i.teamType){var c=GlobalConfig.getCardPoolVO(i.scoutPool);if(c){for(var u=c.scouttypes.split(","),m=!1,g=0,_=u.length;_>g;g++)if(i.teamType==+u[g]){m=!0;break}m||(i.teamType=0)}}var h=new e.SCoachData;h.objectToThis(t.coach),i.coachdata=h;var d=t.playerIds,y=GlobalAllProxy.getInstance().guideProxy,v=t.guide;y.curGuideId=v,y.guideNovice=t.novice;var f,b,G,x=[],C=GlobalAllProxy.getInstance().backpackProxy;for(var T in r)f=new e.SeverItemVO,f.setseverdata(r[T]),b=GlobalConfig.getItemVo(f.itemid),b&&b.type==item_type.type_player&&b.quality>=item_quality.purple&&(G=+b.parameter,d.indexOf(G)&&d.push(G)),x.push(f);C.backItemArr=x,i.playerIds=d;var P=i.playerinfo;if(P.objectToThis(n),utils.GameComUtil.log("uid:"+P.uid+"@ 连接",!0),Global.isrest){var A=Manifest.getIns(FightDM);A&&A.setPlayPVE()}var w=t.offline;a.offlineData=w;for(var k,I=[],S=0,E=o.length;E>S;S++)k=new e.SResponsePlayer,k.objectToThis(o[S]),I.push(k);i.playerArr=I,i.NetVipInit(),i.NetClubRequestResponse(),i.NetTacticsCenter(),i.NetScienceinit(),i.NetScoutInt(),i.NetShareInit(),i.NetTitleInit();var R=GlobalAllProxy.getInstance().gameProxy;R.NetMailInit(),R.NetSecretaryInit(),R.NetAchieveInit(),PFAll.isiosopen(iostest_type.pay_activity)&&R.NetQuestionEnter();var L=GlobalAllProxy.getInstance().activityProxy;L.NetActivityInfo(),L.NetBGiantsRankingResponse();var O=GlobalAllProxy.getInstance().friendProxy;O.NetUserFriendList();var C=GlobalAllProxy.getInstance().backpackProxy;C&&C.NetStoreInit(),R.NetDaily(),egret.setTimeout(a.ClubLevelGetData,a,1e3);var V=SaveUtil.getItem(SaveUtil.type_music_isopen);null!=V?Global.music_isopen=V:Global.music_isopen;var D=SaveUtil.getItem(SaveUtil.type_sound_isopen);null!=D?Global.sound_isopen=D:Global.sound_isopen="1";var N=utils.GameComUtil.getNowSeverVO(),F=Language.ins.login_tip2;N&&(F=N.name),TDGATool.Account(P.uid,P.level,F,1,P.club_name),PFAll.ReportLog(report_type.login),EventBus.sendMessage(e.GameCommands.GAME_LOGIN_COM),Global.isPlauGuide;var M=i.getShareTime(share_type.type_follow);!M&&PFAll.getPFOpenFun(pf_openfun.follow)&&GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_follow,1)},a.prototype.ClubLevelGetData=function(){var e,t=(GlobalAllProxy.getInstance().playerProxy.playerinfo.level,GlobalAllProxy.getInstance().fightProxy);e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_friendship]),e&&!t.friendshipData&&t.NetfriendinitRequest(),e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_dekaronroad]),e&&!t.dekaronData&&t.NetbabelinitRequest(),e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_richfight]),e&&!t.richdata&&t.NetGroupRequest(),e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_qualifying]),e&&!t.qualifyingData&&t.NetQualifyingInit(),"wanba_ceshi_ts"!=Global.html_severNE&&"ceshi_tanwan"!=Global.html_severNE?PFAll.isNowPF([Global.severNE_japan,Global.servrNE_tanwantest,Global.severNE_english,Global.severNE_russia,Global.severNE_dujiaoshou,Global.severNE_tanwan])||(e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_league]),e&&!t.UserCrossData&&(t.NetUserCrossInitRequest(),t.NetLevelRewardRequest())):(e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_league]),e&&!t.UserCrossData&&(t.NetUserCrossInitRequest(),t.NetLevelRewardRequest())),e=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_market]);var a=GlobalAllProxy.getInstance().playerProxy;e&&!a.scoutMarkdata&&GlobalAllProxy.getInstance().playerProxy.NetScoutMarket(0)},a.prototype.getTipForArr=function(e,t,a){var i=this;return i.tipmcVO&&(e=i.tipmcVO.getTipForArr(e,t,a)),e},a.prototype.setServerTask=function(t,a){for(var i,n,o,r,s,l,p,c,u=this,m=0,g=t.length;g>m;m++)if(i=t[m],i.type==taskserverType.type_day){if(l=u.daytask){for(n=i.lists,o=0,r=n.length;r>o;o++)s=n[o],l.setListScore(s.typeId,s.value);EventBus.sendMessage(e.GameCommands.DAY_TASK_BARCHANGE)}}else if(i.type==taskserverType.type_achievetask){if(p=u.achieveData)for(n=i.lists,o=0,r=n.length;r>o;o++)s=n[o],p.setListScore(s.typeId,s.value)}else if(i.type==taskserverType.type_secretytask){c=u.secretaryData;var _=!1;if(c)for(n=i.lists,o=0,r=n.length;r>o;o++)s=n[o],c.setListScore(s.typeId,s.value),_=!0;_&&EventBus.sendMessage(e.GameCommands.SECRETARY_DATA_CHANGE)}else if(i.type==taskserverType.type_fighting){var h=GlobalAllProxy.getInstance().playerProxy.playerinfo.fight,d=utils.GameComUtil.getFightNum(h),y=[BufRequests.Battle],v=i.fight;GlobalAllProxy.getInstance().playerProxy.playerinfo.setFightVo(v);var f=utils.GameComUtil.getFightNum(v);if(-1==y.indexOf(a)){var b=f-d,G=new AlertMcItemVO;G.num=b,u.showZhanliMC(new AlertMcVO(panelmc_type.type_zhanli,G))}EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)}else if(i.type==taskserverType.type_carnival){var x=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(x&&x.carnival){x.carnival.task;for(n=i.lists,o=0,r=n.length;r>o;o++)s=n[o],x.settask(s.typeId,s.value)}}},a.prototype.showZhanliMC=function(e){var t=this,a=t.alertVoArr;if(a&&e.addobj&&0!=e.addobj.num){for(var i,n=a.length,o=n-1;o>=0;o--)i=a[o],i.addobj.mcurl&&i.addobj.mcurl==e.addobj.mcurl?a.splice(o,1):i.type==e.type&&a.splice(o,1);a.push(e);var r=Manifest.getIns(vm.AlertZhanliView);r&&r.isOpend()||PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_zhanli])}},a.prototype.clearAlertArr=function(){this.alertVoArr=[]},a.prototype.gettrainChoosePlayer=function(){var e=this.trainChoosePlayer,t=GlobalAllProxy.getInstance().playerProxy,a=t.playerArr;if(e){var i=t.getSeverPlayerVO(e);i||(e=null)}if(!e)for(var i,n,o=-1,r=0,s=a.length;s>r;r++)i=a[r],n=i.position,n&&i.card_trait>o&&(o=i.card_trait,e=i.playerid);return e||a.length&&(e=a[0].playerid),e},a.prototype.settrainChoosePlayer=function(e){this.trainChoosePlayer=e},a.prototype.getBetChampionDataForTeamID=function(e){for(var t=this,a=t.bet_data[1],i=0;i<a.length;i++)if(a[i].teamId==e)return a[i];return null},a.prototype.showMcAnimo=function(e,t,a,i){void 0===a&&(a=null),void 0===i&&(i=null);var n,o,r,s,l,p,c,u=this,m=GlobalAllProxy.getInstance().playerProxy.clubData;switch(e){case panelmc_type.type_coachupcla:s=ResName.mc_jiaolianshengjie,n=new AlertMcItemVO,n.mcurl=s,c=ResName.getDragonArr(s),n.resarr=c,this.showZhanliMC(new AlertMcVO(e,n));break;case panelmc_type.type_coachupstar:s=ResName.mc_jiaolianshengxing,n=new AlertMcItemVO,n.mcurl=s,c=ResName.getDragonArr(s),n.resarr=c,this.showZhanliMC(new AlertMcVO(e,n));break;case panelmc_type.type_builduplv:m&&(r=t,s=ResName.mc_buildingSLV,l=m.getDataForType(r),l&&(n=new AlertMcItemVO,o=r==stafftype.type_player?"build_jlb_lv":ResName.getBuildImg(r,l.blevel,!0,!0),n.mcurl=s,c=ResName.getDragonArr(s),c.push(o),n.resarr=c,n.changebone="building",n.changeurl=o,n.tiptxt=FormatString.format(Language.ins.club_grade_tip4,l.bname,l.blevel),this.showZhanliMC(new AlertMcVO(e,n))));break;case panelmc_type.type_clubupgrade:m&&(r=t,p=m.grade,l=m.getDataForType(r),s=ResName.mc_buildingLV,l&&(n=new AlertMcItemVO,o=ResName.getBuildImg(stafftype.type_player,p,!0,!1),n.mcurl=s,c=ResName.getDragonArr(s),c.push(o),n.resarr=c,n.changebone="building",n.changeurl=o,n.tiptxt=FormatString.format(Language.ins.club_grade_tip3,l.bname,m.grade),u.showZhanliMC(new AlertMcVO(e,n))));break;case panelmc_type.type_skillup:n=new AlertMcItemVO,s=ResName.mc_manlevel,n.mcurl=s,c=ResName.getDragonFastArr(s),n.resarr=c,u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup);break;case panelmc_type.type_equipupgrade:n=new AlertMcItemVO,s=1==t?ResName.mc_zhuangbeishengjie:ResName.mc_zhuangbeishenping,n.mcurl=s;var o=a;c=ResName.getDragonArr(s),c.push(o),n.resarr=c,n.changebone="building",n.changeurl=o,u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup);break;case panelmc_type.type_studyupgrade:n=new AlertMcItemVO,s=ResName.mc_zhanshushengji,n.mcurl=s;var o=a;c=ResName.getDragonArr(s),c.push(o),n.resarr=c,n.changebone="building",n.changeurl=o,u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup);break;case panelmc_type.type_starup:if(n=new AlertMcItemVO,a){s=ResName.mc_starlv_246;var o=a;n.mcurl=s,c=ResName.getDragonArr(s),c.push("tab_xlzx1_b9"),c.push(o),n.changebone="building",n.changeurl=o,n.tiptxt=i}else s=ResName.mc_starlv_35,n.mcurl=s,c=ResName.getDragonArr(s),c.push("tab_xlzx1_b9");n.resarr=c,n.num=t,u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup);break;case panelmc_type.type_herobreach:n=new AlertMcItemVO;var g=t;s=ResName.mc_break,n.mcurl=s,c=ResName.getDragonArr(s),o=ResName.getRankPlayerbg(g,!1,!1,!0),c.push(o),n.changebone="building",n.changeurl=o,n.resarr=c,u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup);break;case panelmc_type.type_richmc:n=new AlertMcItemVO,0==t?s=ResName.mc_leveldown:1==t?s=ResName.mc_defend:2==t&&(s=ResName.mc_levelup),n.mcurl=s,c=ResName.getDragonArr(s),o=a,c.push(o),n.changebone="building",n.changeurl=o,n.resarr=c,u.showZhanliMC(new AlertMcVO(e,n));break;case panelmc_type.type_league:n=new AlertMcItemVO,1==t?s=ResName.mc_leveldown:2==t&&(s=ResName.mc_levelup),n.mcurl=s,c=ResName.getDragonArr(s),o=a,c.push(o),n.changebone="building",n.changeurl=o,n.resarr=c,u.showZhanliMC(new AlertMcVO(e,n));break;case panelmc_type.type_herosign:s=ResName.mc_center_suc,n=new AlertMcItemVO;var g=t;n.mcurl=s,n.num=g,c=ResName.getDragonArr(s);var _=GlobalConfig.getPlayerPorpertyVO(g);o=ResName.getPlayerIcon(_.picon),c.push(o),n.changebone="building",n.changeurl=o,n.resarr=c,n.iscacheguide=i,u.showZhanliMC(new AlertMcVO(e,n));break;case panelmc_type.type_herobereborn:var g=t,h=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(g);if(h){s=ResName.mc_zhuansheng,n=new AlertMcItemVO,n.mcurl=s,n.num=g,c=ResName.getDragonArr(s);var _=GlobalConfig.getPlayerPorpertyVO(g);o=ResName.getPlayerIcon(_.picon);var d=h.transform,y=ResName.getHeroRebornImg(d);c.push(o),y&&""!=y&&(c.push(y),n.changebone="building",n.changeurl=y,n.resarr=c,n.tiptxt=FormatString.format(Language.ins.hero_info_tip7,d),u.showZhanliMC(new AlertMcVO(e,n)))}break;case panelmc_type.type_opennew:var v=t.split(","),f=v.length;if(f){r=+v[0];var b=0/0;f>1&&(b=+v[1]);var G=GlobalConfig.getUnLockVo(r);if(G){s=ResName.mc_function,n=new AlertMcItemVO,o=a?a:"guide_open_a1",n.mcurl=s,c=ResName.getDragonArr(s),c.push(o),n.resarr=c,n.changebone="building",n.changeurl=o;var x=G.getName(b);n.tiptxt=FormatString.format(Language.ins.guide_tip0,x),u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup)}}break;case panelmc_type.type_vipupgrade:n=new AlertMcItemVO;var g=t;s=ResName.mc_vipLV,n.mcurl=s,c=ResName.getDragonArr(s),n.changebone="building",n.resarr=c,n.needclose=!0,n.num=t,n.tiptxt=FormatString.format(Language.ins.vip_tip6,t),u.showZhanliMC(new AlertMcVO(e,n)),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup)}},a.prototype.addofflineData=function(t,a){void 0===a&&(a=!1);var i=GlobalAllProxy.getInstance().playerProxy,n=GlobalAllProxy.getInstance().backpackProxy,o=t.reward,r=t.totalGold,s=t.playerExp,l=t.expPool,p=t.clubExp,c=!1;if(a&&(c=!0),o&&o.length){var u;e.SeverItemVO;for(var m in o)u=new e.SeverItemVO,u.setseverdata(o[m]),n.addBagItemNum(u.itemid,u.count,c,a)}r&&n.addBagItemNum(GlobalEnum.itemid_coin,r,c,a),p&&n.addBagItemNum(GlobalEnum.itemid_exp,p,c,a),l&&n.addBagItemNum(GlobalEnum.itemid_playerexp,l,c,a),c&&a&&FLOAT.showLoopInfo();var g;if(s)for(var g,_=i.playerArr,h=0,d=_.length;d>h;h++)g=_[h],g.position&&g.addPlayerExp(s,d-1==h)},a.prototype.loginaccount=function(){if(PFAll.isGetPFdata()){var e=GlobalAllProxy.getInstance().gameProxy.severlistData;e||GlobalAllProxy.getInstance().gameProxy.NetGameNotice(PFAll.game_pf,PFAll.game_platform,PFAll.game_userid,PFAll.game_token,PFAll.game_pf_channel)}},a.prototype.NetGetGameInitInfo=function(){var t={sign:".........",userid:"1458887263",serverid:"1"};this.callB(e.GameRequests.getGameInitInfo,t)},a.prototype.NetSendLogin=function(e,t,a,i,n,o,r,s){o=Math.floor(o);var l=BufRequests.Login,p={account:e,platform:t,serverId:a,pf:i,timestamp:o,token:n,channel:s,openid:r};debugDM.log("@登录："+JSON.stringify(p)),this.callProBSim(l,p)},a.prototype.NetSendActivityChangeCardPool=function(){var e=BufRequests.User_ChangeCardPool,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetSendOperatingActivityChampionGuess=function(e,t){var a=BufRequests.OperatingActivity_ChampionGuess,i={teamId:e,cost:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetSendOperateActivityGuessResponse=function(e,t,a){var i=BufRequests.OperatingActivity_Guess,n={matchId:e,matchResult:t,cost:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.NetOperatingActivityChampionGuessInit=function(){var e=BufRequests.OperatingActivity_ChampionGuessInit,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetOperatingActivityGuessInit=function(){var e=BufRequests.OperatingActivity_GuessInit,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetZerorefreshCardPool=function(){var e=BufRequests.User_ZeroRefresh,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetDaily=function(){var e=BufRequests.DAILY_LIST,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetDailyGetReward=function(e){var t=BufRequests.DAILY_GET_REWARD,a={num:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetDailyGetTypeReward=function(e){var t=BufRequests.DAILY_GET_TYPE_REWARD,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetMailInit=function(){var e=BufRequests.MAIL_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetReadMail=function(e){var t=BufRequests.MAIL_READ,a={mailId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetRewardMail=function(e,t){var a=BufRequests.MAIL_RECEIVE_ATTACHMENTS,i={mailId:e};this.callProBSim(a,i,Global.serverType_C,t)},a.prototype.NetObtainRewardMail=function(){var e=BufRequests.Mail_AllAttachment,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetDeleteMail=function(e,t){var a=BufRequests.MIAL_DELETE,i={mailId:e,celerity:t};this.callProBSim(a,i,Global.serverType_C,t)},a.prototype.NetSecretaryInit=function(){var e=BufRequests.SECRETARY_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetCommitTask=function(e){var t=BufRequests.SECRETARY_COMMIT_TASK,a={taskId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetAchieveInit=function(){var e=BufRequests.ACHIEVE_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetAchieveReward=function(e){var t=BufRequests.ACHIEVE_REWARD,a={level:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetUserLogin=function(e,t,a,i,n,o){void 0===n&&(n=""),void 0===o&&(o="");var r=BufRequests.LOGIN_CRATE_ROLE,s={stepType:e,name:t,logo:a,playerId:i.toString(),inviter:o.toString(),figureurl:n.toString()};this.callProBSim(r,s,Global.serverType_C)},a.prototype.NetModifyName=function(e){var t=BufRequests.SETTING_MODIFY_NAME,a={name:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetModifyLogo=function(e){var t=BufRequests.SETTING_MODIFY_LOGO,a={logo:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetRankClub=function(){var e=BufRequests.RANK_CLUB,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetRankAchieve=function(){var e=BufRequests.RANK_Achieve,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetRankTeamFighting=function(){var e=BufRequests.RANK_TEAM,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetHeartbeat=function(){var e=BufRequests.Club_Recruitment,t=null;this.callProBSim(e,t,Global.serverType_C,null,!1)},a.prototype.NetShare=function(e,t){var a=BufRequests.Secretary_Share,i={id:e,state:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetGameGift=function(e){e=+e;var t=BufRequests.Share_GameGift,a={itemId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetQuestionEnter=function(){var e=BufRequests.QUESTION_ENTER,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetQuestionQuit=function(){var e=BufRequests.QUESTION_QUIT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetQuestionNotification=function(e){var t=BufRequests.QUESTION_NOTIFICATION,a={num:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetSelectAnswer=function(e,t){var a=BufRequests.QUESTION_CHOOSE_ANSWER,i={num:e,option:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetExcludeError=function(){var e=BufRequests.QUESTION_USE_EXCLUDE_ERROR,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetChooseAnswer=function(){var e=BufRequests.QUESTION_USE_CHOOSE_ANSWER,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetQuestionRank=function(){var e=BufRequests.QUESTION_RANK,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetGameNotice=function(t,a,i,n,o){Global.ishtml;var r={pf:t,account:i,token:n,platformName:o,platform:a};this.call(e.NetGetServerNotice,r,Global.serverType_C)},a.prototype.NetGameLogLogin=function(t,a,i,n,o,r,s,l,p){var c={pf:t,platform:a,account:i,svrId:n,username:o,level:r,uid:s,platformName:p,power:l};this.call(e.NetGameLogLogin,c,Global.serverType_C)},a.prototype.NetGetMonthGift=function(e){var t=BufRequests.GET_MONTH_CARD_GIFT,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetGetVipLogin=function(){var e=BufRequests.Vip_LoginGameReceive,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetRecharg=function(e){var t=BufRequests.Shop_Recharge,a={chargeId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetReport=function(e){var t=BufRequests.Battle_Report,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetBReLinkGame=function(e,t,a,i,n,o,r){void 0===r&&(r=1);var s=BufRequests.User_Reconnection,l={account:e,platform:t,serverId:a,pf:i,timestamp:o,token:n,reconnect:r};this.callProBSim(s,l)
},a.prototype.NetBExchangeCode=function(e){var t=BufRequests.Share_ExchangeCode,a={cdk:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetleadGift=function(){var e=BufRequests.User_Lead,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetGetAppSig=function(e){},a.prototype.NetQqllqGetDataSig=function(e,t){},a.prototype.NetGetCipherData=function(){},a.prototype.NetGetDataSig=function(e,t,a){},a.prototype.NetAiweiyoustartorder=function(e){},a.NAME="GameProxy",a}(e.BaseProxy);e.GameProxy=t,__reflect(t.prototype,"game.GameProxy")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._iscache=!1,e.guideNovice=[],e.curGuideId=0,e.initConfig(),e}return __extends(a,t),a.prototype.refreshGame=function(){var t=this;this.curGuideId=0,t.guideParse=new e.GuideParseVO,t.syncData=new GuideSyncData,a.isGuide=!1,a.isFightGuide=!1,a.isTaskFollow=!1,t._iscache=!1,t.guideNovice=[]},a.prototype.initAddEvent=function(){EventBus.addMessage("MsgGuideTaskRewardBackTrigger",this.onGuideStartCaller,this),EventBus.addMessage(e.GameCommands.ON_ENTER_GAME_INIT,this.onenterGamefun,this)},a.prototype.initConfig=function(){var t=this;t.guideParse=new e.GuideParseVO,t.syncData=new GuideSyncData,t.initAddEvent()},a.prototype.isPlayGuide=function(){var e=!1;return(a.isGuide||this._iscache)&&(e=!0),e},a.prototype.clickplayguide=function(t){var a=this;a.isPlayGuide()&&EventBus.getIns().sendMessage(t),e.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(e.GameCommands.guide_MsgTaskFollowClick)},a.prototype.onenterGamefun=function(t,a){void 0===t&&(t=null),void 0===a&&(a=null);var i=this,n=!1;a&&(n=!0);var o=i.syncData;this.curGuideId&&o.updateFromSyncID(this.curGuideId),o=i.getGuideJumpNext(o),o=this.goNeedGuideData();var r;if(null!=o&&(r=GlobalConfig.getGuideVo(o.getSyncGuideID())),Global.isshowGuide||(r=null),null!=r){var s=r.getStepItem(o.getSyncStepID()),l=PanelDM.getIns();l.clearTopPanels(),l.clearVIPanels();var p=s.getStrPro(s.prepareActionParam);if(null!=s&&p?i.pleyGuildAction(s):Global.goMainScene(),PFAll.game_gifid&&""!=PFAll.game_gifid)return GlobalAllProxy.getInstance().gameProxy.NetGameGift(PFAll.game_gifid),void(PFAll.game_gifid="");PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guide],GuideSyncData.TransTOSyncID(o.getSyncGuideID(),o.getSyncStepID())),e.GuideProxy.isGuide=!0,PanelDM.getIns().close(vm.TaskFollowView)}else{var l=PanelDM.getIns();if(n&&l.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pve]),PFAll.game_gifid&&""!=PFAll.game_gifid)return GlobalAllProxy.getInstance().gameProxy.NetGameGift(PFAll.game_gifid),void(PFAll.game_gifid="")}},a.prototype.pleyGuildAction=function(e){var t,a,i,n=PanelDM.getIns(),o=e.getStrPro(e.prepareActionParam);if(null!=e&&o){i=o.split(/\,/);var r,s;for(r in i){t=i[r],a=t.split(":");for(s in a)a[s]=parseInt(a[s]);switch(a[0]){default:n.goWindow(a)}}}},a.prototype.getGuideJumpNext=function(e){var t,a=this;if(null!=e){var i=a.getGuildeParse();if(t=i.getGuideVO(e.getSyncGuideID()),null!=t){var n,o=e.getSyncStepID(),r=t.getStepItem(o);do n=t.getNextStepItemByCurrentStep(r),null!=n&&1==n.jump&&(r=n,e.update(e.getSyncGuideID(),r.id));while(null!=n&&1==n.jump)}}return e},a.prototype.getGuildeParse=function(){var e=this;return e.guideParse&&!e.guideParse.items&&GlobalConfig.GUIDE_ARRAR&&(e.guideParse.items=GlobalConfig.GUIDE_ARRAR),e.guideParse},a.prototype.sync=function(e){},a.prototype.onGuideStartCaller=function(){this._iscache||this.startNowGuide()},Object.defineProperty(a.prototype,"isCache",{get:function(){return this._iscache},set:function(e){this._iscache=e},enumerable:!0,configurable:!0}),a.prototype.cacheGuide=function(){this._iscache&&(this._iscache=!1,this.startNowGuide())},a.prototype.goNeedGuideData=function(){if(!Global.isshowGuide)return null;var e=this,t=e.getGuildeParse();if(0==this.syncData.getSyncGuideID()&&0==this.syncData.getSyncStepID())return this.setGuidePateUp(1,1),this.syncData;var a=t.getNextNeedGuideVO(this.syncData.getSyncGuideID(),this.syncData.getSyncStepID());return null!=a?(this.setGuidePateUp(a.gid,a.sid),this.syncData):null},a.prototype.playGuideForStep=function(t,a,i){PanelDM.getIns().clearTopPanels(),PanelDM.getIns().clearVIPanels(),e.GuideProxy.isGuide=!0,EventBus.sendMessage(e.GameCommands.START_NEW_PLAYER);var n;if(n=GlobalConfig.getGuideVo(t),i&&null!=n){var o=n.getStepItem(a);this.pleyGuildAction(o)}this.syncData.update(t,a),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guide],GuideSyncData.TransTOSyncID(t,a))},a.prototype.getIsNeedNextGuide=function(){var e=this,t=e.getGuildeParse(),a=t.getNextNeedGuideVO(this.syncData.getSyncGuideID(),this.syncData.getSyncStepID());return a},a.prototype.setGuidePateUp=function(e,t){void 0===t&&(t=0),null!=this.syncData&&this.syncData.update(e,t)},a.prototype.startNowGuide=function(){if(Global.isshowGuide){var t=this.goNeedGuideData();t&&(this.curGuideId=t.gettoGuideId(),e.GuideProxy.isGuide=!0,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guide],GuideSyncData.TransTOSyncID(t.getSyncGuideID(),t.getSyncStepID())))}},a.prototype.startCacheGuild=function(){},a.prototype.NetSetGuide=function(e,t,a){var i=BufRequests.NOVICE_GUIDE,n={guide:e,save:t,type:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.getcurstepvo=function(){var e=this;if(e.playerGuideId){var t=GuideSyncData.TransTOGuideID(e.playerGuideId),a=GuideSyncData.TransTOStepID(e.playerGuideId),i=GlobalConfig.getGuideVo(t);if(i){var n=i.getStepItem(a);return n}}return null},a.prototype.closeGuide=function(){var e=this;if(a.isGuide=!1,a.isFightGuide=!1,e._iscache=!1,e.playerGuideId){var t=e.syncData;t.updateFromSyncID(e.playerGuideId);var i=t.getSyncGuideID(),n=GlobalConfig.getGuideVo(i),o=n.getLastStep();e.curGuideId=GuideSyncData.TransTOSyncID(i,o.id),PanelDM.getIns().close(vm.NewPlayFollowView)}},a.prototype.goTaskFollow=function(e){this.isPlayGuide()||e&&e.window&&e.hasArrow()&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_taskfollow],e)},a.prototype.addGuideNovice=function(e){var t=this,a=t.guideNovice;-1==a.indexOf(e)&&a.push(e)},a.NAME="GuideProxy",a.isGuide=!1,a.isFightGuide=!1,a.isTaskFollow=!1,a}(e.BaseProxy);e.GuideProxy=t,__reflect(t.prototype,"game.GuideProxy")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.refreshGame=function(){},t.prototype.timePlay=function(e){},t.prototype.zeroPointRefresh=function(e){var t=this,a=t.Guild;a&&a.data&&(a.data.magnate=0,a.data.general=0,a.data.donateNum=0)},t.prototype.isjoinGuild=function(){var e=this,t=!1;return e.Guild&&e.Guild.data&&(t=!0),t},t.prototype.isredbagGuild=function(){var e=this,t=!1,a=e.Guild;if(a&&a.data&&a.data.redPacket.length>0)for(var i=0,n=a.data.redPacket.length;n>i;i++)if(0==a.data.redPacket[i].whetherReceive){t=!0;break}return t},t.prototype.NetGuildRankRequest=function(){var e=BufRequests.Guild_Ranking,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.GuildCommonRequest=function(e,t,a,i){var n=e,o={type:t,id:a,name:i};this.callProBSim(n,o,Global.serverType_C)},t.prototype.NetGuildReplyRequest=function(e,t,a){var i=BufRequests.Guild_Reply,n={type:e,guildId:t,fid:a};this.callProBSim(i,n,Global.serverType_C)},t.prototype.NetGuildManagementRequest=function(e,t){var a=BufRequests.Guild_Management,i={type:e,fid:t};this.callProBSim(a,i,Global.serverType_C)},t.prototype.NetGuildDonateRequest=function(e){var t=BufRequests.Guild_Donate,a={type:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetGuildShowLogRequest=function(){var e=BufRequests.Guild_ShowLog,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetGuildQuitGuildRequest=function(){var e=BufRequests.Guild_Quit,t=null;this.callProBSim(e,t,Global.serverType_C)},t.prototype.NetGuildSettingRequest=function(e,t,a){void 0===a&&(a=0);var i=BufRequests.Guild_ModifySetting,n={type:e,text:t,auth:a};this.callProBSim(i,n,Global.serverType_C)},t.prototype.NetSendRedPacketRequest=function(e){var t=BufRequests.Guild_ManualSendRedPacket,a={index:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetGrabRedPacketRequest=function(e){var t=BufRequests.Guild_GrabRedPacket,a={gearSelection:e};this.callProBSim(t,a,Global.serverType_C)},t.prototype.NetApplyListsRequest=function(){var e=BufRequests.Guild_Details,t=null;this.callProBSim(e,t,Global.serverType_C)},t.NAME="GuildProxy",t}(e.BaseProxy);e.GuildProxy=t,__reflect(t.prototype,"game.GuildProxy")}(game||(game={}));var SGuildData=function(){function e(){}return e}();__reflect(SGuildData.prototype,"SGuildData");var SRedPacket=function(){function e(){}return e}();__reflect(SRedPacket.prototype,"SRedPacket");var SRedPacketRecords=function(){function e(){}return e}();__reflect(SRedPacketRecords.prototype,"SRedPacketRecords");var SGuildLog=function(){function e(){}return e}();__reflect(SGuildLog.prototype,"SGuildLog");var SGuildMember=function(){function e(){}return e}();__reflect(SGuildMember.prototype,"SGuildMember");var SGuildInfo=function(){function e(){this.strarr=["name","logo","notice","chairmanName"],this.namearr=[]}return e.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.namearr.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},e}();__reflect(SGuildInfo.prototype,"SGuildInfo");var game;!function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.refreshGame=function(){},a.prototype.timePlay=function(e){},a.prototype.zeroPointRefresh=function(e){var t=this;t.operateActivityLoginPush&&t.operateActivityLoginPush.updata();var a=parseInt(Global.systemTimeNum/1e3+"");t.dailyOnline&&(t.dailyOnline.endTime<=a?t.dailyOnline=null:t.dailyOnline.timeOnline=0),t.consumerGift&&(t.consumerGift.endTime<=a?t.consumerGift=null:(t.consumerGift.dailyTotal=0,t.consumerGift.dailyRewards=[])),t.loginSignIn&&t.loginSignIn.endTime<=a&&(t.loginSignIn=null),t.starStruck&&t.starStruck.endTime<=a&&(t.starStruck=null)},a.prototype.actinit=function(){var t,a=this;if(a.newOperateActivityPush)for(var i,n=0,o=a.newOperateActivityPush.length;o>n;n++)t=a.newOperateActivityPush[n],i=t.actType,i==act_type.danbipay?a.operateActivityLoginPush.danbiPayInit(t):i==act_type.leijipay?a.operateActivityLoginPush.leijiPayInit(t):i==act_type.lianxupay?a.operateActivityLoginPush.lianxuPayInit(t):i==act_type.yiyuan?a.operateActivityLoginPush.yiyuanInit(t):i==act_type.ssrpoint?a.operateActivityLoginPush.ssrpointInit(t):i==act_type.touzi?a.operateActivityLoginPush.touziInit(t):i==act_type.baozang?a.operateActivityLoginPush.baozangInit(t):i==act_type.zaixian?a.zaixianInit(t):i==act_type.xiaofei?a.xiaofeiInit(t):i==act_type.qiandao?a.qiandaoInit(t):i==act_type.juxing?a.juxingInit(t):i==act_type.chaozhi?a.operateActivityLoginPush.chaozhiInit(t):i==act_type.ssrpoint?a.operateActivityLoginPush.ssrpointInit(t):i==act_type.laba?a.operateActivityLoginPush.labaInit(t):i==act_type.zhuanpan?a.operateActivityLoginPush.zhuanpanInit(t):i==act_type.mibao&&a.operateActivityLoginPush.mibaoInit(t);EventBus.sendMessage(e.GameCommands.MAIN_TOPBTN_CHANGE)},a.prototype.juxingInit=function(e){var t=this;t.loginSignIn&&(t.loginSignIn=null),t.starStruck=new SStarStruckResponse,t.starStruck.activityId=e.actId,t.starStruck.actPeriods=e.actPeriods,t.starStruck.endTime=e.endTime,t.starStruck.startTime=e.startTime,t.starStruck.score=0,t.starStruck.itemList=[];var a=GlobalConfig.getactivityoperateVO(e.actId);if(a){for(var i,n=a.relation,o=GlobalConfig.getactivityjuxingVO(n),r=o.playerbuy.split("|"),s=o.itemsbuy.split("|"),l=0,p=r.length;p>l;l++){var c=r[l].split(",");i=new SUserItem(c[0],"0"),t.starStruck.itemList.push(i)}for(var l=0,p=s.length;p>l;l++){var c=s[l].split(",");i=new SUserItem(c[0],"0"),t.starStruck.itemList.push(i)}}},a.prototype.qiandaoInit=function(e){var t=this;t.loginSignIn&&(t.loginSignIn=null),t.loginSignIn=new SLoginSignInResponse,t.loginSignIn.activityId=e.actId,t.loginSignIn.actPeriods=e.actPeriods,t.loginSignIn.endTime=e.endTime,t.loginSignIn.startTime=e.startTime,t.loginSignIn.consumerSign=0,t.loginSignIn.signInRewards=[],t.loginSignIn.consumerSignIn=[]},a.prototype.xiaofeiInit=function(e){var t=this;t.consumerGift&&(t.consumerGift=null),t.consumerGift=new SConsumerGiftResponse,t.consumerGift.activityId=e.actId,t.consumerGift.actPeriods=e.actPeriods,t.consumerGift.endTime=e.endTime,t.consumerGift.startTime=e.startTime,t.consumerGift.dailyTotal=0,t.consumerGift.consumerTotal=0,t.consumerGift.dailyRewards=[],t.consumerGift.consumerRewards=[]},a.prototype.zaixianInit=function(e){var t=this;t.dailyOnline&&(t.dailyOnline=null),t.dailyOnline=new SDailyOnlineResponse,t.dailyOnline.activityId=e.actId,t.dailyOnline.actPeriods=e.actPeriods,t.dailyOnline.endTime=e.endTime,t.dailyOnline.startTime=e.startTime,t.dailyOnline.onlineRewards=[],t.dailyOnline.timeOnline=0},a.prototype.NetOperateActivityGiftRequest=function(e,t,a,i){void 0===i&&(i=0);var n=BufRequests.OperatingActivity_ReceiveRewards,o={actType:e,actPeriods:t,param:a,type:i};this.callProBSim(n,o,Global.serverType_C)},a.prototype.NetOperateActivityBuyRequest=function(e,t,a){var i=BufRequests.OperatingActivity_OperatingActivityBuy,n={actType:e,actPeriods:t,param:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.NetOperateActivityLuckilyRouletteRequest=function(e){var t=BufRequests.OperatingActivity_OperatingActivityBuy,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.NAME="ActivityProxy",a}(e.BaseProxy);e.OperationProxy=t,__reflect(t.prototype,"game.OperationProxy")}(game||(game={}));var SNewActivity=function(){function e(){}return e}();__reflect(SNewActivity.prototype,"SNewActivity");var SDailyOnlineResponse=function(){function e(){}return e}();__reflect(SDailyOnlineResponse.prototype,"SDailyOnlineResponse");var SConsumerGiftResponse=function(){function e(){}return e}();__reflect(SConsumerGiftResponse.prototype,"SConsumerGiftResponse");var SLoginSignInResponse=function(){function e(){}return e}();__reflect(SLoginSignInResponse.prototype,"SLoginSignInResponse");var SStarStruckResponse=function(){function e(){}return e}();__reflect(SStarStruckResponse.prototype,"SStarStruckResponse");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_zs_b9","tab_jlbsj_a6","tab_cj_b3","achieve_icon_1","tab_jlbx_b2","tab_kjzx_g3"],a.resGroupName="AchieveListSkin",a.wingSkinName=AchieveListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AchieveListSkinDR=t,__reflect(t.prototype,"skins.AchieveListSkinDR")}(skins||(skins={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.isnewInvite=!1,e.init(),e}return __extends(a,t),a.prototype.refreshGame=function(){var t=this;this.playerinfo=new e.PlayerVO,t.playerArr=null,t.tacticsData=null,t.clubData=null,t.scienceData=null,t.scoutData=null,t.equipArr=null,t.vipData=null,t.friendInvitData=null,t.inviteData=null,t.friendBuilddata=null,t.fightLogArr=[],t.shareTimes=[],t.m_newherocarArr=[]},a.prototype.zeroPointRefresh=function(e){var t=this;t.playerinfo&&t.playerinfo.zeroPointRefresh(e),t.vipData&&t.vipData.zeroPointRefresh(e),t.scoutMarkdata&&t.scoutMarkdata.zeroPointRefresh(e),t.scienceData&&t.scienceData.zeroPointRefresh(e),t.coachdata&&t.coachdata.zeroPointRefresh(e),t.freeChat=0,t.continuousLogin+=1,t.scoutPoolEndTime=e.scoutPoolEndTime,t.todayReflashTime=e.todayReflashTime,t.scoutPool=e.scoutPool;var a=GlobalAllProxy.getInstance().playerProxy.teamType;if(a){var i=GlobalConfig.getCardPoolVO(t.scoutPool);if(i){for(var n=i.scouttypes.split(","),o=!1,r=0,s=n.length;s>r;r++)if(a==+n[r]){o=!0;break}o||(GlobalAllProxy.getInstance().playerProxy.teamType=0)}}},a.prototype.getAllAddData=function(){},a.prototype.init=function(){this.playerinfo=new e.PlayerVO,this.m_newherocarArr=[]},a.prototype.getLevel=function(){var e=0;return this.clubData&&(e=this.clubData.level),e},a.prototype.timePlay=function(e){var t=this,a=t.scienceData;a&&a.timePlay(e);var i=t.scoutData;i&&i.timePlay(e);var n=t.clubData;n&&n.timePlay(e);var o=t.playerinfo;o&&o.timePlay(e);var r=t.scoutMarkdata;r&&r.timePlay(e);var s=t.weeklyshare;s&&s.timePlay(e);var l=GlobalAllProxy.getInstance().activityProxy;if(l&&l.activityArr){var p=l.activityArr.onlineInit;p&&(p.timeOnline+=e)}t.coachdata&&t.coachdata.timePlay(e)},a.prototype.setCoachPlay=function(e){this.m_chooseCoach=e},a.prototype.getCoachPlay=function(){if(!this.m_chooseCoach){var e=this.coachdata;e&&(this.m_chooseCoach=e.coach[0].coachId)}return this.m_chooseCoach},a.prototype.getCoachPlayerVO=function(e){var t=this.coachdata;if(t)for(var a,i=t.coach,n=0,o=i.length;o>n;n++)if(a=i[n],a.coachId==e)return a;return null},a.prototype.goBuyCoin=function(){var e=GlobalConfig.getItemVo(GlobalEnum.itemid_coin);if(e){var t=e.getShopArr(),a=t.length;if(a){var i;if(a&&(i=t[0][0]),a>1){var n,o,r,s=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var l in t)if(o=t[l],r=+o[0],n=GlobalConfig.getShopVO(r),s>=n.lvlimit){i=r;break}}var p=new ShopBuyViewOpenVO(i,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],p)}}},a.prototype.addNewCoachForId=function(e){var t=this.coachdata;if(t){e=+e;var a=this.getCoachPlayerVO(e);if(!a){a=new SCoachInfo(e,1,0,1),t.coach.push(a);var i=GlobalConfig.getCoachVO(e);if(i){var n=FormatString.format(Language.ins.coach_tip7,i.name);FLOAT.NShowPutong([n])}t.addNewPlayid(e)}}},a.prototype.addNewTitleForType=function(t){var a=this.titledata;if(a&&a.club){var i=a.club.title;t=+t;for(var n=0,o=i.length;o>n;n++)i[n].type==t&&(i[n].level=1);EventBus.getIns().sendMessage(e.GameCommands.TITLE_GET_NEW)}},a.prototype.addFriendInvite=function(t){var a=this.inviteData;if(a&&a.length){for(var i,n=a.length-1;n>=0;n--)i=a[n],+i.fid==+t.fid&&a.splice(n,1);a.push(t)}else this.inviteData=[t];this.isnewInvite=!0,EventBus.getIns().sendMessage(e.GameCommands.TIP_MC_CHANGE)},a.prototype.removeFriendInvite=function(e){var t=this.inviteData;if(t&&t.length){e=+e;for(var a,i=t.length-1;i>=0;i--)a=t[i],+a.fid==e&&t.splice(i,1)}},a.prototype.getLastFastFight=function(){var t=this,a=GlobalConfig.getVipVO(t.playerinfo.vipLevel),i=0;if(a){var n=a.sweepcard+e.ComMonthCarVO.getNumSweepcard(),o=GlobalAllProxy.getInstance().playerProxy.playerinfo.instantPlay,i=n-o;0>i&&(i=0)}return i},a.prototype.removelogdata=function(e){var t=this.fightLogArr;if(t)for(var a,i=t.length-1;i>=0;i--)a=t[i],a.type==e&&t.splice(i,1)},a.prototype.isShowCar=function(e){var t=!1,a=GlobalConfig.getItemVo(e);if(a.quality>=item_quality.purple){var i=+a.parameter,n=this.playerIds;n&&-1==n.indexOf(i)&&(t=!0)}return t},a.prototype.addPlayCar=function(e){var t=GlobalConfig.getItemVo(e);if(t&&t.type==item_type.type_player&&t.quality>=item_quality.purple){var a=+t.parameter,i=this.playerIds;if(i&&-1==i.indexOf(a)){i.push(a),this.m_newherocarArr.push(a);var n=Manifest.getIns(vm.ScoutRecruitNewView);n&&n.isOpend()||PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_recruit_new])}}},a.prototype.showheroinfo=function(e,t,a){var i=e,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(t)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0));else if(2==a){var r=GlobalConfig.getItemIdForPlayerId(i.playerid);if(r){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,r.objectid,null,!1,!0))}}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0))},a.prototype.addPlayerVO=function(e){this.playerArr.push(e)},a.prototype.getEquipVo=function(e){for(var t,a=this.equipArr,i=0,n=a.length;n>i;i++)if(t=a[i],t.eid==e)return t;return null},a.prototype.getplayerIDS=function(){for(var e=this,t=[],a=e.playerArr,i=0,n=a.length;n>i;i++)a[i].playerid&&t.push(a[i].playerid);return t},a.prototype.getShareTime=function(e){var t=0,a=this.shareTimes;if(a)for(var i,n=0,o=a.length;o>n;n++)i=a[n],+i.pid==+e&&(t=i.num);return+t},a.prototype.addShareTime=function(e,t){var a=this.shareTimes;if(a){for(var i,n=!1,o=0,r=a.length;r>o;o++)i=a[o],+i.pid==+e&&(n=!0,i.num=+i.num+ +t);n||a.push(new SUserItem(e,+t))}},a.prototype.getTacticsLevel=function(){var e=1;return this.tacticsData&&(e=this.tacticsData.getLevel()),e},a.prototype.reshPlayerZhanli=function(){for(var e,t,a=this.playerArr,i=a.length,n=this.tacticsData,o=n.formid,r=n.getFormeLevel(o),s=0;i>s;s++)e=a[s],e.position?(t=GlobalConfig.getLocationrelation(e.position),e.getProFor(o,r,t,!0,null,0/0,!0)):e.getProFor(0,0,0,!0,null,0/0,!0)},a.prototype.getProduceTime=function(e,t){var a=Global.systemTimeNum-parseFloat(t),i=e,n=36e5*i,o=Math.floor(.001*(n-a));return o},a.prototype.isChooseForma=function(e){var t=!1;return this.tacticsData&&(t=this.tacticsData.formid==e?!0:!1),t},a.prototype.removePlayer=function(e){var t,a,i=this,n=i.playerArr,o=n.length;for(t=o-1;t>=0;t--)if(a=n[t],a.playerid==e){n.splice(t,1);break}},a.prototype.setnewFormaPlayer=function(e){var t,a,i=this,n=i.playerArr,o=n.length;for(t=0;o>t;t++)a=n[t],e[a.playerid]?a.position=e[a.playerid]:a.position=0},a.prototype.getUpPlayer=function(){var e,t,a=this,i=a.playerArr,n=i.length,o=[];for(e=0;n>e;e++)t=i[e],t.position&&o.push(t);return o},a.prototype.getOneCoachZhanli=function(e){var t,a,i,n=this,o=n.playerArr,r=o.length,s=0,l=this.getCoachPlayerVO(e.coachId);if(l)for(t=0;r>t;t++)a=o[t],a.position&&(i=a.getCurZhanli(!1,a.stars,a.level,a.transform,!1,a.card_trait,e),i.coachzhanli&&(s+=i.coachzhanli));return Math.floor(s)},a.prototype.getOneTitleZhanli=function(e){var t,a,i,n=this,o=n.playerArr,r=o.length,s=0,l=this.gettitledataVO(e.type);if(l)for(t=0;r>t;t++)a=o[t],a.position&&(i=a.getCurZhanli(!1,a.stars,a.level,a.transform,!1,a.card_trait,null,e),i.coachzhanli&&(s+=i.coachzhanli));return Math.floor(s)},a.prototype.gettitledataVO=function(e){var t=this.titledata;if(t&&t.club&&t.club.title)for(var a,i=t.club.title,n=0,o=i.length;o>n;n++)if(a=i[n],a.type==e)return a},a.prototype.getOwnPlayerIds=function(){for(var e=GlobalAllProxy.getInstance().playerProxy.playerArr,t=[],a=0,i=e.length;i>a;a++)t.push(e[a].playerid);return t},a.prototype.getOwnBackCarPlayerIds=function(){for(var e,t,a=GlobalAllProxy.getInstance().backpackProxy,i=a.backItemArr,n=[],o=item_type.type_player,r=0,s=i.length;s>r;r++)e=i[r],e&&e.count&&(t=GlobalConfig.getItemVo(e.itemid),t.type==o&&n.push(parseInt(t.parameter)));return n},a.prototype.getFormaPlayerArr=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!0);var i,n,o,r=this,s=r.playerArr,l=s.length,p=[];if(!t&&r.isChooseForma(e))for(i=0;l>i;i++)n=s[i],n.position&&(o=new ChangeFormaVO,o.setVO(n),p.push(o));else{var c=GlobalConfig.getFormationVO(e),u=1,m=GlobalAllProxy.getInstance().playerProxy.tacticsData;m&&(u=m.getFormeLevel(e));var g,_,h,d=c.getlocationsArr(),y=[],v={};for(l=d.length,i=0;l>i;i++)g=parseInt(d[i]),_=GlobalConfig.getLocationrelation(g),h=r.getBastPlayer(s,_,y,!1,e,u,null,a),h&&(v[g]=h.playerid,y.push(h.playerid));for(i=0;l>i;i++)g=parseInt(d[i]),v[g]||(_=GlobalConfig.getLocationrelation(g),h=r.getBastPlayer(s,_,y,!0,e,u,null,a),h&&(v[g]=h.playerid,y.push(h.playerid)));for(i=0;l>i;i++)g=parseInt(d[i]),b=v[g],_=GlobalConfig.getLocationrelation(g),h=r.getBastPlayer(s,_,y,!0,e,u,b,a,1),h&&h.playerid!=b&&(f=y.indexOf(b),-1!=f&&y.splice(f,1),v[g]=h.playerid,y.push(h.playerid));var f,b;for(i=0;l>i;i++)g=parseInt(d[i]),b=v[g],_=GlobalConfig.getLocationrelation(g),h=r.getBastPlayer(s,_,y,!0,e,u,b,a,2),h&&h.playerid!=b?(f=y.indexOf(b),-1!=f&&y.splice(f,1),v[g]=h.playerid,y.push(h.playerid)):h||(h=r.getSeverPlayerVO(b)),o=new ChangeFormaVO,o.setVO(h),o.position=g,p.push(o)}return p},a.prototype.getBastPlayerArr=function(e,t,a,i){for(var n,o=this,r=[],s=o.playerArr,l=0,p=s.length;p>l;l++)n=s[l],-1==e.indexOf(n.playerid)&&(n.getProFor(a,i,t,!0,null,0/0,!1),r.push(n));return r},a.prototype.getBastPlayer=function(e,t,a,i,n,o,r,s,l){void 0===a&&(a=[]),void 0===r&&(r=null),void 0===s&&(s=!0),void 0===l&&(l=0);for(var p,c,u=this,m=null,g=[],_=playerlocation.location_14,h=e.length-1;h>=0;h--)p=e[h],c=p.getlogArr(),(-1!=c.indexOf(t)||i)&&(-1==a.indexOf(p.playerid)||r==p.playerid)&&(t==_?r&&r!=p.playerid||(p.getProFor(n,o,t,!0,null,0/0,!1),g.push(p)):(p.getProFor(n,o,t,!0,null,0/0,!1),g.push(p)));var d=g.length,y=0;if(1==l)for(var v=0;d>v;v++)p=g[v],p.playerid==r&&(m=p,y=u.getPlayLogScore(p,t));if(d)if(s)for(var v=0;d>v;v++)p=g[v],1==l?(f=u.getPlayLogScore(p,t),2==f&&m&&p.rankzhanli>m.rankzhanli&&(m=p)):(!m||p.rankzhanli>m.rankzhanli)&&(m=p);else for(var f=3,v=0;d>v;v++)p=g[v],l?(f=u.getPlayLogScore(p,t),1==l?2==f&&m&&(p.card_trait>m.card_trait||p.card_trait==m.card_trait&&f>y||p.card_trait==m.card_trait&&f==y&&p.rankzhanli>m.rankzhanli)&&(m=p,y=f):(!m||p.card_trait>m.card_trait||p.card_trait==m.card_trait&&f>y||p.card_trait==m.card_trait&&f==y&&p.rankzhanli>m.rankzhanli)&&(m=p,y=f)):(!m||p.card_trait>m.card_trait||p.card_trait==m.card_trait&&p.rankzhanli>m.rankzhanli)&&(m=p);return m},a.prototype.getPlayLogScore=function(e,t){var a,i=3;return e.islognumIn(t)||(a=GlobalConfig.getLocationexpandVO(t),i=a.isLogIn(e.location)?2:1),i},a.prototype.addustudy=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!0);var n=this,o=n.tacticsData;o&&(o.potions+=t,o.potions<0&&(o.potions=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_study,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW))},a.prototype.addtechnum=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!0);var n=this,o=n.scienceData;o&&(o.points+=t,o.points<0&&(o.points=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_techdian,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW))},a.prototype.addqiutannum=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!0);var n=this,o=n.scoutData;o&&(o.points+=t,o.points<0&&(o.points=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_qiutan,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW))},a.prototype.getSeverPlayerVO=function(e){for(var t,a=this,i=a.playerArr,n=0,o=i.length;o>n;n++)if(t=i[n],t.playerid==e)return t;return null},a.prototype.getOutSeverPlayerArr=function(e){for(var t,a=this,i=a.playerArr,n=[],o=0,r=i.length;r>o;o++)t=i[o],-1==e.indexOf(t.playerid)&&n.push(t);return n},a.prototype.NetTitleInit=function(){var e=BufRequests.Title_Init,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetTitleActivate=function(e){var t=BufRequests.Title_Activate,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetShareInit=function(){var e=BufRequests.Share_Init,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetshareWeek=function(e){var t=BufRequests.Share_InviteWeek,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetShareRewards=function(e,t,a){var i=BufRequests.Share_ShareRewards,n={type:e,position:t,param:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.NetTacticsCenter=function(){var e=BufRequests.Tactics_Center,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetStartBeforeGameForPveFight=function(e){var t=BufRequests.START_BEFORE_GAME,a={type:1,enemy:e.toString(),custom:"",mapId:0};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetTacticsCenterUpgrade=function(){var e=BufRequests.Tactics_Center_Upgrade,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetFormationUpgrade=function(e){var t=BufRequests.Formation_Upgrade,a={formid:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetTacticsUpgrade=function(e){var t=BufRequests.Tactics_Upgrade,a={tid:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetTacticsCenterRecReward=function(){var e=BufRequests.Tactics_Center_Rec_Reward,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetRefreshCoolingTime=function(){var e=BufRequests.Group_ClearCoolingTime,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetClubRequestResponse=function(){var e=BufRequests.Club_Request_Response,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetClubAdjustNum=function(e,t,a,i){var n=BufRequests.Club_Adjust_Num,o={club_num:e,tactical_num:t,tech_num:a,scout_num:i};this.callProBSim(n,o,Global.serverType_C)},a.prototype.NetClubReceiveWages=function(){var e=BufRequests.Club_Receive_Wages,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetClubGameRecord=function(e){var t=BufRequests.Club_Game_Record,a={giftId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetClubPromotion=function(){var e=BufRequests.Club_Promotion,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetTEAMUSEFORMATION=function(e,t){var a=BufRequests.TEAM_USE_FORMATION,i={formid:e,pos:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetTEAMUSETACTICS=function(e,t){var a=BufRequests.TEAM_USE_TACTICS,i={att_tactical:e,def_tacical:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetTEAMPLAYERTERMINATION=function(e){var t=BufRequests.TEAM_PLAYER_TERMINATION,a={player_id:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetTEAMPLAYERINFO=function(e,t){var a=BufRequests.TEAM_PLAYER_INFO,i={fid:e,player_id:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetTrainingPlayerUpgrade=function(e,t){var a=BufRequests.TRAINING_PLAYER_UPGRADE,i={playerId:e,num:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetTrainingPlayerStar=function(e){var t=BufRequests.TRAINING_PLAYER_STAR,a={playerId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetTrainingPositionExtension=function(e,t,a){var i=BufRequests.TRAINING_POSITION_EXTENSION,n={playerId:e,position:t,use_type:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.NetTrainingPlayerSkilUpgrade=function(e,t){var a=BufRequests.TRAINING_PLAYER_SKIL_UPGRADE,i={playerId:e,skillId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetTrainingPlayerPfyUpgrade=function(e,t,a){var i=BufRequests.CMD_INC_SKILL_MASTERY,n={playerId:e,skillId:t,ind:a};this.callProBSim(i,n,Global.serverType_C)},a.prototype.NetBuySkillPoint=function(){var e=BufRequests.Upgrade_BuySkillPoint,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScienceinit=function(){var e=BufRequests.SCIENCE_INIT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScienceUpgrade=function(){var e=BufRequests.SCIENCE_UPGRADE,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetSciencegetpoints=function(){var e=BufRequests.SCIENCE_GET_POINTS,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScienceEquipment=function(e,t){var a=BufRequests.Science_BookLock,i={eid:e,lock:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetScienceEquipUpgrade=function(e,t){var a=BufRequests.SCIENCE_EQUIP_UPGRADE,i={eid:e,type:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetScienceRfreshBook=function(e){var t=BufRequests.SCIENCE_RFRESH_BOOK,a={type:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetScienceExchangeBook=function(){var e=BufRequests.SCIENCE_EXCHANGE_BOOK,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScienceClearCooling=function(){var e=BufRequests.Science_ClearCooling,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScoutInt=function(){var e=BufRequests.SCOUT_INT,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScoutGetPoints=function(){var e=BufRequests.SCOUT_GET_POINTS,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScoutUpgrade=function(){var e=BufRequests.SCOUT_UPGRADE,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetScoutRecruit=function(e,t){var a=BufRequests.SCOUT_RECRUIT,i={type:e,teamType:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetScoutMarket=function(e){var t=BufRequests.Scout_TransferMarket,a={refresh:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetScoutExchange=function(e){var t=BufRequests.Scout_ExchangePlayers,a={playerId:e};
this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetScoutSignPlayer=function(e){var t=BufRequests.SCOUT_SIGN_PLAYER,a={playerItemId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetScoutCancel=function(e){var t=BufRequests.SCOUT_CANCEL,a={playerItemId:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetVipInit=function(){var e=BufRequests.USER_VIP_INITIALIZE,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetDailyVipGiftBag=function(){var e=BufRequests.GET_DAILY_VIP_GIFT_BAG,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetVipExclusiveGiftBag=function(e){var t=BufRequests.Vip_BuyExclusiveGiftBag,a={level:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetVipLevelGiftBag=function(e){var t=BufRequests.GET_VIP_LEVLE_GIFT_BAG,a={level:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetInitFriend=function(){var e=BufRequests.INIT_CLUB_FRIEND,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetVisitFriends=function(e){var t=BufRequests.VISIT_FRIEND,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetSeeFriendsClub=function(e){var t=BufRequests.SEE_FRIENDS_CLUB_DETAILS,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetInviteFriend=function(){var e=BufRequests.INVITE_FRIENDS_LIST,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetSendInviteFriend=function(e){var t=BufRequests.SEND_INVITE_FRIENDS,a={fid:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetFriendsInvite=function(){var e=BufRequests.FRIENDS_INVITED_LIST,t=null;this.callProBSim(e,t,Global.serverType_C)},a.prototype.NetFriendsBuild=function(e,t){var a=BufRequests.FRIENDS_BUILDING,i={fid:e,buildType:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetReceiveBuild=function(e,t){var a=BufRequests.RECEIVE_BUILDING_REWARD,i={fid:e,buildType:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetEnterEnd=function(e,t){var a=BufRequests.ONLINE_STATION_END,i={fid:e,buildType:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBCoachTrain=function(e,t){var a=BufRequests.Coach_Train,i={type:e,coachId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBCoachReward=function(e,t){var a=BufRequests.Coach_ReceiveTrainReward,i={type:e,coachId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBStimulate=function(e,t){var a=BufRequests.Coach_Stimulate,i={type:e,coachId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBCoaUpgrade=function(e,t){var a=BufRequests.Coach_UpgradeStarAndClass,i={type:e,coachId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBCoachUnlock=function(e,t){var a=BufRequests.Coach_UnLock,i={type:e,coachId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetModifyAchieveShow=function(e,t){var a=BufRequests.Modify_Show_Achieve,i={location:e,achieveId:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetRecoveryPlayers=function(e){var t=BufRequests.Prop_RecoveryPlayers,a={quality:e};this.callProBSim(t,a,Global.serverType_C)},a.prototype.NetSelectRecover=function(e){var t=BufRequests.Prop_selectPlayersRecovery,a=GlobalAllProxy.getInstance().backpackProxy.getSelectRecoverSUserItemArr(e),i={item:a};this.callProBSim(t,i,Global.serverType_C)},a.prototype.NetReincarnation=function(e,t){void 0===t&&(t=[]);var a=BufRequests.Player_Reincarnation,i={playerId:e,item:t};this.callProBSim(a,i,Global.serverType_C)},a.prototype.NetBuildEmployee=function(){var e=BufRequests.User_BuildEmployee,t=null;this.callProBSim(e,t,Global.serverType_C)},a.NAME="PlayerProxy",a}(e.BaseProxy);e.PlayerProxy=t,__reflect(t.prototype,"game.PlayerProxy")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.position=1,t.nLoop=0,t.bvaluename="",t.bvaluenum="",t.strarr=["name","icon","dec"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getValue=function(e){var t=this,a=t.bvaluename.split(","),i=t.bvaluenum.split(","),n=a.indexOf(e),o=0/0;return-1!=n&&n<i.length&&(o=parseFloat(i[n])),o},t.prototype.getValueArr=function(e){var t,a=this,i=a.bvaluename.split(","),n=a.bvaluenum.split(","),o=i.indexOf(e);if(-1!=o&&o<n.length){t=[],t=n[o].split("|");for(var r=0,s=t.length;s>r;r++)t[r]=parseFloat(t[r])}return t},t.prototype.hasType=function(e){var t=!1,a=this.bvaluename.split(",");return-1!=a.indexOf(e)&&(t=!0),t},t.prototype.getEffArr=function(){var e=this.bvaluename.split(",");return e},t.Pos_down=1,t.Pos_body=2,t.Pos_top=3,t}(e.BaseVO);e.BuffVO=t,__reflect(t.prototype,"game.BuffVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComAchieveRewardVO=t,__reflect(t.prototype,"game.ComAchieveRewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComAchieveVO=t,__reflect(t.prototype,"game.ComAchieveVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComActiveBagVO=t,__reflect(t.prototype,"game.ComActiveBagVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["lv","name","des","jump","icon","offrect","focusRect","window","focuswidget"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getTaskFollow=function(){var e,t=this;return t.window&&t.arrowDirection&&(e=new TaskFollowVO,e.window=t.window,e.focuswidget=t.focuswidget,e.arrowDirection=t.arrowDirection,e.focusRect=t.focusRect,e.offrect=t.offrect),e},t.prototype.getUnlockLvArr=function(){var e,t=this.lv;return t&&"0"!=t&&(e=t.split(",")),e},t.prototype.getIsUnlockLevel=function(e,t){var a=!1,i=this.getUnlockLvArr(),n=0,o=0;i&&(n=parseInt(i[0]),o=parseInt(i[1]));var r,s;switch(n){case unlock_type.level:r=e,s=Language.ins.guide_tip2;break;case unlock_type.pve_check:r=t,s=Language.ins.guide_tip5}return a=o>r?!1:!0},t}(e.BaseVO);e.ComActiveVO=t,__reflect(t.prototype,"game.ComActiveVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","name","club","country","showprice","price","randreward","piecenum","basereward","randplayer"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivitybaozangVO=t,__reflect(t.prototype,"game.ComActivitybaozangVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward","Return","number"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivitydanbipayVO=t,__reflect(t.prototype,"game.ComActivitydanbipayVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward","days","daysreward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityjinqiuVO=t,__reflect(t.prototype,"game.ComActivityjinqiuVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","playerbuy","itemsbuy"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityjuxingVO=t,__reflect(t.prototype,"game.ComActivityjuxingVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityleijipayVO=t,__reflect(t.prototype,"game.ComActivityleijipayVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["totalreward","rate","show","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivitymibaoVO=t,__reflect(t.prototype,"game.ComActivitymibaoVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["starttime","endtime","icon","picture","des","picture2","picture3","picture4","jump","rank"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityOperateVO=t,__reflect(t.prototype,"game.ComActivityOperateVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["month","day","player","money","reward","days","gift"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityqiandaoVO=t,__reflect(t.prototype,"game.ComActivityqiandaoVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","rmb","return","reward","starttimes","endtimes"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivitytouziVO=t,__reflect(t.prototype,"game.ComActivitytouziVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward","limittotal","rewardtotal"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityxiaofeiVO=t,__reflect(t.prototype,"game.ComActivityxiaofeiVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward","starttimes","endtimes","return","value"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityyiyuanVO=t,__reflect(t.prototype,"game.ComActivityyiyuanVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["limit","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityzaixianVO=t,__reflect(t.prototype,"game.ComActivityzaixianVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["extraget","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityzhuanpanVO=t,__reflect(t.prototype,"game.ComActivityzhuanpanVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["chargenum","name2","name","extra","icon","icon2","normalextra","exreward","des","buytimes","carddes"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComChargeVO=t,__reflect(t.prototype,"game.ComChargeVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["jump","cost","clubname","clubrate","tacticsrate","scoutrate","researchrate","icon","anchor","unlockplayer","gradedes"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.geticon=function(){return this.icon},a.prototype.getTimeOutPut=function(t,a){void 0===a&&(a=0/0);var i;return i=e.SClubResponseVO.ComGetTimeOutPut(t,a,this.goldrate,this.goldbase)},a.prototype.getPOutPut=function(t,a){GlobalAllProxy.getInstance().playerProxy.clubData;return e.SClubResponseVO.ComGetPOutPut(t,a,this.goldrate)},a.prototype.getCostArr=function(e){void 0===e&&(e=!1);var t=this,a=[];return a=utils.GameComUtil.getItemVoArr(t.cost,a)},a.prototype.getBaseNum=function(){var e=this;return e.goldbase},a.prototype.getRateNum=function(){var e=this;return parseFloat((+e.goldrate).toFixed(1))},a}(e.BaseVO);e.ComClubgradeVO=t,__reflect(t.prototype,"game.ComClubgradeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["goldrate"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComClubVO=t,__reflect(t.prototype,"game.ComClubVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["icon","name","des"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComCopyClubGradeCescribeVO=t,__reflect(t.prototype,"game.ComCopyClubGradeCescribeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","winfreward","logo","anchor","winreward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.getLockMapPlayer=function(e,t){var a,i=GlobalConfig.PLAYERPORPERTY_DATA,n=playerlockType.type_clubmap;for(var o in i)if(a=i[o],a.contype==n&&a.con==e&&3==t)return a;return null},t.getLockPlayerS=function(){var e,t=[],a=GlobalConfig.PLAYERPORPERTY_DATA,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n,o=playerlockType.type_clubmap;for(var r in a)e=a[r],e&&e.contype&&e.contype==o&&(n=i.getSMapCustoms(e.con),n&&n.degree>=3||t.push(e.playerid))}return t},t.prototype.getRandAwardStr=function(){var e=GlobalConfig.getRandomDropVOStr(this.randomdrop);return e},t.prototype.getClubIconStr=function(){var e=this.icon,t="";switch(e){case 1:t="smalicon_qiuyuan";break;case 2:t="smalicon_zhanshu";break;case 3:t="smalicon_zhuangbei"}return t},t.prototype.getClubIconTip=function(){var e=this.icon,t="";switch(e){case 1:t=Language.ins.club_map_tip4;break;case 2:t=Language.ins.club_map_tip5;break;case 3:t=Language.ins.club_map_tip6}return t},t}(e.BaseVO);e.ComCopyclubgradeVO=t,__reflect(t.prototype,"game.ComCopyclubgradeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.starnum},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComCopyClubRradeStarVO=t,__reflect(t.prototype,"game.ComCopyClubRradeStarVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["porperty","classrate"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.getAllAddArr=function(e){for(var t,a,i=GlobalConfig.getEquipClassSuitVOArr(e),n={},o=utils.GameComUtil,r=0,s=i.length;s>r;r++)t=i[r],a=o.getStringVoArr(t.porperty),o.setPorObjArr(a,n);return n},t}(e.BaseVO);e.ComEquipClasssuitVO=t,__reflect(t.prototype,"game.ComEquipClasssuitVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost","porperty"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComEquipClassVO=t,__reflect(t.prototype,"game.ComEquipClassVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","qualityrate","quality"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComEquipQualitySuitNew=t,__reflect(t.prototype,"game.ComEquipQualitySuitNew")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","porperty","icon","quality","obj"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.isunlock=function(e){for(var t=this.quality.split(";"),a=!0,i=0,n=t.length;n>i;i++)if(parseFloat(t[i])>e[i]){a=!1;break}return a},t.prototype.getShowArr=function(e,t){var a,i,n=this,o=this.quality.split(";"),r=(e.length,[]),s=0,l=o.length,p={};for(s;l>s;s++)a=parseFloat(o[s]),a>1&&(p[a]?p[a]+=1:p[a]=1);s=0,l=e.length;var c,u,m,g;if(t){if(n.isunlock(e))for(c in p){for(u=p[c],m=0,g=parseInt(c),s=0;l>s;s++)a=parseFloat(e[s]),a>=g&&(m+=1);i=new EquipQualityDataVO,i.id=n.id,i.quality=c,i.allnum=u,i.curnum=m,i.isdown=1,r.push(i)}}else for(c in p){for(u=p[c],g=parseInt(c),i=new EquipQualityDataVO,i.id=n.id,i.quality=g,i.allnum=u,m=0,s=0;l>s;s++)a=parseFloat(e[s]),a>=g&&(m+=1);(!t||t&&m==u)&&(i.curnum=m,i.isdown=m>=u?1:0,r.push(i))}return r},t.getAllAddArr=function(e){for(var t,a,i=GlobalConfig.getEquipQualityQuitVOArr(e),n={},o=utils.GameComUtil,r=0,s=i.length;s>r;r++)t=i[r],a=o.getStringVoArr(t.porperty),o.setPorObjArr(a,n);return n},t}(e.BaseVO);e.ComEquipQualitySuitVO=t,__reflect(t.prototype,"game.ComEquipQualitySuitVO")}(game||(game={}));var EquipQualityDataVO=function(){function e(){}return e}();__reflect(EquipQualityDataVO.prototype,"EquipQualityDataVO");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost","rate","name","icon","des","porperty"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getratenum=function(){var e=parseFloat(this.rate);return e},t}(e.BaseVO);e.ComEquipQualityVO=t,__reflect(t.prototype,"game.ComEquipQualityVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["porperty","des"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComEquipStrengThenVO=t,__reflect(t.prototype,"game.ComEquipStrengThenVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComEvaluateInitVO=t,__reflect(t.prototype,"game.ComEvaluateInitVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["flv","cost","remark"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.FProArr=["fshoot","fbreakthrough","fsteal","fmarking","fpass","ftrap","fspeed","fstrong","fresponse","fone_to_one"],t.FProNameArr=[],t}(e.BaseVO);e.ComFormaPorVO=t,__reflect(t.prototype,"game.ComFormaPorVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.goal},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComFriendGoalVO=t,__reflect(t.prototype,"game.ComFriendGoalVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.score},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComFriendScorerewardVO=t,__reflect(t.prototype,"game.ComFriendScorerewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.score},t}(e.BaseVO);e.ComFriendScoreVO=t,__reflect(t.prototype,"game.ComFriendScoreVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.wintimes},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComFriendStraightWinVO=t,__reflect(t.prototype,"game.ComFriendStraightWinVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["signnum","redbagreward","redbagnum","poorreward","richreward","logo"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComguildVO=t,__reflect(t.prototype,"game.ComguildVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComLeagueRewardVO=t,__reflect(t.prototype,"game.ComLeagueRewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["icon","reward","dailyreward","name","name2"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComLeagueVO=t,__reflect(t.prototype,"game.ComLeagueVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)&&(i[t]=a.toString()),"expandlocations"==t?a&&"0"!=a?i.expandlocations=a.split(";"):i.expandlocations=[]:i[t]=isNaN(parseInt(a))?a.toString():parseInt(a);var n=i.expandlocations;n&&(i.expandlocations=n.map(function(e){return+e}))},t.prototype.isLogIn=function(e){for(var t=this,a=t.expandlocations,i=!1,n=0,o=a.length;o>n;n++)if(+a[n]==+e){i=!0;break}return i},t}(e.BaseVO);e.ComLocationexpandVO=t,__reflect(t.prototype,"game.ComLocationexpandVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["name","logoname","unlock","obj","value","des1","des2"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},a.prototype.getAddRatioByPosition=function(e){var t=this,a=1e-4,i=0,n=t.obj.split(","),o=t.value.split(",");if(n&&o&&n.length==o.length)for(var r=0;r<n.length;r++)if(e==Number(n[r])||2==Number(n[r])){i=Number(o[r])*a;break}return i},a.getlogoArr=function(e){var t=e.split("_");return t},a.getlogonum=function(t,a){var i=e.ComlogoVO.getlogoArr(t),n=0/0;switch(a){case logoType.type_kuang:case logoType.type_zhuang:case logoType.type_tiao:case logoType.type_tiaocol:case logoType.type_bgcol:0!=parseInt(i[0])&&i.length>=a&&(n=parseInt(i[a-1]));break;case logoType.type_all:0==parseInt(i[0])&&(n=parseInt(i[1]))}return n},a.setlogonum=function(t,a,i){var n=e.ComlogoVO.getlogoArr(t),o=t;switch(a){case logoType.type_kuang:case logoType.type_zhuang:case logoType.type_tiao:case logoType.type_tiaocol:case logoType.type_bgcol:0!=parseInt(n[0])&&n.length>=a&&(n[a-1]=i);break;case logoType.type_all:0==parseInt(n[0])&&(n[1]=i)}return o=n.join("_")},a.getComLogoVOEffectForLogoID=function(t){var a,i=e.ComlogoVO.getlogoArr(t);if(i&&i.length>0&&0==parseInt(i[0])){var n=e.ComlogoVO.getlogonum(t,logoType.type_all);a=GlobalConfig.getlogoVO(n)}return a},a.getCostLogoNum=function(t){var a,i,n,o=e.ComlogoVO.getlogoArr(t),r=0,s=GlobalAllProxy.getInstance().playerProxy,l=s.modifyLogoNum;if(l&&(r=ParamLoader.instance.ServerChangeLogo),0==parseInt(o[0])){n=logoType.type_all,i=e.ComlogoVO.getlogonum(t,logoType.type_all);var p=s.playerinfo.userLogo;p&&-1!=p.indexOf(i)||(a=GlobalConfig.getlogoVO(i),a&&(r+=a.cost))}else n=logoType.type_kuang,a=GlobalConfig.getlogoVOForTypeAndNum(n,o[n-1]),a&&(r+=a.cost),n=logoType.type_zhuang,a=GlobalConfig.getlogoVOForTypeAndNum(n,o[n-1]),a&&(r+=a.cost),n=logoType.type_tiao,a=GlobalConfig.getlogoVOForTypeAndNum(n,o[n-1]),a&&(r+=a.cost);return r},a.getLogoSouceName=function(t,a,i){var n=e.ComlogoVO.getlogonum(t,a),o=GlobalConfig.getlogoVOForTypeAndNum(a,n);return o?o[i]:null},a.getlogoSouceArr=function(t){var a,i=(e.ComlogoVO.getlogoArr(t),[]);if(a=e.ComlogoVO.getLogoSouceName(t,logoType.type_kuang,"name")){var n=ResName.logo_kuang_img+a,o=ResName.logo_kuang_mask+a;RES.getRes(n)||i.push(n),RES.getRes(o)||i.push(o)}return a=e.ComlogoVO.getLogoSouceName(t,logoType.type_zhuang,"name"),a&&(RES.getRes(a)||i.push(a)),a=e.ComlogoVO.getLogoSouceName(t,logoType.type_tiao,"name"),a&&(RES.getRes(a)||i.push(a)),i},a}(e.BaseVO);e.ComlogoVO=t,__reflect(t.prototype,"game.ComlogoVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["des","reward"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.getNumSweepcard=function(){return e.ComMonthCarVO.getNumForType("sweepcard",!0)},a.getNumExtraskiptime=function(){return e.ComMonthCarVO.getNumForType("extraskiptime",!0)},a.getNumExtraemployee=function(){return e.ComMonthCarVO.getNumForType("extraemployee",!0)},a.getNumExtrachat=function(){return e.ComMonthCarVO.getNumForType("extrachat",!0)},a.getNumGradelimit=function(){return e.ComMonthCarVO.getNumForType("gradelimit",!0)},a.getNumPeakcd=function(){return e.ComMonthCarVO.getNumForType("peakcd",!1)},a.getNumRoadfail=function(){return e.ComMonthCarVO.getNumForType("roadfail",!0)},a.getNumDiamondresearch=function(){return e.ComMonthCarVO.getNumForType("diamondresearch",!1)},a.getNumLogoS=function(){var e=[],t=GlobalAllProxy.getInstance().playerProxy.vipData;if(t)for(var a,i,n=t.monthCard,o=0,r=n.length;r>o;o++)a=n[o],(a.numDays>0||-1==a.numDays)&&(i=GlobalConfig.getMonthCarVO(a.type),e.push(i.unlocklogo));return e},a.getNumForType=function(e,t){var a=0,i=GlobalAllProxy.getInstance().playerProxy.vipData;if(i)for(var n,o,r=i.monthCard,s=0,l=r.length;l>s;s++)n=r[s],(n.numDays>0||-1==n.numDays)&&(o=GlobalConfig.getMonthCarVO(n.type),t?a+=o[e]:a=Math.max(a,o[e]));return a},a}(e.BaseVO);e.ComMonthCarVO=t,__reflect(t.prototype,"game.ComMonthCarVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComPlayerExpVO=t,__reflect(t.prototype,"game.ComPlayerExpVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.objectToThis=function(e){var a,i,n=this,o=t.strarr;for(a in e)i=e[a],-1!=o.indexOf(a)?n[a]=i.toString():n[a]=isNaN(parseFloat(i))?i.toString():parseFloat(i)},t.prototype.getRadarData=function(e){for(var t,a,i=this,n=new playerRadarVO,o=GlobalConfig.getPlayerPorpertyVO(i.playerid),r=radarType.radar_attack,s=radarType.radar_porters,l=0,p=ParamLoader.instance.Playerradermax,c=ParamLoader.instance.Playerraderratio,u=p[e-1],m=r;s>=m;m++)t=GlobalConfig.getPrimaryattributeVO(m),l=(o.upshoot*t.shoot+o.upbreakthrough*t.breakthrough+o.upsteal*t.steal+o.upmarking*t.marking+o.uptrap*t.trap+o.uppass*t.pass+o.upspeed*t.speed+o.upstrong*t.strong+o.upresponse*t.response+o.upone_to_one*t.one_to_one)*Math.pow(c,e-1),a=playerRadarVO.radarstrs[m],n[a]=l,n.maxnum=u;return n},t.prototype.getskillindex=function(e){for(var t,a=this,i=a.skill,n=i.split(","),o=0,r=n.length;r>o;o++)if(t=parseInt(n[o]),t==e)return o;return 0},t.prototype.isRelation=function(){var e=!1,t=this,a=t.repartner,i=t.refetter;return(a&&"0"!=a||i&&"0"!=i)&&(e=!0),e},t.prototype.getrepartnerArr=function(){var e,t=this.repartner;return e=t&&"0"!=t?t.split(";"):[]},t.prototype.getrefetterArr=function(){var e,t=this.refetter;return e=t&&"0"!=t?t.split(";"):[]},t.strarr=["name","skill","locations","des","picon","suitdes","getway","repartner","refetter","club","logo"],t}(e.BaseVO);e.ComPlayerPorpertyVO=t,__reflect(t.prototype,"game.ComPlayerPorpertyVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.objectToThis=function(e){var a,i,n=this,o=t.strarr;for(a in e)i=e[a],-1!=o.indexOf(a)?n[a]=i.toString():n[a]=isNaN(parseFloat(i))?i.toString():parseFloat(i)
},t.strarr=["resign"],t}(e.BaseVO);e.ComPlayerStarLevelVO=t,__reflect(t.prototype,"game.ComPlayerStarLevelVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComPlayerStarVO=t,__reflect(t.prototype,"game.ComPlayerStarVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getdesnum=function(e){var t=e;return 1==this.portype||(t=e/100),t},t.prototype.getdes=function(e,t,a){void 0===a&&(a=0/0);var i=this.getdesnum(e),n="",o=this.des,r=t+i;return 1==this.portype||(r+="%"),isNaN(a)||(r=FormatString.format(Language.ins.game_col,a,r)),n=o+r},t.getnumdes=function(e,t,a,i){void 0===a&&(a=" +"),void 0===i&&(i=0/0);var n=GlobalConfig.getPorpertytypeVO(e),o="";return n&&(t=Math.floor(t),o=n.getdes(t,a,i)),o},t}(e.BaseVO);e.ComPorpertyTypeVO=t,__reflect(t.prototype,"game.ComPorpertyTypeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComPowercoefficientVO=t,__reflect(t.prototype,"game.ComPowercoefficientVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComPriceVO=t,__reflect(t.prototype,"game.ComPriceVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComPrimaryattributeVO=t,__reflect(t.prototype,"game.ComPrimaryattributeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComQualifyingdayrewardVO=t,__reflect(t.prototype,"game.ComQualifyingdayrewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComQualifyingrankrewardVO=t,__reflect(t.prototype,"game.ComQualifyingrankrewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComQuestionDailyBagVO=t,__reflect(t.prototype,"game.ComQuestionDailyBagVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["rreward","wreward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComQuestionRewardVO=t,__reflect(t.prototype,"game.ComQuestionRewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComQuestionWeeklyBagVO=t,__reflect(t.prototype,"game.ComQuestionWeeklyBagVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["cost","scopointrate","icon"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.getTimeOutPut=function(t,a){void 0===a&&(a=0/0);var i,n=GlobalAllProxy.getInstance().playerProxy.clubData;return isNaN(a)&&(a=n.grade),i=e.SClubResponseVO.ComGetTimeOutPut(t,a,this.scopointrate,this.scopointbase)},a.prototype.getPOutPut=function(t){var a=GlobalAllProxy.getInstance().playerProxy.clubData;return e.SClubResponseVO.ComGetPOutPut(t,a.grade,this.scopointrate)},a.prototype.geticon=function(){return this.icon},a.prototype.getCostArr=function(e){void 0===e&&(e=!1);var t=this,a=[];return a=utils.GameComUtil.getItemVoArr(t.cost,a)},a.prototype.getBaseNum=function(){var e=this;return e.scopointbase},a.prototype.getRateNum=function(){var e=this;return parseFloat((+e.scopointrate).toFixed(1))},a}(e.BaseVO);e.ComScoutCenterVO=t,__reflect(t.prototype,"game.ComScoutCenterVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComScoutPlayerVO=t,__reflect(t.prototype,"game.ComScoutPlayerVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getcostArr=function(){return this.cost.split(",")},t}(e.BaseVO);e.ComScoutRatioVO=t,__reflect(t.prototype,"game.ComScoutRatioVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","name2","des","jumpid","icon"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComSecretaryGuildVO=t,__reflect(t.prototype,"game.ComSecretaryGuildVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des","jump"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComSecretaryReportVO=t,__reflect(t.prototype,"game.ComSecretaryReportVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des","reward","jump","offrect","focusRect","window","focuswidget"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getTaskFollow=function(){var e,t=this;return t.window&&t.arrowDirection&&(e=new TaskFollowVO,e.window=t.window,e.focuswidget=t.focuswidget,e.arrowDirection=t.arrowDirection,e.focusRect=t.focusRect,e.offrect=t.offrect),e},t.prototype.getIsNeedWait=function(){var e=!1,t=this.conditiontype;switch(t){case 2001:var a=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id,i=Math.floor(a);this.param1>i&&(e=!0)}return e},t}(e.BaseVO);e.ComSecretaryTaskVO=t,__reflect(t.prototype,"game.ComSecretaryTaskVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["image_url","title","reset"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComSharTxtVO=t,__reflect(t.prototype,"game.ComSharTxtVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComShopVO=t,__reflect(t.prototype,"game.ComShopVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getCostArr=function(){var e=utils.GameComUtil.getItemVoArr(this.cost,null);return e},t}(e.BaseVO);e.ComSkillGradeVO=t,__reflect(t.prototype,"game.ComSkillGradeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["sname","sdes","ratio","obj","value","icon","starrate","typedes"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getValueArr=function(){return this.value.split(";")},t.prototype.getValueString=function(e,a){var i=this.value.split(";"),n=(i.length,parseFloat(i[e-1])),o=this.starrate.split(";"),r=1,s=a-1;return o.length>s&&(r=parseInt(o[s])),this.valuetype==t.valuetype_bai?n=n*r*.01:n*=r,n},t.prototype.getdec=function(e,t){var a,i=this.destype,n=this.getValueString(e,t),o="";if(0==i)o=FormatString.format(this.sdes,n.toFixed(1));else if(1==i){var r=this.ratio.split(";");a=.01*parseInt(r[e-1]),o=FormatString.format(this.sdes,a.toFixed(1),n.toFixed(1))}return o},t.prototype.getLevelValue=function(e,t){var a=0,i=0;e>0&&(i=e-1);var n=this.value.split(";"),o=this.starrate.split(";"),r=1,s=t-1;return o.length>s&&(r=parseInt(o[s])),n.length>i&&(a=parseInt(n[i])),a*r},t.getSkillPost=function(e,t){e||(e=1);var a=ParamLoader.instance.StarSkillLevel[e-1],i=ParamLoader.instance.RelifeSkillLevel[t],n=a+i;return n},t.valuetype_init=1,t.valuetype_bai=2,t}(e.BaseVO);e.ComSkillVO=t,__reflect(t.prototype,"game.ComSkillVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["staffprice"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.isInNumCost=function(t,a,i){var n=this,o=t+a,r=0,s=n.staffprice.split(","),l=new e.ComItemGroupVo;if(o>=n.minstaff){var p=o-n.minstaff,c=t-n.minstaff,u=n.maxstaff-n.minstaff;r=p>u?0>c?u:u-c:0>c?o-n.minstaff:p-c}var m=0;if(0>r&&(r=0),r>0){var g=parseInt(s[1]);m=r*g,isNaN(i)||m>i&&(r=Math.floor(i/g),m=r*g)}return l.itemid=parseInt(s[0]),l.count=m,l.addnum=r,l},a}(e.BaseVO);e.ComStaffpriceVO=t,__reflect(t.prototype,"game.ComStaffpriceVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["title","text","unlockid","titleimg"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getUnlockidS=function(){return this.unlockid.split(",")},t.prototype.getImgUrl=function(){var e=this.imgurl,t=null;if(e&&"0"!=e){var a=e.split(";");t=a[0]}return t},t.prototype.getImgPosArr=function(){var e=this.imgurl,t=null,a=null;if(e&&"0"!=e){var i=e.split(";");i.length>1&&(t=i[1],a=t.split(","))}return a},t}(e.BaseVO);e.ComSystemlanguageVO=t,__reflect(t.prototype,"game.ComSystemlanguageVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComTacticalVO=t,__reflect(t.prototype,"game.ComTacticalVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["cost","tacpointrate","icon"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.getTimeOutPut=function(t,a){void 0===a&&(a=0/0);var i,n=GlobalAllProxy.getInstance().playerProxy.clubData;return isNaN(a)&&(a=n.grade),i=e.SClubResponseVO.ComGetTimeOutPut(t,a,this.tacpointrate,this.tacpointbase)},a.prototype.getPOutPut=function(t){var a=GlobalAllProxy.getInstance().playerProxy.clubData;return e.SClubResponseVO.ComGetPOutPut(t,a.grade,this.tacpointrate)},a.prototype.geticon=function(){return this.icon},a.prototype.getCostArr=function(e){void 0===e&&(e=!1);var t=this,a=[];return a=utils.GameComUtil.getItemVoArr(t.cost,a)},a.prototype.getBaseNum=function(){var e=this;return e.tacpointbase},a.prototype.getRateNum=function(){var e=this;return parseFloat((+e.tacpointrate).toFixed(1))},a}(e.BaseVO);e.ComTacticsCenterVO=t,__reflect(t.prototype,"game.ComTacticsCenterVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["tname","remark","cost"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.ttype_act=1,t.ttype_def=2,t}(e.BaseVO);e.ComTacticsPorVO=t,__reflect(t.prototype,"game.ComTacticsPorVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["loations"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getlocationsArr=function(){return this.loations.split(",")},t}(e.BaseVO);e.ComTacticstoFormaVO=t,__reflect(t.prototype,"game.ComTacticstoFormaVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["icon","name","tips"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComTechBookVO=t,__reflect(t.prototype,"game.ComTechBookVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["cost","techrate","icon"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.getTimeOutPut=function(t,a){void 0===a&&(a=0/0);var i,n=GlobalAllProxy.getInstance().playerProxy.clubData;return isNaN(a)&&(a=n.grade),i=e.SClubResponseVO.ComGetTimeOutPut(t,a,this.techrate,this.techbase)},a.prototype.getPOutPut=function(t){var a=GlobalAllProxy.getInstance().playerProxy.clubData;return e.SClubResponseVO.ComGetPOutPut(t,a.grade,this.techrate)},a.prototype.geticon=function(){return this.icon},a.prototype.getCostArr=function(e){void 0===e&&(e=!1);var t=this,a=[];return a=utils.GameComUtil.getItemVoArr(t.cost,a)},a.prototype.getBaseNum=function(){var e=this;return e.techbase},a.prototype.getRateNum=function(){var e=this;return parseFloat((+e.techrate).toFixed(1))},a}(e.BaseVO);e.ComTechCenterVO=t,__reflect(t.prototype,"game.ComTechCenterVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComTechExprtVO=t,__reflect(t.prototype,"game.ComTechExprtVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComTechPlayerAddVO=t,__reflect(t.prototype,"game.ComTechPlayerAddVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","player","reward","logo"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComTowerCopyVO=t,__reflect(t.prototype,"game.ComTowerCopyVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward1","reward2","reward3"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getRestAddLv=function(e){var t,a=this,i=a.reward3,n=i.split(";"),o=1;if(i&&"0"!=i)for(var r=0,s=n.length;s>r;r++)t=n[r].split(","),+t[0]==e&&(o=+t[1]);return o},t}(e.BaseVO);e.ComTowerRestVO=t,__reflect(t.prototype,"game.ComTowerRestVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComTowerRewardVO=t,__reflect(t.prototype,"game.ComTowerRewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["object","cost"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getCostArr=function(){var e=this.cost.split(",");return e},t}(e.BaseVO);e.ComTowerShopVO=t,__reflect(t.prototype,"game.ComTowerShopVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost","obj"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getAddNum=function(e){var t=this.value*e;return t},t.prototype.getcostnum=function(e){var t=this.cost.split(";"),a=t.length;e>=a&&(e=a-1);var i=parseInt(t[e]);return i},t}(e.BaseVO);e.ComTowerStrengThenVO=t,__reflect(t.prototype,"game.ComTowerStrengThenVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","icon1","icon2","des","skillname","des2","player"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComTrainSkillGroupVO=t,__reflect(t.prototype,"game.ComTrainSkillGroupVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","jump","des"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t}(e.BaseVO);e.ComVipAcessVO=t,__reflect(t.prototype,"game.ComVipAcessVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["vipgift","dailygift","des","des2"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getdesArr=function(){var e=this.des.split("<BR>");return e},t.prototype.getdes2Arr=function(){var e=this.des2.split("<BR>");return e},t.prototype.getVipAddLv=function(e){var t=this,a=0;switch(e){case GlobalEnum.itemid_coin:a=t.vgold;break;case GlobalEnum.itemid_playerexp:a=t.pexp;break;case GlobalEnum.itemid_exp:a=t.cexp}return a},t.prototype.getVipBuildAddLv=function(e){var t=this,a=0;switch(e){case stafftype.type_player:a=t.vclub;break;case stafftype.type_tactical:a=t.vtac;break;case stafftype.type_tech:a=t.vtech;break;case stafftype.type_scout:a=t.vscout}return a},t}(e.BaseVO);e.ComVipVO=t,__reflect(t.prototype,"game.ComVipVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des","des2","parameter","jump","shopid","guild","drop"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getShopArr=function(){var e=this.shopid.split(";"),t=e.length,a=[];if(t)for(var i,n=0;t>n;n++)i=e[n],i&&"0"!=i&&a.push(i.split(","));return a},t}(e.BaseVO);e.ItemVO=t,__reflect(t.prototype,"game.ItemVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["itemstr"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getMapArr=function(){var e=this.itemstr.split(",");return e},t}(e.BaseVO);e.MapCheckVO=t,__reflect(t.prototype,"game.MapCheckVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","text","basis"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getBasisArr=function(){var e=this.basis.split(",");return e},t}(e.BaseVO);e.MatchReportVO=t,__reflect(t.prototype,"game.MatchReportVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[""],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.PlayerposVO=t,__reflect(t.prototype,"game.PlayerposVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","winrew","drawrew","loserew","byerew","dailyrew","downnum","icon"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getdownnumArr=function(){return this.downnum.split(",")},t}(e.BaseVO);e.RankMathConfigVO=t,__reflect(t.prototype,"game.RankMathConfigVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["rankrew"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.RankMathWeekVO=t,__reflect(t.prototype,"game.RankMathWeekVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["chatip","chatport","ip","name","spareip"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.SeverVO=t,__reflect(t.prototype,"game.SeverVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["nameA","nameB","unlock","icon"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getUnlockStr=function(e){var t,a=this.unlock.split(";");return a.length>e&&(t=a[e].split(",")),t},t.prototype.getchildName=function(){var e=[];return"0"!=this.nameB&&(e=this.nameB.split(",")),e},t.prototype.getName=function(e){void 0===e&&(e=0/0);var t=this.nameA;if(!isNaN(e)){var a=this.getchildName(),i=a.length;i>e&&(t=a[e])}return t},t}(e.BaseVO);e.UnLockVO=t,__reflect(t.prototype,"game.UnLockVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["mainicon","tabnum","icon","name","picture","maintitle","subtitle","des","limit","reward","signreward","exsigncondition","exsignreward","buylimit","price","latime","laprice","lacharge","lalimit","lareward","rank","playerbuy","rewardplayer"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getTimedBagRewardArr=function(e){var t,a,i,n,o,r,s,l,p=this,c=p.reward.split("|");l=c.length;var u=[];if(l>=e)for(t=c[e-1],a=t.split(";"),o=0,r=a.length;r>o;o++)i=a[o],n=i.split(","),s=new MTimeBagVO,s.itemid=parseInt(n[0]),s.vip=parseInt(n[1]),s.time=parseInt(n[2]),s.oldug=parseInt(n[3]),s.newug=parseInt(n[4]),s.discount=parseInt(n[5]),u.push(s);return u},t.prototype.getSuperBuyArr=function(){var e,t,a,i,n,o=this,r=o.reward.split(";"),s=[];for(a=0,i=r.length;i>a;a++)e=r[a],t=e.split(","),n=new MSuperBuyVO,n.gifid=parseInt(t[0]),n.time=parseInt(t[1]),n.oldug=t[2],n.payid=parseInt(t[3]),n.newug=t[4],s.push(n);return s},t}(e.BaseVO);e.ComActivityVO=t,__reflect(t.prototype,"game.ComActivityVO")}(game||(game={}));var MSuperBuyVO=function(){function e(){}return e}();__reflect(MSuperBuyVO.prototype,"MSuperBuyVO");var MTimeBagVO=function(){function e(){}return e}();__reflect(MTimeBagVO.prototype,"MTimeBagVO");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","des","reward","jump","window","focuswidget","offrect","focusRect"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getTaskFollow=function(){var e,t=this;return t.window&&t.arrowDirection&&(e=new TaskFollowVO,e.window=t.window,e.focuswidget=t.focuswidget,e.arrowDirection=t.arrowDirection,e.focusRect=t.focusRect,e.offrect=t.offrect),e},t}(e.BaseVO);e.ComCarnivalVO=t,__reflect(t.prototype,"game.ComCarnivalVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["Countname","icon","odds","lasttime"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComBetChampionVo=t,__reflect(t.prototype,"game.ComBetChampionVo")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["gtime","homecount","homeicon","visitcount","visiticon","lasttime","hodds","podds","vodds","score"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComBetMatchVo=t,__reflect(t.prototype,"game.ComBetMatchVo")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["text"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.BarrageVO=t,__reflect(t.prototype,"game.BarrageVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["text","jumpdes","jump","poster"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComPostVO=t,__reflect(t.prototype,"game.ComPostVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComRandomDropVO=t,__reflect(t.prototype,"game.ComRandomDropVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["classname","cost","porperty","bufftype","value","name"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getbufftype=function(){return this.bufftype.split(",")},t.prototype.getvalue=function(){return this.value.split(",")},t.prototype.getnamee=function(){return this.name.split(",")},t}(e.BaseVO);e.ComCoachclassVO=t,__reflect(t.prototype,"game.ComCoachclassVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["costnum"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComCoachImspireVO=t,__reflect(t.prototype,"game.ComCoachImspireVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["porperty"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getporpertyarr=function(){for(var e,t=this.porperty,a=t.split(";"),i={},n=0,o=a.length;o>n;n++)e=a[n].split(","),i[+e[0]]=+e[1];return i},t}(e.BaseVO);e.ComCoachLevelVO=t,__reflect(t.prototype,"game.ComCoachLevelVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost","porperty","obj","value","bufftype","buffvalue","name"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getporpertyarr=function(){for(var e,t=this.porperty,a=t.split(";"),i={},n=0,o=a.length;o>n;n++)e=a[n].split(","),i[+e[0]]=+e[1];return i},t.prototype.getbufftype=function(){return this.bufftype.split(",")},t.prototype.getbuffvalue=function(){return this.buffvalue.split(",")},t.prototype.getbuffname=function(){return this.name.split(",")},t}(e.BaseVO);e.ComCoachStarVO=t,__reflect(t.prototype,"game.ComCoachStarVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["cost","reward","des"],t
}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getTimeHour=function(){var e=this.time;return Math.floor(e/3600)},t}(e.BaseVO);e.ComCoachTrainVO=t,__reflect(t.prototype,"game.ComCoachTrainVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","icon","country","unlockdes","bigicon","des1","des2","jump"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComCoachVO=t,__reflect(t.prototype,"game.ComCoachVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des1","name","des2","icon"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComCopyPlayerRewardVO=t,__reflect(t.prototype,"game.ComCopyPlayerRewardVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["info"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.GuideLanVO=t,__reflect(t.prototype,"game.GuideLanVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.jump=0,t.jumptime=0,t.strarr=["offrect","focusRect","nextStepTrigger","prepareAction","prepareActionParam","window","focuswidget","focusname","background","arrowText","guideact","focusImg","dialogId","name"],t.c_tempPoint=new egret.Point,t.s_tempPoint=new egret.Point,t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.hasDialog=function(){return!isNaN(this.dialog)&&0!=this.dialog},t.prototype.hasArrow=function(){return!isNaN(this.arrowDirection)&&0!=this.arrowDirection},t.prototype.needSync=function(){return!isNaN(this.sync)&&0!=this.sync},t.prototype.getArrowLocation=function(e){var t=this;switch(t.arrowDirection){case 0:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y;break;case 1:t.c_tempPoint.x=e.x+e.width/2,t.c_tempPoint.y=e.y;break;case 2:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y;break;case 3:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y+e.height/2;break;case 4:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y+e.height;break;case 5:t.c_tempPoint.x=e.x+e.width/2,t.c_tempPoint.y=e.y+e.height;break;case 6:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y+e.height;break;case 7:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y+e.height/2;break;default:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y}return t.c_tempPoint},t.prototype.getArrowRotation=function(){return this.arrowDirection<=5?Math.floor(45*(this.arrowDirection-1))%360:Math.floor(45*(this.arrowDirection-1)-360)%360},t.prototype.getprepareActionParamArr=function(){var e,t=[],a=this.getStrPro(this.prepareActionParam);if(a){e=a.split(/\,/);for(var i=e.length,n=0;i>n;n++){var o=e[n];t.push(o.split(/\:/))}}return t},t.prototype.getfocusRect=function(){return this.focusRect&&"0"!=this.focusRect?this.focusRect.split(","):null},t.prototype.getguideact=function(){var e=this.getStrPro(this.guideact);return e?e.split(/\,/):null},t.prototype.getfocusImg=function(){var e=this.getStrPro(this.focusImg);return e?e:null},t.prototype.getStrPro=function(e){return e&&"0"!=e&&""!=e?e:null},t.prototype.getoffrect=function(){var e=this,t=[0,0,0,0],a=e.getStrPro(e.offrect);return a&&(t=a.split(/\,/)),t},t.prototype.getsmallLocation=function(e,t,a){var i=this,n=20;switch(i.showmask){case 0:i.s_tempPoint.x=e.x-t,i.s_tempPoint.y=e.y-a-n;break;case 1:i.s_tempPoint.x=e.x+e.width/2-t/2,i.s_tempPoint.y=e.y-a-n;break;case 2:i.s_tempPoint.x=e.x+e.width,i.s_tempPoint.y=e.y-a-n;break;case 3:i.s_tempPoint.x=e.x+e.width+n,i.s_tempPoint.y=e.y+e.height/2-a/2;break;case 4:i.s_tempPoint.x=e.x+e.width,i.s_tempPoint.y=e.y+e.height+n;break;case 5:i.s_tempPoint.x=e.x+e.width/2-t/2,i.s_tempPoint.y=e.y+e.height+n;break;case 6:i.s_tempPoint.x=e.x-t,i.s_tempPoint.y=e.y+e.height+n;break;case 7:i.s_tempPoint.x=e.x-t-n,i.s_tempPoint.y=e.y+e.height/2-a/2;break;default:i.s_tempPoint.x=e.x-t,i.s_tempPoint.y=e.y-a-n}return i.s_tempPoint},t}(e.BaseVO);e.GuideStepVO=t,__reflect(t.prototype,"game.GuideStepVO")}(game||(game={}));var GuideTagVO=function(){function e(){this.type=0,this.neednum=0,this.curnum=0,this.endneednum=0,this.isopen=0,this.isout=0}return e}();__reflect(GuideTagVO.prototype,"GuideTagVO");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["window","trigger","icon","tip","name","tag","endtag"],e.step=[],e}return __extends(a,t),a.prototype.objectToThis=function(t){var a,i,n,o,r=this;for(a in t)if(n=t[a],n instanceof Array)for(i in n){var s=new e.GuideStepVO;s.objectToThis(n[i]),r.step.push(s)}else-1!=r.strarr.indexOf(a)?r[a]=n.toString():"sync"==a?r[a]=n:"aboutid"==a?(o=utils.GameComUtil.getStringVoArr(n),r.aboutidArr=o):r[a]=isNaN(parseInt(n))?n.toString():parseInt(n)},a.prototype.toItemsArray=function(){if(null!=this.itemsArray)return this.itemsArray;this.itemsArray=[];for(var e=this.step.length,t=0;e>t;t++){var a=this.step[t];this.itemsArray.push(a)}return this.itemsArray},a.prototype.getStepItem=function(e){void 0===e&&(e=0);for(var t=this.step.length,a=0;t>a;a++){var i=this.step[a];if(e==i.id)return i}return null},a.prototype.getNextStepItemByCurrentStep=function(e){if(this.isLastStep(e))return null;var t=this.step.indexOf(e);return this.step[t+1]},a.prototype.getNextStepItemByStepId=function(e){for(var t,a,i=this.step.length,n=0;i>n;n++)if(t=this.step[n],e==t.id){if(i>n+1)return this.step[n+1];break}return a},a.prototype.isLastStep=function(e){return this.step.indexOf(e)==this.step.length-1},a.prototype.getLastStep=function(){return this.step[this.step.length-1]},a.prototype.getFirstStep=function(){return this.step[0]},a.prototype.getiscache=function(){return this.cache},a.prototype.isOpenTrigger=function(){var t=this,a=!0,i=e.GuideVO.getTagNeedObj(t);return i.isopen||(a=!1),a},a.prototype.getTriggerArr=function(){var e=this.trigger,t=utils.GameComUtil.getStringVoArr(e);return t},a.prototype.getTagArr=function(){var e,t=this.tag;return t&&"0"!=t&&(e=t.split(",")),e},a.prototype.getEndTagArr=function(){var e,t=this.endtag;return t&&"0"!=t&&(e=t.split(",")),e},a.getTagNeedObj=function(e){var t=new GuideTagVO,a=e.getTagArr(),i=e.getEndTagArr(),n=parseInt(a[0]),o=parseInt(a[1]),r=0,s=parseInt(i[1]);switch(n){case unlock_type.level:r=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;break;case unlock_type.pve_check:r=GlobalAllProxy.getInstance().playerProxy.playerinfo.getPveCheck()}return t.curnum=r,t.type=n,t.neednum=o,t.endneednum=s,t.isopen=r>=o?1:0,t.isout=r>s?1:0,t},a.type_force=1,a.type_trigger=2,a}(e.BaseVO);e.GuideVO=t,__reflect(t.prototype,"game.GuideVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["clubname","ssrplayer","srplayer","picture"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getSsrplayerArr=function(){var e=this.ssrplayer,t=[];return e&&"0"!=e&&(t=e.split(",")),t},t.prototype.getSrplayerArr=function(){var e=this.srplayer,t=[];return e&&"0"!=e&&(t=e.split(",")),t},t}(e.BaseVO);e.ComFetterClubVO=t,__reflect(t.prototype,"game.ComFetterClubVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["corpartner","corfetter"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComFettercorrelationVO=t,__reflect(t.prototype,"game.ComFettercorrelationVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["fname1","fetter1","fname2","fetter2","fname3","fetter3","fname4","fetter4","fname5","fetter5"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getFnameArr=function(){var e=[],t=this;return t.fname1&&"0"!=t.fname1&&e.push([t.fname1,t.fetter1]),t.fname2&&"0"!=t.fname2&&e.push([t.fname2,t.fetter2]),t.fname3&&"0"!=t.fname3&&e.push([t.fname3,t.fetter3]),t.fname4&&"0"!=t.fname4&&e.push([t.fname4,t.fetter4]),t.fname5&&"0"!=t.fname5&&e.push([t.fname5,t.fetter5]),e},t}(e.BaseVO);e.ComFetterVO=t,__reflect(t.prototype,"game.ComFetterVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComShopTransferVO=t,__reflect(t.prototype,"game.ComShopTransferVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["pt","usept","name","sever","post","serverURL","gameId","group","config"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComOffVO=t,__reflect(t.prototype,"game.ComOffVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["text"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComTipVO=t,__reflect(t.prototype,"game.ComTipVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["icon","name","iconname","jump"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getIconImgForArr=function(){var e=null;return this.addpicture&&"0"!=this.addpicture&&(e=this.addpicture.split(";")),e},t}(e.BaseVO);e.ComActivityIconVO=t,__reflect(t.prototype,"game.ComActivityIconVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward","name"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getnum=function(){return this.param},t.prototype.getAwardStr=function(){return this.reward},t}(e.BaseVO);e.ComGiftBagVO=t,__reflect(t.prototype,"game.ComGiftBagVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["days","reward","seriesreward","shop","picture"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivityChaoZhiVO=t,__reflect(t.prototype,"game.ComActivityChaoZhiVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["charge","club","playerid","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getClubArr=function(){var e=this,t=e.club.split(";");return t},t.prototype.getPlayeridArr=function(){for(var e=this,t=[],a=e.playerid.split(";"),i=[],n=0,o=a.length;o>n;n++)i=a[n].split(","),t.push(i);return t},t}(e.BaseVO);e.ComActivityDianjiangVO=t,__reflect(t.prototype,"game.ComActivityDianjiangVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["laprice","lacharge","lareward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComActivitylabaVO=t,__reflect(t.prototype,"game.ComActivitylabaVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","firstdis","otherdis","num","reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getNumArr=function(){var e=this,t=e.num.split(",");return t},t.prototype.getRewardArr=function(){var e=this,t=e.reward.split("|");return t},t}(e.BaseVO);e.ComActivityshangjingVO=t,__reflect(t.prototype,"game.ComActivityshangjingVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["title","desc","qqtitle","qqdesc","image_url","reward","icon","des1","des2"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComShareVO=t,__reflect(t.prototype,"game.ComShareVO")}(game||(game={}));var debugDM=function(){function e(){}return e.log=function(e){var t=window.debug;t&&t.log(e)},e}();__reflect(debugDM.prototype,"debugDM");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["des","name","icon"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComScoutTypeVO=t,__reflect(t.prototype,"game.ComScoutTypeVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComShareInviteLevelVO=t,__reflect(t.prototype,"game.ComShareInviteLevelVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["reward","des","des2"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t}(e.BaseVO);e.ComShareInviteRichVO=t,__reflect(t.prototype,"game.ComShareInviteRichVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","icon","des","porperty","cost","jump"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getporpertyarr=function(){for(var e,t=this.porperty,a=t.split(";"),i={},n=0,o=a.length;o>n;n++)e=a[n].split(","),i[+e[0]]=+e[1];return i},t}(e.BaseVO);e.ComTitleVO=t,__reflect(t.prototype,"game.ComTitleVO")}(game||(game={}));var FormationVO=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","locations","remark","anchor","restrain"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getlocationsArr=function(){return this.locations.split(",")},t}(game.BaseVO);__reflect(FormationVO.prototype,"FormationVO");var FragAddVO=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e,t){var a,i,n=this;for(a in e)if(i=e[a],-1!=n.strarr.indexOf(a))n[a]=i.toString();else if("event_log"==a)n.setSeverPlayer(i,t);else if("grade"==a){n.grade={};var o,r;for(o in i)r=FightDataVO.serverIdToMyId(o,t),n.grade[o]=i[o]}else n[a]=isNaN(parseFloat(i))?i.toString():parseFloat(i)},t.prototype.setSeverPlayer=function(e,t){var a=this;a.severidArr=[];var i,n,o,r,s,l,p=e.split("|"),c=p.length;for(i=0;c>i;i++){for(n=p[i].split(","),s=n.length,l=[],r=0;s>r;r++)o=FightDataVO.serverIdToMyId(n[r],t),l.push(o);a.severidArr.push(l)}},t}(game.BaseVO);__reflect(FragAddVO.prototype,"FragAddVO");var FragmentVO=function(e){function t(){var t=e.call(this)||this;return t.attackerId=0/0,t.helperId=0/0,t.foulType=0/0,t.foulerId=0/0,t.attackeroutId=0/0,t.strarr=["startTime"],t}return __extends(t,e),t.prototype.setAttackerId=function(e){this.attackerId=e},t.prototype.setAttackerOutId=function(e){this.attackeroutId=e},t.prototype.setHelperId=function(e){this.helperId=e},t.prototype.setFoulType=function(e,t){this.foulType=e,this.foulerId=t},t.prototype.objectToThis=function(e,t){var a,i,n=this;for(a in e)if(i=e[a],!(i instanceof Function||null==i))if("release"==a)n[a]=i;else if(-1!=n.strarr.indexOf(a))n[a]=i.toString();else if("eventLog"==a)n.setSeverPlayer(i,t);else if("score"==a){n.grade={};var o,r,s;for(o in i)s=i[o],r=FightDataVO.serverIdToMyId(s.position,t),n.grade[r]=parseFloat(s.score)}else n[a]=isNaN(parseFloat(i))?i.toString():parseFloat(i);for(var l,p=this.release,c=0,u=p.length;u>c;c++)l=p[c],l.nPosition=FightDataVO.serverIdToMyId(l.nPosition,t);n.yellowCard&&(n.yellowCard=FightDataVO.serverIdToMyId(n.yellowCard,t)),n.redCard&&(n.redCard=FightDataVO.serverIdToMyId(n.redCard,t)),n.injured&&(n.injured=FightDataVO.serverIdToMyId(n.injured,t))},t.prototype.getFreepeople=function(){var e;return e=this.freepeople},t.prototype.getPlayTime=function(){var e=this.timetype,t=this.timetypeLen,a=0,i=ParamLoader.instance;switch(e){case time_type.time_normalup:case time_type.time_normaldown:a=Math.floor(i.tPitchTotal/t);break;case time_type.time_addup:case time_type.time_adddown:a=Math.floor(i.tPitchaAdd/t);break;case time_type.time_PenaltyShow:a=i.tPitchPenalty}return a},t.prototype.getSeverPlayArr=function(e){var t=this;if(t.severidArr){var a=t.severidArr,i=a.length;if(i>e)return a[e]}return null},t.prototype.getPitchId=function(){var e,t=this;return t.eventId&&(e=t.eventId),e},t.prototype.setSeverPlayer=function(e,t){var a=this;a.severidArr=[];var i,n,o,r,s,l,p=e.split("|"),c=p.length;for(i=0;c>i;i++){for(n=p[i].split(","),s=n.length,l=[],r=0;s>r;r++)o=FightDataVO.serverIdToMyId(n[r],t),l.push(o);a.severidArr.push(l)}},t}(game.BaseVO);__reflect(FragmentVO.prototype,"FragmentVO");var SPlayerScore=function(){function e(){}return e}();__reflect(SPlayerScore.prototype,"SPlayerScore");var SReleaseSkill=function(){function e(){}return e}();__reflect(SReleaseSkill.prototype,"SReleaseSkill");var game;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i,n,o,r=this;for(t in e)if(a=e[t],"value"==t)if(i=a.toString().split(";"),i.length>1){if(-1!=i[0].indexOf(","))for(n=0,o=i.length;o>n;n++)i[n]=i[n].split(",");else for(n=0,o=i.length;o>n;n++)i[n]=parseFloat(i[n]);r[t]=i}else if(-1!=i[0].indexOf(",")){for(n=0,o=i.length;o>n;n++)i[n]=i[n].split(",");r[t]=i}else r[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a);else r[t]=a.toString()},t}(e.BaseVO);e.GameConfigVO=t,__reflect(t.prototype,"game.GameConfigVO")}(game||(game={}));var GamedataVO=function(){function e(){this.ncontrol=0,this.ncontrolall=0,this.npass=0,this.npassall=0,this.nshootall=0,this.nshootcom=0,this.nfree=0,this.ncorner=0,this.nyellowcard=0,this.nredcard=0,this.ninjured=0}return Object.defineProperty(e.prototype,"nfoulall",{get:function(){var e=this;return e.nyellowcard+e.nredcard},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lvshootcom",{get:function(){var e=this,t=0;return e.nshootall&&(t=e.nshootcom/e.nshootall),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lvcontrol",{get:function(){var e=this,t=0;return e.ncontrolall&&(t=e.ncontrol/e.ncontrolall),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lvpass",{get:function(){var e=this,t=0;return e.npassall&&(t=e.npass/e.npassall),t},enumerable:!0,configurable:!0}),e.getDataListArr=function(t,a){for(var i,n=[],o=Language.ins.game_data_name,r=e.shuarr,s=e.lvarr,l=0,p=o.length;p>l;l++)i=r[l],n.push(e.getobj(t[i],a[i],o[l],s[l]));return n},e.getobj=function(e,t,a,i){var n={numA:e,numB:t,name:a,islv:i};return n},e.shuarr=["lvcontrol","lvpass","nshootall","lvshootcom","nfree","ncorner","nfoulall","nyellowcard","nredcard","ninjured"],e.lvarr=[1,1,0,1,0,0,0,0,0,0],e}();__reflect(GamedataVO.prototype,"GamedataVO");var PveMapVO=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","fwreward","reward","player","randname","logo","anchor"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getHoutAwardArr=function(e){var t,a=this,i=[],n=Math.round(e/ParamLoader.instance.ServerRound),o=GlobalConfig.getVipVO(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel),r=GlobalAllProxy.getInstance().guildProxy,s=0,l=0;if(r.isjoinGuild()){s=r.Guild.data.level;var p=GlobalConfig.getguildVO(s);l=p.hangupreward*GlobalEnum.wan_num}GlobalAllProxy.getInstance().guildProxy.Guild;t=o.vgold;var c=GlobalEnum.wan_num,u=new game.ComItemGroupVo;return u.itemid=GlobalEnum.itemid_coin,u.count=Math.ceil(a.gold*n*(1+t*c+l)),i.push(u),t=o.pexp,u=new game.ComItemGroupVo,u.itemid=GlobalEnum.itemid_playerexp,u.count=Math.ceil(a.poolexp*n*(1+t*c+l)),i.push(u),t=o.cexp,u=new game.ComItemGroupVo,u.itemid=GlobalEnum.itemid_exp,u.count=Math.ceil(a.cexp*n*(1+t*c+l)),i.push(u),i},t.prototype.getHoutAwardNoArr=function(e){var t,a=this,i=[],n=Math.round(e/ParamLoader.instance.ServerRound),o=GlobalConfig.getVipVO(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel);t=o.vgold;var r=(GlobalEnum.wan_num,new game.ComItemGroupVo);return r.itemid=GlobalEnum.itemid_coin,r.count=Math.ceil(a.gold*n*1),i.push(r),t=o.pexp,r=new game.ComItemGroupVo,r.itemid=GlobalEnum.itemid_playerexp,r.count=Math.ceil(a.poolexp*n*1),i.push(r),t=o.cexp,r=new game.ComItemGroupVo,r.itemid=GlobalEnum.itemid_exp,r.count=Math.ceil(a.cexp*n*1),i.push(r),i},t.prototype.getMapPos=function(){var e=this.anchor,t=e.split(","),a=new egret.Point(parseInt(t[0]),parseInt(t[1]));return a},t.prototype.getRandAwardStr=function(){var e=GlobalConfig.getRandomDropVOStr(this.reward);return e},t}(game.BaseVO);__reflect(PveMapVO.prototype,"PveMapVO");var ServerPlayerVO=function(e){function t(t){var a=e.call(this)||this;return a.isout=!1,a.strarr=["name"],a.m_ismy=t,a}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.strarr.indexOf(t)?i[t]=a.toString():"skill"==t?i[t]=a:i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a));i.isout=!1,this.m_ismy&&i.recordPlayerData()},t.prototype.recordPlayerData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e.playerId);t&&(e.level=t.level,e.star=t.stars,e.quality=t.card_trait,e.exp=t.exp)},t.prototype.getskilllv=function(e){for(var t,a=0,i=this.skill,n=0,o=i.length;o>n;n++)if(t=i[n],t.skillId==e){a=t.level;break}return a},t}(game.BaseVO);__reflect(ServerPlayerVO.prototype,"ServerPlayerVO");var ServerTeamVO=function(e){function t(t){var a=e.call(this)||this;return a.strarr=["name","logo"],a.m_ismy=t,a}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;i.nameobj={},i.ballIdobj={};for(t in e)if(a=e[t],!(a instanceof Function||null==a))if(-1!=i.strarr.indexOf(t))i[t]=a.toString();else if("player"==t){var n,o,r=a.length;i.player=[];for(var s=0;r>s;s++)o=new ServerPlayerVO(this.m_ismy),n=a[s],o.objectToThis(n),i.player.push(o),i.nameobj[o.location]=o.name,i.ballIdobj[o.location]=o.numberTag}else i[t]=isNaN(parseFloat(a))?a.toString():parseFloat(a)},t.prototype.getNameForId=function(e){var t,a=this;return a.nameobj[e]&&(t=a.nameobj[e]),t},t.prototype.getBallidToSeverId=function(e){var t,a=this;return a.ballIdobj[e]&&(t=a.ballIdobj[e]),t},t.prototype.removePlayerId=function(e){for(var t,a,i=this,n=i.player,o=BallUtils.serveridToNum(e),r=n.length-1;r>=0;r--)if(t=n[r],o==t.location){t.isout=!0,a=t;break}return a},t.prototype.relinkInit=function(){for(var e,t=this,a=t.player,i=a.length-1;i>=0;i--)e=a[i],e.isout=!1},t}(game.BaseVO);__reflect(ServerTeamVO.prototype,"ServerTeamVO");var SummaryPlayVO=function(){function e(e){var t=this;e&&(t.evetype=e.evetype,t.isleft=e.isleft,t.nameA=e.nameA,t.nameB=e.nameB,t.tagnumA=e.tagnumA,t.tagnumB=e.tagnumB,t.timestr=e.timestr,t.iconpath=e.iconpath,t.headpath=e.headpath,t.headpathB=e.headpathB,t.qualityA=e.qualityA,t.qualityB=e.qualityB,t.infotype=e.infotype)}return e.getGameStartObj=function(){var e={};return e.isleft=!0,e.nameA=Language.ins.summary_tip1,e.timestr="01",e},e.getGameOverObj=function(e){var t={};return t.isleft=!1,t.nameA=Language.ins.summary_tip2,t.timestr=e+"'",t},e.getFragObj=function(t,a,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=!0);var r,s,l,p,c;if((!n||n&&!o)&&(isNaN(a.foulerId)||isNaN(a.foulType)||(s={},s.timestr=a.startTime,s.nameA=BallUtils.getnamecol(t,a.foulerId,!1),s.iconpath=RESUtil.getIconToFout(a.foulType),s.isleft=BallUtils.severidIsBlue(a.foulerId),s.evetype=match_type.type_event,l=t.getPlayerForId(a.foulerId),s.tagnumA=l.numberTag,s.idA=a.foulerId,l&&l.head?s.headpath=ResName.getPlayerIcon(l.head):s.headpath="",s.qualityA=l.quality,s.infotype=a.foulType,r=new e(s),i.push(r)),e.getShootSumVO(t,a,i,n,o)),n){var u,m,g=a.release,_=match_type.type_skill;for(p=i.length-1;p>=0;p--)r=i[p],r.evetype==_&&i.splice(p,1);var h,d;for(p=0,c=g.length;c>p;p++)u=g[p],h=u.nSkill,l=t.getPlayerForId(u.nPosition),d=GlobalConfig.getSkillVO(h),(!o||0==d.trigger&&2==d.stype)&&l&&(r=new e(null),r.evetype=_,r.timestr=a.startTime,r.isleft=BallUtils.severidIsBlue(u.nPosition),r.nameA=l.name,r.tagnumA=l.numberTag,r.skillid=u.nSkill,m=l.getskilllv(r.skillid),r.skilllv=m,l&&l.head?r.headpath=ResName.getPlayerIcon(l.head):r.headpath="",i.push(r))}},e.getShootSumVO=function(t,a,i,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===r&&(r=!0);var s,l,p=a.attackerId,c=GlobalConfig.getPitchVo(a.eventId);if(isNaN(p)){if(a.attackeroutId&&n){var p=a.attackeroutId;if(s=new e(null),s.isleft=BallUtils.severidIsBlue(p),s.timestr=a.startTime,s.nameA=BallUtils.getnamecol(t,p,!1),s.idA=p,l=t.getPlayerForId(p),s.tagnumA=l.numberTag,l&&l.head?s.headpath=ResName.getPlayerIcon(l.head):s.headpath="",s.qualityA=l.quality,s.evetype=match_type.type_shoot,a.goalState&&(s.iconpath="syls_14"),c){var u=c.stype;switch(s.infotype=match_type.type_eveshootOut,u){case showtype.show_Free:s.infotype=match_type.type_eveshootOutFree;break;case showtype.show_Penalty:s.infotype=match_type.type_eveshootOutPenalty}}r&&i.push(s)}}else{if(s=new e(null),s.isleft=BallUtils.severidIsBlue(p),s.timestr=a.startTime,s.nameA=BallUtils.getnamecol(t,p,!1),l=t.getPlayerForId(p),s.infotype=match_type.type_shoot,s.tagnumA=l.numberTag,s.idA=p,l&&l.head?s.headpath=ResName.getPlayerIcon(l.head):s.headpath="",s.qualityA=l.quality,s.evetype=match_type.type_shoot,a.helperId&&(l=t.getPlayerForId(a.helperId),s.tagnumB=l.numberTag,s.qualityB=l.quality,s.nameB=BallUtils.getnamecol(t,a.helperId,!1),s.idB=a.helperId,l&&l.head?s.headpathB=ResName.getPlayerIcon(l.head):s.headpathB=""),a.goalState&&(s.iconpath="syls_14"),s.infotype=match_type.type_shoot,c){var u=c.stype;switch(u){case showtype.show_Free:s.infotype=match_type.type_eveshootFree;break;case showtype.show_Penalty:s.infotype=match_type.type_eveshootPenalty}}i.push(s)}return s},e.getStealsSumVO=function(t,a,i,n,o,r,s,l,p,c){if(void 0===l&&(l=!1),void 0===p&&(p=!0),void 0===c&&(c=!0),l){var u,m,g=n;return isNaN(g)||(u=new e(null),u.isleft=BallUtils.severidIsBlue(g),u.timestr=a.startTime,u.nameA=BallUtils.getnamecol(t,g,!1),u.idA=g,m=t.getPlayerForId(g),u.evetype=r,u.infotype=s,u.tagnumA=m.numberTag,m&&m.head?u.headpath=ResName.getPlayerIcon(m.head):u.headpath="",u.qualityA=m.quality,o&&(m=t.getPlayerForId(o),u.idB=o,u.tagnumB=m.numberTag,u.qualityB=m.quality,u.nameB=BallUtils.getnamecol(t,o,!1),m&&m.head?u.headpathB=ResName.getPlayerIcon(m.head):u.headpathB=""),c&&i.push(u)),u}},e}();__reflect(SummaryPlayVO.prototype,"SummaryPlayVO");var TipMcVO=function(){function e(){}return e.prototype.getTipForArr=function(e,t,a){var i=this;if(null==e){var n,o=!1;for(var r in t)if(n=t[r],o=i.getTipBL(n,a))return o}return e},e.prototype.getTipBL=function(e,t){var a=this,i=!1,n=GlobalEnum;switch(e){case n.tipmc_mail:i=a.getTipblMail();break;case n.tipmc_chat:i=a.getTipblChat(t);break;case n.tipmc_firstlogo:var o=GlobalAllProxy.getInstance().playerProxy,r=o.modifyLogoNum;i=r?!1:!0;break;case n.tipmc_vip:i=a.getTipblVIP(t);break;case n.tipmc_vipobtain:i=a.getTipblVIPobtain(t);break;case n.tipmc_vipgif:i=a.getTipblVIPGift(t);break;case n.tipmc_achieve:i=a.getTipblAchieve(t);break;case n.tipmc_achievegetnew:i=a.getTipblAchieveGetNew(t);break;case n.tipmc_friendask:i=a.getTipblFriendask(t);break;case n.tipmc_daytask:i=a.getTipblDaytask(t);break;case n.tipmc_clubbuildaward:i=a.getTipblClubbuildaward(t);break;case n.tipmc_clubbuildenter:i=a.getTipblClubbuildenter(t);break;case n.tipmc_secretarytask:i=a.getTipblSecretarytask(t);break;case n.tipmc_answer:i=a.getTipblAnswer(t);break;case n.tipmc_clubmap:i=a.getTipblClubmap(t);break;case n.tipmc_clubgrade:i=a.getTipblClubGrade(t);break;case n.tipmc_recruitexpert:i=a.getTipblRecruitExpert(t);break;case n.tipmc_equipupgrade:i=a.getTipblEquipUpGrade(t);break;case n.tipmc_equipuporder:i=a.getTipblEquipUpOrder(t);break;case n.tipmc_specialshop:i=a.getTipShopSpecial(t);break;case n.tipmc_builduptech:i=a.getTipblBuildUpTech(t);break;case n.tipmc_builduptactics:i=a.getTipblBuildUpTactics(t);break;case n.tipmc_buildupscout:i=a.getTipblBuildUpScout(t);break;case n.tipmc_monthaward:i=a.getTipblMonthAward(t);break;case n.tipmc_getnewhero:i=a.getTipblGetnewhero(t);break;case n.tipmc_clubfightfull:i=a.getTipblClubfightfull(t);break;case n.tipmc_clubfightfull_reward:i=a.getTipblClubfightfull_reward(t);break;case n.tipmc_friendlove:i=a.getTipblFriendLove(t);break;case n.tipmc_carnival:i=a.getTipCarnival(t);break;case n.tipmc_welfare:i=a.getTipConsumptionActivities(t);break;case n.tipmc_rank:i=a.getTipRank(t);break;case n.tipmc_recharge:i=a.getTipRechargeActivities(t);break;case n.tipmc_headthrust:i=a.getTipHeadThrust(t);break;case n.tipmc_studyequipbook:i=a.getTipStudyEquipBook(t);break;case n.tipmc_formation:i=a.getTipFormation(t);break;case n.tipmc_tacticsG:i=a.getTipTacticsG(t);break;case n.tipmc_tactics:i=a.getTipTactics(t);break;case n.tipmc_freestaff:i=a.getTipFreestaff(t);break;case n.tipmc_transfer_time:i=a.getTipTransferTime(t);break;case n.tipmc_herobereborn:i=a.getTipHeroBereborn(t);break;case n.tipmc_herofetter:i=a.getTipHeroFetter(t);break;case n.tipmc_friendInvite:i=a.getTipFriendInvite(t);break;case n.tipmc_heroskillup:i=a.getTipHeroSkillUp(t);break;case n.tipmc_qualifyingday:i=a.getTipQualifyingDay(t);break;case n.tipmc_shareregal:i=a.getTipShareRegal(t);break;case n.tipmc_shareeveryday:i=a.getTipShareEveryDay(t);break;case n.tipmc_shareweek:i=a.getTipShareWeek(t);break;case n.tipmc_danbipay:i=a.getTipDanBiPay(t);break;case n.tipmc_leijipay:i=a.getTipLeiJiPay(t);break;case n.tipmc_lianxupay:i=a.getTipLianXuPay(t);
break;case n.tipmc_yiyuan:i=a.getTipYiYuan(t);break;case n.tipmc_ssrpoint:i=a.getTipSSRPoint(t);break;case n.tipmc_operationcall:i=a.getTipOperationcall(t);break;case n.tipmc_touzi:i=a.getTipTouZi(t);break;case n.tipmc_zaixian:i=a.getTipZaiXian(t);break;case n.tipmc_xiaofei_everyday:i=a.getTipXiaoFeiEveryDay(t);break;case n.tipmc_xiaofei_leiji:i=a.getTipXiaoFeiLeiJi(t);break;case n.tipmc_hero_synthesis:i=a.getTipHeroSynthesis(t);break;case n.tipmc_skill_partnerbag:i=a.getTipSkillPartnerbag(t);break;case n.tipmc_guild_apply:i=a.getTipguildapply(t);break;case n.tipmc_friendship_jifen:i=a.getTipfriendship(FriendShipGifVO.type_integral);break;case n.tipmc_friendship_liansheng:i=a.getTipfriendship(FriendShipGifVO.type_win);break;case n.tipmc_coach_getnew:i=a.getTipCoachGetnew(t);break;case n.tipmc_coach_trainover:i=a.getTipCoachTrainover(t);break;case n.tipmc_coach_upexcita:i=a.getTipCoachUpexcita(t);break;case n.tipmc_coach_upgrade:i=a.getTipCoachUpgrade(t);break;case n.tipmc_xinhuigethero:i=a.getTipXinHui(t);break;case n.tipmc_heroisoffline:i=a.getTipHeroisOffline(t);break;case n.tipmc_title:i=a.getTipTitle(0);break;case n.tipmc_title_putong:i=a.getTipTitle(GlobalEnum.title_titlestyle_putong);break;case n.tipmc_title_teshu:i=a.getTipTitle(GlobalEnum.title_titlestyle_teshu);break;case n.tipmc_chaozhibuy:i=a.getTipChaoZhiBuy(GlobalEnum.tipmc_chaozhibuy);break;case n.tipmc_guild_donate_ug:i=a.getTipDonateug(GlobalEnum.tipmc_chaozhibuy);break;case n.tipmc_guild_donate_coin:i=a.getTipDonatecoin(GlobalEnum.tipmc_chaozhibuy);break;case n.tipmc_actlaba:i=a.getTipLaBa();break;case n.tipmc_act_superbuy:i=a.getTipActSuperBuy();break;case n.tipmc_league_chengjiu:i=a.getTipLeagueChengjiu();break;case n.tipmc_bet:i=a.getTipBet();break;case n.tipmc_appoint_item:i=a.getTipAppointItem();break;case n.tipmc_zhuanpan:i=a.getTipZhuanPan();break;case n.tipmc_mibao:i=a.getTipMiBao()}return i},e.prototype.getTipMiBao=function(){var e=!1,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.treasure){var a=t.treasure;a.daily>0&&(e=!0)}return e},e.prototype.getTipZhuanPan=function(){var e=!1,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.luckilyRoulette){var a=t.luckilyRoulette;a.daily>0&&(e=!0)}return e},e.prototype.getTipAppointItem=function(e){for(var t,a,i=!1,n=GlobalAllProxy.getInstance().backpackProxy.backItemArr,o=GlobalConfig,r=!0,s=r?1:0,l=vm.BackPackBgView.type_daoju+1,p=0,c=n.length;c>p;p++)if(t=n[p],a=o.getItemVo(t.itemid),t.count&&(!s||a&&s==a.display)&&l&&l==a.tag&&1==a.isredpoint){i=!0;break}return i},e.prototype.getTipBet=function(){var e=!1,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.guess){var a=GlobalAllProxy.getInstance().gameProxy.bet_data[3];e=a&&a.length>0}return e},e.prototype.getTipLeagueChengjiu=function(){var e=!1,t=GlobalAllProxy.getInstance().fightProxy.LevelReward,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(t){var i=t.daily;if(!i)return!0;e=!1;for(var n,o=t.level,r=GlobalConfig.leagueInit_data,s=a.gloryStar,l=0,p=r.length;p>l;l++)if(n=r[l],n.reward&&"0"!=n.reward&&(e=s>=n.score?!0:!1)){if(-1==o.indexOf(n.score))return!0;e=!1}}return e},e.prototype.getTipActSuperBuy=function(){var e=!1,t=GlobalAllProxy.getInstance().activityProxy.activityArr;if(t&&t.OverflowBuying){var a,i=t.OverflowBuying,n=i.OverflowGet;for(var o in n)a=n[o],a.buyNum>0&&(e=!0)}return e},e.prototype.getTipLaBa=function(){var e=!1,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.dailyOnline){var a=t.dailyOnline,i=GlobalConfig.getactivityoperateVO(a.activityId),n=GlobalConfig.getComActivitylabaVO(i.relation);if(a&&0!=a.times&&i){var o=+a.rechargeAmount,r=+n.lacharge.split(",")[n.times-a.times],s=+n.laprice.split(",")[n.times-a.times],l=+GlobalAllProxy.getInstance().playerProxy.playerinfo.stone,p=o>=r?!0:!1,c=l>=s?!0:!1;e=a.times>0&&p&&c?!0:!1}else e=!1}return e},e.prototype.getTipDonateug=function(e){var t=!1,a=GlobalAllProxy.getInstance().guildProxy.Guild;return a&&a.data&&0==a.data.magnate&&(t=!0),t},e.prototype.getTipDonatecoin=function(e){var t=!1,a=GlobalAllProxy.getInstance().guildProxy.Guild;return a&&a.data&&0==a.data.general&&(t=!0),t},e.prototype.getTipChaoZhiBuy=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.flashSale){var i=a.flashSale,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return;var o=n.relation,r=GlobalConfig.getComActivityChaoZhiVO(o);if(!r)return;var s=r.seriesday;0==i.receiveStatus&&i.totalChargeDays>=s&&(t=!0),1==i.todayReceiveStatus&&(t=!0)}return t},e.prototype.getTipHeroisOffline=function(e){var t=!1;return t=GlobalAllProxy.getInstance().gameProxy.check_offline},e.prototype.getTipTitle=function(e){var t=this,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_title_mainui]);if(!a)return!1;var i=!1,n=GlobalAllProxy.getInstance().playerProxy,o=n.titledata;if(o&&o.club){var r,s,l=o.club;r=l.title;for(var p=0,c=r.length;c>p;p++)if(s=GlobalConfig.getTitleVO(r[p].type,r[p].level+1)){var u=t.getneedarr(s);if(e==GlobalEnum.title_titlestyle_putong){if(u&&s.titlestyle==e&&(i=CostItemRender.getItemOkArr(u)))break}else if(e==GlobalEnum.title_titlestyle_teshu){if(0!=r[p].level&&u&&s.titlestyle==e&&(i=CostItemRender.getItemOkArr(u)))break}else if(0==e)if(s.titlestyle==GlobalEnum.title_titlestyle_putong){if(u&&(i=CostItemRender.getItemOkArr(u)))break}else if(s.titlestyle==GlobalEnum.title_titlestyle_teshu&&0!=r[p].level&&u&&(i=CostItemRender.getItemOkArr(u)))break}}return i},e.prototype.getneedarr=function(e){var t=[],a=new game.ComItemGroupVo;switch(t=utils.GameComUtil.getItemVoArr(e.cost),e.conditiontype){case GlobalEnum.title_conditiontype_1:a.itemid=GlobalEnum.itemid_tourmatch;break;case GlobalEnum.title_conditiontype_2:a.itemid=GlobalEnum.itemid_promotionmatch;break;case GlobalEnum.title_conditiontype_3:a.itemid=GlobalEnum.itemid_dekaron;break;case GlobalEnum.title_conditiontype_4:a.itemid=GlobalEnum.itemid_achievementlv;break;case GlobalEnum.title_conditiontype_5:a.itemid=GlobalEnum.itemid_fighting;break;case GlobalEnum.title_conditiontype_7:a.itemid=GlobalEnum.itemid_equipmentquality;break;case GlobalEnum.title_conditiontype_8:a.itemid=GlobalEnum.itemid_playerstarty;break;case GlobalEnum.title_conditiontype_11:a.itemid=GlobalEnum.itemid_peakseason;break;case GlobalEnum.title_conditiontype_12:a.itemid=GlobalEnum.itemid_clublv;break;case GlobalEnum.title_conditiontype_13:a.itemid=GlobalEnum.itemid_playerquality;break;case GlobalEnum.title_conditiontype_14:a.itemid=GlobalEnum.itemid_clubgrade}return 0!=e.conditiontype&&e.conditiontype!=GlobalEnum.title_conditiontype_5001?(a.count=e.pram1,a.addnum=e.pram2,a.addnum2=e.des,t.push(a)):e.conditiontype==GlobalEnum.title_conditiontype_5001&&(t=[]),t},e.prototype.getTipShopSpecial=function(t){var a=!1,i=GlobalAllProxy.getInstance().backpackProxy,n=e.shopSpeFist;if(i&&n){var o,r,s,l,p;if(i.dailyLimitation){o=i.dailyLimitation,r=o.length;for(var c=0;r>c;c++)if(s=GlobalConfig.getShopVO(o[c]),l=i.getShopNum(s.id),p=Math.floor(s.sdes-l),p&&p>0){a=!0;break}}if(!a&&i.weeklyLimitation){o=i.weeklyLimitation,r=o.length;for(var c=0;r>c;c++)if(s=GlobalConfig.getShopVO(o[c]),l=i.getShopNum(s.id),p=Math.floor(s.sdes-l),p&&p>0){a=!0;break}}}return a},e.prototype.getTipXinHui=function(e){for(var t,a,i=!1,n=GlobalAllProxy.getInstance().playerProxy.customsClearance,o=GlobalConfig.copyplayerrewardInit_data,r=0,s=o.length;s>r;r++)if(t=o[r],-1==n.indexOf(t.id)){a=t;break}if(a){var l=GlobalConfig.getItemVo(a.itemid);if(l){var p=Manifest.getIns(FightDM)._fightData;if(p){var c=GlobalConfig.copyRewardMinId-1,u=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id,m=0;u&&(m=u-c);var g=a.copyid-c;i=m>=g?!0:!1}}}return i},e.prototype.getTipCoachUpgrade=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_coach]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy,n=i.coachdata;if(n){var o=[];if(e){var r=i.getCoachPlayerVO(e);o=[r]}else o=n.coach;for(var r,s,l,p,c,u,m=GlobalEnum.coachmaxstar,g=GlobalConfig.coachClaMaxObj,_=0,h=o.length;h>_;_++)if(r=o[_])if(c=g[r.coachId],r.star>=m&&r.coachClass>=c);else if(s=GlobalConfig.getCoachStarVO(r.coachId,r.star,r.coachClass),l=utils.GameComUtil.getItemVoArr(s.cost,null),u=new game.ComItemGroupVo(GlobalEnum.itemid_clubgrade,s.clubclass),l.push(u),p=CostItemRender.getItemOkArr(l)){t=!0;break}}return t},e.prototype.getTipCoachTrainover=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_coach]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.coachdata;return i&&(i.time||(t=!0)),t},e.prototype.getTipCoachUpexcita=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_coach]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.coachdata,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;if(i)for(var o,r=i.coach,s=0,l=r.length;l>s;s++)if(o=r[s],(!e||e==o.coachId)&&n>o.level&&o.count<=0){t=!0;break}return t},e.prototype.getTipCoachGetnew=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_coach]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.coachdata;return i&&(e?i.newplayids&&-1!=i.newplayids.indexOf(e)&&(t=!0):i.newplayids&&i.newplayids.length&&(t=!0)),t},e.prototype.getTipfriendship=function(e){var t=!1,a=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(a){var i,n,o=GlobalAllProxy.getInstance().playerProxy.getLevel(),r=!1;switch(e){case FriendShipGifVO.type_integral:r=!0,n=GlobalConfig.friendscorerewardForLevel(o),i=a.score;break;case FriendShipGifVO.type_win:n=GlobalConfig.friendstraightwinForLevel(o),i=a.success_max_num}var s,l,p,c,u,m=n.length,g=0/0;for(u=0;m>u;u++)if(l=n[u],s=0,s=a.getRewardState(e,u),p=l.getnum(),s||c||(c=l),i>=p&&!s){g=e;break}if(r)for(u=0;m>u;u++)if(l=n[u],s=0,s=a.getRewardState(e,u),p=l.getnum(),s||c||(c=l),i>=p){if(!s){t=!0;break}t=!1}else t=!1;else t=isNaN(g)?!1:!0}return t},e.prototype.getTipguildapply=function(e){var t=!1,a=GlobalAllProxy.getInstance().guildProxy;return a&&a.Guild&&a.Guild.data&&(t=1==a.Guild.data.position||2==a.Guild.data.position?a.GuildMemberApplyLists?a.GuildMemberApplyLists.length>0?!0:!1:1==a.Guild.data.applyRedDot?!0:!1:!1),t},e.prototype.getTipSkillPartnerbag=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_trainskill]);if(!a)return!1;var i=0/0,n=0/0;e&&e.playerid&&(i=e.playerid),e&&e.skillid&&(n=e.skillid);var o,r,s=GlobalAllProxy.getInstance().playerProxy;if(s){var l;isNaN(i)?l=s.getUpPlayer():(o=s.getSeverPlayerVO(i),l=o.position?[o]:[]);var p,c,u,m,g,_,h,d,y,v,f,b,G=ParamLoader.instance.ServerSkillUnlock,x=GlobalAllProxy.getInstance().backpackProxy;e:for(c=0,u=l.length;u>c;c++)for(o=l[c],i=o.playerid,d=o.stars,_=o.skill,m=0,g=_.length;g>m;m++)if(h=_[m],(isNaN(n)||n==h.skill_id)&&(r=G[m],d>=r&&(f=GlobalConfig.getSkillVO(h.skill_id),f.stype==skill_type.type_fetter&&(p=GlobalConfig.getFetterVO(o.playerid)))))if(y=p.partner,v=s.getSeverPlayerVO(y));else if(b=GlobalConfig.getItemIdForPlayerId(y),b&&x.getItemCount(b.objectid)>0){t=!0;break e}}return t},e.prototype.getTipTransferTime=function(t){var a=!1,i=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_market]);if(!i)return!1;var n=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;return n&&n.refreshCnt<=0&&!e.isinmarket&&(a=!0),a},e.prototype.getTipHeroSynthesis=function(e){for(var t,a,i=!1,n=GlobalAllProxy.getInstance().backpackProxy.backItemArr,o=GlobalConfig,r=!0,s=r?1:0,l=vm.BackPackBgView.type_cailiao+1,p=0,c=n.length;c>p;p++)if(t=n[p],a=o.getItemVo(t.itemid),t.count&&(!s||a&&s==a.display)&&l&&l==a.tag&&a.compose&&t.count>=a.compose){i=!0;break}return i},e.prototype.getTipXiaoFeiLeiJi=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.consumerGift;if(a){var i=a,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return!1;var o=n.relation,r=GlobalConfig.getactivityxiaofeiVO(o);if(!r)return!1;var s=r.limittotal.split(","),l=i.consumerRewards,p=a.consumerTotal;if(r&&a)for(var c=0,u=s.length;u>c;c++)if(+s[c]<=p){t=!0;for(var m in l)l[m]==+s[c]&&(t=!1);if(t)return t}}return t},e.prototype.getTipXiaoFeiEveryDay=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.consumerGift;if(a){var i=a,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return!1;var o=n.relation,r=GlobalConfig.getactivityxiaofeiVO(o);if(!r)return!1;var s=r.limit.split(","),l=i.dailyRewards,p=a.dailyTotal;if(r&&a)for(var c=0,u=s.length;u>c;c++)if(+s[c]<=p){t=!0;for(var m in l)l[m]==+s[c]&&(t=!1);if(t)return t}}return t},e.prototype.getTipZaiXian=function(e){var t=!1,a=GlobalAllProxy.getInstance().activityProxy.activityArr;if(a&&a.onlineInit){var i=GlobalAllProxy.getInstance().activityProxy.activityArr.onlineInit,n=i,o=n.timeOnline,r=GlobalConfig.getActivityVO(n.activityId);if(!r)return!1;var s=r.limit.split(","),l=n.onlineRewards;if(r&&i)for(var p=0,c=s.length;c>p;p++)if(+s[p]<=o){t=!0;for(var u in l)l[u]==+s[p]&&(t=!1);if(t)return t}}return t},e.prototype.getTipTouZi=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.investmentManager){var i=a.investmentManager;1==i.receiveStatus&&(t=!0)}return t},e.prototype.getTipSSRPoint=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.footballPoint){var i=a.footballPoint;1==i.receiveStatus&&(t=!0)}return t},e.prototype.getTipOperationcall=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.scoutReward){var i=a.scoutReward,n=i.totalScoutTimes,o=i.scoutRewardList,r=GlobalConfig.getComActivityshangjingVO(i.actRelationId);if(r)for(var s,l,p,c=r.getNumArr(),u=r.getRewardArr(),m=o.length,g=0,_=c.length;_>g;g++)if(s=parseInt(c[g]),l=u[g],p=0,m>g&&(p=o[g]),s>n);else if(1!=p){t=!0;break}}return t},e.prototype.getTipYiYuan=function(e){var t=!1,a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(a&&a.yiYuan){var i=a.yiYuan;1==i.receiveStatus&&(t=!0)}return t},e.prototype.getTipLianXuPay=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.continuousCharge){var i=a.continuousCharge,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return!1;var o=n.relation,r=GlobalConfig.getactivityjinqiuVO(o);if(!r)return!1;var s=r.reward.split("|"),l=r.limit.split(","),p=i.receiveStatusDays;if(r&&a){for(var c=0,u=s.length;u>c;c++)if(+l[c]<=i.amount){t=!0;for(var m=0,g=p.length;g>m;m++)+p[m]==+l[c]&&(t=!1);if(t)break}for(var _=i.receiveStatusAll,h=0,d=_.length;d>h;h++)1==_[h]&&(t=!0)}}return t},e.prototype.getTipLeiJiPay=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.accumulative){var i=a.accumulative,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return!1;var o=n.relation,r=GlobalConfig.getactivityleijiVO(o);if(!r)return!1;var s=r.reward.split("|"),l=r.limit.split(","),p=i.receiveStatus;if(r&&a)for(var c=0,u=s.length;u>c;c++)if(+l[c]<=i.amount){t=!0;for(var m=0,g=p.length;g>m;m++)+p[m]==+l[c]&&(t=!1);if(t)break}}return t},e.prototype.getTipDanBiPay=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.singleRecharge)for(var i=a.singleRecharge,n=i.receiveStatus,o=0,r=n.length;r>o;o++)if(1==+n[o]){t=!0;break}return t},e.prototype.getTipShareWeek=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(a&&a.magnate){var i=a.weekShare;2!=i.shareStatus&&(t=!0),1==i.inviteStatus&&(t=!0)}return t},e.prototype.getTipShareRegal=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(a&&a.magnate){for(var i,n,o=a.magnate,r=o.receiveGrade,s=GlobalConfig.shareinviterich_data,l=0,p=s.length;p>l;l++)if(i=s[l],-1==r.indexOf(i.id)){n=i;break}n||(n=i),n&&o.totalAmount>=n.chargediamond&&-1==o.receiveGrade.indexOf(n.id)&&(t=!0)}return t},e.prototype.getTipShareEveryDay=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy,i=a.weeklyshare;if(i&&i.dailyShare){var n=i.dailyShare,o=GlobalConfig.getShareVO(share_type.type_shareevery);if(o){var r=a.getShareTime(share_type.type_shareevery),s=+o.limit,l=s-r;if(0>l&&(l=0),l>0&&(n.coolingTime>0||(t=!0)),!t){var p=n.inviteLogin,c=ParamLoader.instance.ShareLoginnum;if(p>=c){var u=ParamLoader.instance.ShareLoginlimit,m=n.remainder;m>u&&2!=n.loginReward&&(t=!0)}}}if(!t){var g,_,h,d,y=n.invites,v=GlobalConfig.shareinvitelevel_data,f=v.length;e:for(var b=0,G=y.length;G>b;b++)if(g=y[b],g&&null!=g.logo)for(h=g.receiveLists,d=0;f>d;d++)if(_=v[d],g.level>=_.lv&&-1==h.indexOf(_.id)){t=!0;break e}}}return t},e.prototype.getTipQualifyingDay=function(e){var t,a=!1,i=GlobalAllProxy.getInstance().fightProxy.qualifyingData,n=GlobalConfig.qualifyingdayrewardInit_data;if(i)for(var o=0,r=n.length;r>o;o++)if(t=n[o].score,i.integral>=t){a=!0;for(var s=0,l=i.dailyRewards.length;l>s;s++)t==i.dailyRewards[s]&&(a=!1)}return a},e.prototype.getTipHeroSkillUp=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_trainskill]);if(!a)return!1;var i=0/0,n=0/0;e&&e.playerid&&(i=e.playerid),e&&e.skillid&&(n=e.skillid);var o,r,s,l=GlobalAllProxy.getInstance().playerProxy;if(l){var p;isNaN(i)?p=l.getUpPlayer():(r=l.getSeverPlayerVO(i),p=r.position?[r]:[]);var c,u,m,g,_,h,d,y,v,f,b,G,x,C,T=ParamLoader.instance.ServerSkillUnlock,P=l.playerinfo.skillPoint,A=P>=ParamLoader.instance.SkillRedDot?!0:!1,w=0;e:for(u=0,m=p.length;m>u;u++)for(r=p[u],i=r.playerid,y=r.stars,h=r.skill,w=game.ComSkillVO.getSkillPost(r.stars,r.transform),g=0,_=h.length;_>g;g++)if(d=h[g],(isNaN(n)||n==d.skill_id)&&(s=T[g],C=!1,y>=s&&(x=GlobalConfig.getSkillVO(d.skill_id),v=GlobalConfig.getSkillGradeVO(x.sclass,d.level),v&&A&&(x.stype==skill_type.type_fetter?(c=GlobalConfig.getFetterVO(r.playerid),c&&(f=c.partner,b=l.getSeverPlayerVO(f),b&&(C=!0))):C=!0,C&&w&&d.level<w&&(G=utils.GameComUtil.getItemVoArr(v.cost,null),o=CostItemRender.getItemOkArr(G)))))){t=o;break e}}return t},e.prototype.getTipFriendInvite=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_build]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.isnewInvite,n=GlobalAllProxy.getInstance().playerProxy.inviteData;return n&&n.length&&i&&(t=!0),t},e.prototype.getTipHeroFetter=function(e){var t=!1,a=0/0;e&&(a=e);var i,n=GlobalAllProxy.getInstance().playerProxy;if(n){var o;isNaN(a)?o=n.getUpPlayer():(i=n.getSeverPlayerVO(a),o=i.position?[i]:[]);var r,s,l,p,c,u,m,g,_,h,d,y,v,f,b,G;e:for(g=0,_=o.length;_>g;g++)if(i=o[g],a=i.playerid,r=GlobalConfig.getFetterVO(a))for(s=r.getFnameArr(),h=0,d=s.length;d>h;h++){for(l=s[h],p=l[0],c=l[1],u=c.split(","),m=vm.HeroInfoView.getRenderArr(u),b=!1,G=!0,y=0,v=m.length;v>y;y++)f=m[y],f.isown||(G=!1),(2==f.isown||3==f.isown)&&(b=!0);if(G&&b){t=!0;break e}}}return t},e.prototype.getTipHeroBereborn=function(e){var t=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_trainbereborn]);if(!t)return!1;var a=!1,i=0/0;e&&(i=e);var n,o,r,s,l,p,c=GlobalAllProxy.getInstance().playerProxy;if(c){var u;isNaN(i)?u=c.getUpPlayer():(r=c.getSeverPlayerVO(i),u=r.position?[r]:[]);for(var m,g,_,h=0,d=u.length;d>h;h++)if(r=u[h],_=game.SResponsePlayer.getMaxBeBronNum(r.card_trait),_&&_!=r.transform&&(m=[],p=r.transform+1,g=GlobalConfig.getItemIdForPlayerId(r.playerid),s=game.SResponsePlayer.getMaxRebornForStar(p),l=game.SResponsePlayer.getBeBronCar(p),o=new game.ComItemGroupVo(GlobalEnum.itemid_herostar,s),o.addnum=r.stars,m.push(o),n=CostItemRender.getItemOkArr(m))){if(m=[],o=new game.ComItemGroupVo(GlobalEnum.itemid_herocar,l),o.addnum=g.objectid,m.push(o),n=CostItemRender.getItemOkArr(m)){a=!0;break}for(var y=GlobalConfig.getPlayerPorpertyVO(+g.parameter),v=GlobalAllProxy.getInstance().backpackProxy.getBagItem(),f=0,b=0,G=v.length;G>b;b++){var x=GlobalConfig.getItemVo(v[b].itemid);if(x&&4==x.type){var C=GlobalConfig.getPlayerPorpertyVO(+x.parameter);C.location==y.location&&C["class"]==y["class"]&&C.playerid!=y.playerid&&(f+=v[b].count)}}if(f>=l){a=!0;break}}}return a},e.prototype.getTipTacticsG=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_gamehero,vm.HeroView.type_study]);if(!a)return!1;for(var i,n=GlobalAllProxy.getInstance().playerProxy.tacticsData,o=n.tactical,r=0,s=o.length;s>r;r++){i=+o[r].tid;var l=parseInt(""+i/100);if(201==+l){var p=n.getStudyLevel(i),c=p+1,u=GlobalConfig.getTacticstoPorPertyVO(i,p),m=(u.remark.split(","),GlobalConfig.getTacticstoPorPertyVO(i,c));if(m){var g=utils.GameComUtil.getItemVoArr(u.cost,null),_=(GlobalAllProxy.getInstance().playerProxy.getTacticsLevel(),u.clv),h=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,_);g.push(h);var d=CostItemRender.getItemOkArr(g);if(d){t=!0;break}}}}return t},e.prototype.getTipTactics=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_gamehero,vm.HeroView.type_study]);if(!a)return!1;for(var i,n=GlobalAllProxy.getInstance().playerProxy.tacticsData,o=n.tactical,r=0,s=o.length;s>r;r++){i=+o[r].tid;var l=parseInt(""+i/100);if(202==+l){i=o[r].tid;var p=n.getStudyLevel(i),c=p+1,u=GlobalConfig.getTacticstoPorPertyVO(i,p),m=(u.remark.split(","),GlobalConfig.getTacticstoPorPertyVO(i,c));if(m){var g=utils.GameComUtil.getItemVoArr(u.cost,null),_=(GlobalAllProxy.getInstance().playerProxy.getTacticsLevel(),u.clv),h=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,_);g.push(h);var d=CostItemRender.getItemOkArr(g);if(d){t=!0;break}}}}return t},e.prototype.getTipFormation=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_gamehero,vm.HeroView.type_formation]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.tacticsData,n=i.formid,o=i.getFormeLevel(n),r=o+1,s=(GlobalConfig.getFormationVO(n),GlobalConfig.getFormationProperVO(n,o)),l=GlobalConfig.getFormationProperVO(n,r);if(l){var p=utils.GameComUtil.getItemVoArr(s.cost,null),c=new game.ComItemGroupVo,u=s.clv,c=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,u);p.push(c);var m=CostItemRender.getItemOkArr(p);t=m?!0:!1}return t},e.prototype.getTipblVIPGift=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.vipData;if(a)for(var i=1,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,o=n,r=a.exclusiveGiftBag,s=i;o>=s;s++)if(-1==r.indexOf(s)){t=!0;break}return t},e.prototype.getTipFreestaff=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var i=a.player_num+a.tactical_num+a.tech_num+a.scout_num,n=a.getAllStaffNum()-i;n&&n>0&&(t=!0)}return t},e.prototype.getTipWeekly=function(e){var t=!1;if(GlobalAllProxy.getInstance().playerProxy.weeklyshare){var a=GlobalAllProxy.getInstance().playerProxy.weeklyshare.weekShare;!a||1!=a.inviteStatus&&1!=a.shareStatus||(t=!0)}return t},e.prototype.getTipStudyEquipBook=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.scienceData;return a&&(t=a.coolingTime<=0?!0:!1,t=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,vm.TechBgView.type_study],!1)&&a.coolingTime<=0?!0:!1),t},e.prototype.getTipHeadThrust=function(e){var t=!1,a=GlobalAllProxy.getInstance().activityProxy.activityArr;if(a){var i=a.firstChargeInit;return i&&1==i.status&&(t=!0),t}},e.prototype.getTipRechargeActivities=function(e){var t=!1;return t=utils.GameComUtil.checkrecH(act_type.reccourtesy)||utils.GameComUtil.checkrecH(act_type.consgift)||utils.GameComUtil.checkrecH(act_type.opensfund)||utils.GameComUtil.checkrecH(act_type.opensinves)?!0:!1},e.prototype.getTipRank=function(e){var t=!1;return t=utils.GameComUtil.checkrankchdH(1050101)||utils.GameComUtil.checkrankchdH(1050201)||utils.GameComUtil.checkrankchdH(1050301)||utils.GameComUtil.checkrankchdH(1050401)?!0:!1},e.prototype.getTipConsumptionActivities=function(e){var t=!1;return t=utils.GameComUtil.checkactH(act_type.sevenday)||utils.GameComUtil.checkactH(act_type.cumsign)||utils.GameComUtil.checkactH(act_type.levelgif)||utils.GameComUtil.checkactH(act_type.onlinegif)||utils.GameComUtil.checkactH(act_type.timedbag)||utils.GameComUtil.checkactH(act_type.superbuy)?!0:!1},e.prototype.getTipCarnival=function(e){var t=!1,a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(a&&a.carnival)for(var i,n=a.carnival.task,o=n.length,r=1;7>r;r++)for(var s=0;o>s;s++)if(n&&n[s]&&n[s].taskId&&(i=GlobalConfig.getCarnivaVO(n[s].taskId),i.day<=a.carnival.openDays&&1==n[s].isReward)){t=!0;break}return t},e.prototype.getTipblFriendLove=function(e){var t=!1,a=GlobalAllProxy.getInstance().friendProxy.friendList;if(a){var i=GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt,n=ParamLoader.instance.ServerMaxHeart;if(n>i)for(var o,r=0,s=a.length;s>r;r++)if(o=a[r],o.is_exist_get&&!o.is_get){t=!0;break}}return t},e.prototype.getTipblClubfightfull_reward=function(e){var t,a=!1,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i&&i.mapRecord&&i.mapRecord.length){for(var n,o,r,s=i.mapRecord,l=0,p=0,c=s.length;c>p;p++)n=s[p],n.mapId>l&&(l=n.mapId,o=n);if(o){r=GlobalConfig.getCopyclubgradeVOArr(l);var u=0,m=o.customs;if(r&&m){for(var g,_=0,h=m.length;h>_;_++)g=m[_],g.degree&&(u+=1);if(r&&r.length<=u){var d=o.mapId+1;GlobalConfig.getCopyClubGradeCescribeVO(d)&&(l=d)}}t=l;for(var y=1;t>=y;y++){var v=y,f=i.getSMapRecord(v),b=GlobalConfig.getCopyclubgradestarForLevel(v),G=0;f&&f.star&&(G=f.star);for(var x,C,T,h=b.length,_=0;h>_;_++)if(C=b[_],x=!1,f&&-1!=f.gift.indexOf(C.id)&&(x=!0),T=C.getnum(),G>=T&&!x)return a=!0}}}return a},e.prototype.getTipblClubfightfull=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_clubfightmap]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(i){var n=ParamLoader.instance,o=i.challenges;n.ServerUpgradeLimit;o>0&&(t=!0)}return t},e.prototype.getTipblGetnewhero=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.getnewhero;return a&&(t=!0),t},e.prototype.getTipblMonthAward=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.vipData;if(a&&a.monthCard)for(var i=a.monthCard,n=0,o=i.length;o>n;n++)if(1==i[n].dailyGiftBag){t=!0;break}return t},e.prototype.getTipblBuildUpScout=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.scoutData,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a&&i){var n=i.grade,o=a.getLevel(),r=o+1,s=i.getBuildNeedLv(stafftype.type_scout,r),l=GlobalConfig.getScoutCenterVO(o),p=GlobalConfig.getScoutCenterVO(r);if(p){var c=!1,u=!1;n>=s&&(u=!0),u&&(c=utils.GameComUtil.getItemVoArrIsFull(l.cost)),c&&u&&(t=!0)}}return t},e.prototype.getTipblBuildUpTactics=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.tacticsData,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a&&i){var n=i.grade,o=a.getLevel(),r=o+1,s=i.getBuildNeedLv(stafftype.type_tactical,r),l=GlobalConfig.getTacticsCenterVO(o),p=GlobalConfig.getTacticsCenterVO(r);if(p){var c=!1,u=!1;n>=s&&(u=!0),u&&(c=utils.GameComUtil.getItemVoArrIsFull(l.cost)),c&&u&&(t=!0)}}return t},e.prototype.getTipblBuildUpTech=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_tech]);if(!a)return!1;var i=GlobalAllProxy.getInstance().playerProxy.scienceData,n=GlobalAllProxy.getInstance().playerProxy.clubData;if(i&&n){var o=n.grade,r=i.getLevel(),s=r+1,l=n.getBuildNeedLv(stafftype.type_tech,s),p=GlobalConfig.getTechCenterVO(i.getLevel()),c=GlobalConfig.getTechCenterVO(s);if(c){var u=!1,m=!1;o>=l&&(m=!0),m&&(u=utils.GameComUtil.getItemVoArrIsFull(p.cost)),u&&m&&(t=!0)}}return t},e.prototype.getTipblEquipUpGrade=function(e){var t=!1,a=!1,i=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_techequipupgrade,vm.TechEquipUpGradeView.type_up]);if(!i)return!1;var n=GlobalAllProxy.getInstance().playerProxy.equipArr;if(n){var o=0/0;e&&(o=e);var r,s,l,p,c,u,m,g,_=n.length;for(r=0;_>r;r++)if(s=n[r],l=s.eid,(isNaN(o)||l==o)&&(p=s,c=p.grade,u=p.grade+1,m=GlobalConfig.getEquipClassVO(p.eid,c),g=GlobalConfig.getEquipClassVO(p.eid,u),g&&(a=utils.GameComUtil.getItemVoArrIsFull(m.cost))))return!0}return t},e.prototype.getTipblEquipUpOrder=function(e){var t=!1,a=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_techequipupgrade,vm.TechEquipUpGradeView.type_order]);if(!a)return!1;var i=!1,n=GlobalAllProxy.getInstance().playerProxy.equipArr;if(n){var o=0/0;e&&(o=e);var r,s,l,p,c,u,m,g,_=n.length;for(r=0;_>r;r++)if(s=n[r],l=s.eid,(isNaN(o)||l==o)&&(p=s,c=GlobalConfig.getEquipQualityVO(p.eid,p.quality),u=p.quality,m=p.quality+1,g=GlobalConfig.getEquipQualityVO(p.eid,m),g&&(i=utils.GameComUtil.getItemVoArrIsFull(c.cost))))return!0}return t},e.prototype.getTipblRecruitExpert=function(e){var t=!1,a=GlobalEnum.itemid_qiutan,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n,o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(a),r=i.grade,s=2,l=GlobalConfig.getScoutRatioVO(s,r),p=0;l&&(n=l.getcostArr(),p=parseInt(n[1])),p&&o>=p&&(t=!0)}return t},e.prototype.getTipblClubGrade=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var i=(a.grade,a.grade+1),n=GlobalConfig.getClubgradeVO(a.grade),o=GlobalConfig.getClubgradeVO(i);if(n){var r=!1,s=!1;if(o){if(n.chapter){var l=a.getSMapAllStar(n.chapter);l&&l>=30&&(r=!0)}r&&(s=utils.GameComUtil.getItemVoArrIsFull(n.cost))}r&&s&&(t=!0)}}return t},e.prototype.getTipblClubmap=function(e){var t=!1,a=e,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n,o=0,r=GlobalConfig.copyclubgrade_min_level,s=GlobalConfig.copyclubgrade_max_level;a&&(r=a,s=a);for(var l,p,c,u,m,g,_=r;s>=_;_++){if(l=_,n=GlobalConfig.getCopyclubgradestarForLevel(l),g=i.getSMapRecord(l),o=0,g&&g.star)for(o=g.star,p=n.length,m=0;p>m;m++)if(u=n[m],c=!1,g&&-1!=g.gift.indexOf(u.id)&&(c=!0),u.starnum<=o&&!t&&!c){t=!0;break}if(t)break}}return t},e.prototype.getTipblAnswer=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.questiondata;if(a){var i=Global.systemTimeNum,n=0;if(n=Math.floor(.001*(a.endTime+1e3-i)),0>=n&&(n=0),n||a.status==game.SQuestionEnter.type_over){var o=a.status;o==game.SQuestionEnter.type_start?(n=Math.floor(.001*(a.time+1e3-i)),0>=n&&(n=0),n||a.sendtype||(t=!0)):o==game.SQuestionEnter.type_play&&(t=!0)}else;1==a.todaystatus&&(t=!1),a.weekday&&a.total<ParamLoader.instance.ServerQuesWeekLimit&&(t=!1)}return t},e.prototype.getTipblSecretarytask=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.secretaryData,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a&&i){var n,o,r,s,l,p=GlobalConfig.secretarytask_DATA,c=i.level,u=a.task,m=u.length;GlobalConfig.getClubVO(i.level),utils.GameComUtil;for(var g in p){if(n=p[g],n.lv<=c)for(o=0;m>o;o++)if(s=u[o],s.taskId==n.taskid&&(r=0,l=0,r=s.progress,l=2==s.isReward?1:0,!n.getIsNeedWait()&&r>=n.schedule&&!l)){t=!0;break}if(t)break}}return t},e.prototype.getTipblClubbuildenter=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a)for(var i,n,o=a.build,r=o.length,s=0;3>s;s++)if(r>s&&(i=o[s],n=a.getEnterBuildTime(i),!n)){t=!0;break}return t},e.prototype.getTipblClubbuildaward=function(e){var t,a,i=!1,n=0,o=e;if(a=stafftype.type_player,!(i||o&&o!=a)){var r=GlobalAllProxy.getInstance().playerProxy.clubData;r&&(t=ParamLoader.instance.ClubRedDotTime,n=r.getTimeOutNum(t,!0),n&&(i=!0))}if(a=stafftype.type_tactical,!(i||o&&o!=a)){var s=GlobalAllProxy.getInstance().playerProxy.tacticsData;s&&(t=ParamLoader.instance.ClubRedDotTime,n=s.getTimeOutNum(t,!0),n&&(i=!0))}if(a=stafftype.type_tech,!(i||o&&o!=a)){var l=GlobalAllProxy.getInstance().playerProxy.scienceData;l&&(t=ParamLoader.instance.ClubRedDotTime,n=l.getTimeOutNum(t,!0),n&&(i=!0))}if(a=stafftype.type_scout,!(i||o&&o!=a)){var p=GlobalAllProxy.getInstance().playerProxy.scoutData;p&&(t=ParamLoader.instance.ClubRedDotTime,n=p.getTimeOutNum(t,!0),n&&(i=!0))}return i},e.prototype.getTipblDaytask=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.daytask,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a&&i){var n,o,r,s,l,p=GlobalConfig.active_DATA,c=GlobalConfig.activebag_DATA,u=(i.level,a.lists),m=u.length,g=(GlobalConfig.getClubVO(i.level),GlobalAllProxy.getInstance().playerProxy.playerinfo.level),_=GlobalAllProxy.getInstance().playerProxy.playerinfo.getPveCheck();
for(var h in p)if(n=p[h],n.getIsUnlockLevel(g,_)){for(r=0,l=0,o=0;m>o;o++)if(s=u[o],s.type==n.id){r=s.value,l=s.is_get;break}if(r>=n.param1&&!l){t=!0;break}}if(!t){var d,y,v=a.daily_num,f=a.week_num,b=0,G=0,x=a.reward_status;m=x.length;for(var C=0,T=0,P=c.length;P>T;T++){for(d=c[T],l=0,o=0;m>o;o++)if(y=x[o],y.type==d.id){l=y.status;break}if(1==d.bagtype){if(C=Math.max(C,d.score),v>=d.score&&!l){t=!0;break}b++}else{if(f>=d.score&&!l){t=!0;break}G++}}}}return t},e.prototype.getTipblMail=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.maildata;if(a)for(var i,n=a.length,o=0;n>o;o++)if(i=a[o],i.item&&i.item.length&&!i.isRec||!i.isRead){t=!0;break}return t},e.prototype.getTipblFriendask=function(e){var t=!1,a=GlobalAllProxy.getInstance().friendProxy.askList;return a&&a.length&&(t=!0),t},e.prototype.getTipblAchieve=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.achieveData;if(a){var i,n,o,r,s=a.level,l=a.levelGift,p=GlobalConfig.achievereward_DATA;for(o=0,r=p.length;r>o&&(i=p[o],n=i.achievelv,!(i.reward&&"0"!=i.reward&&s>=n&&-1==l.indexOf(n)));o++);s>=i.achievelv&&(t=!0)}return t},e.prototype.getTipblAchieveGetNew=function(e){var t=!1,a=GlobalAllProxy.getInstance().gameProxy.achieveData;if(a){var i,n,o,r=a.achieve;for(n=0,o=r.length;o>n;n++)if(i=r[n],i.isNeedShowTip){t=!0;break}}return t},e.prototype.getTipblVIP=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=a.vipLevel,n=GlobalAllProxy.getInstance().playerProxy.vipData;return n&&i&&(n.dailyGift||(t=!0)),t},e.prototype.getTipblVIPobtain=function(e){var t=!1,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=(a.vipLevel,GlobalAllProxy.getInstance().playerProxy.vipData);return i&&(i.loginExp||(t=!0)),t},e.prototype.getTipblChat=function(e){var t=!1,a=GlobalAllProxy.getInstance().chatProxy,i=GlobalAllProxy.getInstance().guildProxy;return(a.bl_newchatCom||a.bl_newchatself||a.bl_newchatclub||a.bl_newchatsys||i.isredbagGuild())&&(e==chatType.type_com?a.bl_newchatCom&&(t=!0):e==chatType.type_self?a.bl_newchatself&&(t=!0):e==chatType.type_club?(a.bl_newchatclub||i.isredbagGuild())&&(t=!0):e==chatType.type_sys?a.bl_newchatsys&&(t=!0):t=!0),t},e.shopSpeFist=!0,e.isinmarket=!1,e}();__reflect(TipMcVO.prototype,"TipMcVO");var game;!function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.setdata=function(e,t){var a=this,i=e.length;i>0&&(a.type=+e[0]),i>1&&(a.childtype=+e[1]),i>2&&(a.twochildtype=+e[2]),a.panelobj=t},a.prototype.isGuidePanel=function(){var e,t=this,i=t.type?t.type:0,n=t.childtype?t.childtype:0,o=t.twochildtype?t.twochildtype:0;return e=a.isAllPanelGuild(i,n,o)},a.isAllPanelGuild=function(t,a,i){var n,o=[t,a,i],r=GlobalAllProxy.getInstance().guideProxy;if(r){var s=GlobalConfig.GUIDE_ARRAR;if(s)for(var l,p,c,u,m,g,_,h,d,y=r.guideNovice,v=e.GuideVO.type_trigger,f=0,b=s.length;b>f;f++)if(l=s[f],l.type==v&&-1==y.indexOf(l.id)){for(_=!0,p=l.aboutidArr,c=0,u=p.length;u>c;c++)for(m=p[c],g=m.length,h=0;g>h;h++)m[h]!=o[h]&&(_=!1);if(_&&(d=e.GuideVO.getTagNeedObj(l),d.isopen)){n=l;break}}}return n},a}(e.BaseVO);e.PanelVO=t,__reflect(t.prototype,"game.PanelVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.isyueka=0,e.buySkillPointNum=0,e.recSkillPointTime=0/0,e.skillPoint=0,e.guessCoin=0,e.strarr=["uid","club_name","logo","clothing","account"],e}return __extends(a,t),a.prototype.zeroPointRefresh=function(e){var t=this;t.freeTimes=0,t.instantPlay=0,t.buyChallenges=0},a.prototype.timePlay=function(e){var t=this,a=ParamLoader.instance,i=t.challenges,n=a.ServerUpgradeLimit;if(n>i){var o=Math.floor(.001*Global.systemTimeNum);t.restoreTime||(t.restoreTime=o);var r=a.ServerUpgradeRec,s=t.restoreTime;o>r+s&&(t.restoreTime=o,t.addClubfightTime(1,!0))}var l=t.vipLevel,p=GlobalConfig.getVipVO(l),c=0;if(p&&(c=p.skillpt),c>t.skillPoint){var u=t.getAddSkillTime();if(0>=u){var m=ParamLoader.instance.SkillPointCd;t.skillPoint++,t.recSkillPointTime=m+t.recSkillPointTime}}},a.prototype.getAddSkillTime=function(){var e=this,t=0/0;if(!isNaN(e.recSkillPointTime)){var a=.001*Global.systemTimeNum-e.recSkillPointTime,i=ParamLoader.instance.SkillPointCd;t=Math.floor(i-a),0>t&&(t=0)}return t},a.prototype.getPveCheck=function(){var e=0;return this.mission_id&&(e=this.mission_id-GlobalEnum.init_pvecheck),e},a.prototype.setFightVo=function(e){this.fight=e},a.prototype.addClubfightTime=function(e,t){void 0===t&&(t=!1);var a=this,i=ParamLoader.instance,n=(a.challenges,i.ServerUpgradeLimit);if(t&&e>0){var o=a.challenges+e;o>=n?a.challenges>=n||(a.challenges=n):a.challenges+=e,a.restoreTime=0}else a.challenges+=e},a.prototype.addClubfightBuyTime=function(e){var t=this;t.buyChallenges+=e},a.prototype.addownLogo=function(t){var a=e.ComlogoVO.getlogonum(t,logoType.type_all);if(!isNaN(a)){var i=this.userLogo;i?-1==i.indexOf(a)&&i.push(a):this.userLogo=[a]}},a.prototype.addNewLogoForId=function(e){var t=this,a=t.userLogo;a&&-1==a.indexOf(e)&&a.push(e)},a.prototype.adducoin=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!0);var n=this;n.gold+=t,n.gold<0&&(n.gold=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_coin,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addGuessCoin=function(t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=!0),void 0===n&&(n=null);var o=this;o.guessCoin+=t,o.guessCoin<0&&(o.guessCoin=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_betB,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addug=function(t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=!0),void 0===n&&(n=null);var o=this;if(o.stone+=t,o.stone<0&&(o.stone=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_ug,t,a),0>t){var r=GlobalAllProxy.getInstance().playerProxy.vipData;if(r){var s=Math.floor(ParamLoader.instance.ServercostVIP*Math.abs(t));s&&GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_vipexp,s,!1,!1,vipaddtype.type_a)}}if(EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW),t>0)n&&n==Language.ins.log_ug_buy||TDGATool.onReward(t,Language.ins.log_tip0);else{if(n){var l=Math.abs(t);TDGATool.onItemPurchase(1,n,l)}if(n!=Language.ins.log_uug_activitydrawing&&n!=Language.ins.log_uug_spepay){var p=GlobalAllProxy.getInstance().activityProxy.activityArr;p&&p.consumeInit&&(p.consumeInit.dailyConsume+=-t,p.consumeInit.totalConsume+=-t);var c=GlobalAllProxy.getInstance().operationProxy.consumerGift;c&&(c.dailyTotal+=-t,c.consumerTotal+=-t)}}},a.prototype.adduexp=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!0);var n=this,o=GlobalAllProxy.getInstance().playerProxy.clubData;if(o){o.exp+=t,i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_exp,t,a);var r=GlobalConfig.getClubLevelVO(o.exp),s=r.clublv;if(s!=o.level){o.level=s,n.exp=o.exp,n.level=o.level,GlobalAllProxy.getInstance().gameProxy.ClubLevelGetData();var l=GlobalAllProxy.getInstance().guideProxy;l.isPlayGuide()||l.getIsNeedNextGuide()&&l.onenterGamefun(),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_builduplv,stafftype.type_player),TDGATool.setLevel(s),PFAll.ReportLog(report_type.clublevelup),EventBus.sendMessage(e.GameCommands.MY_CLUB_LEVELUP)}else n.exp=o.exp,n.level=o.level;EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)}},a.prototype.addlucky=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!1);var n=this;n.lucky+=t,n.lucky>=ParamLoader.instance.Serverluckymax&&(n.lucky=0,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_breachcar,1)),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addhonor=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!1);var n=this;n.honor+=t,i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_rong,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addSkillExpNum=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!1);var n=this;n.skillPoint+=t,EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addPlayerExpNum=function(t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=!1),void 0===n&&(n=!0);var o=this;o.exp_pool+=t,o.exp_pool<0&&(o.exp_pool=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_playerexp,t,a),n&&EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.addvipexp=function(t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=!1),void 0===n&&(n=null);var o=this;if(n&&t>0){var r=GlobalAllProxy.getInstance().playerProxy.vipData;if(n==vipaddtype.type_a){if(r){var s=ParamLoader.instance.ServercostVIPmax,l=r.expenseExp+t;l>s&&(t=s-r.expenseExp),0>t&&(t=0),r.addexpenseExp(t)}}else if(n==vipaddtype.type_b&&r){var s=ParamLoader.instance.ServerchargeVIPmax,l=r.rechargeExp+t;l>s&&(t=s-r.rechargeExp),0>t&&(t=0),r.addrechargeExp(t)}}if(t){i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_vipexp,t,a),o.vipExp+=t,o.vipExp<0&&(o.vipExp=0);var p=GlobalConfig.getVipLevelVO(o.vipExp),c=p.viplv;if(c!=o.vipLevel){o.vipLevel=c;var r=GlobalAllProxy.getInstance().playerProxy.vipData;r&&r.setVipUpLevel(c),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_vipupgrade,c)}EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)}},a.prototype.addlovestar=function(t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!1);var n=this;n.lovestar+=t,n.lovestar<0&&(n.lovestar=0),i&&t>0&&e.NewItemFloatVo.addBagItemNum(GlobalEnum.itemid_love,t,a),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("fight"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.compareucon=function(e){return this.gold>=e},a.prototype.compareug=function(e){return this.stone>=e},a.prototype.getZhanliNum=function(){var e=this;return utils.GameComUtil.getFightNum(e.fight)},a}(e.BaseVO);e.PlayerVO=t,__reflect(t.prototype,"game.PlayerVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("achieve"==t||"levelGift"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.addAwardLevel=function(e){this.levelGift&&this.levelGift.push(e)},a.prototype.addScore=function(e){this.score+=e;var t=GlobalConfig.getAchieveRewardLevelVO(this.score),a=t.achievelv;a!=this.level&&(this.level=a)},a.prototype.getAchieveVO=function(e){for(var t,a=this.achieve,i=0,n=a.length;n>i;i++)if(t=a[i],t.achieveId==e)return t;return null},a.prototype.setListScore=function(e,t){for(var a,i=this,n=this.achieve,o=0,r=n.length;r>o;o++)if(a=n[o],a.achieveId==e)return a.progress=t,void i.setAchieveCom(a);var s=new SAchieve;s.achieveId=e,s.progress=t,s.nFinish=0,n.push(s),i.setAchieveCom(s)},a.prototype.setAchieveCom=function(t){if(!t.nFinish){var a=this,i=GlobalConfig.getAchieveVO(t.achieveId),n=t.progress,o=i.schedule;if(n>=o){t.nFinish=1,t.getTime=Math.floor(.001*Global.systemTimeNum),t.isNeedShowTip=!0,a.addScore(i.score);var r=GlobalAllProxy.getInstance().playerProxy.clubData;if(r){var s,l,p,c,u=r.achieveShow,m=[];for(l=0,p=3;p>l;l++)s=u[l],s.achieveId&&(c=GlobalConfig.getAchieveVO(s.achieveId),m.push(c.achieveid));if(-1==m.indexOf(i.achieveid)){for(l=0,p=3;p>l;l++)if(s=u[l],!s.achieveId){s.achieveId=i.id,s.timestamp=t.getTime;break}}EventBus.sendMessage(e.GameCommands.CHANGE_SHOW_ACHIEVE)}}}},a}(e.BaseVO);e.SAchieveInitResponse=t,__reflect(t.prototype,"game.SAchieveInitResponse")}(game||(game={}));var SAchieve=function(){function e(){}return e}();__reflect(SAchieve.prototype,"SAchieve");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e.namearr=["ContinuityCharge","OverflowBuying","limitBuying","firstChargeInit","sevenLogin","signInit","gradeInit","onlineInit","consumeInit","payInit","investmentInit","fundInit","powerInit","levelInit","peakInit","recruitInit","carnival","yiYuan"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.namearr.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.updata=function(){var t=this,a=parseInt(Global.systemTimeNum/1e3+"");if(t.yiYuan&&t.yiYuan.endTime<=a&&(t.yiYuan=null),t.sevenLogin&&(t.sevenLogin.endTime<=a?t.sevenLogin=null:(t.sevenLogin.currentOpenDay++,t.sevenLogin.receiveAward[t.sevenLogin.currentOpenDay-1]=1)),t.signInit&&(t.signInit.endTime<=a?t.signInit=null:(t.signInit.signDays++,t.signInit.day++,t.signInit.todayState=0,t.signInit.extraState=0)),t.gradeInit&&t.gradeInit.endTime<=a&&(t.gradeInit=null),t.onlineInit&&(t.onlineInit.endTime<=a?t.onlineInit=null:(t.onlineInit.timeOnline=0,t.onlineInit.onlineRewards=[])),t.consumeInit&&(t.consumeInit.endTime<=a?t.consumeInit=null:(t.consumeInit.dailyConsume=0,t.consumeInit.everydayConsume=[])),t.payInit&&(t.payInit.endTime<=a?t.payInit=null:(t.payInit.dailyPay=0,t.payInit.everydayPay=[])),t.investmentInit&&(t.investmentInit.endTime<=a?t.investmentInit=null:t.investmentInit.openDays++),t.fundInit&&t.fundInit.endTime<=a&&(t.fundInit=null),t.limitBuying)if(t.limitBuying.endTime<=a)t.limitBuying=null;else{t.limitBuying.openDays++;var i=[],n=GlobalConfig.getActivityVO(act_type.timedbag);if(n)for(var o,r,s=n.getTimedBagRewardArr(t.limitBuying.openDays),l=0,p=s.length;p>l;l++)r=new SPanicItemList,o=s[l],r.itemId=l+1,r.buyNum=o.time,i.push(r);t.limitBuying.panic=i}t.OverflowBuying&&(t.OverflowBuying.endTime<=a?t.OverflowBuying=null:t.OverflowBuying.openDays++),t.powerInit&&t.powerInit.endTime<=a&&(t.powerInit=null),t.levelInit&&t.levelInit.endTime<=a&&(t.levelInit=null),t.peakInit&&t.peakInit.endTime<=a&&(t.peakInit=null),t.recruitInit&&t.recruitInit.endTime<=a&&(t.recruitInit=null),t.carnival&&(t.carnival.endTime<=a?t.carnival=null:t.carnival.openDays++),EventBus.sendMessage(e.GameCommands.MAIN_TOPBTN_CHANGE),EventBus.sendMessage(e.GameCommands.INTER_DAY),EventBus.sendMessage(e.GameCommands.ACTIVITY_RECEIVE)},a.prototype.getfuliArr=function(){for(var e=this,t=[],a=this.namearr,i=0;i<a.length;i++){var n=e[a[i]];if(n){var o=n.activityId,r=GlobalConfig.getActivityVO(o);r&&+r.mainicon==GlobalEnum.activity_fuli&&t.push(o)}}return t},a.prototype.getxiaofeiArr=function(){for(var e=this,t=[],a=this.namearr,i=0;i<a.length;i++){var n=e[a[i]];if(n){var o=n.activityId,r=GlobalConfig.getActivityVO(o);r&&+r.mainicon==GlobalEnum.activity_xiaofei&&t.push(o)}}return t},a.prototype.getrankArr=function(){for(var e=this,t=[],a=this.namearr,i=0;i<a.length;i++){var n=e[a[i]];if(n){var o=n.activityId,r=GlobalConfig.getActivityVO(o);r&&+r.mainicon==GlobalEnum.activity_rank&&t.push(o)}}return t},a.prototype.settask=function(e,t){for(var a=this,i=a.carnival.task,n=i.length,o=0;n>o;o++)if(i[o].taskId==e){var r=GlobalConfig.getCarnivaVO(e);i[o].progress=t,t>=r.schedule&&(i[o].isReward=1)}},a}(e.BaseVO);e.SActivity=t,__reflect(t.prototype,"game.SActivity")}(game||(game={}));var SFirstChargeObj=function(){function e(){}return e}();__reflect(SFirstChargeObj.prototype,"SFirstChargeObj");var SSevenLoginObj=function(){function e(){}return e}();__reflect(SSevenLoginObj.prototype,"SSevenLoginObj");var SSignInitObj=function(){function e(){}return e}();__reflect(SSignInitObj.prototype,"SSignInitObj");var SGradeInitObj=function(){function e(){}return e}();__reflect(SGradeInitObj.prototype,"SGradeInitObj");var SConsumerRebateInit=function(){function e(){}return e}();__reflect(SConsumerRebateInit.prototype,"SConsumerRebateInit");var SPayLuxuryGiftInit=function(){function e(){}return e}();__reflect(SPayLuxuryGiftInit.prototype,"SPayLuxuryGiftInit");var SInvestmentInit=function(){function e(){}return e}();__reflect(SInvestmentInit.prototype,"SInvestmentInit");var SInvestmentExample=function(){function e(){}return e}();__reflect(SInvestmentExample.prototype,"SInvestmentExample");var SOpenServiceFundInit=function(){function e(){}return e}();__reflect(SOpenServiceFundInit.prototype,"SOpenServiceFundInit");var SLimitBuyingInit=function(){function e(){}return e}();__reflect(SLimitBuyingInit.prototype,"SLimitBuyingInit");var SPanicItemList=function(){function e(){}return e}();__reflect(SPanicItemList.prototype,"SPanicItemList");var SOverflowInit=function(){function e(){}return e}();__reflect(SOverflowInit.prototype,"SOverflowInit");var SOverflowItemList=function(){function e(){}return e}();__reflect(SOverflowItemList.prototype,"SOverflowItemList");var SDailyOnlineInit=function(){function e(){}return e}();__reflect(SDailyOnlineInit.prototype,"SDailyOnlineInit");var SPrizeWinner=function(){function e(){}return e}();__reflect(SPrizeWinner.prototype,"SPrizeWinner");var SPowerInit=function(){function e(){}return e}();__reflect(SPowerInit.prototype,"SPowerInit");var SActivityRank=function(){function e(){}return e}();__reflect(SActivityRank.prototype,"SActivityRank");var SLevelInit=function(){function e(){}return e}();__reflect(SLevelInit.prototype,"SLevelInit");var SPeakInit=function(){function e(){}return e}();__reflect(SPeakInit.prototype,"SPeakInit");var SPlayerRecruit=function(){function e(){}return e}();__reflect(SPlayerRecruit.prototype,"SPlayerRecruit");var SCarnivalInit=function(){function e(){}return e}();__reflect(SCarnivalInit.prototype,"SCarnivalInit");var SYiYuanBuy=function(){function e(){}return e}();__reflect(SYiYuanBuy.prototype,"SYiYuanBuy");var SBabelTeamAdded=function(){function e(){}return e}();__reflect(SBabelTeamAdded.prototype,"SBabelTeamAdded");var SBabelRecord=function(){function e(){}return e}();__reflect(SBabelRecord.prototype,"SBabelRecord");var SBabelStoreBuyRecord=function(){function e(){}return e}();__reflect(SBabelStoreBuyRecord.prototype,"SBabelStoreBuyRecord");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("teamAdded"==t||"record"==t||"buyRecord"==t||"finish"==t||"lobbyReward"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.zeroPointRefresh=function(e){var t=this;t.reset_num=e.gloryResetNum;var a=t.buyRecord;if(a){var i,n,o,r,s=GlobalConfig;for(n=0,o=a.length;o>n;n++)i=a[n],r=s.getTowerShopVO(i.id),r&&1==r.buylimit||(i.times=0)}},a.prototype.setlobby=function(e){this.lobby=e},a.prototype.clearlobby=function(){this.lobby=0},a.prototype.getlobbyAward=function(e){var t=this.lobbyReward;if(t&&t.length>e)return t[e];var a=new SUserItem(1,1);return a},a.prototype.getcurMaxNum=function(){var e=this.storey,t=e-1;return t},a.prototype.getcurMaxStarNum=function(){for(var e,t=this.record,a=0,i=t.length;i>a;a++)e=t[a];var n=this.storey,o=n-1;return o},a.prototype.reshfight=function(){var t=this;t.reset_num-=1,t.reset_num<0&&(t.reset_num=0),t.storey=1,t.star_num=0,t.challengeFailureCnt=0,t.finish=!1,t.finishRwd=e.SBabelInitResponse.awardtype_init,t.clearlobby();var a,i=t.teamAdded;if(i){var n,o=i.length;for(n=0;o>n;n++)a=i[n],a.level=0,a.extra=0}},a.prototype.getStoreBuyRecordNum=function(e){for(var t,a=this.buyRecord,i=0,n=a.length;n>i;i++)if(t=a[i],t.id==e)return t.times;return 0},a.prototype.addShopTime=function(e,t){for(var a,i,n=this.buyRecord,o=0,r=n.length;r>o;o++)if(a=n[o],a.id==e){i=a;break}i?i.times+=t:(i=new SBabelStoreBuyRecord,i.id=e,i.times=t,n.push(i))},a.prototype.addRecord=function(e,t){var a=this.getRecordVo(e);a?a.type=Math.max(a.type,t):(a=new SBabelRecord,a.storey=e,a.type=t,this.record.push(a)),this.storey=parseFloat(e)+1},a.prototype.getRecordStar=function(e){var t=0,a=this.getRecordVo(e);return a&&(t=a.type),t},a.prototype.fightOver=function(t,a,i){var n=this;if(i){n.addRecord(t,a);var o=GlobalConfig.getTowerRestVOForcid(t);o&&(n.lobby=o.id),n.addstarnum(a)}else{n.challengeFailureCnt+=1;var r=ParamLoader.instance.ServerTowerFail,s=r+e.ComMonthCarVO.getNumRoadfail();n.challengeFailureCnt>=s&&(n.finish=!0,n.finishRwd=e.SBabelInitResponse.awardtype_can)}EventBus.sendMessage(e.GameCommands.DEKERON_DATA_CHANGE)},a.prototype.getRecordVo=function(e){for(var t,a=this.record,i=0,n=a.length;n>i;i++)if(t=a[i],parseInt(t.storey)==e)return t;return null},a.prototype.getFightType=function(e){for(var t,a=0,i=this.record,n=0,o=i.length;o>n;n++)if(t=i[n],parseInt(t.storey)==e)return t.type;return a},a.prototype.addstarnum=function(e){this.star_num+=e,this.star_num<0&&(this.star_num=0)},a.prototype.addteamlevel=function(e,t,a){for(var i,n=this.teamAdded,o=0,r=n.length;r>o;o++)i=n[o],i.type==e&&(a?i.level+=t:i.extra+=t)},a.awardtype_init=0,a.awardtype_can=1,a.awardtype_readly=2,a.lobbytype_init=0,a}(e.BaseVO);e.SBabelInitResponse=t,__reflect(t.prototype,"game.SBabelInitResponse")}(game||(game={}));var SDailyList=function(){function e(){}return e}();__reflect(SDailyList.prototype,"SDailyList");var SDailyRewardStatus=function(){function e(){}return e}();__reflect(SDailyRewardStatus.prototype,"SDailyRewardStatus");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("lists"==t||"reward_status"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.zeroPointRefresh=function(t){var a=this;a.daily_num=0;var i=t.firstDayWeek;i&&(a.week_num=0);var n,o,r,s=a.lists;for(n=0,o=s.length;o>n;n++)r=s[n],r.is_get=0,r.value=0;var l,p=a.reward_status;for(n=0,o=p.length;o>n;n++)l=p[n],l.status=0;EventBus.sendMessage(e.GameCommands.DAYTASK_DATA_CHANGE)},a.prototype.addscore=function(e){this.daily_num+=e,this.week_num+=e},a.prototype.setListState=function(e){for(var t,a=this.lists,i=0,n=a.length;n>i;i++)if(t=a[i],t.type==e){t.is_get=1;break}var o=new SDailyList;o.type=e,o.value=e,o.is_get=1,a.push(o)},a.prototype.setListScore=function(e,t){for(var a,i=this.lists,n=0,o=i.length;o>n;n++)if(a=i[n],a.type==e)return void(a.value=t);var r=new SDailyList;r.type=e,r.value=t,r.is_get=0,i.push(r)},a.prototype.setrewardState=function(e){for(var t,a=this.reward_status,i=0,n=a.length;n>i;i++)if(t=a[i],t.type==e){t.status=1;break}var o=new SDailyRewardStatus;o.type=e,o.status=1,a.push(o)},a}(e.BaseVO);e.SDailyResponse=t,__reflect(t.prototype,"game.SDailyResponse")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.isSelectRecover=0,e.selectRecoverAmount=1,e}return __extends(a,t),a.prototype.setseverdata=function(e){this.itemid=e.pid,this.count=+e.num},a.setseverdata=function(t){var a=[];if(t)for(var i,n,o=0,r=t.length;r>o;o++)i=t[o],n=new e.SeverItemVO,n.itemid=i.pid,n.count=i.num,a.push(n);return a},a.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.initdata=function(){this.uid=0,this.itemid=0,this.count=0},a.prototype.isfuwen=function(){return this.itemid>=21e3&&this.itemid<3e4},a.prototype.isGem=function(){return this.itemid>100&&this.itemid<500},a}(e.BaseVO);e.SeverItemVO=t,__reflect(t.prototype,"game.SeverItemVO")}(game||(game={}));var SFriendOpponents=function(){function e(){}return e.state_init=-1,e.state_def=0,e.state_win=1,e}();__reflect(SFriendOpponents.prototype,"SFriendOpponents");var SFriendRewardStatus=function(){function e(){}return e}();__reflect(SFriendRewardStatus.prototype,"SFriendRewardStatus");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("fids"==t||"reward_status"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.zeroPointRefresh=function(e){var t=this;t.reset_num=e.matchResetNum},t.prototype.changeRewardState=function(e,t,a){if(a){var i=this.reward_status;i||(i=[],this.reward_status=i);for(var n,o=0,r=i.length;r>o;o++)n=i[o],n.type==e&&n.rewards.push(t)}},t.prototype.getRewardState=function(e,t){var a=!1,i=this.reward_status;i||(i=[],this.reward_status=i);for(var n,o=0,r=i.length;r>o;o++)if(n=i[o],n&&n.type==e&&n.rewards)for(var s=0,l=n.rewards.length;l>s;s++)n.rewards[s]==t&&(a=!0);return a},t.prototype.getintegral=function(e){var t,a,i=this.fids,n=i.length,o=0;for(t=0;n>t;t++)if(a=i[t],a.fid==e){o=GlobalConfig.getFriendScore(a.positon);break}return o},t.prototype.fightover=function(e,t){var a,i,n=this,o=this.fids,r=o.length;t?n.addlinewin(1):(n.success_last_num=n.success_num,n.success_num=0);var s;for(a=0;r>a;a++)if(i=o[a],i.fid==e&&(s=i.result,i.result=t?SFriendOpponents.state_win:SFriendOpponents.state_def,-1!=s||i.is_change)){n.addfreefigth(-1);break}},t.prototype.addgoal=function(e){this.goal_num+=e},t.prototype.addfreefigth=function(e){this.free_threat+=e,this.free_threat<0&&(this.free_threat=0)},t.prototype.addfreerefresh=function(e){this.free_refresh+=e,this.free_refresh<0&&(this.free_refresh=0)},t.prototype.addintegral=function(e){this.score+=e},t.prototype.addlinewin=function(e){var t=this;t.success_last_num=0,t.success_num+=e,t.success_num>t.success_max_num&&(t.success_max_num=t.success_num)},t.prototype.useLineWin=function(){this.success_last_num&&(this.success_num=this.success_last_num,this.success_last_num=0)},t.prototype.isshowLastTip=function(){var e=!1;return this.success_last_num&&(e=!0),e},t.prototype.onuseline=function(){this.success_last_num=0},t.state_init=0,t.state_get=1,t.state_can=2,t}(e.BaseVO);e.SFriendResponseVO=t,__reflect(t.prototype,"game.SFriendResponseVO")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e.namearr=["data","applyLists"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.namearr.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.updata=function(){parseInt(Global.systemTimeNum/1e3+"");EventBus.sendMessage(e.GameCommands.MAIN_TOPBTN_CHANGE)},a}(e.BaseVO);e.SGuild=t,__reflect(t.prototype,"game.SGuild")}(game||(game={}));var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.yurenStrName=["treasure","investmentManager","luckilyRoulette","flashSale","footballPoint","singleRecharge","scoutReward","dailyOnline","footballPrecious2"],e.strarr=[],e.namearr=["treasure","luckilyRoulette","guess","footballPrecious2","dailyOnline","footballPoint","scoutReward","flashSale","footbapllPoint","singleRecharge","accumulative","continuousCharge","oneYuanCharge","investmentManager","footballPrecious"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.namearr.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.updata=function(){var t,a=this,i=parseInt(Global.systemTimeNum/1e3+"");if(a.treasure)if(a.treasure.endTime<=i)a.treasure=null;else{var n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(n&&n.treasure){t=n.treasure;var o=GlobalConfig.getactivityoperateVO(t.activityId),r=GlobalConfig.getactivitymibaoVO(o.relation);n.treasure.daily=r.freetimes}}if(a.luckilyRoulette)if(a.luckilyRoulette.endTime<=i)a.luckilyRoulette=null;else{var n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(n&&n.luckilyRoulette){t=n.luckilyRoulette;var o=GlobalConfig.getactivityoperateVO(t.activityId),s=GlobalConfig.getactivityzhuanpanVO(o.relation);n.luckilyRoulette.daily=s.freetimes}}if(a.singleRecharge)if(a.singleRecharge.endTime<=i)a.singleRecharge=null;else for(var l=a.singleRecharge.receiveStatus,p=0,c=l.length;c>p;p++)l[p]=0;if(a.singleRecharge)if(a.singleRecharge.endTime<=i)a.singleRecharge=null;else for(var l=a.singleRecharge.receiveStatus,p=0,c=l.length;c>p;p++)l[p]=0;if(a.accumulative&&a.accumulative.endTime<=i&&(a.accumulative=null),a.continuousCharge&&(a.continuousCharge.endTime<=i?a.continuousCharge=null:(a.continuousCharge.amount=0,a.continuousCharge.receiveStatusDays=[])),a.flashSale&&(a.flashSale.endTime<=i?a.flashSale=null:(a.flashSale.todayReceiveStatus=0,a.flashSale.days+=1,a.flashSale.flashSaleItem=[0,0,0,0,0,0])),a.dailyOnline)if(a.dailyOnline.endTime<=i)a.dailyOnline=null;else{a.dailyOnline.rechargeAmount=0;var u=GlobalConfig.getactivityoperateVO(a.dailyOnline.activityId);a.dailyOnline.times=GlobalConfig.getComActivitylabaVO(u.relation).times}a.oneYuanCharge&&a.oneYuanCharge.endTime<=i&&(a.oneYuanCharge=null),a.footballPoint&&a.footballPoint.endTime<=i&&(a.footballPoint=null),a.investmentManager&&a.investmentManager.endTime<=i&&(a.investmentManager=null),a.footballPrecious&&a.footballPrecious.endTime<=i&&(a.footballPrecious=null),a.footballPrecious2&&a.footballPrecious2.endTime<=i&&(a.footballPrecious2=null),a.guess&&a.guess.endTime<=i&&(a.guess=null,GlobalAllProxy.getInstance().gameProxy.bet_data=[0,[],[],[]],GlobalAllProxy.getInstance().gameProxy.bet_champion_data=[],GlobalAllProxy.getInstance().gameProxy.bet_match_data=[]),EventBus.sendMessage(e.GameCommands.MAIN_TOPBTN_CHANGE)},a.prototype.updataPay=function(t){var a=this;if(a.singleRecharge){var i=GlobalConfig.getactivityoperateVO(a.singleRecharge.activityId);if(i){var n=GlobalConfig.getactivitydanbipayVO(i.relation),o=a.singleRecharge.receiveStatus;if(n){var r=n.limit.split(",");if(+r[r.length-1]<=t)2!=o[r.length-1]&&(o[r.length-1]=1);else for(var s=0,l=r.length;l>s;s++)+r[s]<=t&&+r[s+1]>t&&2!=o[s]&&(o[s]=1)}}}a.accumulative&&(a.accumulative.amount+=t),a.continuousCharge&&(0==a.continuousCharge.amount&&a.continuousCharge.cumulativeDays++,a.continuousCharge.amount+=t),a.flashSale&&0==a.flashSale.todayReceiveStatus&&(a.flashSale.todayReceiveStatus=1,a.flashSale.totalChargeDays+=1),a.dailyOnline&&(a.dailyOnline.rechargeAmount+=t),EventBus.sendMessage(e.GameCommands.OPERTION_PAY)},a.prototype.updataSingleRecharge=function(e,t,a){void 0===a&&(a=0);var i=this;i.singleRecharge&&t==act_type.danbipay&&(i.singleRecharge.receiveStatus[e]=2),i.accumulative&&t==act_type.leijipay&&i.accumulative.receiveStatus.push(e),i.continuousCharge&&t==act_type.lianxupay&&(1==a?i.continuousCharge.receiveStatusDays.push(e):2==a&&(i.continuousCharge.receiveStatusAll[e]=2))},a.prototype.mibaoInit=function(e){var t=this;t.treasure&&(t.treasure=null),t.treasure=new STreasure,t.treasure.activityId=e.actId,t.treasure.actPeriods=e.actPeriods,t.treasure.endTime=e.endTime,t.treasure.startTime=e.startTime,t.treasure.rank=[],t.treasure.total=0,t.treasure.count=0,t.treasure.level=1;var a=GlobalConfig.getactivityoperateVO(e.actId);if(a){var i=GlobalConfig.getactivitymibaoVO(a.relation);i&&(t.treasure.daily=i.freetimes)}},a.prototype.zhuanpanInit=function(e){var t=this;t.luckilyRoulette&&(t.luckilyRoulette=null),t.luckilyRoulette=new SLuckilyRoulette,t.luckilyRoulette.activityId=e.actId,t.luckilyRoulette.actPeriods=e.actPeriods,t.luckilyRoulette.endTime=e.endTime,t.luckilyRoulette.startTime=e.startTime,t.luckilyRoulette.rank=[],t.luckilyRoulette.lucky=0;var a=GlobalConfig.getactivityoperateVO(e.actId);if(a){var i=GlobalConfig.getactivityzhuanpanVO(a.relation);i&&(t.luckilyRoulette.daily=i.freetimes)}},a.prototype.danbiPayInit=function(e){var t=this;t.singleRecharge&&(t.singleRecharge=null),t.singleRecharge=new SSingleRecharge,t.singleRecharge.activityId=e.actId,t.singleRecharge.actPeriods=e.actPeriods,t.singleRecharge.endTime=e.endTime,t.singleRecharge.receiveStatus=[],t.singleRecharge.startTime=e.startTime;var a=GlobalConfig.getactivityoperateVO(e.actId);if(a){var i=GlobalConfig.getactivitydanbipayVO(a.relation);if(i)for(var n=i.limit.split(","),o=0,r=n.length;r>o;o++)t.singleRecharge.receiveStatus.push(0)}},a.prototype.leijiPayInit=function(e){var t=this;t.accumulative&&(t.accumulative=null),t.accumulative=new SAccumulativeCharge,t.accumulative.activityId=e.actId,t.accumulative.actPeriods=e.actPeriods,t.accumulative.endTime=e.endTime,t.accumulative.receiveStatus=[],t.accumulative.startTime=e.startTime,t.accumulative.amount=0
},a.prototype.lianxuPayInit=function(e){var t=this;t.continuousCharge&&(t.continuousCharge=null),t.continuousCharge=new SContinuousCharge,t.continuousCharge.activityId=e.actId,t.continuousCharge.actPeriods=e.actPeriods,t.continuousCharge.endTime=e.endTime,t.continuousCharge.startTime=e.startTime,t.continuousCharge.amount=0,t.continuousCharge.cumulativeDays=0,t.continuousCharge.receiveStatusDays=[],t.continuousCharge.receiveStatusAll=[];var a=GlobalConfig.getactivityoperateVO(e.actId);if(a){var i=GlobalConfig.getactivityjinqiuVO(a.relation);if(i)for(var n=i.days.split(","),o=0,r=n.length;r>o;o++)t.continuousCharge.receiveStatusAll.push(0)}},a.prototype.yiyuanInit=function(e){var t=this;t.oneYuanCharge&&(t.oneYuanCharge=null),t.oneYuanCharge=new SOneYuanCharge,t.oneYuanCharge.activityId=e.actId,t.oneYuanCharge.actPeriods=e.actPeriods,t.oneYuanCharge.endTime=e.endTime,t.oneYuanCharge.startTime=e.startTime,t.oneYuanCharge.receiveStatus=0,t.oneYuanCharge.param=1},a.prototype.ssrpointInit=function(e){},a.prototype.chaozhiInit=function(e){},a.prototype.labaInit=function(e){var t=this;t.dailyOnline&&(t.dailyOnline=null),t.dailyOnline=new SDailyOnline,t.dailyOnline.activityId=e.actId,t.dailyOnline.actPeriods=e.actPeriods,t.dailyOnline.endTime=e.endTime,t.dailyOnline.startTime=e.startTime,t.dailyOnline.rechargeAmount=0,t.dailyOnline.winnerList=[];var a=GlobalConfig.getactivityoperateVO(t.dailyOnline.activityId);t.dailyOnline.times=GlobalConfig.getComActivitylabaVO(a.relation).times},a.prototype.touziInit=function(e){var t=this;t.investmentManager&&(t.investmentManager=null),t.investmentManager=new SOneYuanCharge,t.investmentManager.activityId=e.actId,t.investmentManager.actPeriods=e.actPeriods,t.investmentManager.endTime=e.endTime,t.investmentManager.startTime=e.startTime,t.investmentManager.receiveStatus=0,t.investmentManager.param=1},a.prototype.baozangInit=function(e){var t=this;t.footballPrecious&&(t.footballPrecious=null)},a.prototype.getYuRenIcon=function(){for(var e,t,a,i,n=this,o=n.yurenStrName,r=null,s=0,l=o.length;l>s;s++)if(e=o[s],t=n[e],t&&(a=GlobalConfig.getactivityoperateVO(t.activityId),a&&a.icon&&(i=GlobalConfig.getActivityIconVOForId(+a.icon)))){r=i;break}return r},a}(e.BaseVO);e.SOperation=t,__reflect(t.prototype,"game.SOperation")}(game||(game={}));var SSingleRecharge=function(){function e(){}return e}();__reflect(SSingleRecharge.prototype,"SSingleRecharge");var SAccumulativeCharge=function(){function e(){}return e}();__reflect(SAccumulativeCharge.prototype,"SAccumulativeCharge");var SContinuousCharge=function(){function e(){}return e}();__reflect(SContinuousCharge.prototype,"SContinuousCharge");var SOneYuanCharge=function(){function e(){}return e}();__reflect(SOneYuanCharge.prototype,"SOneYuanCharge");var SFootballPrecious=function(){function e(){}return e}();__reflect(SFootballPrecious.prototype,"SFootballPrecious");var SFootballPoint=function(){function e(){}return e}();__reflect(SFootballPoint.prototype,"SFootballPoint");var SScoutReward=function(){function e(){}return e}();__reflect(SScoutReward.prototype,"SScoutReward");var SFlashSale=function(){function e(){}return e}();__reflect(SFlashSale.prototype,"SFlashSale");var PrizeWinner=function(){function e(){}return e}();__reflect(PrizeWinner.prototype,"PrizeWinner");var SDailyOnline=function(){function e(){}return e}();__reflect(SDailyOnline.prototype,"SDailyOnline");var SLuckilyRoulette=function(){function e(){}return e}();__reflect(SLuckilyRoulette.prototype,"SLuckilyRoulette");var STreasure=function(){function e(){}return e}();__reflect(STreasure.prototype,"STreasure");var SLuckilyRouletteRank=function(){function e(){}return e}();__reflect(SLuckilyRouletteRank.prototype,"SLuckilyRouletteRank");var SFootballPrecious2=function(){function e(){}return e}();__reflect(SFootballPrecious2.prototype,"SFootballPrecious2");var SGuess=function(){function e(){}return e}();__reflect(SGuess.prototype,"SGuess");var SSelectAnswerResponse=function(){function e(){}return e}();__reflect(SSelectAnswerResponse.prototype,"SSelectAnswerResponse");var SQuestionNotificationResponse=function(){function e(){}return e}();__reflect(SQuestionNotificationResponse.prototype,"SQuestionNotificationResponse");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("weekday"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.timePlay=function(e){},t.prototype.sumResult=function(){var e=this,t=e.questionNotiData;if(t&&!t.isReckonScore){var a=t.resultdata;a&&(a.option&&a.correct&&(a.option==a.correct?e.correct+=1:e.wrong+=1),a.score&&(e.score+=a.score,e.total+=a.score),t.isReckonScore=!0)}},t.type_start=1,t.type_play=2,t.type_over=3,t}(e.BaseVO);e.SQuestionEnter=t,__reflect(t.prototype,"game.SQuestionEnter")}(game||(game={}));var SQuestionRank=function(){function e(){}return e}();__reflect(SQuestionRank.prototype,"SQuestionRank");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("rank"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.reshTime=Global.systemTimeNum},t.prototype.getRankArr=function(){return this.rank},t.prototype.getMyRankVo=function(){for(var e,t=this.rank,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=parseFloat(a.uid),n=t.length-1;n>=0;n--)if(e=t[n],parseFloat(e.uid)==i)return e;return null},t.prototype.timePlay=function(e){this.reshTime&&Global.systemTimeNum-this.reshTime>36e5&&(GlobalAllProxy.getInstance().gameProxy.rankquestiondata=null)},t}(e.BaseVO);e.SQuestionRankResponse=t,__reflect(t.prototype,"game.SQuestionRankResponse")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("rank"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.reshTime=Global.systemTimeNum},t.prototype.getRankArr=function(){return this.rank},t.prototype.getMyRankVo=function(){var e,t=this.rank,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=parseFloat(a.uid);if(t)for(var n=t.length-1;n>=0;n--)if(e=t[n],parseFloat(e.uid)==i)return e;e=new SRankTeam;var o=utils.GameComUtil.getFightNum(a.fight);return e.uid=i+"",e.fighting=o,e.name=a.club_name,e.level=a.level,e.logo=a.logo,e.ranking=this.currentRank,e},t.prototype.timePlay=function(){this.reshTime&&Global.systemTimeNum-this.reshTime>36e5&&(GlobalAllProxy.getInstance().gameProxy.rankclubdata=null)},t}(e.BaseVO);e.SRankAchieve=t,__reflect(t.prototype,"game.SRankAchieve")}(game||(game={}));var SRankTeam=function(){function e(){}return e}();__reflect(SRankTeam.prototype,"SRankTeam");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("rank"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.reshTime=Global.systemTimeNum},t.prototype.getRankArr=function(){return this.rank},t.prototype.getMyRankVo=function(){var e,t=this.rank,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=parseFloat(a.uid);if(t)for(var n=t.length-1;n>=0;n--)if(e=t[n],parseFloat(e.uid)==i)return e;var o=utils.GameComUtil.getFightNum(a.fight);return e=new SRankTeam,e.uid=i+"",e.fighting=o,e.name=a.club_name,e.level=a.level,e.logo=a.logo,e.ranking=this.currentRank,e},t.prototype.timePlay=function(){this.reshTime&&Global.systemTimeNum-this.reshTime>GlobalEnum.rankwaittime&&(GlobalAllProxy.getInstance().gameProxy.rankclubdata=null)},t}(e.BaseVO);e.SRankClub=t,__reflect(t.prototype,"game.SRankClub")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("rank"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.reshTime=Global.systemTimeNum},t.prototype.getRankArr=function(){return this.rank},t.prototype.getMyRankVo=function(){var e,t=this.rank,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=parseFloat(a.uid);if(t)for(var n=t.length-1;n>=0;n--)if(e=t[n],parseFloat(e.uid)==i)return e;var o=utils.GameComUtil.getFightNum(a.fight);return e=new SRankTeam,e.uid=i+"",e.fighting=o,e.name=a.club_name,e.level=a.level,e.logo=a.logo,e.ranking=this.currentRank,e},t.prototype.timePlay=function(){this.reshTime&&Global.systemTimeNum-this.reshTime>GlobalEnum.rankwaittime&&(GlobalAllProxy.getInstance().gameProxy.rankfightdata=null)},t}(e.BaseVO);e.SRankTeamFighting=t,__reflect(t.prototype,"game.SRankTeamFighting")}(game||(game={}));var playerCalcuVO=function(){function e(){this.shoot=1,this.break_through=1,this.steal=1,this.marking=1,this.trap=1,this.pass=1,this.speed=1,this.strong=1,this.response=1,this.one_to_one=1,this.zhanglinum=0,this.coachzhanli=0}return e}();__reflect(playerCalcuVO.prototype,"playerCalcuVO");var playerRadarVO=function(){function e(){}return e.radarstrs={1:"attack",2:"defense",3:"body",4:"skill",5:"porters"},e}();__reflect(playerRadarVO.prototype,"playerRadarVO");var game;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strong=28,t}return __extends(t,e),t.prototype.objectToThis=function(e){var a,i,n=this,o=t.strarr;for(a in e)i=e[a],i instanceof Function||null==i||("skill"==a||"pos"==a?n[a]=i:-1!=o.indexOf(a)?n[a]=i.toString():n[a]=isNaN(parseInt(i))?i.toString():parseInt(i));n.stars||(n.stars=1),n.reCalcu(!0);var r=GlobalConfig.getPlayerPorpertyVO(n.playerid);n.location=r.location,n.card_trait=r["class"],n.radarVO=n.getRadarData();for(var s,l,o=r.skill.split(","),p=n.skill,c=[],u=0,m=p.length;m>u;u++)c.push(p[u].skill_id);for(var g=0,_=o.length;_>g;g++)l=parseInt(o[g]),-1==c.indexOf(l)&&(s=new SPlayerSkill,s.level=1,s.skill_id=parseInt(o[g]),s.mastery=0,n.skill.push(s))},t.prototype.initData=function(e){var t=this;t.playerid=e.playerid,t.name=e.name,t.number_tag=0,t.level=e.plevel,t.exp=0,t.stars=e.pstar,t.card_trait=e["class"],t.worth=0,t.country=e.country,t.weight=e.weight,t.stature=e.stature,t.character=e.describe,t.status=0,t.position=e.location,t.location=e.location,t.attack=Math.floor(.5*(e.upshoot+e.upbreakthrough)).toFixed(1),t.defend=Math.floor(.5*(e.upsteal+e.upmarking)).toFixed(1),t.technokogy=Math.floor(.5*(e.uppass+e.uptrap)).toFixed(1),t.body=Math.floor(.5*(e.upspeed+e.upstrong)).toFixed(1),t.keepgoal=Math.floor(.5*(e.upresponse+e.upone_to_one)).toFixed(1),t.shoot=e.shoot,t.break_through=e.breakthrough,t.steal=e.steal,t.marking=e.marking,t.pass=e.pass,t.trap=e.trap,t.speed=e.speed,t.strong=e.strong,t.response=e.response,t.one_to_one=e.one_to_one,t.approach=e.approach,t.up_shoot=e.upshoot,t.up_break_through=e.upbreakthrough,t.up_steal=e.upsteal,t.up_marking=e.upmarking,t.up_pass=e.uppass,t.up_trap=e.uptrap,t.up_speed=e.upspeed,t.up_strong=e.upstrong,t.up_response=e.upresponse,t.up_one_to_one=e.upone_to_one,t.skin=e.skin,t.money=e.money,t.monrate=e.monrate,t.fighting=0,t.joindate=0,t.transform=0;for(var a,i=[],n=e.skill.split(","),o=0,r=n.length;r>o;o++)a=new SPlayerSkill,a.level=1,a.skill_id=parseInt(n[o]),i.push(a);t.skill=i,t.pos=[],t.reCalcu(!0),t.radarVO=t.getRadarData()},t.prototype.reCalcu=function(e,t,a,i,n){void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===n&&(n=0);var o=this;t||(t=o.stars),a||(a=o.level),n||(n=o.card_trait);var r=GlobalConfig.getPlayerPorpertyVO(o.playerid),s=GlobalConfig.getPlayerstarlevelVO(n,t,a),l=s.prate,p={};if(p.shoot=r.shoot+r.upshoot*l,p.break_through=r.breakthrough+r.upbreakthrough*l,p.steal=r.steal+r.upsteal*l,p.marking=r.marking+r.upmarking*l,p.trap=r.trap+r.uptrap*l,p.pass=r.pass+r.uppass*l,p.speed=r.speed+r.upspeed*l,p.strong=r.strong+r.upstrong*l,p.response=r.response+r.upresponse*l,p.one_to_one=r.one_to_one+r.upone_to_one*l,e)for(var c in p)o[c]=p[c];return p},t.prototype.getRadarData=function(e,t,a){void 0===e&&(e=0/0),void 0===t&&(t=0/0),void 0===a&&(a=!1);var i,n,o=this,r=new playerRadarVO,s=GlobalConfig.getPlayerPorpertyVO(o.playerid),l=radarType.radar_attack,p=radarType.radar_porters,c=0,u=ParamLoader.instance.Playerradermax,m=ParamLoader.instance.Playerraderratio,g=ParamLoader.instance.ServerRelifeRateSSR;o.card_trait==playertrait.trait_SR&&(g=ParamLoader.instance.ServerRelifeRateSR);var _=1;isNaN(e)&&(e=o.stars),isNaN(t)&&(t=o.transform),_=g[t],a&&(_=1);for(var h=u[e-1],d=l;p>=d;d++)i=GlobalConfig.getPrimaryattributeVO(d),c=(s.upshoot*i.shoot+s.upbreakthrough*i.breakthrough+s.upsteal*i.steal+s.upmarking*i.marking+s.uptrap*i.trap+s.uppass*i.pass+s.upspeed*i.speed+s.upstrong*i.strong+s.upresponse*i.response+s.upone_to_one*i.one_to_one)*Math.pow(m,e-1)*_,n=playerRadarVO.radarstrs[d],r[n]=c,r.maxnum=h;return r},t.prototype.getProFor=function(e,t,a,i,n,o,r,s,l,p){void 0===i&&(i=!0),void 0===n&&(n=null),void 0===o&&(o=0/0),void 0===r&&(r=!0),void 0===s&&(s=0/0),void 0===l&&(l=null),void 0===p&&(p=null);var c=GlobalConfig,u=this;isNaN(s)&&(s=u.transform);var m=ParamLoader.instance.ServerRelifeRateSSR;u.card_trait==playertrait.trait_SR&&(m=ParamLoader.instance.ServerRelifeRateSR);var g=1;g=m[s];var _,h=isNaN(o)?u.stars:o,d=0,y=0,v=0,f=0,b=0,G=0,x=0,C=0,T=0,P=0;_=n?n:u;var A=porpertyType,w=a;w||(w=u.location);var k,I,S,E,R,L,O,V=c.getPowercoefficientVO(w),D=.05,N=0,F=GlobalAllProxy.getInstance().playerProxy.equipArr,M=utils.GameComUtil,B={},U=0/0,H=0/0;if(F)for(L=0,O=F.length;O>L;L++)k=F[L],I=c.getEquipStrengThenVO(k.eid,k.level),R=M.getStringVoArr(I.porperty),M.setPorObjArr(R,B),S=c.getEquipQualityVO(k.eid,k.quality),R=M.getStringVoArr(S.porperty),M.setPorObjArr(R,B),E=c.getEquipClassVO(k.eid,k.grade),R=M.getStringVoArr(E.porperty),M.setPorObjArr(R,B),isNaN(U)&&(U=k.grade),isNaN(H)&&(H=k.quality),U=Math.min(k.grade,U),H=Math.min(k.quality,H);var j=B[A.num_shoot]?B[A.num_shoot]:0,z=B[A.num_break_through]?B[A.num_break_through]:0,q=B[A.num_steal]?B[A.num_steal]:0,W=B[A.num_marking]?B[A.num_marking]:0,Y=B[A.num_trap]?B[A.num_trap]:0,K=B[A.num_pass]?B[A.num_pass]:0,Q=B[A.num_speed]?B[A.num_speed]:0,Z=B[A.num_strong]?B[A.num_strong]:0,X=B[A.num_response]?B[A.num_response]:0,J=B[A.num_one_to_one]?B[A.num_one_to_one]:0,$=0;if(!isNaN(U)){var et=c.getEquipClassSuitVOForMin(U);et&&($=+et.classrate)}var tt=0;if(!isNaN(H)){var at=c.getEquipQualityQuitNewVO(H);at&&(tt=+at.qualityrate)}var it;e&&(it=c.getFormationProperVO(e,t),d=it.fshoot,y=it.fbreakthrough,v=it.fsteal,f=it.fmarking,G=it.fpass,b=it.ftrap,x=it.fspeed,C=it.fstrong,T=it.fresponse,P=it.fone_to_one);for(var nt,ot,rt,st,lt,pt,ct,ut=c.getFetterVO(u.playerid),mt=u.skill,gt=skill_type.type_fetter,_t={},ht=0,dt=GlobalAllProxy.getInstance().playerProxy,yt=ParamLoader.instance.ServerSkillUnlock,vt=GlobalConfig.getPlayerPorpertyVO(u.playerid),ft=0,bt=mt.length;bt>ft;ft++)if(nt=mt[ft],ot=c.getSkillVO(nt.skill_id),1==+ot.obj&&(pt=vt.getskillindex(nt.skill_id),ct=yt[pt],h>=ct)){if(ot.stype==gt){if(!ut)continue;if(lt=dt.getSeverPlayerVO(ut.partner),!lt)continue}for(rt=ot.porid,ht=ot.getValueString(nt.level,h),st=rt==porpertyType.num_all?GlobalEnum.porpernumall:rt==porpertyType.bai_all?GlobalEnum.porperbaiall:[rt],L=0,O=st.length;O>L;L++)rt=parseFloat(st[L]),_t[rt]?_t[rt]+=ht:_t[rt]=ht}var Gt=_t[A.num_shoot]?_t[A.num_shoot]:0,xt=_t[A.num_break_through]?_t[A.num_break_through]:0,Ct=_t[A.num_steal]?_t[A.num_steal]:0,Tt=_t[A.num_marking]?_t[A.num_marking]:0,Pt=_t[A.num_trap]?_t[A.num_trap]:0,At=_t[A.num_pass]?_t[A.num_pass]:0,wt=_t[A.num_speed]?_t[A.num_speed]:0,kt=_t[A.num_strong]?_t[A.num_strong]:0,It=_t[A.num_response]?_t[A.num_response]:0,St=_t[A.num_one_to_one]?_t[A.num_one_to_one]:0,Et=1e-4,Rt=.01,Lt=_t[A.bai_shoot]?_t[A.bai_shoot]*Rt:0,Ot=_t[A.bai_break_through]?_t[A.bai_break_through]*Rt:0,Vt=_t[A.bai_steal]?_t[A.bai_steal]*Rt:0,Dt=_t[A.bai_marking]?_t[A.bai_marking]*Rt:0,Nt=_t[A.bai_trap]?_t[A.bai_trap]*Rt:0,Ft=_t[A.bai_pass]?_t[A.bai_pass]*Rt:0,Mt=_t[A.bai_speed]?_t[A.bai_speed]*Rt:0,Bt=_t[A.bai_strong]?_t[A.bai_strong]*Rt:0,Ut=_t[A.bai_response]?_t[A.bai_response]*Rt:0,Ht=_t[A.bai_one_to_one]?_t[A.bai_one_to_one]*Rt:0,jt=0;if(ut){for(var zt,qt,Wt,Yt,Kt,Qt,Zt=ut.getFnameArr(),Xt=ParamLoader.instance,Jt=Xt.ServerFetterPorperty,$t=Xt.FetterGradeExtra,ea=Xt.FetterGradeExtraUR,ta={},ft=0,bt=Jt.length;bt>ft;ft++)Kt=Jt[ft],ta[parseInt(Kt[0])]=parseInt(Kt[1]);for(var aa,ia,na,oa,ra,sa=Xt.ServerFetterExtre,la=sa[0],pa=(sa[1],!0),ca=playertrait.trait_SSR,ua=playertrait.trait_UR,ma=0,ga=Zt.length;ga>ma;ma++){for(zt=Zt[ma],qt=zt[0],Wt=zt[1],Yt=Wt.split(","),pa=!0,ia=[],na=[],oa=0,ra=0,L=0,O=Yt.length;O>L;L++){if(aa=+Yt[L],lt=dt.getSeverPlayerVO(aa),!lt){pa=!1;break}lt.card_trait==ca?oa++:lt.card_trait==ua&&ra++,ia.push(lt.stars),na.push(lt.transform)}if(pa){for(L=0,O=ia.length;O>L;L++)jt+=(ia[L]-1)*la+100*na[L];Qt=ta[O],Qt=Qt+oa*$t+ra*ea,jt+=Qt}}}var _a,ha,da=GlobalAllProxy.getInstance().playerProxy.coachdata,ya=0,va=0,fa=0,ba=0,Ga=0,xa=0,Ca=0,Ta=0,Pa=0,Aa=0,wa=GlobalEnum.porpernumall,ka=0,Ia=0,Sa=!0,Ea=!0,Ra=dt.titledata,La=0;l&&(Ea=!1,ka=l.coachId),p&&(Sa=!1,La=p.type),Sa&&da&&(_a=da.getAllCoachData(l),_a&&(_a[wa[0]]&&(ya+=_a[wa[0]]),_a[wa[1]]&&(va+=_a[wa[1]]),_a[wa[2]]&&(fa+=_a[wa[2]]),_a[wa[3]]&&(ba+=_a[wa[3]]),_a[wa[4]]&&(Ga+=_a[wa[4]]),_a[wa[5]]&&(xa+=_a[wa[5]]),_a[wa[6]]&&(Ca+=_a[wa[6]]),_a[wa[7]]&&(Ta+=_a[wa[7]]),_a[wa[8]]&&(Pa+=_a[wa[8]]),_a[wa[9]]&&(Aa+=_a[wa[9]])),Ia+=da.getAllAddCoachData(a,l)),Ea&&Ra&&(ha=Ra.getAllAddData(p),ha&&(ha[wa[0]]&&(ya+=ha[wa[0]]),ha[wa[1]]&&(va+=ha[wa[1]]),ha[wa[2]]&&(fa+=ha[wa[2]]),ha[wa[3]]&&(ba+=ha[wa[3]]),ha[wa[4]]&&(Ga+=ha[wa[4]]),ha[wa[5]]&&(xa+=ha[wa[5]]),ha[wa[6]]&&(Ca+=ha[wa[6]]),ha[wa[7]]&&(Ta+=ha[wa[7]]),ha[wa[8]]&&(Pa+=ha[wa[8]]),ha[wa[9]]&&(Aa+=ha[wa[9]])),Ia+=0),Ia&&(Ia*=Et),jt&&(jt*=Et);var Oa=0,Va=GlobalAllProxy.getInstance().playerProxy.playerinfo.userLogo;if(Va&&Va.length>0&&Sa&&Ea)for(var Da,Na,Fa=!1,ma=0;ma<Va.length;ma++)if(Da=Va[ma],Na=c.getlogoVO(Da)){var Ma=c.getLocationrelationForCoach(u.location);Fa=c.isAddedIncludeThisLocationForPostion(Ma,Na.obj),Fa&&(Oa+=Na.getAddRatioByPosition(Ma))}var Ba=new playerCalcuVO;Ba.shoot=(_.shoot+Gt)*(g+Lt+jt+Ia+Oa)+j*(1+$+tt)+d+ya,Ba.break_through=(_.break_through+xt)*(g+Ot+jt+Ia+Oa)+z*(1+$+tt)+y+va,Ba.steal=(_.steal+Ct)*(g+Vt+jt+Ia+Oa)+q*(1+$+tt)+v+fa,Ba.marking=(_.marking+Tt)*(g+Dt+jt+Ia+Oa)+W*(1+$+tt)+f+ba,Ba.trap=(_.trap+Pt)*(g+Nt+jt+Ia+Oa)+Y*(1+$+tt)+b+Ga,Ba.pass=(_.pass+At)*(g+Ft+jt+Ia+Oa)+K*(1+$+tt)+G+xa,Ba.speed=(_.speed+wt)*(g+Mt+jt+Ia+Oa)+Q*(1+$+tt)+x+Ca,Ba.strong=(_.strong+kt)*(g+Bt+jt+Ia+Oa)+Z*(1+$+tt)+C+Ta,Ba.response=(_.response+It)*(g+Ut+jt+Ia+Oa)+X*(1+$+tt)+T+Pa,Ba.one_to_one=(_.one_to_one+St)*(g+Ht+jt+Ia+Oa)+J*(1+$+tt)+P+Aa;var Ua=Ba.shoot*V.shoot,Ha=Ba.break_through*V.breakthrough,ja=Ba.steal*V.steal,za=Ba.marking*V.marking,qa=Ba.trap*V.trap,Wa=Ba.pass*V.pass,Ya=Ba.speed*V.speed,Ka=Ba.strong*V.strong,Qa=Ba.response*V.response,Za=Ba.one_to_one*V.one_to_one;if(N+=Ua+Ha+ja+za+qa+Wa+Ya+Ka+Qa+Za,N*=D,r&&(u.js_shoot=Ba.shoot,u.js_break_through=Ba.break_through,u.js_steal=Ba.steal,u.js_marking=Ba.marking,u.js_trap=Ba.trap,u.js_pass=Ba.pass,u.js_speed=Ba.speed,u.js_strong=Ba.strong,u.js_response=Ba.response,u.js_one_to_one=Ba.one_to_one),a&&-1==u.getlogArr().indexOf(a)){var Xa=GlobalConfig.getLocationexpandVO(u.location);N*=Xa.isLogIn(a)?ParamLoader.instance.Serverbadlocation:ParamLoader.instance.Serververybadlocation}if(Ba.zhanglinum=.01*Math.floor(100*N),i&&(u.rankzhanli=Ba.zhanglinum),r&&(u.shoot=_.shoot,u.break_through=_.break_through,u.steal=_.steal,u.marking=_.marking,u.trap=_.trap,u.pass=_.pass,u.strong=_.strong,u.response=_.response,u.one_to_one=_.one_to_one,u.fighting=Ba.zhanglinum),ka||La){var Ja=(_.shoot+Gt)*Ia+ya,$a=(_.break_through+xt)*Ia+va,ei=(_.steal+Ct)*Ia+fa,ti=(_.marking+Tt)*Ia+ba,ai=(_.trap+Pt)*Ia+Ga,ii=(_.pass+At)*Ia+xa,ni=(_.speed+wt)*Ia+Ca,oi=(_.strong+kt)*Ia+Ta,ri=(_.response+It)*Ia+Pa,si=(_.one_to_one+St)*Ia+Aa;if(Ua=Ja*V.shoot,Ha=$a*V.breakthrough,ja=ei*V.steal,za=ti*V.marking,qa=ai*V.trap,Wa=ii*V.pass,Ya=ni*V.speed,Ka=oi*V.strong,Qa=ri*V.response,Za=si*V.one_to_one,N=0,N+=Ua+Ha+ja+za+qa+Wa+Ya+Ka+Qa+Za,N*=D,a&&-1==u.getlogArr().indexOf(a)){var Xa=GlobalConfig.getLocationexpandVO(u.location);N*=Xa.isLogIn(a)?ParamLoader.instance.Serverbadlocation:ParamLoader.instance.Serververybadlocation}Ba.coachzhanli=.01*Math.floor(100*N)}return Ba},t.prototype.getCurZhanli=function(e,t,a,i,n,o,r,s){void 0===e&&(e=!0),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===r&&(r=null),void 0===s&&(s=null);var l=this,p=null,c=null,u=null;if(l.position){var m=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(!m)return null;p=m.formid,c=m.getFormeLevel(p),u=GlobalConfig.getLocationrelation(l.position)}var g=null;t&&a&&(g=this.reCalcu(!1,t,a,i,o));var _=l.getProFor(p,c,u,e,g,t,n,i,r,s);return _},t.prototype.getzhanli=function(){return 0},t.prototype.getsellnum=function(e,t,a,i){void 0===e&&(e=!0),void 0===t&&(t=0),void 0===a&&(a=0),void 0===i&&(i=0),t||(t=this.stars),a||(a=this.level),i||(i=this.card_trait);var n,o=GlobalConfig.getPlayerPorpertyVO(this.playerid),r=GlobalConfig.getPlayerstarlevelVO(i,t,a),s=ParamLoader.instance;switch(this.card_trait){case playertrait.trait_N:n=s.ServerNclassratio;break;case playertrait.trait_R:n=s.ServerRclassratio;break;case playertrait.trait_SR:n=s.ServerSRclassratio;break;case playertrait.trait_SSR:n=s.ServerSSRclassratio}var l=o.money+r.slvalue*n*o.monrate;return e&&(this.ranksellnum=l),Math.floor(l)},t.prototype.islognumIn=function(e){var t=this.getlogArr(),a=-1!=t.indexOf(e)?!0:!1;return a},t.prototype.getlogArr=function(){var e=this,t=[];t.push(e.location);for(var a=e.pos,i=0,n=a.length;n>i;i++)t.push(parseInt(a[i].position));return t},t.prototype.addnewPos=function(e){var t=this.pos,a=new SPlayerExtraPos;a.position=e,t.push(a)},t.prototype.getSkillForID=function(e){for(var t,a=this.skill,i=a.length,n=0;i>n;n++)if(t=a[n],t.skill_id==e)return t;return t},t.prototype.addStar=function(e){var t=this;t.stars+=e,t.level=1,t.reCalcu(!0),t.getCurZhanli(!1,t.stars,t.level,t.transform,!0,t.card_trait)},t.prototype.addLevel=function(e){var t=this;t.level+=e,t.reCalcu(!0),t.getCurZhanli(!1,t.stars,t.level,t.transform,!0,t.card_trait)},t.prototype.setTransform=function(e){var t=this;t.transform=e,t.reCalcu(!0),t.getCurZhanli(!1,t.stars,t.level,t.transform,!0,t.card_trait)},t.prototype.addPlayerExp=function(e,t){if(!(0>=e)){var a=this,i=parseFloat(this.exp),n=0,o=0,r=GlobalConfig.getPlayerStarVO(a.card_trait,this.stars);if(r){var s=r.bookgrade,l=GlobalConfig.getPlayerExpVO(a.card_trait,this.stars,s).minpexp;i>l&&(i=l);var p=i+e;p>l?(o=p-l,n=l-i):n=e,n&&(i+=n),this.exp=i.toString();var c=GlobalConfig.getPlayerExpVOForExp(this.card_trait,this.stars,i);c&&c.plv!=this.level&&(this.level=c.plv)}o&&GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_playerexp,o,!1,!1,null,null,t)}},t.getAddExpArr=function(e,t,a,i){var n=new AddExpData;n.exparr=[],n.newlv=0,n.isfull=!1;var o=[],r=parseFloat(e),s=0,l=0,p=GlobalConfig.getPlayerStarVO(i,a),c=!1;if(p){var u=p.bookgrade,m=GlobalConfig.getPlayerExpVO(i,a,u).minpexp;r>m&&(r=m);var g=r+t;g>=m&&(c=!0),g>m?(l=g-m,s=m-r):s=t,s&&(r+=s);var _=GlobalConfig.getPlayerExpVOForExp(i,a,r),h=GlobalConfig.getPlayerExpVOForExp(i,a,e);if(_&&h){var d=h.plv,y=_.plv;if(d==y)o.push([e-h.minpexp,r-h.minpexp,h.prate]);else for(var v,f,b=y-d,G=0;b>=G;G++)v=d+G,v>d&&y>v?(f=GlobalConfig.getPlayerExpVO(i,a,v),o.push([0,f.prate,f.prate])):v==d?o.push([e-h.minpexp,h.prate,h.prate]):v==y&&o.push([0,r-_.minpexp,_.prate]);n.exparr=o,n.newlv=y,c&&o.push([1,1,1]),n.isfull=c}}return n},t.prototype.openSkill=function(e){for(var t,a=this.skill,i=!1,n=a.length-1;n>=0;n--)if(t=a[n],t.skill_id==e){t.level=1,i=!0;break}if(!i){var o=new SPlayerSkill;o.level=1,o.skill_id=e,this.skill.push(o)}},t.prototype.isCanBreach=function(){var e=this,t=!1,a=ParamLoader.instance.Serverlocationlimit,i=e.getlogArr();if(i.length<a){var n=GlobalConfig.getLocationexpandVO(e.location),o=n.expandlocations;o&&o.length&&(t=!0)}return t},t.getMaxBeBronNum=function(e){var t=ParamLoader.instance.ServerRelifeMax,a=0;return e&&(a=t[e-1]),a},t.getMaxStarNum=function(e){var t=ParamLoader.instance.ServerStarMax,a=0;return e&&(a=t[e-1]),a},t.getMaxRebornForStar=function(e){var t=ParamLoader.instance.ServerRelifeLimit,a=0,i=t.indexOf(e);return-1!=i&&(a=i+1),a},t.getCurStarReborn=function(e){var t=ParamLoader.instance.ServerRelifeLimit,a=0;return e&&(a=t[e-1]),a},t.getBeBronCar=function(e){var t=ParamLoader.instance.ServerRelifeCost,a=0;return e&&(a=t[e-1]),a},t.getMinBornCardTrait=function(){for(var e,t=ParamLoader.instance.ServerRelifeMax,a=0,i=0,n=t.length;n>i;i++)if(e=t[i],e>0){a=i+1;break}return a},t.getMinFetterCardTrait=function(){return playertrait.trait_SR},t.strarr=["name","exp","up_shoot","up_break_through","up_steal","up_marking","up_pass","up_trap","up_speed","up_strong","up_response","up_one_to_one"],t}(e.BaseVO);e.SResponsePlayer=t,__reflect(t.prototype,"game.SResponsePlayer")}(game||(game={}));var SPlayerSkill=function(){function e(){}return e}();__reflect(SPlayerSkill.prototype,"SPlayerSkill");var SPlayerExtraPos=function(){function e(){}return e}();__reflect(SPlayerExtraPos.prototype,"SPlayerExtraPos");var AddExpData=function(){function e(){}return e}();__reflect(AddExpData.prototype,"AddExpData");var SScoutMarketObj=function(){function e(){}return e}();__reflect(SScoutMarketObj.prototype,"SScoutMarketObj");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("item"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.timePlay=function(t){var a=this;a.refreshTime>0&&(a.refreshTime-=t,a.refreshTime<=0&&(a.refreshCnt--,EventBus.getIns().sendMessage(e.GameCommands.SCOUT_MARKET_INFO)))},a.prototype.zeroPointRefresh=function(e){var t=this;t.diamondCnt=e.transferMarketRefresh,t.refreshTime=0},a.prototype.changeitem=function(e){var t=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;for(var a in t.item){var i=GlobalConfig.getItemVo(e);i.parameter&&t.item[a].pid==+i.parameter&&(t.item[a].num=0)}},a}(e.BaseVO);e.SScoutMarket=t,__reflect(t.prototype,"game.SScoutMarket")}(game||(game={}));var SClubReport=function(){function e(){}return e}();__reflect(SClubReport.prototype,"SClubReport");var SUserTask=function(){function e(){}return e}();__reflect(SUserTask.prototype,"SUserTask");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("task"==t||"report"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.removeTask=function(e){if(this.task)for(var t,a=this.task,i=a.length-1;i>=0;i--)t=a[i],t.taskId==e&&a.splice(i,1)},t.prototype.addTaskArr=function(e){this.task&&(this.task=this.task.concat(e))},t.prototype.setListScore=function(e,t){for(var a,i=this.task,n=0,o=i.length;o>n;n++)if(a=i[n],a.taskId==e){a.progress=t;break}var r=new SUserTask;r.taskId=e,r.progress=t,r.isReward=0,i.push(r)},t.prototype.addReportArr=function(e){if(this.report){this.report=this.report.concat(e);var t=ParamLoader.instance.ServerReportNum;this.report.length>t&&(this.report.sort(utils.GameUtil.sortMatckFun(["createTime"],[1])),this.report.splice(t-1))}},t}(e.BaseVO);e.SSecretaryInitResponse=t,__reflect(t.prototype,"game.SSecretaryInitResponse")}(game||(game={}));var ClubTitleObj=function(){function e(){}return e}();__reflect(ClubTitleObj.prototype,"ClubTitleObj");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["integral"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("item"==t||"club"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.getAllAddData=function(e){void 0===e&&(e=null);var t=this;if(t.club&&t.club.title)for(var a,i=t.club.title,n=0,o={},r=0,s=i.length;s>r;r++)a=i[r],e&&e.type!=a.type||(e?e.level&&(n=t.getCoachData(e.type,e.level,o)):a.level&&(n=t.getCoachData(a.type,a.level,o)));return o},t.prototype.getCoachData=function(e,t,a){void 0===a&&(a=null),t||(t=1);var i,n=GlobalConfig.getTitleVO(e,t),o={};if(a&&(o=a),n){var r=n.getporpertyarr();for(i in r)o[i]||(o[i]=0),o[i]+=r[i]}return o},t}(e.BaseVO);e.STitle=t,__reflect(t.prototype,"game.STitle")}(game||(game={}));var UserTitleObj=function(){function e(){}return e}();__reflect(UserTitleObj.prototype,"UserTitleObj");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=[],e.severstrarr=["giftStatus","monthCardStatus","exclusiveGiftBag","doubleRecharge","monthCard"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this,n=i.severstrarr,o=i.strarr;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=n.indexOf(t)?i[t]=a:-1!=o.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.zeroPointRefresh=function(t){var a=this;a.dailyGift=0,a.loginExp=0,a.rechargeExp=0,a.expenseExp=0,a.updataMonthCard(),EventBus.sendMessage(e.GameCommands.MY_INFO_CHANGW)},a.prototype.setmonthAwardindex=function(e){for(var t,a=this,i=a.monthCard,n=(this.totalDays,0),o=i.length;o>n;n++)t=i[n],t.type==e&&(t.dailyGiftBag=2)},a.prototype.setbuygifindex=function(e){var t=this,a=t.exclusiveGiftBag;-1==a.indexOf(e)&&a.push(e)},a.prototype.addLevelGif=function(e,t){void 0===t&&(t=1);var a=this,i=a.giftStatus;i||(i=[],a.giftStatus=i);var n=this.getLevelGif(e);n?n.status=t:(n=new SVipLevelGiftStatus,n.level=e,n.status=t,i.push(n))},a.prototype.getLevelGif=function(e){for(var t,a=this.giftStatus,i=0,n=a.length;n>i;i++)if(t=a[i],t.level==e)return t;return null},a.prototype.getLevelGifStatu=function(e){var t=0,a=this.getLevelGif(e);return a&&(t=a.status),t},a.prototype.setdailyGift=function(e){this.dailyGift=e},a.prototype.addexpenseExp=function(e){this.expenseExp+=e},a.prototype.addrechargeExp=function(e){this.rechargeExp+=e},a.prototype.setVipUpLevel=function(e){var t=e-1,a=e,i=GlobalConfig.getVipVO(t),n=GlobalConfig.getVipVO(a),o=n.vfchal-i.vfchal;if(o){var r=GlobalAllProxy.getInstance().fightProxy.friendshipData;r&&r.addfreerefresh(o)}},a.prototype.getIsMonther=function(){for(var e,t=this,a=!1,i=t.monthCard.length,n=0;i>n;n++)if(e=t.monthCard[n],e.numDays>0||-1==e.numDays){a=!0;break}return a},a.prototype.getPayBuyTime=function(e){for(var t,a=this,i=0,n=a.doubleRecharge,o=0,r=n.length;r>o;o++)if(t=n[o],t.pid==e){i=t.num;break}return i},a.prototype.setPayBuyTime=function(e,t){void 0===t&&(t=1);for(var a,i=this,n=i.doubleRecharge,o=!1,r=0,s=n.length;s>r;r++)if(a=n[r],a.pid==e){a.num+=1,o=!0;break}o||(a=new SUserItem(e,1),n.push(a))},a.prototype.updataMonthCard=function(){var e,t=this,a=t.monthCard;if(a){for(var i=a.length,n=!1,o=0;i>o;o++)e=a[o],3!=e.type?e.numDays>0?(e.numDays--,e.dailyGiftBag=1,e.numDays<=0&&(n=!0)):e.dailyGiftBag=0:-1==e.numDays&&(e.dailyGiftBag=1);n&&GlobalAllProxy.getInstance().playerProxy.NetBuildEmployee()}},a}(e.BaseVO);e.SVipInitResponseVO=t,__reflect(t.prototype,"game.SVipInitResponseVO")}(game||(game={}));var SVipLevelGiftStatus=function(){function e(){}return e}();__reflect(SVipLevelGiftStatus.prototype,"SVipLevelGiftStatus");
var SMonthCardData=function(){function e(){}return e}();__reflect(SMonthCardData.prototype,"SMonthCardData");var SWeeklyShareObj=function(){function e(){}return e}();__reflect(SWeeklyShareObj.prototype,"SWeeklyShareObj");var SMagnateFriends=function(){function e(){}return e}();__reflect(SMagnateFriends.prototype,"SMagnateFriends");var SInviteUserInfo=function(){function e(){}return e}();__reflect(SInviteUserInfo.prototype,"SInviteUserInfo");var SDailyShare=function(){function e(){}return e}();__reflect(SDailyShare.prototype,"SDailyShare");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t.usestrarr=["weekShare","magnate","dailyShare"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this,n=i.usestrarr;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=n.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.zeroPointRefresh=function(e){var t=this,a=t.dailyShare;a&&a.remainder>1&&(a.loginReward=0)},t.prototype.timePlay=function(e){var t=this,a=t.dailyShare;if(a){var i=t.dailyShare.coolingTime;i>0&&(t.dailyShare.coolingTime-=e)}},t}(e.BaseVO);e.SWeeklyShare=t,__reflect(t.prototype,"game.SWeeklyShare")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.activityId=1,t.actRelationId=2,t.actPeriods=3,t.startTime=4,t.endTime=5,t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t}(e.BaseVO);e.SBetGuessVo=t,__reflect(t.prototype,"game.SBetGuessVo")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.matchId=1,t.homeWin=0,t.guestWin=0,t.draw=0,t.result="0",t.homeName="",t.guestName="",t.homeIcon="",t.guestIcon="",t.hodds="",t.podds="",t.vodds="",t.limit=0,t.daytime=0,t.strarr=["result","homeName","guestName","homeIcon","guestIcon","hodds","podds","vodds"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.sortOnLimit=function(e,t){return e.limit>t.limit?1:e.limit<t.limit?-1:0},t.prototype.getMatchBetType=function(){var e=this,t=0;return t=e.homeWin>0?1:e.guestWin>0?2:e.draw>0?3:0},t}(e.BaseVO);e.SBetMatchResultVo=t,__reflect(t.prototype,"game.SBetMatchResultVo")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("friendsDetails"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.getonefid=function(){var e=this.friendsDetails;return e.length?e[0].fid:null},t.prototype.getBuildPlayer=function(e){for(var t,a=this.friendsDetails,i=0,n=a.length;n>i;i++)if(t=a[i],t.fid==e)return t;return null},t.prototype.addBuildPlayer=function(e){var t=this.getBuildPlayer(e.fid);if(t){var a=GlobalEnum.buildarr,i=a.indexOf(e.buildType);i>=0&&i<t.position.length&&(t.position[i]=1)}},t}(e.BaseVO);e.SInitFriendResponse=t,__reflect(t.prototype,"game.SInitFriendResponse")}(game||(game={}));var SFriendsDetails=function(){function e(){}return e}();__reflect(SFriendsDetails.prototype,"SFriendsDetails");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","fid","logo"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("station"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.getStationPlayer=function(e){for(var t,a=this.station,i=0,n=a.length;n>i;i++)if(t=a[i],t.buildType==e)return t;return null},t.prototype.getEnterBuildTime=function(e){var t=0;return e&&(t=Math.floor(ParamLoader.instance.ServerFriendEnter-(.001*Global.systemTimeNum-e.time)),0>=t&&(t=0)),t},t}(e.BaseVO);e.SSeeFriendsClubResponse=t,__reflect(t.prototype,"game.SSeeFriendsClubResponse")}(game||(game={}));var SStation=function(){function e(){}return e}();__reflect(SStation.prototype,"SStation");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["logo","name"],e}return __extends(a,t),a.prototype.objectToThis=function(t){var a,i,n=this;for(a in t)if(i=t[a],!(i instanceof Function||null==i))if("playerCourt"==a||"fight"==a||"achieveShow"==a||"guild"==a)n[a]=i;else if("visitCoach"==a){var o=new e.SCoachData;o.objectToThis(i),n[a]=o}else-1!=n.strarr.indexOf(a)?n[a]=i.toString():n[a]=isNaN(parseInt(i))?i.toString():parseInt(i)},a.prototype.newAchieve=function(e){},a}(e.BaseVO);e.SVisitFriendsResponse=t,__reflect(t.prototype,"game.SVisitFriendsResponse")}(game||(game={}));var SPlayerCourt=function(){function e(){}return e}();__reflect(SPlayerCourt.prototype,"SPlayerCourt");var SAchieveShow=function(){function e(){}return e}();__reflect(SAchieveShow.prototype,"SAchieveShow");var STacticalRestraint=function(){function e(){}return e}();__reflect(STacticalRestraint.prototype,"STacticalRestraint");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.temp_output=0,e.strarr=["start_time","rec_time"],e.copyoldarr=["from","tactical","build","selfBuild","mapRecord","achieveShow"],e.tech_lv=1,e.scout_lv=1,e.tatical_lv=1,e.level=1,e}return __extends(a,t),a.prototype.getAllStaffNum=function(t){void 0===t&&(t=0/0);var a=this;isNaN(t)&&(t=a.grade);var i=GlobalConfig.getClubgradeVO(t),n=i.allstaff+e.ComMonthCarVO.getNumExtraemployee();return n},a.prototype.setReshTime=function(e,t){var a=this;t&&(a.start_time=e),a.rec_time=e},a.prototype.getSMapRecord=function(e){for(var t,a=this,i=a.mapRecord,n=i.length-1;n>=0;n--)if(t=i[n],t.mapId==e)return t;return null},a.prototype.fightOverClub=function(e,t,a){var i=this,n=GlobalConfig.getCopyclubgradeVO(t,a);if(n){var o=this.getSMapRecord(n.level);if(o){if(e){var r=i.getSMapCustoms(n.id,n.level);(!r||a>r.degree)&&(o.star+=1)}}else o=new SMapRecord,o.mapId=n.level,o.star=e?1:0,o.gift=[],o.customs=[],i.mapRecord.push(o);var r=i.getSMapCustoms(n.id,n.level);r?e&&a>r.degree&&(r.degree=a):(r=new SMapCustoms,r.missionId=t,e?r.degree=a:r.degree=0,o&&o.customs.push(r))}},a.prototype.addMapGif=function(e){var t=GlobalConfig.getCopyClubRradeStarVO(e);if(t){var a=t.level,i=this.getSMapRecord(a);if(i){var n=i.gift;-1==n.indexOf(e)&&i.gift.push(e)}}},a.prototype.getSMapIsOpen=function(e){var t=!1;if(e){var a=this.getSMapCustoms(e);a&&a.degree>0&&(t=!0)}else t=!0;return t},a.prototype.getSMapCustoms=function(e,t){void 0===t&&(t=0/0);for(var a,i,n,o,r,s=this,l=s.mapRecord,p=l.length-1;p>=0;p--)if(a=l[p],o=a.customs,isNaN(t)||t==a.mapId)for(i=0,n=o.length;n>i;i++)if(r=o[i],r.missionId==e)return r;return null},a.prototype.getSMapNumber=function(){for(var e=this,t=e.mapRecord,a=0,i=t.length-1;i>=0;i--)a+=t[i].customs.length;return a},a.prototype.getSMapAllStar=function(e){for(var t,a,i=this,n=i.mapRecord,o=n.length-1;o>=0;o--)if(t=n[o],a=t.star,e==t.mapId)return a;return 0},a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||(-1!=i.copyoldarr.indexOf(t)?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));var n=GlobalAllProxy.getInstance().playerProxy.playerinfo;n.exp=i.exp,n.level=i.level},a.prototype.timePlay=function(e){for(var t,a,i=this,n=i.selfBuild,o=n.length-1;o>=0;o--)t=n[o],t.m_sendover||(a=i.getEnterBuildTime(t),a||(t.m_sendover=!0,n.splice(o,1),GlobalAllProxy.getInstance().playerProxy.NetEnterEnd(t.fid,t.buildType)))},a.prototype.getTimeOutNum=function(t,a){void 0===a&&(a=!1);var i=this.player_num,n=Global.systemTimeNum-parseFloat(this.rec_time),o=parseFloat(this.rec_time)-parseFloat(this.start_time);0>n&&(n=0),0>o&&(o=0);var r=.001*n/3600,s=.001*o/3600;if(r+s>t){if(r=t-s,a)return 1}else if(a)return 0;r>=t&&(r=t),0>r&&(r=0);var l=e.SClubResponseVO.getTimeOutPut(stafftype.type_player,this.level,i).count,p=Math.floor(l*r)+this.temp_output;return p||r+s>t&&(p=1),p},a.prototype.getWorkAllStaffNum=function(){var e=this,t=e.player_num+e.tactical_num+e.tech_num+e.scout_num;return t},a.getTimeOutPut=function(t,a,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===r&&(r=0/0);var s,l=GlobalEnum.itemid_coin,p=0,c=0,u=0;if(o){var m=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel;s=GlobalConfig.getVipVO(m)}var g=GlobalAllProxy.getInstance().playerProxy.clubData.grade;switch(isNaN(r)&&(r=g),t){case stafftype.type_player:var _=GlobalConfig.getClubgradeVO(r);_&&(p=_.getTimeOutPut(i,r)),l=GlobalEnum.itemid_coin,s&&(u=s.vclub);break;case stafftype.type_tactical:var h=GlobalConfig.getTacticsCenterVO(a);h&&(p=h.getTimeOutPut(i,r)),l=GlobalEnum.itemid_study,s&&(u=s.vtac);break;case stafftype.type_tech:var d=GlobalConfig.getTechCenterVO(a);d&&(p=d.getTimeOutPut(i,r)),l=GlobalEnum.itemid_techdian,s&&(u=s.vtech);break;case stafftype.type_scout:var y=GlobalConfig.getScoutCenterVO(a);y&&(p=y.getTimeOutPut(i,r)),l=GlobalEnum.itemid_qiutan,s&&(u=s.vscout)}if(n){var v=GlobalAllProxy.getInstance().playerProxy.clubData;if(v){var f=v.getSelfBuildPlayer(t),b=v.getEnterBuildTime(f);f&&b&&(c+=utils.GameComUtil.wanToNomal(ParamLoader.instance.ServerFriendEnterAdd))}}u&&(c+=utils.GameComUtil.wanToNomal(u)),c&&(p*=c+1);var G=new e.ComItemGroupVo;return G.itemid=l,G.count=p,G},a.prototype.getbuildDataForType=function(e,t){var a;switch(e){case stafftype.type_player:var i=GlobalConfig.getClubgradeVO(t);a=i;break;case stafftype.type_tactical:var n=GlobalConfig.getTacticsCenterVO(t);a=n;break;case stafftype.type_tech:var o=GlobalConfig.getTechCenterVO(t);a=o;break;case stafftype.type_scout:var r=GlobalConfig.getScoutCenterVO(t);a=r}return a},a.prototype.getBuildNeedLv=function(e,t){var a,i=0,n=GlobalConfig.CLUBGRADE_DATA,o="";switch(e){case stafftype.type_tactical:o="maxtaclv";break;case stafftype.type_tech:o="maxreslv";break;case stafftype.type_scout:o="maxscoutlv"}for(var r in n)if(a=n[r],a[o]==t){i=a.clubgrade;break}return i},a.prototype.getDataForType=function(e,t){void 0===t&&(t=0/0);var a,i,n,o,r=new BuildDataVo,s=0,l=this;switch(e){case stafftype.type_player:a=l.player_num,i=l.level;var p=l.grade;isNaN(t)||(p=t);var c=GlobalConfig.getClubgradeVO(p);c&&(s=c.maxstaff),n=Language.ins.title_club,o=GlobalEnum.itemid_coin;break;case stafftype.type_tactical:a=l.tactical_num,i=l.tatical_lv,isNaN(t)||(i=t);var u=GlobalConfig.getTacticsCenterVO(i);u&&(s=u.maxstaff),n=Language.ins.title_tacticsconter,o=GlobalEnum.itemid_study;break;case stafftype.type_tech:a=l.tech_num,i=l.tech_lv,isNaN(t)||(i=t);var m=GlobalConfig.getTechCenterVO(i);m&&(s=m.maxstaff),n=Language.ins.title_tech,o=GlobalEnum.itemid_techdian;break;case stafftype.type_scout:a=l.scout_num,i=l.scout_lv,isNaN(t)||(i=t);var g=GlobalConfig.getScoutCenterVO(i);g&&(s=g.maxstaff),n=Language.ins.title_scout_info,o=GlobalEnum.itemid_qiutan}return r.blevel=i,r.bstaff=a,r.bmaxstaff=s,r.bname=n,r.bitemid=o,r},a.prototype.getSelfBuildPlayer=function(e){for(var t,a=this.selfBuild,i=0,n=a.length;n>i;i++)if(t=a[i],t.buildType==e)return t;return null},a.prototype.addSelfBuildPlayer=function(e){var t=this.selfBuild;t.push(e)},a.prototype.removeSelfBuildPlayer=function(e){for(var t,a=this,i=a.selfBuild,n=i.length-1;n>=0;n--)if(t=i[n],t.buildType==e&&!a.getEnterBuildTime(t)){i.splice(n,1);break}},a.prototype.getBuildPlayer=function(e){for(var t,a=this.build,i=0,n=a.length;n>i;i++)if(t=a[i],t.buildType==e)return t;return null},a.prototype.addBuildPlayer=function(e){var t=this,a=t.build;a.push(e);var i=GlobalAllProxy.getInstance().playerProxy,n=i.friendInvitData;n&&n.addBuildPlayer(e)},a.prototype.removeBuildPlayer=function(e,t){for(var a,i=this,n=this.build,o=n.length-1;o>=0;o--)if(a=n[o],a.buildType==e&&!i.getEnterBuildTime(a)&&a.fid==t){n.splice(o,1);break}},a.prototype.getEnterBuildTime=function(e,t){void 0===t&&(t=!0);var a=0;return e&&(a=Math.floor(ParamLoader.instance.ServerFriendEnter-(.001*Global.systemTimeNum-e.enterTime)),t&&0>=a&&(a=0)),a},a.prototype.setTimeChange=function(e,t,a,i){switch(e){case stafftype.type_player:var n=this;n.temp_output=t,n.setReshTime(i,!1);break;case stafftype.type_tactical:var o=GlobalAllProxy.getInstance().playerProxy.tacticsData;o&&(o.temp_potion=t,o.setReshTime(i,!1));break;case stafftype.type_tech:var r=GlobalAllProxy.getInstance().playerProxy.scienceData;r&&(r.temp_output=t,r.setReshTime(i,!1));break;case stafftype.type_scout:var s=GlobalAllProxy.getInstance().playerProxy.scoutData;s&&(s.temp_output=t,s.setReshTime(i,!1))}},a.prototype.setBuildStaff=function(e,t){var a=this;switch(e){case stafftype.type_player:a.player_num=t;break;case stafftype.type_tactical:a.tactical_num=t;break;case stafftype.type_tech:a.tech_num=t;break;case stafftype.type_scout:a.scout_num=t}},a.ComGetTimeOutPut=function(e,t,i,n){var o;return o=a.ComGetPOutPut(e,t,i)+n},a.ComGetPOutPut=function(e,t,a){return e*parseFloat(a)},a.prototype.setBuildInfoSever=function(e){var t=this,a=e.type;t.setTimeChange(a,e.tempOutput,e.startTime,e.receiveTime),t.setBuildStaff(a,e.employees)},a}(e.BaseVO);e.SClubResponseVO=t,__reflect(t.prototype,"game.SClubResponseVO")}(game||(game={}));var SEnterBuild=function(){function e(){}return e}();__reflect(SEnterBuild.prototype,"SEnterBuild");var SBuildInfo=function(){function e(){}return e}();__reflect(SBuildInfo.prototype,"SBuildInfo");var BuildDataVo=function(){function e(){}return e}();__reflect(BuildDataVo.prototype,"BuildDataVo");var SMapRecord=function(){function e(){}return e}();__reflect(SMapRecord.prototype,"SMapRecord");var SMapCustoms=function(){function e(){}return e}();__reflect(SMapCustoms.prototype,"SMapCustoms");var SSCFightingInfo=function(){function e(){}return e}();__reflect(SSCFightingInfo.prototype,"SSCFightingInfo");var SScienceBlueInfos=function(){function e(){}return e}();__reflect(SScienceBlueInfos.prototype,"SScienceBlueInfos");var SScienceBookPlayers=function(){function e(){}return e}();__reflect(SScienceBookPlayers.prototype,"SScienceBookPlayers");var CustomBook=function(){function e(){}return e}();__reflect(CustomBook.prototype,"CustomBook");var Equipments=function(){function e(){}return e}();__reflect(Equipments.prototype,"Equipments");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["start_time"],e}return __extends(a,t),a.prototype.zeroPointRefresh=function(e){var t=this;t.clearCooling=0},a.prototype.clearCDFun=function(){var e=this;e.clearCooling+=1,e.coolingTime=0},a.prototype.getBookVo=function(e){for(var t,a=this.book,i=0,n=a.length;n>i;i++)if(t=a[i],t.num==e)return t;return null},a.prototype.creatCustom=function(e){for(var t,a,i,n,o=this,r=[],s=0,l=e.length;l>s;s++)t=e[s],t&&(a=o.getBookVo(t),a&&(i=new CustomBook,i.eid=s+1,i.num=t,i.count=n.maxplayer,i.player=[],i.bookgrade=n.bookgrade,r.push(i)));o.customPlayer=r},a.prototype.getCustomBook=function(e){var t=this.customPlayer;if(t)for(var a,i=0,n=t.length;n>i;i++)if(a=t[i],a.num==e)return a;return null},a.prototype.addCustomPlayer=function(){},a.prototype.clearCustom=function(){this.customPlayer=null},a.prototype.timePlay=function(e){var t=this;if(t.isStudyIng()){var a=t.getLastTime();0>=a&&t.stopBookStudy(!0)}t.coolingTime>0&&(t.coolingTime-=e)},a.prototype.stopBookStudy=function(e){var t=this;t.clearCustom();var a,i=t.lists;if(e)for(var n,o,r=GlobalAllProxy.getInstance().playerProxy,s=0,l=i.length;l>s;s++)a=i[s],a&&(o=a.exp+a.addexp,n=r.getEquipVo(a.booktype),n.addexpnum(o));t.book_start_time=0,t.lists=[]},a.prototype.getLastTime=function(){var e=0;return e=ParamLoader.instance.Serverresearchtime-(Math.floor(.001*Global.systemTimeNum)-this.book_start_time),0>e&&(e=0),e},a.prototype.getplayernum=function(){for(var e,t=0,a=this.lists,i=0,n=a.length;n>i;i++)e=a[i],t+=e.player.length;return t},a.prototype.addZpoints=function(e){this.zpoints+=e,this.zpoints<0&&(this.zpoints=0)},a.prototype.isStudyIng=function(){return this.book_start_time?!0:!1},a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)if(a=e[t],!(a instanceof Function||null==a))if("lists"==t)i[t]=a;else if("equip"==t){i[t]=a;for(var n,o,r=i[t],s=[],l=0,p=r.length;p>l;l++)n=r[l],o=new SEquipmentsVO,o.objectToThis(n),s.push(o);GlobalAllProxy.getInstance().playerProxy.equipArr=s}else if("book"==t){for(var n,c,u=a,s=[],l=0,p=u.length;p>l;l++)n=u[l],c=new ScienceBooks,c.objectToThis(n),s.push(c);i[t]=s}else-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},a.prototype.setReshTime=function(e,t){var a=this;t&&(a.start_time=e),a.rec_time=e},a.prototype.getPlayerNum=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e?e.tech_num:0},a.prototype.setPlayerNum=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.tech_num=e)},a.prototype.getLevel=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e&&e.tech_lv?e.tech_lv:1},a.prototype.setLevel=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.tech_lv=e)},a.prototype.getTimeOutNum=function(t,a){void 0===a&&(a=!1);var i=Global.systemTimeNum-parseFloat(this.rec_time),n=parseFloat(this.rec_time)-parseFloat(this.start_time);0>i&&(i=0),0>n&&(n=0);var o=.001*i/3600,r=.001*n/3600;if(o+r>t){if(o=t-r,a)return 1}else if(a)return 0;o>=t&&(o=t),0>o&&(o=0);var s=e.SClubResponseVO.getTimeOutPut(stafftype.type_tech,this.getLevel(),this.getPlayerNum()).count,l=Math.floor(s*o)+this.temp_output;return l||o+r>t&&(l=1),l},a.prototype.addbookVo=function(e){this.book.push(e)},a.prototype.redbookVoArr=function(e){for(var t,a=this.book,i=a.length,n=i-1;n>=0;n--)t=a[n],-1!=e.indexOf(t.num)&&a.splice(n,1)},a}(e.BaseVO);e.SScienceInitResponseVO=t,__reflect(t.prototype,"game.SScienceInitResponseVO")}(game||(game={}));var SScoutInfos=function(){function e(){}return e}();__reflect(SScoutInfos.prototype,"SScoutInfos");var SScoutPlayer=function(){function e(){}return e}();__reflect(SScoutPlayer.prototype,"SScoutPlayer");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["start_time","rec_time"],e.infos=[],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("infos"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.copy_luck=0/0},a.prototype.addexpertsNum=function(e){var t=this;t.expertsNum+=e},a.prototype.addmasterNum=function(e){var t=this;t.masterNum+=e},a.prototype.timePlay=function(e){},a.prototype.addPlayerInfo=function(e){this.removePlayer(e.type),this.infos.push(e)},a.prototype.getPlayerInfo=function(e){for(var t,a=this,i=a.infos,n=0,o=i.length;o>n;n++)if(t=i[n],t.type==e)return t;return null},a.prototype.removePlayer=function(e){for(var t,a=this,i=a.infos,n=i.length-1;n>=0;n--)t=i[n],t.type==e&&i.splice(n,1)},a.prototype.setReshTime=function(e,t){var a=this;t&&(a.start_time=e),a.rec_time=e},a.prototype.getPlayerNum=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e?e.scout_num:0},a.prototype.setPlayerNum=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.scout_num=e)},a.prototype.getLevel=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e&&e.scout_lv?e.scout_lv:1},a.prototype.setLevel=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.scout_lv=e)},a.prototype.getTimeOutNum=function(t,a){void 0===a&&(a=!1);var i=Global.systemTimeNum-parseFloat(this.rec_time),n=parseFloat(this.rec_time)-parseFloat(this.start_time);0>i&&(i=0),0>n&&(n=0);var o=.001*i/3600,r=.001*n/3600;if(o+r>t){if(o=t-r,a)return 1}else if(a)return 0;o>=t&&(o=t),0>o&&(o=0);var s=e.SClubResponseVO.getTimeOutPut(stafftype.type_scout,this.getLevel(),this.getPlayerNum()).count,l=Math.floor(s*o)+this.temp_output;return l||o+r>t&&(l=1),l},a}(e.BaseVO);e.SScoutInitResponseVO=t,__reflect(t.prototype,"game.SScoutInitResponseVO")}(game||(game={}));var SFormation=function(){function e(){}return e}();__reflect(SFormation.prototype,"SFormation");var STactical=function(){function e(){}return e}();__reflect(STactical.prototype,"STactical");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.strarr=["rec_time"],e}return __extends(a,t),a.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("from"==t||"tactical"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},a.prototype.setReshTime=function(e,t){var a=this;t&&(a.count_down=e),a.rec_time=e},a.prototype.getPlayerNum=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e?e.tactical_num:0},a.prototype.setPlayerNum=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.tactical_num=e)},a.prototype.getLevel=function(){var e=GlobalAllProxy.getInstance().playerProxy.clubData;return e&&e.tatical_lv?e.tatical_lv:1},a.prototype.setLevel=function(e){var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(t.tatical_lv=e)},a.prototype.getTimeOutNum=function(t,a){void 0===a&&(a=!1);var i=Global.systemTimeNum-parseFloat(this.rec_time),n=parseFloat(this.rec_time)-parseFloat(this.count_down);0>i&&(i=0),0>n&&(n=0);var o=.001*i/3600,r=.001*n/3600;if(o+r>t){if(o=t-r,a)return 1}else if(a)return 0;o>=t&&(o=t),0>o&&(o=0);var s=e.SClubResponseVO.getTimeOutPut(stafftype.type_tactical,this.getLevel(),this.getPlayerNum()).count,l=Math.floor(s*o)+this.temp_potion;return l||o+r>t&&(l=1),l},a.prototype.getFormeLevel=function(e){return this.formLevel},a.prototype.changeFormaLevel=function(e,t){return this.formLevel+=t,this.formLevel},a.prototype.getStudyLevel=function(e){var t,a,i,n=this.tactical;for(t in n)if(a=n[t],a.tid==e)return i=a.level;var o=new STactical;return o.tid=e,o.level=1,n.push(o),1},a.prototype.changeStudyLevel=function(e,t){var a,i,n,o=this.tactical;for(a in o)if(i=o[a],i.tid==e)return n=i.level+t,i.level=n,n;var r=new STactical;return r.tid=e,r.level=1+t,o.push(r),1},a}(e.BaseVO);e.STCResponseVO=t,__reflect(t.prototype,"game.STCResponseVO")}(game||(game={}));var SCoachInfo=function(){function e(e,t,a,i){this.coachId=e,this.level=t,this.star=a,this.coachClass=i,this.exp=0,this.count=0}return e}();__reflect(SCoachInfo.prototype,"SCoachInfo");var SCoachObject=function(){function e(){}return e}();__reflect(SCoachObject.prototype,"SCoachObject");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("coach"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.newplayids=[]},t.prototype.zeroPointRefresh=function(e){var t=this.coach;if(t)for(var a,i=0,n=t.length;n>i;i++)a=t[i],a.count=0},t.prototype.addNewPlayid=function(e){var t=this.newplayids;t&&-1==t.indexOf(e)&&t.push(e)},t.prototype.removeNewPlayid=function(e){var t=this.newplayids;if(t){var a=t.indexOf(e);-1!=a&&t.splice(a,1)}},t.prototype.timePlay=function(e){var t=this.time-e;0>=t&&(t=0),this.time=t},t.prototype.getAllCoachData=function(e){void 0===e&&(e=null);for(var t,a=this,i=this.coach,n={},o=0,r=i.length;r>o;o++)t=i[o],e&&e.coachId!=t.coachId||(n=e?a.getCoachData(e.coachId,e.level,e.star,e.coachClass,n):a.getCoachData(t.coachId,t.level,t.star,t.coachClass,n));return n},t.prototype.getOthersAllCoachData=function(e,t){void 0===t&&(t=null);for(var a,i=this,e=e,n={},o=0,r=e.length;r>o;o++)a=e[o],t&&t.coachId!=a.coachId||(n=t?i.getCoachData(t.coachId,t.level,t.star,t.coachClass,n):i.getCoachData(a.coachId,a.level,a.star,a.coachClass,n));return n},t.prototype.getAllAddCoachData=function(e,t){void 0===t&&(t=null);for(var a,i=this,n=this.coach,o=0,r=0,s=n.length;s>r;r++)a=n[r],t&&t.coachId!=a.coachId||(o=t?i.getCoachDataLv(t.coachId,t.level,t.star,t.coachClass,o,e):i.getCoachDataLv(a.coachId,a.level,a.star,a.coachClass,o,e));return o},t.prototype.getCoachData=function(e,t,a,i,n){void 0===n&&(n=null),t||(t=1),a||(a=0),i||(i=1);var o,r=GlobalConfig.getCoachStarVO(e,a,i),s=GlobalConfig.getCoachLevelVO(e,t),l={};if(n&&(l=n),r){var p=r.getporpertyarr();for(o in p)l[o]||(l[o]=0),l[o]+=p[o]}if(s){var c=s.getporpertyarr();for(o in c)l[o]||(l[o]=0),l[o]+=c[o]}return l},t.prototype.getCoachDataLv=function(e,t,a,i,n,o){void 0===n&&(n=null),void 0===o&&(o=0),t||(t=1),a||(a=0),i||(i=1);var r,s,l=GlobalConfig.getCoachStarVO(e,a,i),p=0;if(n&&(p+=n),l){var c,u=l.obj.split(","),m=l.value.split(","),g=0;for(o&&(g=GlobalConfig.getLocationrelationForCoach(o)),r=0,s=u.length;s>r;r++)c=+u[r],g&&c!=coachadd_type.all&&g!=c||(p+=+m[r])}return p},t.prototype.getCoachDataLvToObj=function(e,t,a,i,n){void 0===n&&(n=null),t||(t=1),a||(a=0),i||(i=1);var o,r,s=GlobalConfig.getCoachStarVO(e,a,i),l=0;if(n&&(l=n),s){var p,c=s.obj.split(","),u=s.value.split(",");for(o=0,r=c.length;r>o;o++)p=+c[o],l[p]||(l[p]=0),l[p]+=+u[o]}return l},t.prototype.getCoachDataForstar=function(e,t,a,i,n){void 0===n&&(n=null),a||(a=0),t||(t=1),i||(i=1);var o,r=GlobalConfig.getCoachStarVO(e,a,i),s={};if(n&&(s=n),r){var l=r.getporpertyarr();for(o in l)s[o]||(s[o]=0),s[o]+=l[o]}return s},t.prototype.getAllBuffNum=function(e){var t=this.coach;e+="";for(var a,i,n,o,r,s=0,l=0,p=t.length;p>l;l++)a=t[l],a&&(i=GlobalConfig.getCoachStarVO(a.coachId,a.star,a.coachClass),n=i.getbufftype(),o=i.getbuffvalue(),r=n.indexOf(e),-1!=r&&(s+=+o[r]));return s},t}(e.BaseVO);e.SCoachData=t,__reflect(t.prototype,"game.SCoachData")}(game||(game={}));var SGroupPlayer=function(){function e(){}return e}();__reflect(SGroupPlayer.prototype,"SGroupPlayer");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("player"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t}(e.BaseVO);e.SGroupResponse=t,__reflect(t.prototype,"game.SGroupResponse")}(game||(game={}));var SRivalData=function(){function e(){}return e}();__reflect(SRivalData.prototype,"SRivalData");var SRankRivalData=function(){function e(){}return e}();__reflect(SRankRivalData.prototype,"SRankRivalData");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("rival"==t||"dailyRewards"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t.prototype.isCanFight=function(){var e=this,t=!1;return e.coolingTime<=0&&(t=!0),t},t.prototype.zeroPointRefresh=function(e){var t=this;t.integral=0,t.dailyRewards=[],t.challenge=ParamLoader.instance.ArenaMsxTimes,t.buyChallenge=0},t}(e.BaseVO);e.SQualifyingInitResponse=t,__reflect(t.prototype,"game.SQualifyingInitResponse")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["name","logo"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("playerCourt"==t||"attack"==t||"defend"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a))},t}(e.BaseVO);e.SStartBeforeGameResponse=t,__reflect(t.prototype,"game.SStartBeforeGameResponse")}(game||(game={}));var SCrossGroupMatchSchedule=function(){function e(){}return e}();__reflect(SCrossGroupMatchSchedule.prototype,"SCrossGroupMatchSchedule");var SCrossKnockoutResponse=function(){function e(){}return e}();__reflect(SCrossKnockoutResponse.prototype,"SCrossKnockoutResponse");var SCrossKnockoutList=function(){function e(){}return e}();__reflect(SCrossKnockoutList.prototype,"SCrossKnockoutList");var SCrossKnockoutGroupList=function(){function e(){}return e}();__reflect(SCrossKnockoutGroupList.prototype,"SCrossKnockoutGroupList");var SCrossGroupList=function(){function e(){}return e}();__reflect(SCrossGroupList.prototype,"SCrossGroupList");var SCrossGroupMatchList=function(){function e(){}return e}();__reflect(SCrossGroupMatchList.prototype,"SCrossGroupMatchList");var SCrossGroupUserList=function(){function e(){}return e}();__reflect(SCrossGroupUserList.prototype,"SCrossGroupUserList");var SGroupBattleList=function(){function e(){}return e}();__reflect(SGroupBattleList.prototype,"SGroupBattleList");var SGroupBattleInfo=function(){function e(){}return e}();__reflect(SGroupBattleInfo.prototype,"SGroupBattleInfo");var SGroupLevelInfo=function(){function e(){}return e}();__reflect(SGroupLevelInfo.prototype,"SGroupLevelInfo");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=[],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("groupMatch"==t||"knockout"==t||"groupList"==t||"groupBattleList"==t||"groupLevelList"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a),"state"==t&&0!=a&&3!=a&&SaveUtil.setItem(SaveUtil.type_league_mc_ishow,i.state))},t.prototype.zeroPointRefresh=function(e){},t}(e.BaseVO);e.SUserCrossResponse=t,__reflect(t.prototype,"game.SUserCrossResponse")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.ALL_LOADING_COMPLETE="ALL_LOADING_COMPLETE",e.STAGE_RESIZE="STAGE_RESIZE",e.GAME_STARTLOGIN="GAME_STARTLOGIN",e.MY_INFO_CHANGW="MY_INFO_CHANGW",e.MY_CLUB_LEVELUP="MY_CLUB_LEVELUP",e.SHOP_PAY_COMPLETE="SHOP_PAY_COMPLETE",e.ON_ENTER_GAME_INIT="ON_ENTER_GAME_INIT",e.GAME_PLAYER_RESBORN="GAME_PLAYER_RESBORN",e.GAME_PLAYER_DIE="GAME_PLAYER_DIE",e.NET_BACK_ALL="NET_BACK_ALL",e.GAME_REPLAY="GAME_REPLAY",e.GAME_LOGIN_COM="GAME_LOGIN_COM",e.BACKPACK_DATACHANGE="BACKPACK_DATACHANGE",e.BACKPACK_ACTION_CHANGE="BACKPACK_ACTION_CHANGE",e.BACKPACK_HECHEN_COPLETE="BACKPACK_HECHEN_COPLETE",e.SEND_MSG_IMMEDIATELY="SEND_MSG_IMMEDIATELY",e.GET_FIGHT_DATA="GET_FIGHT_DATA",e.FIGHT_PITCH_CHANGE="FIGHT_PITCH_CHANGE",e.FIGHT_BROAD_ADD="FIGHT_BROAD_ADD",e.FIGHT_AUTO_CAHNGE="FIGHT_AUTO_CAHNGE",e.FIGHT_SHOW_SHOOT="FIGHT_SHOW_SHOOT",e.FIGHT_OVER="FIGHT_OVER",e.FIGHT_TIME_ADD="FIGHT_TIME_ADD",e.FIGHT_NEW_START="FIGHT_NEW_START",e.FIGHT_PLAY_OVER="FIGHT_PLAY_OVER",e.FIGHT_FRAG_NEXT="FIGHT_FRAG_NEXT",e.FIGHT_STATE_CAHNGE="FIGHT_STATE_CAHNGE",e.PTCH_DATA_CHANGE="PTCH_DATA_CHANGE",e.GET_PTCH_INFO="GET_PTCH_INFO",e.GET_PTCH_RANK="GET_PTCH_RANK",e.GET_TACTICAL_CENTER="GET_TACTICAL_CENTER",e.GET_TACTICAL_CENTER_UPGRADE="GET_TACTICAL_CENTER_UPGRADE",e.GET_TACTICAL_REWARD="GET_TACTICAL_REWARD",e.GET_TACTICAL_FORMA_UPGRADE="GET_TACTICAL_FORMA_UPGRADE",e.GET_TACTICAL_STUDY_UPGRADE="GET_TACTICAL_STUDY_UPGRADE",e.GET_CHANGE_CHOOSE_STUDY="GET_CHANGE_CHOOSE_STUDY",e.GET_CHANGE_CHOOSE_FORMA="GET_CHANGE_CHOOSE_FORMA",e.GET_CHANGE_CHOOSE_NEWFORMA="GET_CHANGE_CHOOSE_NEWFORMA",e.GET_TACTICAL_DATA_CHANGE="GET_TACTICAL_DATA_CHANGE",e.GET_CLUB_DATA="GET_CLUB_DATA",e.GET_CLUB_SWEEP="GET_CLUB_SWEEP",e.PLAYER_DATA_CHANGE="PLAYER_DATA_CHANGE",e.GET_CLUB_REWARD="GET_CLUB_REWARD",e.BUILD_GET_AWARD="BUILD_GET_AWARD",e.GET_CLUB_PERSON_CHANGE="GET_CLUB_PERSON_CHANGE",e.SET_STAFF_CHANGE="SET_STAFF_CHANGE",e.CHANGE_STAFF_NUM="CHANGE_STAFF_NUM",e.CLUBE_GRADE_UP="CLUBE_GRADE_UP",e.GET_PVC_HIS_DATA="GET_PVC_HIS_DATA",e.CHANGE_UPFORMA_PLAYER="CHANGE_UPFORMA_PLAYER",e.FRIEND_SHIP_DATA="FRIEND_SHIP_DATA",e.FRIEND_SHIP_BUY="FRIEND_SHIP_BUY",e.TRAIN_CHOOSE_HERO="TRAIN_CHOOSE_HERO",e.TRAIN_DATA_CHANGE="TRAIN_DATA_CHANGE",e.TRAIN_UPGRADESTAR_ANIMO="TRAIN_UPGRADESTAR_ANIMO",e.TECH_DATA_CHANGE="TECH_DATA_CHANGE",e.EQUIP_DATA_CHANGE="EQUIP_DATA_CHANGE",e.EQUIP_BOOK_DATA_CHANGE="EQUIP_BOOK_DATA_CHANGE",e.EQUIP_DATA_STRENGTHEN="EQUIP_DATA_STRENGTHEN",e.DEKERON_DATA_CHANGE="DEKERON_DATA_CHANGE",e.DEKERON_ADDTEAM_DATA_CHANGE="DEKERON_ADDTEAM_DATA_CHANGE",e.DEKERON_RANK_DATA="DEKERON_RANK_DATA",e.DEKERON_SHOP_DATA="DEKERON_SHOP_DATA",e.DEKERON_FIGHT_AWARD_DATA="DEKERON_FIGHT_AWARD_DATA",e.DEKERON_FIGHT_STOP_DATA="DEKERON_FIGHT_STOP_DATA",e.DEKERON_FIGHT_AWARD_DATA_TIP="DEKERON_FIGHT_AWARD_DATA_TIP",e.DEKERON_SWEEP_DATA="DEKERON_SWEEP_DATA",e.SCOUT_DATA_CHANGE="SCOUT_DATA_CHANGE",e.SCOUT_RECRUIT_CHANGE="SCOUT_RECRUIT_CHANGE",e.SCOUT_RECRUIT_INFO_CHANGE="SCOUT_RECRUIT_INFO_CHANGE",e.SCOUT_RECRUIT_COMPLETE_CHANGE="SCOUT_RECRUIT_COMPLETE_CHANGE",e.FRIEND_DATA_CHANGE="FRIEND_DATA_CHANGE",e.FRIEND_FOND_ID_DATA="FRIEND_FOND_ID_DATA",e.FRIEND_CLICK_INFO="FRIEND_CLICK_INFO",e.DAYTASK_DATA_CHANGE="DAYTASK_DATA_CHANGE",e.SHOP_DATA_CHANGE="SHOP_DATA_CHANGE",e.VIP_DATA_CHANGE="VIP_DATA_CHANGE",e.MAIL_DATA_CHANGE="MAIL_DATA_CHANGE",e.MAIL_GET_AWARD="MAIL_GET_AWARD",e.MAIL_OBTAIN_GET_AWARD="MAIL_OBTAIN_GET_AWARD",e.MAIN_ITEM_GET_OVER="MAIN_ITEM_GET_OVER",e.SECRETARY_CHOOSE_LIST="SECRETARY_CHOOSE_LIST",e.SECRETARY_DATA_CHANGE="SECRETARY_DATA_CHANGE",e.ACHIEVE_DATA_CHANGE="ACHIEVE_DATA_CHANGE",e.CREAT_DATA_CHANGE="CREAT_DATA_CHANGE",e.CHAT_SEND_DATA="CHAT_SEND_DATA",e.CHAT_DATA_CHANGE="CHAT_DATA_CHANGE",e.CHAT_POST_CHANGE="CHAT_POST_CHANGE",e.TIP_MC_CHANGE="TIP_MC_CHANGE",e.RANK_DATA_CHANGE="RANK_DATA_CHANGE",e.ANSWER_DATA_CHANGE="ANSWER_DATA_CHANGE",e.SEE_FRIEND_BUILD="SEE_FRIEND_BUILD",e.LOOK_CLUB_INFO="LOOK_CLUB_INFO",e.FRIEND_INVITE_LIST="FRIEND_INVITE_LIST",e.MY_INVITE_LIST="MY_INVITE_LIST",e.FRIEND_INVITE_CHANGE="FRIEND_INVITE_CHANGE",e.CLUB_LOGO_CHANGE="CLUB_LOGO_CHANGE",e.CHANGE_SHOW_ACHIEVE="CHANGE_SHOW_ACHIEVE",e.CLUB_FIGHT_BUYTIME="CLUB_FIGHT_BUYTIME",e.MONTH_DATA_CHANGE="MONTH_DATA_CHANGE",e.DAY_TASK_BARCHANGE="DAY_TASK_BARCHANGE",e.SCOUT_MARKET_INFO="DAY_TASK_BARCHANGE",e.HERO_BEREBORN_COM="HERO_BEREBORN_COM",e.RICH_REFRESH_COOLINGTIME="RICH_REFRESH_COOLINGTIME",e.ACTIVITY_RECEIVE="ACTIVITY_RECEIVE",e.ACTIVITY_RANK_UPDATA="ACTIVITY_RANK_UPDATA",e.ACTIVITY_FIRST_RECEIVE="ACTIVITY_FIRST_RECEIVE",e.ACTIVITY_RECEIVE_LABA="ACTIVITY_RECEIVE_LABA",e.ACTIVITY_RECEIVE_ZHUANPAN="ACTIVITY_RECEIVE_ZHUANPAN",e.ACTIVITY_RECEIVE_MIBAO="ACTIVITY_RECEIVE_MIBAO",e.BUY_MONTHCAR="BUY_MONTHCAR",e.MONTHCAR_CHOOSE_LIST="SECRETARY_CHOOSE_LIST",e.MAIN_TOPBTN_CHANGE="MAIN_TOPBTN_CHANGE",e.FRIEND_RECEIVE_LOVE="MAIN_TOPBTN_CHANGE",e.SHARE_SUCCESS="SHARE_SUCCESS",e.SHARE_AWARD_CHANGE="SHARE_AWARD_CHANGE",e.SHARE_EVERY_AWARD="SHARE_EVERY_AWARD",e.ACTIVATE_GAME="ACTIVATE_GAME",e.START_NEW_PLAYER="START_NEW_PLAYER",e.SHARE_REWAED="SHARE_REWAED",e.QUALIFYING_CLEARTIME="QUALIFYING_CLEARTIME",e.QUALIFYING_RANK="QUALIFYING_RANK",e.QUALIFYING_INIT="QUALIFYING_INIT",e.QUALIFYING_BUYTIME="QUALIFYING_BUYTIME",e.QUALIFYING_UPDATAPLAYER="QUALIFYING_UPDATAPLAYER",e.QUALIFYING_DAYREWARD="QUALIFYING_DAYREWARD",e.QUALIFYING_RECORD="QUALIFYING_RECORD",e.OPERTION_REWARD="OPERTION_REWARD",e.OPERTION_REWARD_BAOZANG="OPERTION_REWARD_BAOZANG",e.OPERTION_PAY="OPERTION_PAY",e.OPERTION_QIANDAO_BU="OPERTION_QIANDAO_BU",e.FIGHT_GET_HEROAWARD="FIGHT_GET_HEROAWARD",e.SCOUT_CHANGE_LIBRARY="SCOUT_CHANGE_LIBRARY",e.INTER_DAY="INTER_DAY",e.GUILD_CREATE="GUILD_CREATE",e.GUILD_SEARCH="GUILD_SEARCH",e.GUILD_APPLY="GUILD_APPLY",e.GUILD_INIT="GUILD_INIT",e.GUILD_RANK="GUILD_RANK",e.GUILD_UPNAME="GUILD_UPNAME",e.GUILD_UPAPPLY="GUILD_UPAPPLY",e.GUILD_UPNOTICE="GUILD_UPNOTICE",e.GUILD_MEMBER_LIST="GUILD_MEMBER_LIST",e.GUILD_APPROVAL_LIST="GUILD_APPROVAL_LIST",e.GUILD_REPLY="GUILD_REPLY",e.GUILD_LOGLIST="GUILD_LOGLIST",e.GUILD_MANAGEMENT="GUILD_MANAGEMENT",e.GUILD_SIGNGIF="GUILD_SIGNGIF",e.GUILD_SENDREDBAG="GUILD_SENDREDBAG",e.GUILD_QIANGREDBAG="GUILD_QIANGREDBAG",e.GUILD_QUIT="GUILD_QUIT",e.GUILD_NOTIFY="GUILD_NOTIFY",e.SHOW_NEW_CAR_OVER="SHOW_NEW_CAR_OVER",e.GUILD_APPLYLIST="GUILD_APPLYLIST",e.GUILD_JUANXIANTONGZHI="GUILD_JUANXIANTONGZHI",e.GUILD_NOCHAT="GUILD_NOCHAT",e.OPEN_GUIDE_WINDOW="OPEN_GUIDE_WINDOW",e.CHOOSEHERO_MAIN="CHOOSEHERO_MAIN",e.TITLE_UP="TITLE_UP",e.TITLE_DETAILSPANEL="TITLE_DETAILSPANEL",e.TITLE_DETAILSPANEL0="TITLE_DETAILSPANEL0",e.TITLE_GET_NEW="TITLE_GET_NEW",e.OPERATION_CHOOSE_PLAYER="OPERATION_CHOOSE_PLAYER",e.TRAIN_SKILL_DAPEI="TRAIN_SKILL_DAPEI",e.LEAGUE_APPLY="LEAGUE_APPLY",e.TASK_BARCHANGE="TASK_BARCHANGE",e.LEAGUE_RANK_DATA="LEAGUE_RANK_DATA",e.LEAGUE_LEVEL_REWARD="LEAGUE_LEVEL_REWARD",e.LEAGUE_GETLEVEL_REWARD="LEAGUE_GETLEVEL_REWARD",e.LEAGUE_SHOP_REWARD="LEAGUE_SHOP_REWARD",e.LEAGUE_GETLEVEL_CLOSE="LEAGUE_GETLEVEL_CLOSE",e.COACH_CHOOSE_CHANGE="COACH_CHOOSE_CHANGE",e.COACH_START_TRAIN="COACH_START_TRAIN",e.COACH_OVER_TRAIN="COACH_OVER_TRAIN",e.COACH_DATA_CHANGE="COACH_DATA_CHANGE",e.COACH_GET_NEW="COACH_GET_NEW",e.SOCKET_CLOSE="SOCKET_CLOSE",e.SOCKET_ERROR="SOCKET_ERROR",e.SOCKET_OPEN="SOCKET_OPEN",e.GUIDE_PLAY_OVER="GUIDE_PLAY_OVER",e.FLOAT_ANIMO_ITEM_OVER="FLOAT_ANIMO_ITEM_OVER",e.BUF_FAST_PVE_FIGHT="BUF_FAST_PVE_FIGHT",e.GET_FIGHT_PREWAR_DATA="GET_FIGHT_PREWAR_DATA",e.FIGHT_SKIP_DATA="FIGHT_SKIP_DATA",e.EFFECT_ZHANLI_OVER="EFFECT_ZHANLI_OVER",e.GET_SEVER_LIST="GET_SEVER_LIST",e.DAY_ZERO_CHANGE="DAY_ZERO_CHANGE",e.SCOUT_SHOW_OVER="SCOUT_SHOW_OVER",e.guide_MsgGuideClickButtonTrigger="MsgGuideClickButtonTrigger",e.guide_MsgGuideClickDialogTrigger="MsgGuideClickDialogTrigger",e.guide_MsgGuideClickRectTrigger="MsgGuideClickRectTrigger",e.guide_MsgGuideTimeTrigger="MsgGuideTimeTrigger",e.guide_MsgGuideJumpTrigger="MsgGuideJumpTrigger",e.guide_MsgTaskFollowClick="guide_MsgTaskFollowClick",e.qq_login_change="qq_login_change",e.ScoutLibrary_ChangeCardPool="ScoutLibrary_ChangeCardPool",e.Bet_OperatingActivity_Guess="Bet_OperatingActivity_Guess",e.Bet_Activity_GuessInit="Bet_Activity_GuessInit",e
}();e.GameCommands=t,__reflect(t.prototype,"game.GameCommands")}(game||(game={}));var game;!function(e){var t=function(){function e(){}return e.logingame="login",e.createrole="setUinfo",e.getUinfo="getUinfo",e.getGameInitInfo="getGameInitInfo",e.severnotie="server/svrlst",e.severlogin="server/login",e}();e.GameRequests=t,__reflect(t.prototype,"game.GameRequests")}(game||(game={}));var game;!function(e){var t=function(){function e(){this.id=0,this.sendCommand="",this.sendParams={},this.returnResult=!1,this.returnError="",this.returnErrorNumber=0,this.returnErrorType=0,this.returnParams={},this.ver="",this.type="",this.needload=!0}return e}();e.NetControllerVo=t,__reflect(t.prototype,"game.NetControllerVo")}(game||(game={}));var game;!function(e){var t=function(){function t(){}return t.re=function(t,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0);var r=egret.getQualifiedClassName(t),s=new e.NetControllerVo;s.type=i,s.sendParams=a,s.ver=PFAll.game_version,s.sendSaveData=n,s.needload=o;var l,p=this.s_dict[r];l=p&&p.length>0?p.pop():new t,s.sendCommand=l.getCmd(),l.re(s)},t.remand=function(e){var t=egret.getQualifiedClassName(e),a=this.s_dict[t];a||(a=[],this.s_dict[t]=a),a.push(e)},t.s_dict={},t}();e.NetP=t,__reflect(t.prototype,"game.NetP")}(game||(game={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_jjsx_a8","tab_cj_a1","tab_cj_a7","tab_cj_c7","tab_cj_c8","tab_jlbx_b1","tab_cj_c6","tab_ms_b9","tab_cj_c4","tab_cj_c5","rect_black","btn_common_3","tab_kjzx_f6","tab_jlbsj_a6","tab_cj_b3","achieve_icon_1","tab_jlbx_b2","tab_jlbsj_b2","tab_lt_a3","tab_jb_a5"],a.resGroupName="AchieveSkin",a.wingSkinName=AchieveSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AchieveSkinDR=t,__reflect(t.prototype,"skins.AchieveSkinDR")}(skins||(skins={}));var game;!function(e){var t=function(){function e(){this.islink=!1}return e.prototype.relink=function(){},e.prototype.onSocketOpen=function(){this.islink=!0;var e="Hello Egret WebSocket";utils.GameComUtil.log("@连接成功，发送数据："+e)},e.prototype.onSocketClose=function(e){},e.prototype.loadError=function(e){utils.GameComUtil.log("@连接出错："+e)},e}();e.NetSP=t,__reflect(t.prototype,"game.NetSP")}(game||(game={}));var HandlerEnum=function(){function e(){}return e.user="user",e.bagitem="bagitem",e.model="model",e.gate="gate",e.itemeffect="itemeffect",e.error="error",e}();__reflect(HandlerEnum.prototype,"HandlerEnum");var HandlerManage=function(){function e(){if(this.type_dataini="dataini",this.type_datadec="datadec",this.type_datainc="datainc",this.type_dataupd="dataupd",this.type_extini="extini",this.type_extdec="extdec",this.type_extinc="extinc",this.type_extupd="extupd",null!=e.instance)throw Error(e.SINGLETON_MSG);e.instance=this}return e.getInstance=function(){var t=this;return null==t.instance&&(t.instance=new e),t.instance},e.prototype.resolveData=function(e,t,a){var i,n=this,o=HandlerEnum;switch(t){case o.user:i=n.backuser;break;case o.bagitem:i=n.backbagitem;break;case o.model:i=n.backmodel;break;case o.gate:i=n.backgate;break;case o.itemeffect:i=n.backitemeffect;break;case o.error:i=n.backerror}i&&i.call(n,e,t,a),EventBus.sendMessage(game.GameCommands.NET_BACK_ALL)},e.prototype.backuser=function(e,t,a){var i=GlobalAllProxy.getInstance().playerProxy.playerinfo;i.objectToThis(e),EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW)},e.prototype.backbagitem=function(e,t,a){},e.prototype.backmodel=function(e,t,a){},e.prototype.backgate=function(e,t,a){},e.prototype.backitemeffect=function(e,t,a){},e.prototype.backerror=function(e,t,a){},e.prototype.EventBack=function(e){var t,a,i,n,o,r=this,s=e.returnParams;for(var l in s)n=s[l],t=l.split("_"),o=t.length,o>=2&&(i=t[0],a=t[1],r.resolveData(n,i,a))},e.SINGLETON_MSG="HandlerManage Singleton already constructed!",e}();__reflect(HandlerManage.prototype,"HandlerManage");var game;!function(e){var t=function(){function t(){}return t.re=function(t,a,i,n,o){void 0===a&&(a=null),void 0===i&&(i="c"),void 0===n&&(n=null),void 0===o&&(o=!0);var r=egret.getQualifiedClassName(e.NetBuf),s=new e.NetControllerVo;s.type=i,s.sendParams=a,s.ver=PFAll.game_version,s.sendSaveData=n,s.needload=o;var l,p=this.s_dict[r];l=p&&p.length>0?p.pop():new e.NetBuf,s.sendCommand=t,l.re(s)},t.remand=function(e){var t=egret.getQualifiedClassName(e),a=this.s_dict[t];a||(a=[],this.s_dict[t]=a),a.push(e)},t.s_dict={},t}();e.NetB=t,__reflect(t.prototype,"game.NetB")}(game||(game={}));var game;!function(e){var t=function(){function t(){this._loader=new egret.URLLoader}return t.prototype.onNetR=function(e){},t.prototype.getCmd=function(){return""},t.prototype.re=function(e){var t=this;t._vo=e;var a=Global.serverPath,i="",n="cmd="+e.sendCommand+"&debug=ok&params="+JSON.stringify(e.sendParams);i=a+"?"+n;var o=new egret.URLRequest(i);o.method=egret.URLRequestMethod.POST,t._loader.addEventListener(egret.Event.COMPLETE,t.complete_loader,t),t._loader.addEventListener(egret.IOErrorEvent.IO_ERROR,t.loadError,t),t._loader.load(o),e.needload&&LoadingMaskView.show(GameEnum.NET_LOAD+e.sendCommand)},t.prototype.complete_loader=function(t){void 0===t&&(t=null);var a=this;utils.GameComUtil.log("sever:---"+a._vo.sendCommand);var i,n=t.target,o=n.data.toString();o="undefined"==o?"":o;try{i=JSON.parse(o)}catch(t){}if(null!=i){var r=!0,s="";a._vo.returnResult=r,a._vo.returnError=s,a._vo.returnErrorNumber=0,a._vo.returnErrorType=0,a._vo.returnParams=i}else a._vo.returnResult=!1,a._vo.returnError="system_format_error",a._vo.returnErrorNumber=0,a._vo.returnErrorType=2,a._vo.returnParams=o;LoadingMaskView.remove(GameEnum.NET_LOAD+a._vo.sendCommand),a.onNetR(a._vo),HandlerManage.getInstance().EventBack(a._vo),e.NetB.remand(a)},t.prototype.refreshGame=function(){EventBus.sendMessage(e.GameCommands.GAME_STARTLOGIN)},t.prototype.loadError=function(t){var a=this;LoadingMaskView.remove(GameEnum.NET_LOAD+a._vo.sendCommand),a._vo.returnResult=!1,a._vo.returnError="system_format_error",a._vo.returnErrorNumber=0,a._vo.returnErrorType=2,a._vo.returnParams={},a.onNetR(a._vo),e.NetB.remand(a)},t}();e.NetBuf=t,__reflect(t.prototype,"game.NetBuf")}(game||(game={}));var game;!function(e){var t=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return __extends(a,t),a.prototype.getCmd=function(){return e.GameRequests.getUinfo},a.prototype.onNetR=function(e){e.returnResult},a}(e.NetPc);e.NetGetUinfo=t,__reflect(t.prototype,"game.NetGetUinfo")}(game||(game={}));var game;!function(e){var t=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return __extends(a,t),a.prototype.getCmd=function(){return e.GameRequests.severlogin},a.prototype.onNetR=function(e){if(e.returnResult){e.returnParams}},a}(e.NetPc);e.NetGameLogLogin=t,__reflect(t.prototype,"game.NetGameLogLogin")}(game||(game={}));var game;!function(e){var t=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return __extends(a,t),a.prototype.getCmd=function(){return e.GameRequests.severnotie},a.prototype.onNetR=function(t){if(t.returnResult){var a=t.returnParams,i=a,n=new e.SGameNoticeVO;n.objectToThis(i),GlobalAllProxy.getInstance().gameProxy.chooseSeverVO=null,GlobalAllProxy.getInstance().gameProxy.severlistData=n,n.figureurl&&(PFAll.game_figureurl=n.figureurl),PFAll.isNowPF([Global.servrNE_wxgame])&&(i.gameOpenId&&(PFAll.game_userid=i.gameOpenId),i.session_key&&(PFAll.game_token=i.session_key),PFwxgame.getInstance().getBalance(),PFAll.game_kg_sharebonus=+i.kg_sharebonus),EventBus.sendMessage(e.GameCommands.GET_SEVER_LIST)}},a}(e.NetPc);e.NetGetServerNotice=t,__reflect(t.prototype,"game.NetGetServerNotice")}(game||(game={}));var SGameNoticeSeverVO=function(){function e(){}return e}();__reflect(SGameNoticeSeverVO.prototype,"SGameNoticeSeverVO");var SGameLastSeverVO=function(){function e(){}return e}();__reflect(SGameLastSeverVO.prototype,"SGameLastSeverVO");var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.strarr=["figureurl","notice"],t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a,i=this;for(t in e)a=e[t],a instanceof Function||null==a||("svrlst"==t||"lastLogin"==t||"maintenanceNotice"==t?i[t]=a:-1!=i.strarr.indexOf(t)?i[t]=a.toString():i[t]=isNaN(parseInt(a))?a.toString():parseInt(a));i.reshWaitTime()},t.prototype.reshWaitTime=function(){this.waittime=Math.floor(.001*(new Date).getTime())},t.prototype.isCanResh=function(){var e=!1,t=Math.floor(.001*(new Date).getTime());return t-this.waittime>30&&(e=!0),e},t.prototype.getListVO=function(e){var t=this.svrlst;if(t)for(var a,i=0,n=t.length;n>i;i++)if(a=t[i],a.svrId==e)return a;return null},t}(e.BaseVO);e.SGameNoticeVO=t,__reflect(t.prototype,"game.SGameNoticeVO")}(game||(game={}));var BufHandler=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.m_tiprelink=0,i.m_relinkwait=3e3,i.m_reinit=3e3,i.m_reT=0/0;var n=i;return n.socket.setCloseCallback(n.SockCloseFun,n),n.socket.setErrorCallback(n.SockErrorFun,n),n.socket.setConnectCallback(n.SockConectFun,n),i}return __extends(t,e),t.prototype.InitHandleFunc=function(){var e,t=this,a=BufRequests.MsgComArr;for(var i in a)e=a[i],t.RegistHandlerCla(e.responsecls)},Object.defineProperty(t,"instance",{get:function(){var e=this;if(!e._instance){var a=new net.NetBufPackStore,i=new net.NetBufSocket(a);e._instance=new t(i,a)}return e._instance},enumerable:!0,configurable:!0}),t.prototype.SockConectFun=function(){var e=this;if(e.m_tiprelink=0,!isNaN(e.m_reT)){var t=(new Date).getTime();PFAll.game_time&&(t=PFAll.game_time),GlobalAllProxy.getInstance().gameProxy.NetBReLinkGame(PFAll.game_userid,+PFAll.game_platform,PFAll.game_serverId,PFAll.game_pf,PFAll.game_token,t)}egret.clearTimeout(e.m_relinktime),LoadingMaskView.remove(GameEnum.net_websocket_relink),e.reshTime()},t.prototype.reshTime=function(){var e=this;e.m_reT=0/0,e.m_relinkwait=e.m_reinit},t.prototype.relinkfun=function(){var e=this;if(isNaN(e.m_reT)?e.m_reT=1:e.m_reT+=1,egret.clearTimeout(e.m_relinktime),e.m_reT>2)if(e.reshTime(),LoadingMaskView.remove(GameEnum.net_websocket_relink),e.m_tiprelink+=1,e.m_tiprelink>=3)utils.GameComUtil.logout(Language.ins.alert_sever_close,!0);else{var t=new AlertVO;t.info=Language.ins.alert_to_link,t.showCancel=!1,JAlert.show(t,Language.ins.title_tishi,e.relinkfun,e,e.relinkfun)}else{if(!isNaN(e.m_reT)&&e.m_reT>1){var a=FormatString.format(Language.ins.alert_relink_time,e.m_reT-1);FLOAT.NShowPutong([a])}e.socket&&(e.socket.m_isrelinking=!0),e.socket.relinkfun()}},t.prototype.timeToRelink=function(){var e=this;egret.clearTimeout(e.m_relinktime),isNaN(e.m_reT)&&(e.m_reT=0,e.socket&&(e.socket.m_isrelinking=!0)),LoadingMaskView.show(GameEnum.net_websocket_relink),e.m_relinktime=egret.setTimeout(e.relinkfun,e,e.m_relinkwait)},t.prototype.clearReLink=function(){var e=this;egret.clearTimeout(e.m_relinktime)},t.prototype.alerttolink=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo;t&&t.uid?e.timeToRelink():utils.GameComUtil.logout(Language.ins.alert_no_link,!0)},t.prototype.SockCloseFun=function(){var e=this;PFAll.ReportLog(report_type.outgame),e.alerttolink()},t.prototype.SockErrorFun=function(){var e=this;e.alerttolink()},t.prototype.getMessage=function(e,t){return void 0===t&&(t="football"),null==this.message&&(this.message=dcodeIO.ProtoBuf.loadProto(RES.getRes(t))),this.message.build(e)},t}(net.NetBufHandlerBase);__reflect(BufHandler.prototype,"BufHandler");var BufDataVO=function(){function e(e,t,a,i){var n=this;n.requeststr=t,n.responsestr=a,n.indexstr=e,n.responsecls=i}return e}();__reflect(BufDataVO.prototype,"BufDataVO");var BufRequests=function(){function e(){}return e.initData=function(){var t=e,a=e.MsgComArr;a[t.Login]=new BufDataVO("login","LoginRequest","LoginResponse",NetBLoginResponse),a[t.Battle]=new BufDataVO("battle","BattleRequest","BattleResponse",NetBBattleResponse),a[t.Group]=new BufDataVO("team","GroupRequest","GroupResponse",NetBGroupResponse),a[t.GroupUser]=new BufDataVO("user","GroupUserRequest","GroupUserResponse",NetBGroupUserResponse),a[t.GroupRank]=new BufDataVO("rank","GroupRequest","RankResponse",NetBRankResponse),a[t.GroupRankMember]=new BufDataVO("member","RankMemberRequest","RankMemberResponse",NetRankMemberResponse),a[t.Tactics_Center]=new BufDataVO("tactics","GroupRequest","TCResponse",NetBTacticalCenterResponse),a[t.Battle_Report]=new BufDataVO("report","ReportRequest","ReportResponse",NetBReportResponse),a[t.Tactics_Center_Rec_Reward]=new BufDataVO("rec","GroupRequest","TCRecRwdResponse",NetBTCRecRwdResponse),a[t.Tactics_Center_Upgrade]=new BufDataVO("tcu","GroupRequest","TCUResponse",NetBTCUResponse),a[t.Formation_Upgrade]=new BufDataVO("fu","TCFURequest","TCFUResponse",NetBTCFUResponse),a[t.Tactics_Upgrade]=new BufDataVO("tct","TCTRequest","TCTResponse",NetBTCTResponse),a[t.Club_Request_Response]=new BufDataVO("club","GroupRequest","ClubResponse",NetBClubResponse),a[t.Club_Adjust_Num]=new BufDataVO("adjnum","ClubAdjustRequest","ClubAdjustResponse",NetBClubAdjustResponse),a[t.Club_Receive_Wages]=new BufDataVO("club_rec","GroupRequest","ClubReceiveResponse",NetBClubReceiveResponse),a[t.Club_Game_Record]=new BufDataVO("matchGift","ReceiveMatchGiftRequest","ReceiveMatchGiftResponse",NetBReceiveMatchGiftResponse),a[t.Club_Promotion]=new BufDataVO("cp","GroupRequest","ClubPromotionResponse",NetBClubPromotionResponse),a[t.Club_Recruitment]=new BufDataVO("beat","GroupRequest","HeartbeatResponse",NetBHeartbeatResponse),a[t.TEAM_USE_FORMATION]=new BufDataVO("tuf","TeamUseFormationRequest","TeamUseFormationResponse",NetBTeamUseFormationResponse),a[t.TEAM_USE_TACTICS]=new BufDataVO("tut","TeamUseTacticsRequest","TeamUseTacticsResponse",NetBTeamUseTacticsResponse),a[t.TEAM_PLAYER_TERMINATION]=new BufDataVO("tpt","PlayerTerminationRequest","PlayerTerminationResponse",NetBPlayerTerminationResponse),a[t.TEAM_PLAYER_INFO]=new BufDataVO("tpi","PlayerInformationRequest","PlayerInformationResponse",NetBPlayerInformationResponse),a[t.FRIEND_INIT]=new BufDataVO("friendinit","GroupRequest","FriendResponse",NetBFriendResponse),a[t.FRIEND_RESET]=new BufDataVO("friendreset","GroupRequest","FriendResetResponse",NetBFriendResetResponse),a[t.FRIEND_CHANGE]=new BufDataVO("friendchange","FriendChangeRequest","FriendChangeResponse",NetBFriendChangeResponse),a[t.FRIEND_INSPIRE]=new BufDataVO("friendinspire","GroupRequest","FriendInspireResponse",NetBFriendInspireResponse),a[t.FRIEND_REWARD]=new BufDataVO("friendreward","FriendRewardRequest","FriendRewardResponse",NetBFriendRewardResponse),a[t.FRIEND_BUY_CARD]=new BufDataVO("friendbuycard","FriendBuyCardRequest","FriendBuycardResponse",NetBFriendBuycardResponse),a[t.Secretary_Share]=new BufDataVO("share","ShareRequest","ShareResponse",NetBShareResponse),a[t.FRIEND_BUY_CHANCE]=new BufDataVO("friendbuychance","GroupRequest","FriendBuyChanceResponse",NetBFriendBuyChanceResponse),a[t.TRAINING_PLAYER_UPGRADE]=new BufDataVO("playerUpgrade","PlayerUpgradeRequest","PlayerUpgradeResponse",NetBPlayerUpgradeResponse),a[t.TRAINING_PLAYER_STAR]=new BufDataVO("playerUpgradeStar","PlayerUpgradeStarRequest","PlayerUpgradeStarResponse",NetBPlayerUpgradeStarResponse),a[t.TRAINING_POSITION_EXTENSION]=new BufDataVO("playerPosition","PlayerPositionExtensionRequest","PlayerPositionExtensionResponse",NetBPlayerPositionExtensionResponse),a[t.TRAINING_PLAYER_SKIL_UPGRADE]=new BufDataVO("playerSkillUp","PlayerSkillUpgradeRequest","PlayerSkillUpgradeResponse",NetBPlayerSkillUpgradeResponse),a[t.SCIENCE_INIT]=new BufDataVO("scienceInit","GroupRequest","ScienceInitResponse",NetBScienceInitResponse),a[t.SCIENCE_UPGRADE]=new BufDataVO("scienceUpgrade","GroupRequest","ScienceUpgradeResponse",NetBScienceUpgradeResponse),a[t.SCIENCE_GET_POINTS]=new BufDataVO("scienceGetpoints","GroupRequest","ScienceGetpointsResponse",NetBScienceGetpointsResponse),a[t.Science_BookLock]=new BufDataVO("scienceBookLock","ScienceBookLockRequest","ScienceBookLockResponse",NetBScienceBookLockResponse),a[t.SCIENCE_EQUIP_UPGRADE]=new BufDataVO("scienceEquipUpgrade","ScienceEquipUpgradeRequest","ScienceEquipUpgradeResponse",NetBScienceEquipUpgradeResponse),a[t.SCIENCE_RFRESH_BOOK]=new BufDataVO("refreshBook","RefreshResearchBookRequest","RefreshResearchBookResponse",NetBScienceRefreshbookResponse),a[t.SCIENCE_EXCHANGE_BOOK]=new BufDataVO("equipStrengthen","GroupRequest","ScienceEquipStrengthenResponse",NetBScienceExchangeBookResponse),a[t.Science_ClearCooling]=new BufDataVO("clearCooling","GroupRequest","ScienceClearCoolingResponse",NetBScienceClearCoolingResponse),a[t.BABEL_INIT]=new BufDataVO("babelInt","GroupRequest","BabelInitResponse",NetBBabelInitResponse),a[t.BABEL_RESET]=new BufDataVO("babelReset","GroupRequest","BabelResetResponse",NetBBabelResetResponse),a[t.BABEL_ADDED_UPGRADE]=new BufDataVO("babelAdded","BabelAddedRequest","BabelAddedResponse",NetBBabelAddedResponse),a[t.BABEL_STORE_BUY]=new BufDataVO("babelStoreBuy","BabelStoreBuyRequest","BabelStoreBuyResponse",NetBBabelStoreBuyResponse),a[t.BABEL_RANK]=new BufDataVO("babelRank","GroupRequest","BabelRankResponse",NetBBabelRankResponse),a[t.BABEL_MOP_UP]=new BufDataVO("babelMopUp","BabelMopUpRequest","BabelMopUpResponse",NetBBabelMopUpResponse),a[t.BABEL_LOUNGE_REWARD]=new BufDataVO("loungeRwd","BabelLoungeRwdRequest","BabelLoungeRwdResponse",NetBBabelLoungeRwdResponse),a[t.BABEL_INITIATIVE_END]=new BufDataVO("babelEnd","GroupRequest","BabelEndResponse",NetBBabelEndResponse),a[t.Share_GameGift]=new BufDataVO("gameGift","GameGiftRequest","GameGiftResponse",NetBGameGiftResponse),a[t.SCIENCE_BOOK_ADDONCE]=new BufDataVO("scienceBookAddOnce","GroupRequest","ScienceBookAddOnceResponse",NetBScienceBookAddOnceResponse),a[t.Club_NotificationStation]=new BufDataVO("notificationStation","GroupRequest","NotificationStation",NetBNotificationStation),a[t.User_BuildEmployee]=new BufDataVO("buildEmployee","GroupRequest","BuildEmployeeResponse",NetBBuildEmployeeResponse),a[t.SCOUT_INT]=new BufDataVO("scoutInit","GroupRequest","ScoutInitResponse",NetBScoutInitResponse),a[t.SCOUT_GET_POINTS]=new BufDataVO("scoutGetpoints","GroupRequest","ScoutGetpointsResponse",NetBScoutGetpointsResponse),a[t.SCOUT_UPGRADE]=new BufDataVO("scoutUpgrade","GroupRequest","ScoutUpgradeResponse",NetBScoutUpgradeResponse),a[t.SCOUT_RECRUIT]=new BufDataVO("scoutRecruit","ScoutRecruitRequest","ScoutRecruitResponse",NetBScoutRecruitResponse),a[t.SCOUT_SIGN_PLAYER]=new BufDataVO("scoutSignPlayer","ScoutSignPlayerRequest","ScoutSignPlayerResponse",NetBScoutSignPlayerResponse),a[t.SCOUT_CANCEL]=new BufDataVO("scoutCancel","ScoutCancelRequest","ScoutCancelResponse",NetBScoutCancelResponse),a[t.Share_ShareRewards]=new BufDataVO("shareRewards","ShareRewardsRequest","ShareRewardsResponse",NetBShareRewardsResponse),a[t.USER_FRIEND_LIST]=new BufDataVO("userFriendList","GroupRequest","UserFriendListResponse",NetBUserFriendListResponse),a[t.USER_FRIEND_ADD]=new BufDataVO("userFriendAdd","UserFriendAddRequest","UserFriendAddResponse",NetBUserFriendAddResponse),a[t.USER_FRIEND_DEL]=new BufDataVO("userFriendDel","UserFriendDelRequest","UserFriendDelResponse",NetBUserFriendDelResponse),a[t.Friend_OneKey]=new BufDataVO("oneKey","OneKeyRequest","OneKeyResponse",NetBOneKeyResponse),a[t.USER_FRIEND_APPLY_ACTION]=new BufDataVO("userFriendApplyAction","UserFriendApplyActionRequest","UserFriendApplyActionResponse",NetBUserFriendApplyActionResponse),a[t.USER_FRIEND_FIND]=new BufDataVO("userFriendFind","GroupRequest","UserFriendFindResponse",NetBUserFriendFindResponse),a[t.USER_FRIEND_FINDBYFID]=new BufDataVO("userFriendFindByFid","UserFriendFindByFidRequest","UserFriendFindByFidResponse",NetBUserFriendFindByFidResponse),a[t.USER_FRIEND_GIVE_LOVE]=new BufDataVO("userFriendGiveLove","UserFriendGiveLoveRequest","UserFriendGiveLoveResponse",NetBUserFriendGiveLoveResponse),a[t.USER_FRIEND_GET_LOVE]=new BufDataVO("userFriendGetLove","UserFriendGetLoveRequest","UserFriendGetLoveResponse",NetBUserFriendGetLoveResponse),a[t.USE_ITEM]=new BufDataVO("useItem","UseItemRequest","UseItemResponse",NetBUseItemResponse),a[t.ITEM_SYNTHESIZE]=new BufDataVO("synthetiseItem","SynthesisItemRequest","SynthesisItemResponse",NetBSynthesisItemResponse),a[t.SALE_ITEMS]=new BufDataVO("saleItem","SaleItemsRequest","SaleItemsResponse",NetBSaleItemsResponse),a[t.DAILY_LIST]=new BufDataVO("dailyList","GroupRequest","DailyResponse",NetBDailyResponse),a[t.DAILY_GET_REWARD]=new BufDataVO("dailyGetReward","DailyGetRewardRequest","DailyGetRewardResponse",NetBDailyGetRewardResponse),a[t.DAILY_GET_TYPE_REWARD]=new BufDataVO("dailyGetTypeReward","DailyGetTypeRewardRequest","DailyGetTypeRewardResponse",NetBDailyGetTypeRewardResponse),a[t.STORE_INITIALIZE]=new BufDataVO("storeInit","GroupRequest","StoreInitResponse",NetBStoreInitResponse),a[t.STORE_BUY]=new BufDataVO("stroeBuy","StoreBuyRequest","StoreBuyResponse",NetBStoreBuyResponse),a[t.USER_VIP_INITIALIZE]=new BufDataVO("vipInit","GroupRequest","VipInitResponse",NetBVipInitResponse),a[t.GET_DAILY_VIP_GIFT_BAG]=new BufDataVO("dailyVipGift","GroupRequest","DailyVipGiftBagResponse",NetBDailyVipGiftBagResponse),a[t.GET_VIP_LEVLE_GIFT_BAG]=new BufDataVO("vipLevelGift","VipLevelGiftBagRequest","VipLevelGiftBagResponse",NetBVipLevelGiftBagResponse),a[t.MAIL_INIT]=new BufDataVO("mailInit","GroupRequest","MailInitResponse",NetBMailInitResponse),a[t.MAIL_READ]=new BufDataVO("readMail","MailRequest","ReadMailResponse",NetBReadMailResponse),a[t.MAIL_RECEIVE_ATTACHMENTS]=new BufDataVO("rewardMail","MailRequest","RewardMailResponse",NetBRewardMailResponse),a[t.MIAL_DELETE]=new BufDataVO("deleteMail","MailRequest","DeleteMailResponse",NetBDeleteMailResponse),a[t.MAIL_PASSIVE_INFO]=new BufDataVO("mailPassive","","MailPassiveInfo",NetBMailPassiveInfo),a[t.USER_FRIEND_MSG]=new BufDataVO("UserFriendMsg","","UserFriendMsg",NetBUserFriendMsg),a[t.SECRETARY_INIT]=new BufDataVO("secretary","GroupRequest","SecretaryInitResponse",NetBSecretaryInitResponse),a[t.SECRETARY_COMMIT_TASK]=new BufDataVO("commitTask","CommitTaskRequest","CommitTaskResponse",NetBCommitTaskResponse),a[t.PASSIVE_NOTIFICATION_MESSAGE]=new BufDataVO("inform","","InformMsg",NetBInformMsg),a[t.ACHIEVE_INIT]=new BufDataVO("achieveInt","GroupRequest","AchieveInitResponse",NetBAchieveInitResponse),a[t.ACHIEVE_REWARD]=new BufDataVO("achieveReward","AchieveRewardRequest","AchieveRewardResponse",NetBAchieveRewardResponse),a[t.PUBLIC_CHAT]=new BufDataVO("publicChat","PublicChatRequest","PublicChatResponse",NetBPublicChatResponse),a[t.PRIVATE_CHAT]=new BufDataVO("privateChat","PrivateChatRequest","PrivateChatResponse",NetBPrivateChatResponse),a[t.BROADCAST_MSG]=new BufDataVO("broadcast","","Broadcast",NetBBroadcast),a[t.LOGIN_CRATE_ROLE]=new BufDataVO("createRole","CreateRoleRequest","UserLogin",NetBUserLogin),a[t.SETTING_MODIFY_NAME]=new BufDataVO("modifyName","ModifyNameRequest","ModifyNameResponse",NetBModifyNameResponse),a[t.SETTING_MODIFY_LOGO]=new BufDataVO("modifyLogo","ModifyLogoRequest","ModifyLogoResponse",NetBModifyLogoResponse),a[t.RANK_CLUB]=new BufDataVO("rankClub","GroupRequest","RankClub",NetBRankClub),a[t.RANK_TEAM]=new BufDataVO("rankFighting","GroupRequest","RankTeamFighting",NetBRankTeamFighting),a[t.QUESTION_ENTER]=new BufDataVO("questionEnter","GroupRequest","QuestionEnter",NetBQuestionEnter),a[t.QUESTION_QUIT]=new BufDataVO("questionQuit","GroupRequest","QuestionQuit",NetBQuestionQuit),a[t.QUESTION_NOTIFICATION]=new BufDataVO("questionNotification","QuestionNotificationRequest","QuestionNotificationResponse",NetBQuestionNotificationResponse),a[t.QUESTION_CHOOSE_ANSWER]=new BufDataVO("selectAnswer","SelectAnswerRequest","SelectAnswerResponse",NetBSelectAnswerResponse),a[t.QUESTION_USE_EXCLUDE_ERROR]=new BufDataVO("excludeError","GroupRequest","ExcludeErrorResponse",NetBExcludeErrorResponse),a[t.QUESTION_USE_CHOOSE_ANSWER]=new BufDataVO("chooseAnswer","GroupRequest","ChooseAnswerResponse",NetBChooseAnswerResponse),a[t.QUESTION_RANK]=new BufDataVO("questionRank","GroupRequest","QuestionRankResponse",NetBQuestionRankResponse),a[t.INIT_CLUB_FRIEND]=new BufDataVO("initFriend","GroupRequest","InitFriendResponse",NetBInitFriendResponse),a[t.VISIT_FRIEND]=new BufDataVO("visitFriends","VisitFriendsRequest","VisitFriendsResponse",NetBVisitFriendsResponse),a[t.SEE_FRIENDS_CLUB_DETAILS]=new BufDataVO("seeFriendClub","SeeFriendsClubRequest","SeeFriendsClubResponse",NetBSeeFriendsClubResponse),a[t.INVITE_FRIENDS_LIST]=new BufDataVO("inviteFriends","GroupRequest","InviteFriendResponse",NetBInviteFriendResponse),a[t.SEND_INVITE_FRIENDS]=new BufDataVO("sendInviteFriends","SendInviteFriendRequest","SendInviteFriendResponse",NetBSendInviteFriendResponse),a[t.FRIENDS_INVITED_LIST]=new BufDataVO("friendsInvite","GroupRequest","FriendsInviteResponse",NetBFriendsInviteResponse),a[t.FRIENDS_BUILDING]=new BufDataVO("friendsBuild","FriendsBuildRequest","FriendsBuildResponse",NetBFriendsBuildResponse),a[t.RECEIVE_BUILDING_REWARD]=new BufDataVO("receiveBuild","ReceiveBuildRequest","ReceiveBuildResponse",NetBReceiveBuildResponse),a[t.ONLINE_STATION_END]=new BufDataVO("enterEnd","EnterEndRequest","EnterEndResponse",NetBEnterEndResponse),a[t.Enter_Indication]=new BufDataVO("enterIndication","","EnterIndication",NetBEnterIndication),a[t.Modify_Show_Achieve]=new BufDataVO("achieveShow","ModifyAchieveShowRequest","ModifyAchieveShowResponse",NetBModifyAchieveShowResponse),a[t.INSTANT_PLAY]=new BufDataVO("instantPlay","InstantPlayRequest","InstantPlayResponse",NetBInstantPlayResponse),a[t.START_BEFORE_GAME]=new BufDataVO("startBeforeGame","BattleRequest","StartBeforeGameResponse",NetBStartBeforeGameResponse),a[t.SKIP_COMBAT]=new BufDataVO("skipCombat","BattleRequest","SkipCombatResponse",NetBSkipCombatResponse),a[t.NOVICE_GUIDE]=new BufDataVO("noviceGuide","NoviceGuideRequest","NoviceGuideResponse",NetBNoviceGuideResponse),a[t.USER_OFFLINE]=new BufDataVO("userOffline","","UserOfflineResponse",NetBUserOfflineResponse),a[t.Notify_Client]=new BufDataVO("updateData","","NoticeClientUpdateDate",NetBNoticeClientUpdateDate),a[t.RANK_Achieve]=new BufDataVO("achieveRank","GroupRequest","AchieveRankResponse",NetBAchieveRankResponse),a[t.BUY_TIMES]=new BufDataVO("buyGoods","BuyGoodsRequest","BuyGoodsResponse",NetBBuyGoodsResponse),a[t.GET_MONTH_CARD_GIFT]=new BufDataVO("monthGift","MonthCardRequest","GetMonthGiftResponse",NetBGetMonthGiftResponse),a[t.CMD_INC_SKILL_MASTERY]=new BufDataVO("skillLevel","UseItemIncSkillLevelRequest","UseItemIncSkillLevelResponse",NetBPlayerProficiencyUpgradeResponse),a[t.Vip_BuyExclusiveGiftBag]=new BufDataVO("exclusiveGiftBag","VipExclusiveRequest","VipExclusiveGiftBag",NetBVipExclusiveGiftBag),a[t.Prop_RecoveryPlayers]=new BufDataVO("recoveryPlayer","RecoveryPlayersRequest","RecoveryPlayersResponse",NetBRecoveryPlayersResponse),a[t.Player_Reincarnation]=new BufDataVO("reincarnation","PlayerUpgradeRequest","ReincarnationResponse",NetBReincarnationResponse),a[t.Scout_TransferMarket]=new BufDataVO("transferMarket","TransferMarketRequest","TransferMarketResponse",NetBScoutMarketResponse),a[t.Scout_ExchangePlayers]=new BufDataVO("exchangePlayers","PlayerUpgradeRequest","ExchangePlayersResponse",NetBScoutExchangeResponse),a[t.Vip_LoginGameReceive]=new BufDataVO("vipLogin","GroupRequest","VipLoginResponse",NetBVipLoginResponse),a[t.Group_ClearCoolingTime]=new BufDataVO("clearCoolingTime","GroupRequest","ClearCoolingTimeResponse",NetBRefreshCoolingTimeResponse),a[t.Club_MoppingUp]=new BufDataVO("moppingUp","MoppingUpRequest","MoppingUpResponse",NetBMoppingUpResponse),a[t.Activity_Init]=new BufDataVO("activityInit","GroupRequest","ActivityInitResponse",NetBActivityInfoResponse),a[t.Activity_ActivityGift]=new BufDataVO("activityGift","ActivityGiftRequest","ActivityGiftResponse",NetBReceiveRewardResponse),a[t.Activity_DailyGiftRewards]=new BufDataVO("dailyGift","DailyGiftRequest","DailyGiftResponse",NetBDailyGiftResponse),a[t.Activity_OpenServiceBuy]=new BufDataVO("openServiceBuy","OpenServiceBuyRequest","OpenServiceBuyResponse",NetBOpenServiceBuyResponse),a[t.Activity_GiantsRanking]=new BufDataVO("giantsRanking","GroupRequest","GiantsRankingResponse",NetBGiantsRankingResponse),a[t.Pay_Notice]=new BufDataVO("payNotice","","PayNotice",NetBPayNotice),a[t.Shop_Recharge]=new BufDataVO("recharge","RechargeRequest","RechargeResponse",NetBRechargeResponse),a[t.Notice_Refresh]=new BufDataVO("resetRefresh","","NoticeRefresh",NetBNoticeRefresh),a[t.Share_Init]=new BufDataVO("shareInit","GroupRequest","ShareInitResponse",NetBShareInitResponse),a[t.Share_InviteWeek]=new BufDataVO("shareWeek","ShareWeekRequest","ShareWeekResponse",NetBShareWeekResponse),a[t.Qualifying_Init]=new BufDataVO("qualifyingInit","GroupRequest","QualifyingInitResponse",NetBQualifyingInitResponse),a[t.Qualifying_RefreshOpponent]=new BufDataVO("refreshOpponent","GroupRequest","QualifyingOpponentResponse",NetBQualifyingOpponentResponse),a[t.Qualifying_PurchaseChallengeTimes]=new BufDataVO("purchaseTimes","PurchaseTimesRequest","PurchaseTimesResponse",NetBPurchaseTimesResponse),a[t.Qualifying_Ranking]=new BufDataVO("qualifyingRank","GroupRequest","QualifyingRankResponse",NetBQualifyingRankResponse),a[t.Qualifying_DailyRewards]=new BufDataVO("dailyRewards","QualifyingDailyRewardsRequest","QualifyingDailyRewardsResponse",NetBQualifyingDailyRewardsResponse),a[t.Qualifying_ChallengesRecord]=new BufDataVO("challengesRecords","GroupRequest","ChallengesRecordResponse",NetBChallengesRecordResponse),a[t.Secretary_BattlefieldReport]=new BufDataVO("battlefieldReport","BattlefieldReportRequest","BattlefieldReportResponse",NetBBattlefieldReportResponse),a[t.Qualifying_ClearCoolingTime]=new BufDataVO("clearTime","ClearTimeRequest","ClearTimeResponse",NetBClearTimeResponse),a[t.OperateActivity_LoginPush]=new BufDataVO("loginPush","","OperateActivityLoginPush",NetBOperateActivityLoginPush),a[t.NewOperateActivity_Push]=new BufDataVO("newActivityPush","","NewOperateActivityPush",NetBNewOperateActivityPush),a[t.OperatingActivity_ReceiveRewards]=new BufDataVO("operateActivityGift","OperateActivityGiftRequest","NetBOperateActivityGiftResponse",NetBOperateActivityGiftResponse),a[t.OperatingActivity_OperatingActivityBuy]=new BufDataVO("operateActivityBuy","OperateActivityBuyRequest","OperateActivityBuyResponse",NetBOperateActivityBuyResponse),a[t.OperatingActivity_DailyOnline]=new BufDataVO("dailyOnline","","DailyOnlineResponse",NetBDailyOnlineResponse),a[t.OperatingActivity_ConsumerGift]=new BufDataVO("consumerGift","","ConsumerGiftResponse",NetBConsumerGiftResponse),a[t.OperatingActivity_LoginSignIn]=new BufDataVO("loginSignIn","","LoginSignInResponse",NetBLoginSignInResponse),a[t.OperatingActivity_StarStruck]=new BufDataVO("starStruck","","StarStruckResponse",NetBStarStruckResponse),a[t.Secretary_CustomsReward]=new BufDataVO("customsReward","CustomsRewardRequest","CustomsRewardResponse",NetBCustomsRewardResponse),a[t.Rank_OpenService]=new BufDataVO("rankWorth","","RankOpenService",NetBRankOpenService),a[t.Guild_Ranking]=new BufDataVO("guildRank","GroupRequest","GuildRank",NetBGuildRank),a[t.Guild_Init]=new BufDataVO("guildData","","GuildResponse",NetBGuildResponse),a[t.Guild_Create]=new BufDataVO("guildCreate","GuildCommonRequest","GuildCreateResponse",NetBGuildCreateResponse),a[t.Guild_ApplyGuild]=new BufDataVO("guildApply","GuildCommonRequest","GuildApplyResponse",NetBGuildApplyResponse),a[t.Guild_Search]=new BufDataVO("guildSearch","GuildCommonRequest","GuildSearchResponse",NetBGuildSearchResponse),a[t.Guild_NotifyModifyFighting]=new BufDataVO("notifyFighting","","NotifyModifyFighting",NetBNotifyModifyFighting),a[t.Guild_Reply]=new BufDataVO("guildReply","GuildReplyRequest","GuildReplyResponse",NetBGuildReplyResponse),a[t.Guild_Member]=new BufDataVO("guildMember","GuildCommonRequest","GuildMemberResponse",NetBGuildMemberResponse),a[t.Guild_Management]=new BufDataVO("guildManage","GuildManagementRequest","GuildManagementResponse",NetBGuildManagementResponse),a[t.Guild_MemberApplyLists]=new BufDataVO("memberApply","GuildCommonRequest","GuildMemberApplyLists",NetBGuildMemberApplyLists),a[t.Guild_Donate]=new BufDataVO("guildDonate","GuildDonateRequest","GuildDonateResponse",NetBGuildDonateResponse),a[t.Guild_ShowLog]=new BufDataVO("showLog","GroupRequest","GuildLogLists",NetBGuildLogLists),a[t.Guild_Quit]=new BufDataVO("quitGuild","GroupRequest","QuitGuild",NetBQuitGuild),a[t.Guild_ModifySetting]=new BufDataVO("guildSetting","GuildSettingRequest","GuildSettingResponse",NetBGuildSettingResponse),a[t.Guild_ManualSendRedPacket]=new BufDataVO("sendRedPacket","SendRedPacketRequest","SendRedPacketResponse",NetBSendRedPacketResponse),a[t.Guild_GrabRedPacket]=new BufDataVO("grabRedPacket","GrabRedPacketRequest","GrabRedPacketResponse",NetBGrabRedPacketResponse),a[t.Guild_AutoSendRedPacket]=new BufDataVO("redPacket","","RedPacketResponse",NetBRedPacketResponse),a[t.Guild_RedPacketDisappearAuto]=new BufDataVO("disappearAuto","","RedPacketDisappearAuto",NetBRankOpenService),a[t.User_Reconnection]=new BufDataVO("connect","LoginRequest","BreakLineReconnection",NetBBreakLineReconnection),a[t.Guild_Details]=new BufDataVO("applyLists","GroupRequest","GuildInfo",NetBGuildApplyList),a[t.Guild_Notice]=new BufDataVO("guildUpgrade","","GuildUpgrade",NetBGuildUpgrade),a[t.Share_ExchangeCode]=new BufDataVO("CdKey","ExchangeCodeRequest","ExchangeCodeResponse",NetBExchangeCodeResponse),a[t.Title_Activate]=new BufDataVO("titleActivate","UserTitleRequest","UserTitleResponse",NetBUserTitleResponse),a[t.Title_Init]=new BufDataVO("titleInit","","UserTitleInit",NetBUserTitleInit),a[t.Coach_Train]=new BufDataVO("coachTrain","CoachRequest","CoachTrainResponse",NetBCoachTrainResponse),a[t.Coach_ReceiveTrainReward]=new BufDataVO("receiveTrain","CoachRequest","CoachTrainReward",NetBCoachTrainReward),a[t.Coach_Stimulate]=new BufDataVO("coachStimulate","CoachRequest","CoachStimulate",NetBCoachStimulate),a[t.Coach_UpgradeStarAndClass]=new BufDataVO("coachUpgrade","CoachRequest","CoachUpgrade",NetBCoachUpgrade),a[t.Coach_UnLock]=new BufDataVO("coachUnlock","CoachRequest","CoachUnlock",NetBCoachUnlock),a[t.Battle_Game]=new BufDataVO("battleGame","ReportRequest","BattleGameResponse",NetBBattleLookGame),a[t.Upgrade_BuySkillPoint]=new BufDataVO("buySkillPoint","GroupRequest","BuySkillPointResponse",NetBBuySkillPointResponse),a[t.Cross_Init]=new BufDataVO("crossInit","GroupRequest","UserCrossResponse",NetBUserCrossResponse),a[t.Cross_Apply]=new BufDataVO("crossApply","GroupRequest","UserCrossApplyResponse",NetBUserCrossApplyResponse),a[t.User_Lead]=new BufDataVO("leadGift","GroupRequest","LeadGiftResponse",NetBleadGiftResponse),a[t.Activity_OpenServiceItemBuy]=new BufDataVO("openServiceItemBuy","OpenServiceItemBuyRequest","OpenServiceItemBuyResponse",NetBOpenServiceItemBuyResponse),a[t.Activity_ConsumeRank]=new BufDataVO("consumeRankInit","GroupRequest","ConsumerRebateInit",NetBConsumerRebateInitResponse),a[t.User_ChangeCardPool]=new BufDataVO("refreshCardPool","GroupRequest","RefreshCardPoolResponse",NetBScoutRefreshCardPoolResponse),a[t.Prop_selectPlayersRecovery]=new BufDataVO("selectPlayersRecovery","SelectPlayersRecoveryRequest","SelectPlayersRecoveryResponse",NetBSelectPlayersRecoveryResponse),a[t.User_ZeroRefresh]=new BufDataVO("zeroRefresh","GroupRequest","ZeroRefresh",NetBZeroRefreshResponse),a[t.Cross_Rank]=new BufDataVO("crossRank","GroupRequest","CrossRankResponse",NetBCrossRankResponse),a[t.Cross_rewardInit]=new BufDataVO("rewardInit","GroupRequest","CrossLevelRewardResponse",NetBCrossLevelRewardResponse),a[t.Cross_levelReward]=new BufDataVO("levelReward","CrossLevelRewardRequest","CrossReceivedRewardResponse",NetBCrossReceivedRewardResponse),a[t.Cross_GloryCoinCost]=new BufDataVO("gloryCoin","CrossGloryCoinRequest","CrossGloryCoinResponse",NetBCrossGloryCoinResponse),a[t.OperatingActivity_Guess]=new BufDataVO("operateActivityGuess","OperateActivityGuessRequest","OperateActivityGuessResponse",NetBOperateActivityGuessResponse),a[t.OperatingActivity_GuessInit]=new BufDataVO("guessInit","GroupRequest","OperateActivityGuessInitResponse",NetBOperateActivityGuessInitResponse),a[t.OperatingActivity_ChampionGuessInit]=new BufDataVO("championGuessInit","GroupRequest","OperateActivityChampionGuessInitResponse",NetBOperateActivityChampionGuessInitResponse),a[t.OperatingActivity_ChampionGuess]=new BufDataVO("operateActivityChampionGuess","OperateActivityChampionGuessRequest","OperateActivityChampionGuessResponse",NetBOperateActivityChampionGuessResponse),a[t.Mail_AllAttachment]=new BufDataVO("mailAllAttachment","GroupRequest","MailAllRecResponse",NetBMailAllRecResponse)
},e.getBufVo=function(t){var a=e.MsgComArr[t];return a||(a=new BufDataVO("erroe","erroe","erroe",null)),e.MsgComArr[t]},e.Login=1001,e.Battle=1002,e.Group=1003,e.GroupUser=1004,e.GroupRank=1005,e.GroupRankMember=1006,e.Tactics_Center=1007,e.Battle_Report=1008,e.Tactics_Center_Rec_Reward=1009,e.Tactics_Center_Upgrade=1010,e.Formation_Upgrade=1011,e.Tactics_Upgrade=1012,e.Club_Request_Response=1013,e.Club_Adjust_Num=1014,e.Club_Receive_Wages=1015,e.Club_Game_Record=1016,e.Club_Promotion=1017,e.Club_Recruitment=1018,e.TEAM_USE_FORMATION=1019,e.TEAM_USE_TACTICS=1020,e.TEAM_PLAYER_TERMINATION=1021,e.TEAM_PLAYER_INFO=1022,e.FRIEND_INIT=1023,e.FRIEND_RESET=1024,e.FRIEND_CHANGE=1025,e.FRIEND_INSPIRE=1026,e.FRIEND_REWARD=1027,e.FRIEND_BUY_CARD=1028,e.Secretary_Share=1029,e.FRIEND_BUY_CHANCE=1030,e.TRAINING_PLAYER_UPGRADE=1031,e.TRAINING_PLAYER_STAR=1032,e.TRAINING_POSITION_EXTENSION=1033,e.TRAINING_PLAYER_SKIL_UPGRADE=1034,e.SCIENCE_INIT=1035,e.SCIENCE_UPGRADE=1036,e.SCIENCE_GET_POINTS=1037,e.Science_BookLock=1038,e.SCIENCE_EQUIP_UPGRADE=1039,e.SCIENCE_RFRESH_BOOK=1040,e.SCIENCE_EXCHANGE_BOOK=1041,e.Science_ClearCooling=1042,e.BABEL_INIT=1043,e.BABEL_RESET=1044,e.BABEL_ADDED_UPGRADE=1045,e.BABEL_STORE_BUY=1046,e.BABEL_RANK=1047,e.BABEL_MOP_UP=1048,e.BABEL_LOUNGE_REWARD=1058,e.BABEL_INITIATIVE_END=1075,e.Share_GameGift=1050,e.SCIENCE_BOOK_ADDONCE=1051,e.Club_NotificationStation=1052,e.SCIENCE_BOOK_FAST=1053,e.User_BuildEmployee=1053,e.SCOUT_INT=1054,e.SCOUT_GET_POINTS=1055,e.SCOUT_UPGRADE=1056,e.SCOUT_RECRUIT=1057,e.SCOUT_SIGN_PLAYER=1059,e.SCOUT_CANCEL=1060,e.Share_ShareRewards=1061,e.PASSIVE_NOTIFICATION_MESSAGE=1062,e.USER_FRIEND_LIST=1066,e.USER_FRIEND_ADD=1067,e.USER_FRIEND_DEL=1068,e.Friend_OneKey=1069,e.USER_FRIEND_APPLY_ACTION=1070,e.USER_FRIEND_FIND=1071,e.USER_FRIEND_FINDBYFID=1072,e.USER_FRIEND_GIVE_LOVE=1073,e.USER_FRIEND_GET_LOVE=1074,e.USE_ITEM=1063,e.ITEM_SYNTHESIZE=1064,e.SALE_ITEMS=1065,e.DAILY_LIST=1076,e.DAILY_GET_REWARD=1077,e.DAILY_GET_TYPE_REWARD=1078,e.STORE_INITIALIZE=1079,e.STORE_BUY=1080,e.USER_VIP_INITIALIZE=1081,e.GET_DAILY_VIP_GIFT_BAG=1082,e.GET_VIP_LEVLE_GIFT_BAG=1083,e.MAIL_INIT=1084,e.MAIL_READ=1085,e.MAIL_RECEIVE_ATTACHMENTS=1086,e.MIAL_DELETE=1087,e.MAIL_PASSIVE_INFO=1088,e.SECRETARY_INIT=1089,e.SECRETARY_COMMIT_TASK=1090,e.USER_FRIEND_MSG=1091,e.ACHIEVE_INIT=1092,e.ACHIEVE_REWARD=1093,e.PUBLIC_CHAT=1094,e.PRIVATE_CHAT=1095,e.BROADCAST_MSG=1096,e.LOGIN_CRATE_ROLE=1097,e.SETTING_MODIFY_NAME=1098,e.SETTING_MODIFY_LOGO=1099,e.RANK_CLUB=1100,e.RANK_TEAM=1101,e.Rank_OpenService=1102,e.User_Reconnection=1103,e.QUESTION_ENTER=1104,e.QUESTION_QUIT=1105,e.QUESTION_NOTIFICATION=1106,e.QUESTION_CHOOSE_ANSWER=1107,e.QUESTION_USE_EXCLUDE_ERROR=1108,e.QUESTION_USE_CHOOSE_ANSWER=1109,e.QUESTION_RANK=1110,e.INIT_CLUB_FRIEND=1111,e.VISIT_FRIEND=1112,e.SEE_FRIENDS_CLUB_DETAILS=1113,e.INVITE_FRIENDS_LIST=1114,e.SEND_INVITE_FRIENDS=1115,e.FRIENDS_INVITED_LIST=1116,e.FRIENDS_BUILDING=1117,e.RECEIVE_BUILDING_REWARD=1118,e.ONLINE_STATION_END=1119,e.Enter_Indication=1120,e.Modify_Show_Achieve=1121,e.INSTANT_PLAY=1122,e.START_BEFORE_GAME=1123,e.SKIP_COMBAT=1124,e.NOVICE_GUIDE=1125,e.USER_OFFLINE=1126,e.Notify_Client=1127,e.RANK_Achieve=1128,e.BUY_TIMES=1129,e.GET_MONTH_CARD_GIFT=1130,e.CMD_INC_SKILL_MASTERY=1131,e.Vip_BuyExclusiveGiftBag=1132,e.Prop_RecoveryPlayers=1133,e.Player_Reincarnation=1134,e.Scout_TransferMarket=1135,e.Scout_ExchangePlayers=1136,e.Vip_LoginGameReceive=1137,e.Group_ClearCoolingTime=1138,e.Club_MoppingUp=1139,e.Activity_Init=1140,e.Activity_ActivityGift=1141,e.Activity_DailyGiftRewards=1142,e.Activity_OpenServiceBuy=1143,e.Activity_GiantsRanking=1144,e.Pay_Notice=1145,e.Shop_Recharge=1146,e.Notice_Refresh=1147,e.Share_Init=1049,e.Share_InviteWeek=1051,e.Qualifying_Init=1148,e.Qualifying_RefreshOpponent=1149,e.Qualifying_PurchaseChallengeTimes=1150,e.Qualifying_Ranking=1151,e.Qualifying_DailyRewards=1152,e.Qualifying_ChallengesRecord=1153,e.Secretary_BattlefieldReport=1154,e.Qualifying_ClearCoolingTime=1155,e.OperateActivity_LoginPush=1156,e.NewOperateActivity_Push=1157,e.OperatingActivity_ReceiveRewards=1158,e.OperatingActivity_OperatingActivityBuy=1159,e.OperatingActivity_ConsumerGift=1160,e.OperatingActivity_LoginSignIn=1161,e.OperatingActivity_DailyOnline=1162,e.OperatingActivity_StarStruck=1163,e.Secretary_CustomsReward=1164,e.Guild_Notice=1165,e.Guild_Ranking=1166,e.Guild_Init=1167,e.Guild_Create=1168,e.Guild_ApplyGuild=1169,e.Guild_Search=1170,e.Guild_Details=1171,e.Guild_NotifyModifyFighting=1172,e.Guild_Reply=1173,e.Guild_Member=1174,e.Guild_Management=1175,e.Guild_MemberApplyLists=1176,e.Guild_Donate=1177,e.Guild_ShowLog=1178,e.Guild_Quit=1179,e.Guild_ModifySetting=1180,e.Guild_ManualSendRedPacket=1181,e.Guild_AutoSendRedPacket=1182,e.Guild_RedPacketDisappearAuto=1183,e.Guild_GrabRedPacket=1184,e.Share_ExchangeCode=1185,e.Coach_Train=1186,e.Coach_ReceiveTrainReward=1187,e.Coach_Stimulate=1188,e.Coach_UpgradeStarAndClass=1189,e.Coach_UnLock=1190,e.Title_Activate=1191,e.Title_Init=1192,e.Battle_Game=1193,e.Upgrade_BuySkillPoint=1194,e.Cross_Init=1195,e.Cross_Apply=1196,e.User_Lead=1197,e.Activity_OpenServiceItemBuy=1198,e.Activity_ConsumeRank=1199,e.Cross_Rank=1200,e.User_ChangeCardPool=1201,e.Prop_selectPlayersRecovery=1202,e.User_ZeroRefresh=1203,e.Cross_rewardInit=1204,e.Cross_levelReward=1205,e.Cross_GloryCoinCost=1206,e.OperatingActivity_Guess=1207,e.OperatingActivity_GuessInit=1208,e.OperatingActivity_ChampionGuessInit=1209,e.OperatingActivity_ChampionGuess=1210,e.Mail_AllAttachment=1211,e.MsgComArr={},e.Message="Message",e.Request="Request",e.PlayerPosition="PlayerPosition",e.ScienceBooks="ScienceBooks",e.ScienceBooksNum="ScienceBooksNum",e.ScienceBookPlayers="ScienceBookPlayers",e}();__reflect(BufRequests.prototype,"BufRequests");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_banner_name1_0","tab_banner_name1_2","tab_hdsc_a3","tab_hdsc_x9","tab_hdsc_w6","tab_lt_a3","tab_hdsc_v2","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6","btn_common_3","tab_hdsc_t9","tab_hdsc_x7","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="ActivityCumulativeSignSkin",a.wingSkinName=ActivityCumulativeSignSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivityCumulativeSignSkinDR=t,__reflect(t.prototype,"skins.ActivityCumulativeSignSkinDR")}(skins||(skins={}));var net;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_dicNetCmd2Class={},t.m_idobj={},t.m_voobj={},t}return __extends(t,e),t.prototype.sendVo=function(e){var t=this,a=0,i=e.sendCommand;t.m_idobj[i]?t.m_idobj[i]++:t.m_idobj[i]=1,a=t.m_idobj[i],a>10&&(a=1,t.m_idobj[i]=a),e.id=a;var n;t.m_voobj[i]||(t.m_voobj[i]=[]),n=t.m_voobj[i];for(var o,r=n.length-1;r>=0;r--)o=n[r],o.id==e.id&&n.splice(r,1);n.push(e)},t.prototype.RegistCmdClass=function(e){var t=this,a=0,i=new e;a=i.getCmd(),a&&(t.m_dicNetCmd2Class[a]||(t.m_dicNetCmd2Class[a]=[]),t.m_dicNetCmd2Class[a].push(i))},t.prototype.rebackData=function(e){var t,a,i,n=this;try{var o=new egret.ByteArray;e.readBytes(o);var r=new egret.ByteArray;o.readBytes(r);for(var s=r.buffer.byteLength,l=new DataView(r.buffer),p=new DataView(new ArrayBuffer(s)),c=0;s>c;c++)p.setInt8(c,l.getInt8(c));if(t=p.buffer,a=n.getMessage(BufRequests.Message),!a)return void utils.GameComUtil.log(Language.ins.error_jiedata);i=a.decode(t)}catch(u){return void FLOAT.NShowPutong([Language.ins.error_jiedata])}if(!i)return void utils.GameComUtil.log(Language.ins.error_jiedata);var m=i.cmd,g=i.number,_=i.active,h=i.response;n.checktime(i.serverTime,i.cmd);var d,y,v,f,b=n.m_dicNetCmd2Class[m],G="0000",x="@未知错误";if(b){for(var C=(BufRequests.MsgComArr,b.length-1);C>=0;C--)d=b[C],d&&(v=n.getSendVO(m,g,!0),v.active=_,f=BufRequests.getBufVo(m).indexstr,h&&h.result&&f?(v.returnResult=!0,y=h[f],v.returnParams=y,d.execute(v)):(v.returnResult=!1,h&&(G=h.error_code,x=h.error_msg),utils.GameComUtil.log("@返回协议出错 id:"+v.sendCommand+"@错误号："+G+" @错误内容:"+x,!0),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_playerror),FLOAT.NShowPutong([x])));v&&v.needload&&LoadingMaskView.remove(GameEnum.NET_LOAD+v.sendCommand)}else egret.log("@协议准备不对");if(i.response){var T=i.response.tasknotice;T&&T.length&&GlobalAllProxy.getInstance().gameProxy.setServerTask(T,m)}},t.prototype.getMessage=function(e){return BufHandler.instance.getMessage(e)},t.prototype.getSendVO=function(e,t,a){void 0===a&&(a=!1);var i,n=this;if(t){n.m_voobj[e]||(n.m_voobj[e]=[]);for(var o,r=n.m_voobj[e],s=r.length-1;s>=0;s--)if(o=r[s],o.id==t){i=o,r.splice(s,1);break}}return i||(i=new NetBufVO,i.sendCommand=e,i.id=t),i},t.prototype.checktime=function(e,t){if(e){var a=Date.parse(new Date(e)+"");a/=1e3,ParamLoader.instance.uniqueServerTime&&t!=BufRequests.Notice_Refresh||(ParamLoader.instance.uniqueServerTime=a)}},t}(egret.HashObject);e.NetBufPackStore=t,__reflect(t.prototype,"net.NetBufPackStore")}(net||(net={}));var net;!function(e){var t=function(e){function t(t){var a=e.call(this)||this;a.m_isrelinking=!1;var i=a;return i.m_packStore=t,i.socket=new egret.WebSocket,a}return __extends(t,e),t.prototype.setConnectCallback=function(e,t){this.m_connectCallback=e,this.m_classConnect=t},t.prototype.setCloseCallback=function(e,t){this.m_closeCallback=e,this.m_classClose=t},t.prototype.setErrorCallback=function(e,t){this.m_errorCallback=e,this.m_classError=t},t.prototype.isConnected=function(){return this.socket.connected},t.prototype.connect=function(e,t){var a=this;egret.setTimeout(function(){if(a.socket=new egret.WebSocket,a.socket.type=egret.WebSocket.TYPE_BINARY,a.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,a.onReceiveMessage,a),a.socket.addEventListener(egret.Event.CONNECT,a.onSocketOpen,a),a.socket.addEventListener(egret.Event.CLOSE,a.onSocketClose,a),a.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,a.onSocketError,a),a.m_ip=e,a.m_port=t,-1!=e.indexOf("wss://")){var i=e+":"+t;a.socket.connectByUrl(i)}else a.socket.connect(e,t);LoadingMaskView.show(GameEnum.net_websocket_link)},a,0)},t.prototype.Close=function(e){void 0===e&&(e=!1);var t=this;t.socket.removeEventListener(egret.Event.CONNECT,t.onSocketOpen,t),t.socket.removeEventListener(egret.Event.CLOSE,t.onSocketClose,t),t.socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,t.onReceiveMessage,t),t.socket.removeEventListener(egret.IOErrorEvent.IO_ERROR,t.onSocketError,t);try{t.socket.close(),e&&t.onSocketClose(null)}catch(a){}},t.prototype.getMessage=function(e){return BufHandler.instance.getMessage(e)},t.prototype.SendPackUnit=function(e,t,a){var i=this;if(!i.m_isrelinking)if(i.socket&&i.socket.connected){a.needload&&LoadingMaskView.show(GameEnum.NET_LOAD+a.sendCommand),i.m_packStore.sendVo(a);var n=this.getMessage(BufRequests.Message),o=this.getMessage(BufRequests.Request),r=BufRequests.getBufVo(e).indexstr,s=GlobalAllProxy.getInstance().playerProxy.playerinfo,l="0";s&&(l=s.uid);var p={uid:l};t&&(p[r]=t);var c=new o(p),u={cmd:e,number:a.id,active:0,request:c},m=new n(u),g=m.toArrayBuffer(),_=new egret.ByteArray(g),h=new egret.ByteArray;h.writeBytes(_),i.socket.writeBytes(h),i.socket.flush()}else a.returnResult=!1,a.returnError="socket is disconneted",console.log("socket is disconneted"),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_playerror)},t.prototype.onSocketOpen=function(e){var t=this;t.m_isrelinking=!1,null!=t.m_connectCallback&&t.m_connectCallback.call(t.m_classConnect,e),LoadingMaskView.remove(GameEnum.net_websocket_link),EventBus.sendMessage(game.GameCommands.SOCKET_OPEN)},t.prototype.onSocketClose=function(e){this.trace("WebSocketClose");var t=this;LoadingMaskView.remove(GameEnum.net_websocket_link),LoadingMaskView.clearPlay(),null!=t.m_closeCallback&&t.m_closeCallback.call(t.m_classClose,e)},t.prototype.onSocketError=function(e){this.trace("WebSocketError");var t=this;LoadingMaskView.remove(GameEnum.net_websocket_link),LoadingMaskView.clearPlay(),null!=t.m_errorCallback&&t.m_errorCallback.call(t.m_classClose,e)},t.prototype.relinkfun=function(){var e=this;e.Close(),e.connect(e.m_ip,e.m_port)},t.prototype.onReceiveMessage=function(e){var t=this;t.m_packStore?t.m_packStore.rebackData(this.socket):egret.log("no m_packStore")},t.prototype.trace=function(e){console.log(e)},t}(egret.HashObject);e.NetBufSocket=t,__reflect(t.prototype,"net.NetBufSocket")}(net||(net={}));var NetBufVO=function(){function e(){this.id=0,this.sendCommand=0,this.sendParams={},this.returnResult=!1,this.returnError="",this.returnErrorNumber=0,this.returnErrorType=0,this.returnParams={},this.ver="",this.type="",this.needload=!0,this.active=0,this.islinking=!1}return e}();__reflect(NetBufVO.prototype,"NetBufVO");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hmdj_a2","tab_fklb_a3","tab_fklb_a2","tab_fklb_a1","tab_yyhd_d4","tab_hdsc_a4","smalicon_100002","tab_hdsc_b7","tab_hdqr_b2","tab_hdsc_b3","tab_hdsc_w9","tab_hdsc_w8","tab_lt_a3","tab_hdlb_a2","tab_hdsc_b2","tab_fklb_a5","tab_fklb_a4","tab_fklb_a6","tab_hdlb_a1"],a.resGroupName="ActivityDrawingSkin",a.wingSkinName=ActivityDrawingSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivityDrawingSkinDR=t,__reflect(t.prototype,"skins.ActivityDrawingSkinDR")}(skins||(skins={}));var NetBAchieveInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.ACHIEVE_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SAchieveInitResponse;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.achieveData=a,EventBus.sendMessage(game.GameCommands.ACHIEVE_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBAchieveInitResponse.prototype,"NetBAchieveInitResponse");var NetBAchieveRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.ACHIEVE_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.level,i=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(i);var n=GlobalAllProxy.getInstance().gameProxy.achieveData;n&&n.addAwardLevel(a),EventBus.sendMessage(game.GameCommands.ACHIEVE_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBAchieveRewardResponse.prototype,"NetBAchieveRewardResponse");var NetBActivityInfoResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SActivity;a.objectToThis(t),GlobalAllProxy.getInstance().activityProxy.activityArr=a}}},t}(ProcessorBase);__reflect(NetBActivityInfoResponse.prototype,"NetBActivityInfoResponse");var NetBConsumerRebateInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_ConsumeRank},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().activityProxy.activityArr.consumeInit;a.rankList=t.rankList,a.ranking=t.ranking}}},t}(ProcessorBase);__reflect(NetBConsumerRebateInitResponse.prototype,"NetBConsumerRebateInitResponse");var NetBDailyGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_DailyGiftRewards},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){if(t.item){var a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(t.item)}var i=GlobalAllProxy.getInstance().activityProxy.activityArr.signInit;1==t.param?i.todayState=1:2==t.param&&(i.extraState=1),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE)}}},t}(ProcessorBase);__reflect(NetBDailyGiftResponse.prototype,"NetBDailyGiftResponse");var NetBGiantsRankingResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_GiantsRanking},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SActivity;a.objectToThis(t),GlobalAllProxy.getInstance().activityProxy.rankactivityArr=a}}},t}(ProcessorBase);__reflect(NetBGiantsRankingResponse.prototype,"NetBGiantsRankingResponse");var NetBOpenServiceBuyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_OpenServiceBuy},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){t.cost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost);var a=GlobalAllProxy.getInstance().activityProxy.activityArr.investmentInit;if(1040402==t.activityId)a.example[0].num=t.buyNum,a.example[0].buyState=1;else if(1040403==t.activityId)a.example[1].num=t.buyNum,a.example[1].buyState=1;else if(1040404==t.activityId)a.example[2].num=t.buyNum,a.example[2].buyState=1;else if(1040405==t.activityId)a.example[3].num=t.buyNum,a.example[3].buyState=1;else if(1040301==t.activityId){var i=GlobalAllProxy.getInstance().activityProxy.activityArr.fundInit;i.num=t.buyNum,i.fundBuyStatus=1}EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE)}}},t}(ProcessorBase);__reflect(NetBOpenServiceBuyResponse.prototype,"NetBOpenServiceBuyResponse");var NetBOpenServiceItemBuyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_OpenServiceItemBuy},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=e.sendParams.itemId,i=e.sendParams.num;t.cost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost),t.item&&GlobalAllProxy.getInstance().backpackProxy.addServerItem(t.item);var n=GlobalAllProxy.getInstance().activityProxy.activityArr;if(n){var o;if(t.activityId==act_type.timedbag&&(o=n.limitBuying)){for(var r,s=o.panic,l=!1,p=0,c=s.length;c>p;p++)r=s[p],r.itemId==a&&(r.buyNum-=i,l=!0);l||(r=new SPanicItemList,r.itemId=a,r.buyNum=0,s.push(r))}}EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE)}}},t}(ProcessorBase);__reflect(NetBOpenServiceItemBuyResponse.prototype,"NetBOpenServiceItemBuyResponse");var NetBRankOpenService=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Rank_OpenService},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;a&&(a.levelInit&&(t.levelRank&&(a.levelInit.rankList=t.levelRank),t.currentLevel&&(a.levelInit.ranking=t.currentLevel)),a.peakInit&&(t.peakRank&&(a.peakInit.rankList=t.peakRank),t.currentPeak&&(a.peakInit.ranking=t.currentPeak)),a.powerInit&&(t.fightingRank&&(a.powerInit.rankList=t.fightingRank),t.currentFighting&&(a.powerInit.ranking=t.currentFighting)),EventBus.sendMessage(game.GameCommands.ACTIVITY_RANK_UPDATA))}}},t}(ProcessorBase);__reflect(NetBRankOpenService.prototype,"NetBRankOpenService");var NetBReceiveRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Activity_ActivityGift},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){if(t.item){var a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(t.item)}var i=GlobalAllProxy.getInstance().activityProxy.activityArr,n=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(t.activityId==act_type.sevenday)i.sevenLogin.receiveAward[t.param-1]=2;else if(t.activityId==act_type.cumsign)for(var o=i.signInit.receiveAward,r=GlobalConfig.getActivityVO(t.activityId),s=r.limit.split(","),l=0,p=s.length;p>l;l++)s[l]==t.param&&(o[l]=2);else if(t.activityId==act_type.levelgif)i.gradeInit.receiveAward.push(t.param);else if(t.activityId==act_type.dayrecharge){var o=i.payInit.everydayPay;o.push(t.param)}else if(t.activityId==act_type.continuousrecharge){var o=i.payInit.continuousCharege;o.push(t.param)}else if(t.activityId==act_type.cumrecharge){var o=i.payInit.cumulativePay;o.push(t.param)}else if(t.activityId==act_type.daycons){var o=i.consumeInit.everydayConsume;o.push(t.param)}else if(t.activityId==act_type.cumcons){var o=i.consumeInit.cumulativeConsume;o.push(t.param)}else if(t.activityId==act_type.traininves){var o=i.investmentInit.example[0].receiveList;o.push(t.param)}else if(t.activityId==act_type.starinves){var o=i.investmentInit.example[1].receiveList;o.push(t.param)}else if(t.activityId==act_type.formationinves){var o=i.investmentInit.example[2].receiveList;o.push(t.param)}else if(t.activityId==act_type.equipinves){var o=i.investmentInit.example[3].receiveList;o.push(t.param)}else if(t.activityId==act_type.opensfund){var o=i.fundInit.gradeGift;o.push(t.param)}else{if(t.activityId==act_type.goalkeeper)return i.firstChargeInit=null,EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),void EventBus.sendMessage(game.GameCommands.ACTIVITY_FIRST_RECEIVE);if(t.activityId==act_type.onlinegif)return i.onlineInit.onlineRewards.push(t.param),void EventBus.sendMessage(game.GameCommands.OPERTION_REWARD);if(t.activityId==GlobalEnum.activity_rank_power){var o=n.powerInit.status;o.push(t.param)}else if(t.activityId==GlobalEnum.activity_rank_level){var o=n.levelInit.status;o.push(t.param)}else if(t.activityId==GlobalEnum.activity_rank_peak){var o=n.peakInit.status;o.push(t.param)}else if(t.activityId==GlobalEnum.activity_rank_recruit){var c=n.recruitInit.exchange,u=GlobalConfig.getActivityVO(t.activityId),m=u.playerbuy,g=m.split("|"),_=g[t.param].split(",");n.recruitInit.score-=+_[3];for(var l=0;l<c.length;l++)c[l].pid==t.param&&(c[l].num=+c[l].num+1)}else if(t.activityId==GlobalEnum.activity_rank_carniva){for(var h=GlobalConfig.getCarnivaVO(t.param),d=n.carnival.task,y=d.length,l=0;y>l;l++)if(d[l].taskId==t.param){d[l].isReward=2,n.carnival.score+=h.score;break}t.task&&d.push(t.task)}else if(t.activityId==GlobalEnum.activity_rank_carnivatop)n.carnival.status.push(t.param);else if(t.activityId==GlobalEnum.activity_rank_yiyuan)n.yiYuan.receiveStatus=2;else if(t.activityId==act_type.superbuy)for(var v=i.OverflowBuying,f=v.OverflowGet,b=0,G=f.length;G>b;b++)+f[b].itemId==+t.param&&f[b].buyNum>0&&(f[b].buyNum-=1)}EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE,t.item)}}},t}(ProcessorBase);__reflect(NetBReceiveRewardResponse.prototype,"NetBReceiveRewardResponse");var NetBChooseAnswerResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_USE_CHOOSE_ANSWER},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.selectAnswer,i=GlobalAllProxy.getInstance().gameProxy.questiondata;if(i){GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_answerresult,1);var n=i.questionNotiData;n&&(n.resultdata=a,EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE))}}},t}(ProcessorBase);__reflect(NetBChooseAnswerResponse.prototype,"NetBChooseAnswerResponse");var NetBExcludeErrorResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_USE_EXCLUDE_ERROR},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.option,i=GlobalAllProxy.getInstance().gameProxy.questiondata;if(i){var n=i.questionNotiData;if(GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_answerred,1),n){var o=n.outoptionarr;o?o.push(a):o=[a],n.outoptionarr=o,EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE)}}}},t}(ProcessorBase);__reflect(NetBExcludeErrorResponse.prototype,"NetBExcludeErrorResponse");var NetBQuestionEnter=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_ENTER},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SQuestionEnter;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.questiondata=a,EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBQuestionEnter.prototype,"NetBQuestionEnter");var NetBQuestionNotificationResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_NOTIFICATION},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().gameProxy.questiondata;if(t&&a&&t.num){if(a.status=game.SQuestionEnter.type_play,a.questionNotiData&&a.questionNotiData.num==t.num)return;var i=a.maxNum-t.num;0>=i&&(i=0),a.num=i,a.questionNotiData=t,EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBQuestionNotificationResponse.prototype,"NetBQuestionNotificationResponse");var NetBQuestionQuit=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_QUIT},t.prototype.execute=function(e){if(e.returnResult){e.returnParams;EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBQuestionQuit.prototype,"NetBQuestionQuit");var NetBQuestionRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_RANK},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SQuestionRankResponse;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.rankquestiondata=a,EventBus.sendMessage(game.GameCommands.RANK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBQuestionRankResponse.prototype,"NetBQuestionRankResponse");var NetBSelectAnswerResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.QUESTION_CHOOSE_ANSWER},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().gameProxy.questiondata;if(a){var i=a.questionNotiData;i.isover=!0,i&&(i.resultdata=t,EventBus.sendMessage(game.GameCommands.ANSWER_DATA_CHANGE))}}},t}(ProcessorBase);__reflect(NetBSelectAnswerResponse.prototype,"NetBSelectAnswerResponse");var NetBBabelAddedResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_ADDED_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){var i=e.sendParams.type,n=t.num;a.addstarnum(-n),a.addteamlevel(i,1,!0)}EventBus.sendMessage(game.GameCommands.DEKERON_ADDTEAM_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBabelAddedResponse.prototype,"NetBBabelAddedResponse");var NetBBabelEndResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_INITIATIVE_END},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.dekaronData,i=t.star_num,n=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(n,!0,!0),a&&(a.maxstar=i,a.finish=!0,a.finishRwd=game.SBabelInitResponse.awardtype_readly),EventBus.sendMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA,t)}},t}(ProcessorBase);__reflect(NetBBabelEndResponse.prototype,"NetBBabelEndResponse");var NetBBabelInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SBabelInitResponse;a.objectToThis(t),GlobalAllProxy.getInstance().fightProxy.dekaronData=a,EventBus.sendMessage(game.GameCommands.DEKERON_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBabelInitResponse.prototype,"NetBBabelInitResponse");var NetBBabelLoungeRwdResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_LOUNGE_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){var i=(t.several,t.item),n=t.addition;if(n)for(var o,r=n.length,s=0;r>s;s++)o=n[s],a.addteamlevel(o.type,o.level,!1);var l=GlobalAllProxy.getInstance().backpackProxy;l.addServerItem(i),a.clearlobby()}EventBus.sendMessage(game.GameCommands.DEKERON_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBabelLoungeRwdResponse.prototype,"NetBBabelLoungeRwdResponse");var SAdditionalGrade=function(){function e(){}return e}();__reflect(SAdditionalGrade.prototype,"SAdditionalGrade");var NetBBabelMopUpResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_MOP_UP},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.type,i=e.sendParams.storey,n=t.one_key,o=t.storeyArr,r=t.lobby,s=GlobalAllProxy.getInstance().fightProxy.dekaronData;t.totalReward;if(s)if(n){var l,p,c,u,m,g,_,h=r.length;GlobalAllProxy.getInstance().backpackProxy;if(h)for(var d=0;h>d;d++)if(l=r[d],p=l.several,c=l.item,u=l.addition)for(m=u.length,_=0;m>_;_++)g=u[_],s.addteamlevel(g.type,g.level,!1);var y=o.length;if(y){var v,f,b,G,x=0;for(v=0;y>v;v++)f=parseInt(o[v].storey),x=Math.max(x,f),b=GlobalConfig.getTowerCopyVO(f,3),G=utils.GameComUtil.getItemVoArr(b.reward),s.addstarnum(a);s.storey=x+1}s.clearlobby()}else{var C=GlobalConfig.getTowerCopyVO(i,a),T=GlobalConfig.getTowerRestVOForcid(i);T&&s.setlobby(T.id),s.storey=i+1,s.addstarnum(a);utils.GameComUtil.getItemVoArr(C.reward)}EventBus.sendMessage(game.GameCommands.DEKERON_SWEEP_DATA,t)}},t}(ProcessorBase);__reflect(NetBBabelMopUpResponse.prototype,"NetBBabelMopUpResponse");var SBabelLoungeRwdResponse=function(){function e(){}return e}();__reflect(SBabelLoungeRwdResponse.prototype,"SBabelLoungeRwdResponse");var NetBBabelRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_RANK},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy;a.dekaronRankData=t,EventBus.sendMessage(game.GameCommands.DEKERON_RANK_DATA)}},t}(ProcessorBase);__reflect(NetBBabelRankResponse.prototype,"NetBBabelRankResponse");var NetBBabelResetResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_RESET},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.dekaronData,i=t.lobbyReward;a&&(a.reshfight(),i&&(a.lobbyReward=i)),EventBus.sendMessage(game.GameCommands.DEKERON_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBabelResetResponse.prototype,"NetBBabelResetResponse");var NetBBabelStoreBuyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BABEL_STORE_BUY},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.ShopBuyView);var t=(e.returnParams,e.sendParams.itemId),a=e.sendParams.num,i=GlobalAllProxy.getInstance().fightProxy.dekaronData;
if(i){var n=GlobalConfig.getTowerShopVO(t);GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(n.object,a),i.addShopTime(t,a);for(var o,r=utils.GameComUtil.getItemVoArr(n.cost),s=0,l=r.length;l>s;s++)o=r[s],o&&(o.count=+o.count*a);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(r)}EventBus.sendMessage(game.GameCommands.DEKERON_SHOP_DATA)}},t}(ProcessorBase);__reflect(NetBBabelStoreBuyResponse.prototype,"NetBBabelStoreBuyResponse");var NetBReportResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Battle_Report},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.battle,i=e.sendParams.type;if(a)NetBBattleResponse.SetFigntData(a,!0),GlobalAllProxy.getInstance().playerProxy.removelogdata(i);else{var n=[FightEnum.type_pvf,FightEnum.type_pvc,FightEnum.type_pvp,FightEnum.type_pvd,FightEnum.type_pvs],o=[GlobalViewIDEnum.pType_friendship,GlobalViewIDEnum.pType_clubfightmap,GlobalViewIDEnum.pType_richfight,GlobalViewIDEnum.pType_dekaronroad,GlobalViewIDEnum.pType_qualifying],r=n.indexOf(i);if(-1!=r){var s=o[r];PanelDM.getIns().goWindow([s])}}}},t}(ProcessorBase);__reflect(NetBReportResponse.prototype,"NetBReportResponse");var NetBSaleItemsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SALE_ITEMS},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.gold,i=e.sendParams.itemId,n=e.sendParams.num,o=GlobalAllProxy.getInstance().backpackProxy;o.redBagItemNum(i,n),o.addBagItemNum(GlobalEnum.itemid_coin,a),EventBus.sendMessage(game.GameCommands.BACKPACK_ACTION_CHANGE),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE)}},t}(ProcessorBase);__reflect(NetBSaleItemsResponse.prototype,"NetBSaleItemsResponse");var NetBSelectPlayersRecoveryResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Prop_selectPlayersRecovery},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.returnVal,i=t.item;GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_qiucar,a),GlobalAllProxy.getInstance().backpackProxy.updatePlayerCarData(i),EventBus.sendMessage(game.GameCommands.ACHIEVE_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE)}},t}(ProcessorBase);__reflect(NetBSelectPlayersRecoveryResponse.prototype,"NetBSelectPlayersRecoveryResponse");var SynthComVO=function(){function e(){}return e}();__reflect(SynthComVO.prototype,"SynthComVO");var NetBSynthesisItemResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.ITEM_SYNTHESIZE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.itemId,i=e.sendParams.num,n=t.itemId,o=t.num,r=GlobalAllProxy.getInstance().backpackProxy,s=GlobalConfig.getItemVo(a),l=s.compose*i,p=new SynthComVO;p.sendid=a,p.getid=n,p.getnum=o,p.sendnum=l,r.redBagItemNum(a,l),EventBus.sendMessage(game.GameCommands.BACKPACK_HECHEN_COPLETE,p),EventBus.sendMessage(game.GameCommands.BACKPACK_ACTION_CHANGE),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),utils.GameComUtil.playershar(n)}},t}(ProcessorBase);__reflect(NetBSynthesisItemResponse.prototype,"NetBSynthesisItemResponse");var NetBUseItemResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USE_ITEM},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.BackPackInfoView);var t=e.returnParams,a=t.item,i=t.player,n=e.sendParams.itemId,o=e.sendParams.num,r=GlobalAllProxy.getInstance().backpackProxy;if(r.redBagItemNum(n,o),a&&a.length&&r.addServerItem(a),i){var s;s=new game.SResponsePlayer,s.objectToThis(i),GlobalAllProxy.getInstance().playerProxy.addPlayerVO(s);var l=FormatString.format(Language.ins.backpack_tip1,s.name);FLOAT.NShowPutong([l])}EventBus.sendMessage(game.GameCommands.BACKPACK_ACTION_CHANGE),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE)}},t}(ProcessorBase);__reflect(NetBUseItemResponse.prototype,"NetBUseItemResponse");var NetBOperateActivityChampionGuessInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_ChampionGuessInit},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.match;a.sort(),GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin=t.cost,GlobalAllProxy.getInstance().gameProxy.bet_data[1]=a,EventBus.sendMessage(game.GameCommands.Bet_Activity_GuessInit)}},t}(ProcessorBase);__reflect(NetBOperateActivityChampionGuessInitResponse.prototype,"NetBOperateActivityChampionGuessInitResponse");var NetBOperateActivityChampionGuessResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_ChampionGuess},t.prototype.execute=function(e){if(e.returnResult){for(var t=(e.returnParams,GlobalAllProxy.getInstance().gameProxy.bet_champion_data[0]),a=GlobalAllProxy.getInstance().gameProxy.bet_champion_data[1],i=GlobalAllProxy.getInstance().gameProxy.bet_data[1],n=!1,o=0;o<i.length;o++)if(i[o].teamId==t){i[o].cost+=a,n=!0;break}if(!n){var r={};r.teamId=t,r.cost=a,GlobalAllProxy.getInstance().gameProxy.bet_data[1].push(r)}EventBus.sendMessage(game.GameCommands.Bet_OperatingActivity_Guess),GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_betB,-a,!1,!1,vipaddtype.type_b),FLOAT.NShowPutong([Language.ins.bet_success])}},t}(ProcessorBase);__reflect(NetBOperateActivityChampionGuessResponse.prototype,"NetBOperateActivityChampionGuessResponse");var NetBOperateActivityGuessInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_GuessInit},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=(t.cost,t.match);a.sort();for(var i,n,o=[],r={},s=[],l=[],p=0;p<a.length;p++)i=new game.SBetMatchResultVo,i.objectToThis(a[p]),i.homeWin>0&&(n=new game.SBetMatchResultVo,n.objectToThis(a[p]),n.guestWin=n.draw=0,l.push(n)),i.guestWin>0&&(n=new game.SBetMatchResultVo,n.objectToThis(a[p]),n.homeWin=n.draw=0,l.push(n)),i.draw>0&&(n=new game.SBetMatchResultVo,n.objectToThis(a[p]),n.guestWin=n.homeWin=0,l.push(n)),r[i.daytime]||(r[i.daytime]=[],s.push(i.daytime)),r[i.daytime].push(i);s.sort(),l.sort();for(var c in r){var u=r[c];u.sort(game.SBetMatchResultVo.sortOnLimit)}for(var m=[],p=0;p<s.length;p++)o=r[s[p]],m.push(o);GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin=t.cost,GlobalAllProxy.getInstance().gameProxy.bet_data[0]=t.cost,GlobalAllProxy.getInstance().gameProxy.bet_data[2]=m,GlobalAllProxy.getInstance().gameProxy.bet_data[3]=l,EventBus.sendMessage(game.GameCommands.Bet_Activity_GuessInit)}},t}(ProcessorBase);__reflect(NetBOperateActivityGuessInitResponse.prototype,"NetBOperateActivityGuessInitResponse");var NetBOperateActivityGuessResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_Guess},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().gameProxy.bet_match_data[0],i=GlobalAllProxy.getInstance().gameProxy.bet_match_data[1],n=GlobalAllProxy.getInstance().gameProxy.bet_match_data[3],o=new game.SBetMatchResultVo;o.objectToThis(t.match[0]);for(var r=GlobalAllProxy.getInstance().gameProxy.bet_data[2],s=[],l=0;l<r.length;l++){s=r[l];for(var p=0;p<s.length;p++)o.matchId==s[p].matchId&&(s[p].homeWin=o.homeWin,s[p].guestWin=o.guestWin,s[p].draw=o.draw)}1==i?o.guestWin=o.draw=0:2==i?o.homeWin=o.draw=0:3==i&&(o.homeWin=o.guestWin=0);for(var c=GlobalAllProxy.getInstance().gameProxy.bet_data[3],u=!1,l=0;l<c.length;l++)if(c[l].matchId==a){if(1==i&&c[l].homeWin>0){c[l].homeWin+=n,u=!0;break}if(2==i&&c[l].guestWin>0){c[l].guestWin+=n,u=!0;break}if(3==i&&c[l].draw>0){c[l].draw+=n,u=!0;break}}u||c.push(o),EventBus.sendMessage(game.GameCommands.Bet_OperatingActivity_Guess),GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_betB,-n,!1,!1,vipaddtype.type_b),FLOAT.NShowPutong([Language.ins.bet_success])}},t}(ProcessorBase);__reflect(NetBOperateActivityGuessResponse.prototype,"NetBOperateActivityGuessResponse");var NetBBuildEmployeeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.User_BuildEmployee},t.prototype.execute=function(e){if(e.returnResult){var t,a=e.returnParams,i=a.employees,n=GlobalAllProxy.getInstance().playerProxy.clubData;if(n)for(var o,r,s,l,p,c=0,u=i.length;u>c;c++)t=i[c],o=t.type,r=t.output,s=t.startTime,l=t.receiveTime,p=t.total,n.setTimeChange(o,r,s,l),n.setBuildStaff(o,p);EventBus.sendMessage(game.GameCommands.GET_CLUB_PERSON_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBBuildEmployeeResponse.prototype,"NetBBuildEmployeeResponse");var EmployeeInfo=function(){function e(){}return e}();__reflect(EmployeeInfo.prototype,"EmployeeInfo");var NetBEnterEndResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.ONLINE_STATION_END},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.fid,i=e.sendParams.buildType;if(a&&i){var n=t.output,o=t.startTime,r=t.timestamp,s=GlobalAllProxy.getInstance().playerProxy.clubData;s&&(s.setTimeChange(i,n,o,r),s.removeSelfBuildPlayer(i))}EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_CHANGE)}},t}(ProcessorBase);__reflect(NetBEnterEndResponse.prototype,"NetBEnterEndResponse");var NetBEnterIndication=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Enter_Indication},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.output,i=t.startTime,n=t.timestamp,o=t.enterBuild,r=GlobalAllProxy.getInstance().playerProxy.clubData;if(r&&o){var s=o.buildType;r.setTimeChange(s,a,i,n),r.addSelfBuildPlayer(o)}EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_CHANGE)}},t}(ProcessorBase);__reflect(NetBEnterIndication.prototype,"NetBEnterIndication");var NetBFriendsBuildResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIENDS_BUILDING},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy,i=a.clubData;if(i){var n=t.build;i.addBuildPlayer(n),a.removeFriendInvite(n.fid),n&&a.NetSeeFriendsClub(n.fid)}EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_CHANGE)}},t}(ProcessorBase);__reflect(NetBFriendsBuildResponse.prototype,"NetBFriendsBuildResponse");var NetBFriendsInviteResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIENDS_INVITED_LIST},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.invite;GlobalAllProxy.getInstance().playerProxy.inviteData=a,a.length&&(GlobalAllProxy.getInstance().playerProxy.isnewInvite=!0),EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_LIST)}},t}(ProcessorBase);__reflect(NetBFriendsInviteResponse.prototype,"NetBFriendsInviteResponse");var NetBInitFriendResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.INIT_CLUB_FRIEND},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy,i=new game.SInitFriendResponse;i.objectToThis(t),a.friendInvitData=i,EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_CHANGE)}},t}(ProcessorBase);__reflect(NetBInitFriendResponse.prototype,"NetBInitFriendResponse");var NetBInviteFriendResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.INVITE_FRIENDS_LIST},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.inviteObject;GlobalAllProxy.getInstance().playerProxy.inviteObject=a,EventBus.sendMessage(game.GameCommands.MY_INVITE_LIST)}},t}(ProcessorBase);__reflect(NetBInviteFriendResponse.prototype,"NetBInviteFriendResponse");var NetBNotificationStation=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_NotificationStation},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy,i=t.invite;a.addFriendInvite(i),EventBus.sendMessage(game.GameCommands.FRIEND_INVITE_LIST)}},t}(ProcessorBase);__reflect(NetBNotificationStation.prototype,"NetBNotificationStation");var NetBReceiveBuildResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.RECEIVE_BUILDING_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.buildType,i=e.sendParams.fid,n=t.output,o=GlobalAllProxy.getInstance().playerProxy.clubData;if(o){var r=o.getDataForType(a);r&&GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(r.bitemid,n),o.removeBuildPlayer(a,i)}EventBus.sendMessage(game.GameCommands.ACHIEVE_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBReceiveBuildResponse.prototype,"NetBReceiveBuildResponse");var NetBSeeFriendsClubResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SEE_FRIENDS_CLUB_DETAILS},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SSeeFriendsClubResponse;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.friendBuilddata=a,EventBus.sendMessage(game.GameCommands.SEE_FRIEND_BUILD,a)}},t}(ProcessorBase);__reflect(NetBSeeFriendsClubResponse.prototype,"NetBSeeFriendsClubResponse");var NetBSendInviteFriendResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SEND_INVITE_FRIENDS},t.prototype.execute=function(e){if(e.returnResult){e.returnParams;FLOAT.NShowPutong([Language.ins.build_tip4])}},t}(ProcessorBase);__reflect(NetBSendInviteFriendResponse.prototype,"NetBSendInviteFriendResponse");var NetBVisitFriendsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.VISIT_FRIEND},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SVisitFriendsResponse;a.objectToThis(t),EventBus.sendMessage(game.GameCommands.LOOK_CLUB_INFO,a)}},t}(ProcessorBase);__reflect(NetBVisitFriendsResponse.prototype,"NetBVisitFriendsResponse");var NetBBroadcast=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BROADCAST_MSG},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().chatProxy.addChatArr(t),EventBus.sendMessage(game.GameCommands.CHAT_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBroadcast.prototype,"NetBBroadcast");var NetBPrivateChatResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.PRIVATE_CHAT},t.prototype.execute=function(e){if(e.returnResult){e.returnParams;EventBus.sendMessage(game.GameCommands.CHAT_SEND_DATA)}},t}(ProcessorBase);__reflect(NetBPrivateChatResponse.prototype,"NetBPrivateChatResponse");var NetBPublicChatResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.PUBLIC_CHAT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t.cost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost,Language.ins.log_uug_buytalk);var a=t.type;a==chatType.type_com?GlobalAllProxy.getInstance().playerProxy.freeChat++:a==chatType.type_club,EventBus.sendMessage(game.GameCommands.CHAT_SEND_DATA)}},t}(ProcessorBase);__reflect(NetBPublicChatResponse.prototype,"NetBPublicChatResponse");var NetBClubAdjustResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Adjust_Num},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.BuildStaffView);var t=e.sendParams,a=e.returnParams,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){if(i.player_num!=t.club_num&&(i.player_num=t.club_num,i.temp_output=a.club_output,i.setReshTime(a.starttime,!1)),i.tactical_num!=t.tactical_num){i.tactical_num=t.tactical_num;var n=GlobalAllProxy.getInstance().playerProxy.tacticsData;n&&(n.temp_potion=a.tactical_output,n.setReshTime(a.starttime,!1))}if(i.tech_num!=t.tech_num){i.tech_num=t.tech_num;var o=GlobalAllProxy.getInstance().playerProxy.scienceData;o&&(o.temp_output=a.tech_output,o.setReshTime(a.starttime,!1))}if(i.scout_num!=t.scout_num){i.scout_num=t.scout_num;var r=GlobalAllProxy.getInstance().playerProxy.scoutData;r&&(r.temp_output=a.scout_output,r.setReshTime(a.starttime,!1))}EventBus.sendMessage(game.GameCommands.SET_STAFF_CHANGE),FLOAT.NShowPutong([Language.ins.club_time_tip_2])}}},t}(ProcessorBase);__reflect(NetBClubAdjustResponse.prototype,"NetBClubAdjustResponse");var NetBClubPromotionResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Promotion},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,GlobalAllProxy.getInstance().playerProxy.clubData);if(t){var a=GlobalConfig.getClubgradeVO(t.grade),i=utils.GameComUtil.getItemVoArr(a.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(i),t.grade+=1}SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_buildup),EventBus.sendMessage(game.GameCommands.CLUBE_GRADE_UP),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_clubupgrade,stafftype.type_player),utils.GameComUtil.buildshar(t.grade)}},t}(ProcessorBase);__reflect(NetBClubPromotionResponse.prototype,"NetBClubPromotionResponse");var NetBClubReceiveResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Receive_Wages},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){a.temp_output=0,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_coin,t.output);var i=Global.systemTimeNum+"";a.setReshTime(i,!0)}EventBus.sendMessage(game.GameCommands.GET_CLUB_REWARD),EventBus.sendMessage(game.GameCommands.BUILD_GET_AWARD)}},t}(ProcessorBase);__reflect(NetBClubReceiveResponse.prototype,"NetBClubReceiveResponse");var NetBClubResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Request_Response},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().playerProxy,i=new game.SClubResponseVO;i.objectToThis(t),a.clubData=i,EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW)}EventBus.sendMessage(game.GameCommands.GET_CLUB_DATA)}},t}(ProcessorBase);__reflect(NetBClubResponse.prototype,"NetBClubResponse");var NetBModifyAchieveShowResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Modify_Show_Achieve},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=e.sendParams.location,i=(e.sendParams.achieveId,t.achieveShow),n=GlobalAllProxy.getInstance().playerProxy,o=n.clubData;if(o){var r=o.achieveShow;r[a-1]=i,EventBus.sendMessage(game.GameCommands.CHANGE_SHOW_ACHIEVE)}}}},t}(ProcessorBase);__reflect(NetBModifyAchieveShowResponse.prototype,"NetBModifyAchieveShowResponse");var SMoppingUpResponse=function(){function e(){}return e}();__reflect(SMoppingUpResponse.prototype,"SMoppingUpResponse");var NetBMoppingUpResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_MoppingUp},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.challenges,i=(t.showItem,t.item,GlobalAllProxy.getInstance().playerProxy.playerinfo);i.challenges-=a,EventBus.sendMessage(game.GameCommands.GET_CLUB_SWEEP,t)}}},t}(ProcessorBase);__reflect(NetBMoppingUpResponse.prototype,"NetBMoppingUpResponse");var NetBReceiveMatchGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Game_Record},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.giftId,i=t.item,n=GlobalAllProxy.getInstance().playerProxy.clubData;n&&(n.addMapGif(a),GlobalAllProxy.getInstance().backpackProxy.addServerItem(i)),EventBus.sendMessage(game.GameCommands.GET_PVC_HIS_DATA)}},t}(ProcessorBase);__reflect(NetBReceiveMatchGiftResponse.prototype,"NetBReceiveMatchGiftResponse");var NetBCoachStimulate=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Coach_Stimulate},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.type,i=GlobalAllProxy.getInstance().playerProxy.coachdata,n=t.item,o=t.object;if(i){var r,s,l=i.coach.length;if(o){var p=!1;for(r=0;l>r;r++)s=i.coach[r],o.coachId==s.coachId&&(s.exp=o.exp,s.level=o.level,1==a&&(s.count+=1,p=!0));p&&EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}}GlobalAllProxy.getInstance().backpackProxy.redServerItem(n),EventBus.getIns().sendMessage(game.GameCommands.COACH_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBCoachStimulate.prototype,"NetBCoachStimulate");var NetBCoachTrainResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Coach_Train},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.type,i=t.countdown,n=GlobalAllProxy.getInstance().playerProxy.coachdata,o=t.item;GlobalAllProxy.getInstance().backpackProxy.redServerItem(o),n&&(n.time=i,n.type=a),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.getIns().sendMessage(game.GameCommands.COACH_START_TRAIN)}}},t}(ProcessorBase);__reflect(NetBCoachTrainResponse.prototype,"NetBCoachTrainResponse");var NetBCoachTrainReward=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Coach_ReceiveTrainReward},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a,i=(t.type,GlobalAllProxy.getInstance().playerProxy.coachdata),n=t.item,o=t.object;GlobalAllProxy.getInstance().backpackProxy.addServerItem(n);for(var r,s,l=i.coach.length,p=0,c=o.length;c>p;p++)for(a=o[p],r=0;l>r;r++)s=i.coach[r],a.coachId==s.coachId&&(s.exp=a.exp,s.level=a.level);i.type=0,i.time=0,EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.getIns().sendMessage(game.GameCommands.COACH_OVER_TRAIN)}}},t}(ProcessorBase);__reflect(NetBCoachTrainReward.prototype,"NetBCoachTrainReward");var NetBCoachUnlock=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Coach_UnLock},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.cost,i=t.coach,n=GlobalAllProxy.getInstance().playerProxy,o=n.coachdata;if(GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a),o&&i){var r=n.getCoachPlayerVO(i.coachId);if(!r){o.coach.push(i);var s=GlobalConfig.getCoachVO(i.coachId);if(s){var l=FormatString.format(Language.ins.coach_tip7,s.name);FLOAT.NShowPutong([l])}o.addNewPlayid(i.coachId)}}EventBus.getIns().sendMessage(game.GameCommands.COACH_GET_NEW),EventBus.getIns().sendMessage(game.GameCommands.COACH_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBCoachUnlock.prototype,"NetBCoachUnlock");var NetBCoachUpgrade=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Coach_UpgradeStarAndClass},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a,i=t.type,n=e.sendParams.coachId,o=t.item;1==i?(a=GlobalAllProxy.getInstance().playerProxy.getCoachPlayerVO(n),a&&(a.star+=1),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_coachupstar,1)):2==i&&(a=GlobalAllProxy.getInstance().playerProxy.getCoachPlayerVO(n),a&&(a.coachClass+=1,a.star=0),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_coachupcla,1)),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),GlobalAllProxy.getInstance().backpackProxy.redServerItem(o),EventBus.getIns().sendMessage(game.GameCommands.COACH_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBCoachUpgrade.prototype,"NetBCoachUpgrade");var NetBExchangeCodeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Share_ExchangeCode},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=(t.cdk,t.item);GlobalAllProxy.getInstance().backpackProxy.addServerItem(a)}}},t}(ProcessorBase);__reflect(NetBExchangeCodeResponse.prototype,"NetBExchangeCodeResponse");var NetBHeartbeatResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Club_Recruitment},t.prototype.execute=function(e){if(e.returnResult){e.returnParams}},t}(ProcessorBase);__reflect(NetBHeartbeatResponse.prototype,"NetBHeartbeatResponse");var NetBNoticeClientUpdateDate=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Notify_Client},t.prototype.execute=function(e){if(e.returnResult){var t,a=e.returnParams,i=a.type,n=a.value,o=a.extra;switch(i){case 1:t=GlobalEnum.itemid_coin;break;case 2:if(t=GlobalEnum.itemid_ug,o){var r=GlobalAllProxy.getInstance().playerProxy.vipData;r&&r.addexpenseExp(o)}break;case 3:t=GlobalEnum.itemid_playerexp;break;case 4:t=GlobalEnum.itemid_study;break;case 5:t=GlobalEnum.itemid_qiutan;break;case 6:t=GlobalEnum.itemid_techdian;break;case 7:t=GlobalEnum.itemid_rong;break;case 8:t=GlobalEnum.itemid_vipexp;break;case 9:var r=GlobalAllProxy.getInstance().playerProxy.vipData;if(r)return t=GlobalEnum.itemid_vipexp,void EventBus.sendMessage(game.GameCommands.MONTH_DATA_CHANGE);break;case 10:t=GlobalEnum.itemid_love;break;case 11:var s=GlobalAllProxy.getInstance().friendProxy.getFriendVo(o);return s&&(s.is_exist_get=n),void EventBus.sendMessage(game.GameCommands.FRIEND_RECEIVE_LOVE);default:t=i}var l=GlobalConfig.getItemVo(t);if(l){if(GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(t,n,!1,!1),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),2==i&&GlobalAllProxy.getInstance().activityProxy.activityArr){var p=GlobalAllProxy.getInstance().activityProxy.activityArr.payInit;p&&(p.dailyPay+=n,p.totalPay+=n)}}else utils.GameComUtil.log("@加了不知道类型的物品"+t)}},t}(ProcessorBase);__reflect(NetBNoticeClientUpdateDate.prototype,"NetBNoticeClientUpdateDate");var SNoticeRefresh=function(){function e(){}return e}();__reflect(SNoticeRefresh.prototype,"SNoticeRefresh");var NetBNoticeRefresh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Notice_Refresh},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().zeroPointRefresh(t),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.DAY_ZERO_CHANGE)}},t}(ProcessorBase);__reflect(NetBNoticeRefresh.prototype,"NetBNoticeRefresh");var NetBUserOfflineResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_OFFLINE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.offline;switch(a){case 1:utils.GameComUtil.logout(Language.ins.alert_other_login,!0);break;case 2:utils.GameComUtil.logout(Language.ins.alert_error_kick,!0);break;case 3:utils.GameComUtil.logout(Language.ins.alert_error_kick,!0);break;case 4:utils.GameComUtil.logout(Language.ins.alert_server_close,!0);break;default:utils.GameComUtil.log("@未处理的离线通知"+a)}}},t}(ProcessorBase);__reflect(NetBUserOfflineResponse.prototype,"NetBUserOfflineResponse");var NetBBattleLookGame=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Battle_Game},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.report;NetBBattleResponse.SetFigntData(a,!0,!0,!0)}},t}(ProcessorBase);__reflect(NetBBattleLookGame.prototype,"NetBBattleLookGame");var NetBBuyGoodsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.BUY_TIMES},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.cost,i=+e.sendParams.productNum;GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a,Language.ins.log_uug_clubFbuy),GlobalAllProxy.getInstance().playerProxy.playerinfo.addClubfightTime(i),GlobalAllProxy.getInstance().playerProxy.playerinfo.addClubfightBuyTime(i),EventBus.sendMessage(game.GameCommands.CLUB_FIGHT_BUYTIME)}},t}(ProcessorBase);__reflect(NetBBuyGoodsResponse.prototype,"NetBBuyGoodsResponse");var NetBCustomsRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Secretary_CustomsReward},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.missionId,i=t.item;if(1==a){var n=this;EventBus.addMessage(game.GameCommands.SHOW_NEW_CAR_OVER,n.showfirstpay,n)}var o=GlobalAllProxy.getInstance().playerProxy.customsClearance;o.push(a),GlobalAllProxy.getInstance().backpackProxy.addServerItem(i),EventBus.sendMessage(game.GameCommands.FIGHT_GET_HEROAWARD)}},t.prototype.showfirstpay=function(){var e=this;EventBus.removeMessage(game.GameCommands.SHOW_NEW_CAR_OVER,e.showfirstpay);var t=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;t&&t.yiYuan&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_Operation_yiyuan])},t}(ProcessorBase);__reflect(NetBCustomsRewardResponse.prototype,"NetBCustomsRewardResponse");var NetBFriendBuycardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_BUY_CARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=(t.status,e.sendParams.num,ParamLoader.instance.Serverwincard);GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a);
var i=GlobalAllProxy.getInstance().fightProxy.friendshipData;i&&(i.useLineWin(),EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA))}},t}(ProcessorBase);__reflect(NetBFriendBuycardResponse.prototype,"NetBFriendBuycardResponse");var NetBFriendBuyChanceResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_BUY_CHANCE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.cost,i=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(i){i.buy_chance_num+=1,i.addfreefigth(1);e.sendSaveData;a&&GlobalAllProxy.getInstance().playerProxy.playerinfo.addug(-a,!1,!1,Language.ins.log_uug_friendFagain),EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_BUY)}}},t}(ProcessorBase);__reflect(NetBFriendBuyChanceResponse.prototype,"NetBFriendBuyChanceResponse");var NetBFriendChangeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_CHANGE},t.prototype.execute=function(e){if(e.returnResult){var t,a,i=e.returnParams,n=i.fid,o=parseInt(i.stone),r=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(r){for(var s,l,p=r.fids,c=n.length,u=0,m=p.length;m>u;u++)for(s=p[u],l=0;c>l;l++)if(t=n[l],t.positon&&s.positon==t.positon){p[u]=t,a=s.positon;break}r.addfreerefresh(-1),o&&(r.refresh+=1,GlobalAllProxy.getInstance().playerProxy.playerinfo.addug(-o,!1,!1,Language.ins.log_uug_changefriendF))}var g=new FriendShipReshVO;g.type=2,g.indexN=a,EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA,g)}},t}(ProcessorBase);__reflect(NetBFriendChangeResponse.prototype,"NetBFriendChangeResponse");var NetBFriendInspireResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_INSPIRE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.stone,i=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(i){var n=t.fighting;i.inspire_num+=1,i.addition_fighting=n,GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a,Language.ins.log_uug_buyfriendF)}EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA)}},t}(ProcessorBase);__reflect(NetBFriendInspireResponse.prototype,"NetBFriendInspireResponse");var NetBFriendResetResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_RESET},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SFriendResponseVO;a.objectToThis(t.reset),GlobalAllProxy.getInstance().fightProxy.friendshipData=a;var i=new FriendShipReshVO;i.type=1,EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA,i)}},t}(ProcessorBase);__reflect(NetBFriendResetResponse.prototype,"NetBFriendResetResponse");var NetBFriendResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SFriendResponseVO;a.objectToThis(t),GlobalAllProxy.getInstance().fightProxy.friendshipData=a,EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA)}},t}(ProcessorBase);__reflect(NetBFriendResponse.prototype,"NetBFriendResponse");var NetBFriendRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.FRIEND_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(a);var i=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(i){var n=t.type,o=t.num;i.changeRewardState(n,o,!0)}EventBus.sendMessage(game.GameCommands.FRIEND_SHIP_DATA)}},t}(ProcessorBase);__reflect(NetBFriendRewardResponse.prototype,"NetBFriendRewardResponse");var NetBGroupResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Group},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SGroupResponse;a.objectToThis(t),GlobalAllProxy.getInstance().fightProxy.richdata=a,EventBus.sendMessage(game.GameCommands.PTCH_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBGroupResponse.prototype,"NetBGroupResponse");var NetBGroupUserResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GroupUser},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;EventBus.sendMessage(game.GameCommands.GET_PTCH_INFO,t)}},t}(ProcessorBase);__reflect(NetBGroupUserResponse.prototype,"NetBGroupUserResponse");var NetBInstantPlayResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.INSTANT_PLAY},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.offline,i=t.useType,n=t.cost,o=GlobalAllProxy.getInstance().backpackProxy,r=GlobalAllProxy.getInstance().playerProxy;1==i?(o.redBagItemNum(GlobalEnum.itemid_pvefastcar,1),EventBus.sendMessage(game.GameCommands.BACKPACK_ACTION_CHANGE)):2==i&&(r.playerinfo.instantPlay+=1,o.redBagItemNum(GlobalEnum.itemid_ug,n,Language.ins.log_uug_buyhang)),GlobalAllProxy.getInstance().gameProxy.addofflineData(a,!0),EventBus.sendMessage(game.GameCommands.BUF_FAST_PVE_FIGHT)}},t}(ProcessorBase);__reflect(NetBInstantPlayResponse.prototype,"NetBInstantPlayResponse");var NetBRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GroupRank},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().fightProxy.weekRankdata=t,EventBus.sendMessage(game.GameCommands.GET_PTCH_RANK)}},t}(ProcessorBase);__reflect(NetBRankResponse.prototype,"NetBRankResponse");var NetBSkipCombatResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SKIP_COMBAT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.useType,i=e.sendParams.type;0==a?GlobalAllProxy.getInstance().playerProxy.playerinfo.freeTimes+=1:1==a&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_fightskipcar,1);var n=Manifest.getIns(FightDM);n.skipFight(i),EventBus.sendMessage(game.GameCommands.FIGHT_SKIP_DATA)}},t}(ProcessorBase);__reflect(NetBSkipCombatResponse.prototype,"NetBSkipCombatResponse");var NetBStartBeforeGameResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.START_BEFORE_GAME},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SStartBeforeGameResponse;a.objectToThis(t),EventBus.sendMessage(game.GameCommands.GET_FIGHT_PREWAR_DATA,a)}},t}(ProcessorBase);__reflect(NetBStartBeforeGameResponse.prototype,"NetBStartBeforeGameResponse");var NetRankMemberResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GroupRankMember},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;EventBus.sendMessage(game.GameCommands.GET_PTCH_INFO,t)}},t}(ProcessorBase);__reflect(NetRankMemberResponse.prototype,"NetRankMemberResponse");var NetBOneKeyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Friend_OneKey},t.prototype.execute=function(e){if(e.returnResult){var t,a=e.returnParams,i=a.type,n=a.fid,o=a.item,r=a.times;if(n.length){var s=GlobalAllProxy.getInstance().friendProxy.friendList;if(s){var l,p,c;if(1==i){for(p=0,c=s.length;c>p;p++)l=s[p],t=l.fid,-1!=n.indexOf(t)&&(l.is_give=1);FLOAT.NShowPutong([Language.ins.friend_tip11])}else if(2==i){for(o.length&&GlobalAllProxy.getInstance().backpackProxy.addServerItem(o),p=0,c=s.length;c>p;p++)l=s[p],t=l.fid,-1!=n.indexOf(t)&&(l.is_get=1);GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt+=r}}EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBOneKeyResponse.prototype,"NetBOneKeyResponse");var NetBUserFriendAddResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_ADD},t.prototype.execute=function(e){if(e.returnResult){var t,a=(e.returnParams,e.sendParams.fid.toString()),i=GlobalAllProxy.getInstance().friendProxy.findList;if(i)for(var n=0,o=i.length;o>n;n++)t=i[n],t.fid.toString()==a&&(t.apply=1);FLOAT.NShowPutong([Language.ins.friend_tip0]),EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendAddResponse.prototype,"NetBUserFriendAddResponse");var NetBUserFriendApplyActionResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_APPLY_ACTION},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.type,i=e.sendParams.fid,n=GlobalAllProxy.getInstance().friendProxy.askList,o=GlobalAllProxy.getInstance().friendProxy.friendList;if(n)for(var r,s=n.length-1;s>=0;s--)r=n[s],r.fid==i&&(n.splice(s,1),1==a&&(r.is_exist_get=t.is_exist_get,r.is_get=t.is_get,r.is_give=t.is_give,o.push(r)));EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendApplyActionResponse.prototype,"NetBUserFriendApplyActionResponse");var NetBUserFriendDelResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_DEL},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,e.sendParams.fid),a=GlobalAllProxy.getInstance().friendProxy.friendList;if(a)for(var i,n=a.length-1;n>=0;n--)i=a[n],i.fid==t&&a.splice(n,1);EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendDelResponse.prototype,"NetBUserFriendDelResponse");var NetBUserFriendFindByFidResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_FINDBYFID},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.lists;GlobalAllProxy.getInstance().friendProxy.idifno=a,EventBus.sendMessage(game.GameCommands.FRIEND_FOND_ID_DATA)}},t}(ProcessorBase);__reflect(NetBUserFriendFindByFidResponse.prototype,"NetBUserFriendFindByFidResponse");var NetBUserFriendFindResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_FIND},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.lists;GlobalAllProxy.getInstance().friendProxy.findList=a,EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendFindResponse.prototype,"NetBUserFriendFindResponse");var NetBUserFriendGetLoveResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_GET_LOVE},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,e.sendParams.fid),a=GlobalAllProxy.getInstance().friendProxy.friendList,i=ParamLoader.instance.ServerHeartGet,n=i.split(",");if(n.length&&GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(parseInt(n[0]),parseInt(n[1])),a)for(var o,r=0,s=a.length;s>r;r++)o=a[r],o.fid==t&&(o.is_get=1);GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt++,EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendGetLoveResponse.prototype,"NetBUserFriendGetLoveResponse");var NetBUserFriendGiveLoveResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_GIVE_LOVE},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,e.sendParams.fid),a=GlobalAllProxy.getInstance().friendProxy.friendList;if(a)for(var i,n=0,o=a.length;o>n;n++)i=a[n],i.fid==t&&(i.is_give=1);FLOAT.NShowPutong([Language.ins.friend_tip11]),EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendGiveLoveResponse.prototype,"NetBUserFriendGiveLoveResponse");var NetBUserFriendListResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_LIST},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=[],i=[];t&&(a=t.lists,i=t.applyLists),GlobalAllProxy.getInstance().friendProxy.friendList=a,GlobalAllProxy.getInstance().friendProxy.askList=i,GlobalAllProxy.getInstance().friendProxy.receiveLoveCnt=t.receiveLoveCnt,EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendListResponse.prototype,"NetBUserFriendListResponse");var NetBUserFriendMsg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_FRIEND_MSG},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.type,i=t.infos,n=GlobalAllProxy.getInstance().friendProxy,o=n.friendList,r=(n.findList,n.askList);if(i){var s,l;if(1==a){if(r){var p=!1;for(l=r.length-1;l>=0;l--)s=r[l],s.fid==i.fid&&(p=!0);p||r.push(i)}}else if(2==a){if(o){var c=!1;for(l=o.length-1;l>=0;l--)s=o[l],s.fid==i.fid&&(c=!0);c||o.push(i)}}else if(3==a);else if(4==a&&o)for(l=o.length-1;l>=0;l--)s=o[l],s.fid==i.fid&&o.splice(l,1)}EventBus.sendMessage(game.GameCommands.FRIEND_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserFriendMsg.prototype,"NetBUserFriendMsg");var NetBleadGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.User_Lead},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.item,i=GlobalAllProxy.getInstance().backpackProxy;i.addServerItem(a)}}},t}(ProcessorBase);__reflect(NetBleadGiftResponse.prototype,"NetBleadGiftResponse");var NetBNoviceGuideResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.NOVICE_GUIDE},t.prototype.execute=function(e){if(e.returnResult){var t=e.sendParams.guide,a=e.sendParams.type,i=GlobalAllProxy.getInstance().guideProxy;a==guide_type.type_force?i.curGuideId=t:i.addGuideNovice(t)}},t}(ProcessorBase);__reflect(NetBNoviceGuideResponse.prototype,"NetBNoviceGuideResponse");var NetBGrabRedPacketResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_GrabRedPacket},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_ug,t.amount);var a,i=GlobalAllProxy.getInstance().guildProxy.Guild;if(i&&i.data)for(var n=i.data.redPacket,o=0,r=i.data.redPacket.length;r>o;o++)if(t.gearSelection==n[o].totalMoney){n[o].records=t.records,n[o].remainNum=n[o].totalNum-n[o].records.length,n[o].remMoney-=t.amount,n[o].whetherReceive=1,a=n[o];break}}var s={nowinfo:a,money:t.amount};EventBus.sendMessage(game.GameCommands.GUILD_QIANGREDBAG,s)}},t}(ProcessorBase);__reflect(NetBGrabRedPacketResponse.prototype,"NetBGrabRedPacketResponse");var NetBGuildApplyList=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Details},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().guildProxy.Guild.applyLists=t),EventBus.sendMessage(game.GameCommands.GUILD_APPLYLIST)}},t}(ProcessorBase);__reflect(NetBGuildApplyList.prototype,"NetBGuildApplyList");var NetBGuildApplyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_ApplyGuild},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a)for(var i=a.applyLists,n=0,o=i.length;o>n;n++)i[n].guildId==t.guildId&&(i[n].status=1);EventBus.sendMessage(game.GameCommands.GUILD_APPLY)}}},t}(ProcessorBase);__reflect(NetBGuildApplyResponse.prototype,"NetBGuildApplyResponse");var NetBGuildCreateResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Create},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,ParamLoader.instance.FoundGuildCost),GlobalAllProxy.getInstance().guildProxy.Guild&&GlobalAllProxy.getInstance().guildProxy.Guild.objectToThis(t)),EventBus.sendMessage(game.GameCommands.GUILD_CREATE)}},t}(ProcessorBase);__reflect(NetBGuildCreateResponse.prototype,"NetBGuildCreateResponse");var NetBGuildDetailsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Details},t.prototype.execute=function(e){if(e.returnResult){e.returnParams}},t}(ProcessorBase);__reflect(NetBGuildDetailsResponse.prototype,"NetBGuildDetailsResponse");var NetBGuildDonateResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Donate},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild,i=GlobalAllProxy.getInstance().guildProxy.GuildMemberList,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(a&&a.data){var o=a.data;if(1==t.type){if(o.general=1,i&&i.length>1)for(var r=0,s=i.length;s>r;r++)i[r].uid==n&&(i[r].general=1);GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_coin,t.cost)}else{if(o.magnate=1,i&&i.length>1)for(var r=0,s=i.length;s>r;r++)i[r].uid==n&&(i[r].magnate=1);GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost)}if(t.item){var l=GlobalAllProxy.getInstance().backpackProxy;l.addServerItem(t.item)}}}EventBus.sendMessage(game.GameCommands.GUILD_SIGNGIF)}},t}(ProcessorBase);__reflect(NetBGuildDonateResponse.prototype,"NetBGuildDonateResponse");var NetBGuildLogLists=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_ShowLog},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().guildProxy.GuildLogLists=t.logs),EventBus.sendMessage(game.GameCommands.GUILD_LOGLIST)}},t}(ProcessorBase);__reflect(NetBGuildLogLists.prototype,"NetBGuildLogLists");var NetBGuildManagementResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Management},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t)for(var a=GlobalAllProxy.getInstance().guildProxy.GuildMemberList,i=(GlobalAllProxy.getInstance().guildProxy.Guild,GlobalAllProxy.getInstance().playerProxy.playerinfo.uid),n=0,o=a.length;o>n;n++)if(a[n].uid==t.fid){if(1==t.type)a[n].position=1;else if(2==t.type)a[n].position=0;else if(3==t.type){a[n].position=2,GlobalAllProxy.getInstance().guildProxy.Guild.data.position=1;for(var r=0,s=a.length;s>r;r++)if(a[r].uid==i){a[r].position=1;break}}else 4==t.type&&a.splice(n,1);break}EventBus.sendMessage(game.GameCommands.GUILD_MANAGEMENT)}},t}(ProcessorBase);__reflect(NetBGuildManagementResponse.prototype,"NetBGuildManagementResponse");var NetBGuildMemberApplyLists=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_MemberApplyLists},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy;if(a.GuildMemberApplyLists)for(var i=!0,n=0,o=a.GuildMemberApplyLists.length;o>n;n++){for(var r=0,s=t.applyLists.length;s>r;r++)if(a.GuildMemberApplyLists[n].uid==t.applyLists[r].uid){i=!1;break}i&&a.GuildMemberApplyLists.push(t.applyLists[n])}else a.GuildMemberApplyLists=t.applyLists}EventBus.sendMessage(game.GameCommands.GUILD_APPROVAL_LIST)}},t}(ProcessorBase);__reflect(NetBGuildMemberApplyLists.prototype,"NetBGuildMemberApplyLists");var NetBGuildMemberResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Member},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().guildProxy.GuildMemberList=t.memberLists),EventBus.sendMessage(game.GameCommands.GUILD_MEMBER_LIST)}},t}(ProcessorBase);__reflect(NetBGuildMemberResponse.prototype,"NetBGuildMemberResponse");var NetBGuildRank=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Ranking},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().guildProxy.GuildRank=t.rank),EventBus.sendMessage(game.GameCommands.GUILD_RANK)}},t}(ProcessorBase);__reflect(NetBGuildRank.prototype,"NetBGuildRank");var NetBGuildReplyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Reply},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.GuildMemberList,i=GlobalAllProxy.getInstance().guildProxy.GuildMemberApplyLists;if(i)for(var n=0,o=i.length;o>n;n++)if(i[n].uid==t.fid){0==t.type?(a.push(i[n]),GlobalAllProxy.getInstance().guildProxy.Guild.data.memberCount++,GlobalAllProxy.getInstance().guildProxy.Guild.data.totalFighting+=i[n].fighting,i.splice(n,1)):i.splice(n,1);break}}EventBus.sendMessage(game.GameCommands.GUILD_REPLY)}},t}(ProcessorBase);__reflect(NetBGuildReplyResponse.prototype,"NetBGuildReplyResponse");var NetBGuildResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SGuild;a.objectToThis(t),GlobalAllProxy.getInstance().guildProxy.Guild=a}EventBus.sendMessage(game.GameCommands.GUILD_INIT)}},t}(ProcessorBase);__reflect(NetBGuildResponse.prototype,"NetBGuildResponse");var NetBGuildSearchResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Search},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=[];t&&a.push(t.guild),EventBus.sendMessage(game.GameCommands.GUILD_SEARCH,a)}},t}(ProcessorBase);__reflect(NetBGuildSearchResponse.prototype,"NetBGuildSearchResponse");var NetBGuildSettingResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_ModifySetting},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;t.cost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost),2==t.type&&a&&a.data&&(a.data.name=t.text,a.data.modifyNum++,EventBus.sendMessage(game.GameCommands.GUILD_UPNAME)),3==t.type&&a&&a.data&&(a.data.authMethods=t.auth,EventBus.sendMessage(game.GameCommands.GUILD_UPAPPLY)),1==t.type&&a&&a.data&&(a.data.notice=t.text,EventBus.sendMessage(game.GameCommands.GUILD_UPNOTICE))}}},t}(ProcessorBase);__reflect(NetBGuildSettingResponse.prototype,"NetBGuildSettingResponse");var NetBGuildUpgrade=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Notice},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;a&&a.data&&(a.data.exp=t.exp,a.data.level=t.level,a.data.donateNum+=t.num,a.data.threeDaysContribution=t.threeDaysContribution)}EventBus.sendMessage(game.GameCommands.GUILD_JUANXIANTONGZHI)}},t}(ProcessorBase);__reflect(NetBGuildUpgrade.prototype,"NetBGuildUpgrade");var NetBNotifyModifyFighting=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_NotifyModifyFighting},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy,i=a.GuildMemberList,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(t.memberCount>0&&(a.Guild.data.memberCount=t.memberCount),1==t.type)a.Guild.data&&a.Guild.data.totalFighting>0&&(a.Guild.data.totalFighting=t.fighting);else if(2==t.type)i&&i.push(t.member),a.Guild.data&&a.Guild.data.totalFighting>0&&(a.Guild.data.totalFighting=t.fighting);else if(3==t.type)if(a.GuildMemberApplyLists){for(var o=!1,r=0,s=a.GuildMemberApplyLists.length;s>r;r++)if(a.GuildMemberApplyLists[r].uid==t.fid){o=!0;break}o||a.GuildMemberApplyLists.push(t.member)}else a.GuildMemberApplyLists=[t.member];else if(4==t.type){if(i)for(var r=0,s=i.length;s>r;r++)if(i[r].uid==t.fid){i.splice(r,1);break}a.Guild.data&&a.Guild.data.totalFighting>0&&(a.Guild.data.totalFighting=t.fighting)}else if(5==t.type){if(i)for(var r=0,s=i.length;s>r;r++)i[r].uid==n&&(i[r].position=1);a.Guild.data.position=1}else if(6==t.type){if(i)for(var r=0,s=i.length;s>r;r++)i[r].uid==n&&(i[r].position=0);a.Guild.data.position=0}else if(7==t.type){if(i)for(var r=0,s=i.length;s>r;r++)i[r].uid==t.fid&&(i[r].position=1),i[r].uid==t.chairman&&(i[r].position=2,a.Guild.data.position=2);a.Guild.data.position=2}else 8==t.type&&(a.Guild.data=null,a.Guild.applyLists=t.applyLists,a.GuildMemberList=null,a.GuildLogLists=null,a.Guild.data&&a.Guild.data.totalFighting>0&&(a.Guild.data.totalFighting=t.fighting))}EventBus.sendMessage(game.GameCommands.GUILD_NOTIFY,t)}},t}(ProcessorBase);__reflect(NetBNotifyModifyFighting.prototype,"NetBNotifyModifyFighting");var NetBQuitGuild=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_Quit},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().guildProxy.Guild.data=null,GlobalAllProxy.getInstance().guildProxy.Guild.applyLists=t.applyLists,GlobalAllProxy.getInstance().guildProxy.Guild.timestamp=t.timestamp,GlobalAllProxy.getInstance().guildProxy.GuildMemberList=null,GlobalAllProxy.getInstance().guildProxy.GuildLogLists=null),EventBus.sendMessage(game.GameCommands.GUILD_QUIT)}},t}(ProcessorBase);__reflect(NetBQuitGuild.prototype,"NetBQuitGuild");var NetBRedPacketDisappearAuto=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_RedPacketDisappearAuto},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;a&&a.data&&(a.data.redPacket=[])}EventBus.sendMessage(game.GameCommands.GUILD_SENDREDBAG)}},t}(ProcessorBase);__reflect(NetBRedPacketDisappearAuto.prototype,"NetBRedPacketDisappearAuto");var NetBRedPacketResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_AutoSendRedPacket},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;a&&a.data&&(a.data.redPacket=a.data.redPacket.concat(t))}EventBus.sendMessage(game.GameCommands.GUILD_SENDREDBAG)}},t}(ProcessorBase);__reflect(NetBRedPacketResponse.prototype,"NetBRedPacketResponse");var NetBSendRedPacketResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Guild_ManualSendRedPacket},t.prototype.execute=function(e){if(e.returnResult){e.returnParams;EventBus.sendMessage(game.GameCommands.GUILD_SENDREDBAG)}},t}(ProcessorBase);__reflect(NetBSendRedPacketResponse.prototype,"NetBSendRedPacketResponse");var NetBPlayerInformationResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TEAM_PLAYER_INFO},t.prototype.execute=function(e){if(e.returnResult){e.returnParams}},t}(ProcessorBase);__reflect(NetBPlayerInformationResponse.prototype,"NetBPlayerInformationResponse");var NetBPlayerTerminationResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TEAM_PLAYER_TERMINATION},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.HeroInfoView);var t=e.returnParams,a=t.playerItemId,i=t.cardNum,n=t.userItem;a&&n.unshift(new SUserItem(a,i)),GlobalAllProxy.getInstance().backpackProxy.addServerItem(n,!0,!0);var o=e.sendParams.player_id;GlobalAllProxy.getInstance().playerProxy.removePlayer(o),EventBus.sendMessage(game.GameCommands.PLAYER_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBPlayerTerminationResponse.prototype,"NetBPlayerTerminationResponse");var NetBRecoveryPlayersResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Prop_RecoveryPlayers},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=(t.quality,t.returnVal),i=t.item;GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_qiucar,a),GlobalAllProxy.getInstance().backpackProxy.redServerItem(i),EventBus.sendMessage(game.GameCommands.ACHIEVE_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE)}},t}(ProcessorBase);__reflect(NetBRecoveryPlayersResponse.prototype,"NetBRecoveryPlayersResponse");var NetBReincarnationResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Player_Reincarnation},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.transform,i=t.item,n=e.sendParams.playerId,o=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(n);o&&o.setTransform(a),GlobalAllProxy.getInstance().backpackProxy.redServerItem(i),EventBus.sendMessage(game.GameCommands.HERO_BEREBORN_COM),n&&GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_herobereborn,n),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBReincarnationResponse.prototype,"NetBReincarnationResponse");
var NetBTeamUseFormationResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TEAM_USE_FORMATION},t.prototype.execute=function(e){if(e.returnResult){for(var t,a=(e.returnParams,e.sendParams.pos),i={},n=0,o=a.length;o>n;n++)t=a[n],i[t.player_id]=t.position;var r=GlobalAllProxy.getInstance().playerProxy.tacticsData;r&&(r.formid=e.sendParams.formid),GlobalAllProxy.getInstance().playerProxy.setnewFormaPlayer(i),EventBus.sendMessage(game.GameCommands.GET_CHANGE_CHOOSE_FORMA),FLOAT.NShowPutong([Language.ins.forma_tip1])}},t}(ProcessorBase);__reflect(NetBTeamUseFormationResponse.prototype,"NetBTeamUseFormationResponse");var NetBTeamUseTacticsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TEAM_USE_TACTICS},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,e.sendParams),a=GlobalAllProxy.getInstance().playerProxy.tacticsData;t&&t.att_tactical&&(a.att_tactical=t.att_tactical,a.def_tacical=t.def_tacical,EventBus.sendMessage(game.GameCommands.GET_CHANGE_CHOOSE_STUDY))}},t}(ProcessorBase);__reflect(NetBTeamUseTacticsResponse.prototype,"NetBTeamUseTacticsResponse");var NetBBreakLineReconnection=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.User_Reconnection},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=GlobalAllProxy.getInstance().playerProxy.clubData,n=GlobalAllProxy.getInstance().guideProxy,o=GlobalAllProxy.getInstance().backpackProxy;if(i){i.level=t.level,i.exp=t.exp;var r,s=t.build;if(s)for(var l=0,p=s.length;p>l;l++)r=s[l],i.setBuildInfoSever(r);t.selfBuild&&(i.selfBuild=t.selfBuild)}if(a&&(a.level=t.level,a.exp=t.exp,a.gold=t.gold,a.stone=t.stone,a.mission_id=parseInt(t.missionId),a.exp_pool=t.expPool,a.lucky=t.lucky,a.vipLevel=t.vipLevel,a.vipExp=t.vipExp,a.honor=t.honor,a.fight=t.fight),n&&(n.curGuideId=t.guide,n.guideNovice=t.novice,GlobalAllProxy.getInstance().gameProxy.logintype||n.onenterGamefun()),o){var c=t.item;o.changeItemArrForServer(c)}var u=t.offline;if(u&&(GlobalAllProxy.getInstance().gameProxy.offlineData=u,!GlobalAllProxy.getInstance().guideProxy.isPlayGuide())){var m=GlobalAllProxy.getInstance().gameProxy.offlineData;m&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_offline,vm.FightOffLineView.type_offline])}var g=t.refresh;g&&(GlobalAllProxy.getInstance().zeroPointRefresh(g),EventBus.sendMessage(game.GameCommands.DAY_ZERO_CHANGE));var _=Manifest.getIns(FightDM);_.relinkGame();t.offlineTime,t.localtime;EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW),PFAll.ReportLog(report_type.login)}},t}(ProcessorBase);__reflect(NetBBreakLineReconnection.prototype,"NetBBreakLineReconnection");var NetBDeleteMailResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.MIAL_DELETE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=(e.sendParams.mailId,t.item,e.sendSaveData,t.ids),i=GlobalAllProxy.getInstance().gameProxy.maildata;if(i)for(var n,o=i.length-1;o>=0;o--)n=i[o],-1!=a.indexOf(n.mailId)&&i.splice(o,1);EventBus.sendMessage(game.GameCommands.MAIL_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBDeleteMailResponse.prototype,"NetBDeleteMailResponse");var NetBMailAllRecResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Mail_AllAttachment},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=(e.sendSaveData,GlobalAllProxy.getInstance().gameProxy.maildata);if(a)for(var i,n=a.length-1;n>=0;n--)i=a[n],i.isRead=2,i.isRec=1,GlobalAllProxy.getInstance().backpackProxy.addServerItem(i.item,!1,!1);EventBus.sendMessage(game.GameCommands.MAIL_OBTAIN_GET_AWARD,t)}}},t}(ProcessorBase);__reflect(NetBMailAllRecResponse.prototype,"NetBMailAllRecResponse");var NetBMailInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.MAIL_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.mail;GlobalAllProxy.getInstance().gameProxy.maildata=a,EventBus.sendMessage(game.GameCommands.MAIL_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBMailInitResponse.prototype,"NetBMailInitResponse");var NetBMailPassiveInfo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.MAIL_PASSIVE_INFO},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.mail;if(a&&a.length){var i=GlobalAllProxy.getInstance().gameProxy.maildata;if(i){var n,o,r,s,l,p,c=a.length;for(l=i.length,r=c-1;r>=0;r--){for(n=a[r],p=!0,s=0;l>s;s++)if(o=i[s],o&&n.mailId==o.mailId){p=!1;break}p&&i.push(n)}GlobalAllProxy.getInstance().gameProxy.maildata=i}else GlobalAllProxy.getInstance().gameProxy.maildata=a;EventBus.sendMessage(game.GameCommands.MAIL_DATA_CHANGE)}}},t}(ProcessorBase);__reflect(NetBMailPassiveInfo.prototype,"NetBMailPassiveInfo");var NetBReadMailResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.MAIL_READ},t.prototype.execute=function(e){if(e.returnResult){var t=(e.returnParams,e.sendParams.mailId),a=GlobalAllProxy.getInstance().gameProxy.maildata;if(a)for(var i,n=a.length-1;n>=0;n--)i=a[n],i.mailId==t&&(i.isRead=1);EventBus.sendMessage(game.GameCommands.MAIL_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBReadMailResponse.prototype,"NetBReadMailResponse");var NetBRewardMailResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.MAIL_RECEIVE_ATTACHMENTS},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.mailId,i=t.item,n=e.sendSaveData,o=GlobalAllProxy.getInstance().gameProxy.maildata;if(o)for(var r,s=o.length-1;s>=0;s--)r=o[s],r.mailId==a&&(r.isRead=2,r.isRec=1);EventBus.sendMessage(game.GameCommands.MAIL_GET_AWARD,n),GlobalAllProxy.getInstance().backpackProxy.addServerItem(i)}},t}(ProcessorBase);__reflect(NetBRewardMailResponse.prototype,"NetBRewardMailResponse");var NetBBattleResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Battle},t.prototype.execute=function(e){if(e.returnResult){var a=e.returnParams;t.SetFigntData(a,e.sendSaveData),EventBus.sendMessage(game.GameCommands.GET_FIGHT_DATA)}},t.SetFigntData=function(e,t,a,i){void 0===a&&(a=!1),void 0===i&&(i=!1);var n=Manifest.getIns(FightDM),o=new FightDataVO,r=e.custom,s=e.type,l=e.enemyId;o.isplayback=a,o.type=s,o.custom=r,o.nowid=l,o.enemyId=l,i&&(o.isguidenew=i),o.setSeverData(e),o.isplayback?s==FightEnum.type_pvs?(o.type=FightEnum.type_backplay,o.playbackType=s,t?n.runBackFight(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_backplay])}):n.runBackFight(o)):s==FightEnum.type_backplay_league&&(o.type=FightEnum.type_backplay_league,o.playbackType=s,t?n.runBackFight(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_backplay_league])}):n.runBackFight(o)):(n.fightOverAddData(o,!0),s==FightEnum.type_pve?t?n.runPVE(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pve])}):n.runPVE(o):s==FightEnum.type_pvp?t?n.runPVP(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvp])}):n.runPVP(o):s==FightEnum.type_pvc?(GlobalAllProxy.getInstance().playerProxy.playerinfo.addClubfightTime(-1),t?n.runPVC(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvc])}):n.runPVC(o)):s==FightEnum.type_pvf?t?n.runPVF(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvf])}):n.runPVF(o):s==FightEnum.type_pvd?t?n.runPVD(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvd])}):n.runPVD(o):s==FightEnum.type_pvs&&(t?n.runPVS(o,function(){var e=PanelDM.getIns();e.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvs])}):n.runPVD(o)))},t}(ProcessorBase);__reflect(NetBBattleResponse.prototype,"NetBBattleResponse");var NetBLoginResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Login},t.prototype.execute=function(e){if(e.returnResult){var t=GlobalAllProxy.getInstance().playerProxy,a=e.returnParams;Global.systemStartTime=Number(a.localtime),Global.systemTimeNum=Global.systemStartTime,Global.gamestartTime=egret.getTimer(),GlobalTimeManager.instance.Init();var i=new Date;i.setTime(Global.systemStartTime),Global.systemTimeDate=i.getDate();var n=a.stepType,o=a.uid,r=a.userLogin,s=a.userLogo;if(t.playerinfo.uid=o,GlobalAllProxy.getInstance().gameProxy.logintype=n,n?EventBus.sendMessage(game.GameCommands.GAME_LOGIN_COM):(PFAll.loginGameOK(),GlobalAllProxy.getInstance().gameProxy.setLoginData(r)),t.playerinfo.userLogo=s,Global.severNE!=Global.severNE_debug){var l=GlobalAllProxy.getInstance().playerProxy.playerinfo;GlobalAllProxy.getInstance().gameProxy.NetGameLogLogin(PFAll.game_pf,PFAll.game_platform,PFAll.game_userid,PFAll.game_serverId,l.club_name,l.level,l.uid,l.getZhanliNum(),PFAll.game_pf_channel)}}},t}(ProcessorBase);__reflect(NetBLoginResponse.prototype,"NetBLoginResponse");var NetBShareResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Secretary_Share},t.prototype.execute=function(e){if(e.returnResult){var t=this,a=e.returnParams,i=e.sendParams.id,n=e.sendParams.state,o=GlobalAllProxy.getInstance().playerProxy;if(1==n)if(a.item){t.rewardarr=a.item;var r=new AlertVO;r.showCancel=!1,r.info=Language.ins.pf_tip5,i==share_type.type_desktop&&(r.info=Language.ins.pf_tip15),i!=share_type.type_follow&&i!=share_type.type_evaluate&&JAlert.show(r,Language.ins.title_tishi,t.showShareAward,t,t.showShareAward)}else i!=share_type.type_follow&&i!=share_type.type_evaluate&&JAlert.showinfostr(Language.ins.pf_tip5,Language.ins.title_tishi,null,t,!1);if(i==share_type.type_shareevery){var s=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(s&&s.dailyShare){var l=s.dailyShare;l.coolingTime<=0&&o.addShareTime(i,1),l.coolingTime=ParamLoader.instance.ShareDailyCd}}else o.addShareTime(i,1);i==share_type.type_desktop?egret.setTimeout(t.sendShare,t,3e3):t.sendShare(),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,i),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t.prototype.sendShare=function(){EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE)},t.prototype.showShareAward=function(){var e=this,t=e.rewardarr;if(t){var a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(t)}},t}(ProcessorBase);__reflect(NetBShareResponse.prototype,"NetBShareResponse");var NetBUserLogin=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.LOGIN_CRATE_ROLE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.stepType;if(GlobalAllProxy.getInstance().gameProxy.logintype=a,a);else{var i=t.loginUser;GlobalAllProxy.getInstance().gameProxy.setLoginData(i),PFAll.ReportLog(report_type.signcreat),EventBus.sendMessage(game.GameCommands.ON_ENTER_GAME_INIT)}if(Global.severNE!=Global.severNE_debug){var n=GlobalAllProxy.getInstance().playerProxy.playerinfo;GlobalAllProxy.getInstance().gameProxy.NetGameLogLogin(PFAll.game_pf,PFAll.game_platform,PFAll.game_userid,PFAll.game_serverId,n.club_name,n.level,n.uid,n.getZhanliNum(),PFAll.game_pf_channel)}EventBus.sendMessage(game.GameCommands.CREAT_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBUserLogin.prototype,"NetBUserLogin");var NetBConsumerGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_ConsumerGift},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().operationProxy.consumerGift=t)}},t}(ProcessorBase);__reflect(NetBConsumerGiftResponse.prototype,"NetBConsumerGiftResponse");var NetBDailyOnlineResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_DailyOnline},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().operationProxy.dailyOnline=t)}},t}(ProcessorBase);__reflect(NetBDailyOnlineResponse.prototype,"NetBDailyOnlineResponse");var NetBLoginSignInResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_LoginSignIn},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().operationProxy.loginSignIn=t)}},t}(ProcessorBase);__reflect(NetBLoginSignInResponse.prototype,"NetBLoginSignInResponse");var NetBNewOperateActivityPush=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.NewOperateActivity_Push},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().operationProxy.newOperateActivityPush=t,GlobalAllProxy.getInstance().operationProxy.actinit())}},t}(ProcessorBase);__reflect(NetBNewOperateActivityPush.prototype,"NetBNewOperateActivityPush");var NetBOperateActivityBuyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_OperatingActivityBuy},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){if(t.cost){var a=GlobalAllProxy.getInstance().backpackProxy;a.redBagItemNum(GlobalEnum.itemid_ug,t.cost)}if(t.item&&t.special){var i=t.special.concat(t.item),a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(i)}if(t.actType==act_type.chaozhi){var n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;n&&n.flashSale&&(n.flashSale.flashSaleItem[t.param]+=1)}EventBus.sendMessage(game.GameCommands.OPERTION_REWARD_BAOZANG)}}},t}(ProcessorBase);__reflect(NetBOperateActivityBuyResponse.prototype,"NetBOperateActivityBuyResponse");var NetBOperateActivityGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_ReceiveRewards},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.param;if(t.item&&t.actType!=act_type.laba&&t.actType!=act_type.zhuanpan){var i=GlobalAllProxy.getInstance().backpackProxy;i.addServerItem(t.item)}if(t.cost){var i=GlobalAllProxy.getInstance().backpackProxy;i.redBagItemNum(GlobalEnum.itemid_ug,t.cost)}var n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;t.actType==act_type.danbipay&&n&&n.updataSingleRecharge(t.param,t.actType,t.type),t.actType==act_type.leijipay&&n&&n.updataSingleRecharge(t.param,t.actType,t.type),t.actType==act_type.lianxupay&&n&&n.updataSingleRecharge(t.param,t.actType,t.type),t.actType==act_type.ssrpoint&&n&&n.footballPoint&&(n.footballPoint.receiveStatus=2),t.actType==act_type.rawardscout&&n&&n.scoutReward&&(n.scoutReward.scoutRewardList[+a]=1);var o=GlobalAllProxy.getInstance().operationProxy.consumerGift;t.actType==act_type.xiaofei&&o&&(1==t.type?o.dailyRewards.push(t.param):2==t.type&&o.consumerRewards.push(t.param));var r=GlobalAllProxy.getInstance().operationProxy.loginSignIn;t.actType==act_type.qiandao&&r&&(1==t.type||2==t.type?(r.consumerSign++,r.signInRewards.push(t.param)):r.consumerSignIn.push(t.param));var s=GlobalAllProxy.getInstance().operationProxy.starStruck;if(t.actType==act_type.juxing&&s){s.score-=t.type;for(var l=s.itemList,p=0,c=l.length;c>p;p++)t.param==l[p].pid&&(l[p].num=+l[p].num+1+"")}if(t.actType==act_type.chaozhi&&n&&(1==t.type?n.flashSale.todayReceiveStatus=2:2==t.type&&(n.flashSale.receiveStatus=1)),t.actType==act_type.laba&&n){n.dailyOnline.times=t.param;GlobalConfig.getActivityVO(act_type.onlinegif);t.winnerList&&(n.dailyOnline.winnerList=t.winnerList),EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE_LABA,t.item),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE)}t.actType==act_type.zhuanpan&&n&&(n.luckilyRoulette.lucky=t.lucky,n.luckilyRoulette.daily=t.daily,n.luckilyRoulette.rank=t.rank,EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE_ZHUANPAN,t)),t.actType==act_type.mibao&&n&&(n.treasure.count=t.lucky,n.treasure.total=t.total,n.treasure.level=t.unique,n.treasure.rank=t.rank,n.treasure.daily=t.daily,EventBus.sendMessage(game.GameCommands.ACTIVITY_RECEIVE_MIBAO)),EventBus.sendMessage(game.GameCommands.OPERTION_REWARD)}}},t}(ProcessorBase);__reflect(NetBOperateActivityGiftResponse.prototype,"NetBOperateActivityGiftResponse");var NetBOperateActivityLoginPush=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperateActivity_LoginPush},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SOperation;a.objectToThis(t),GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush=a}}},t}(ProcessorBase);__reflect(NetBOperateActivityLoginPush.prototype,"NetBOperateActivityLoginPush");var NetBStarStruckResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.OperatingActivity_StarStruck},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().operationProxy.starStruck=t)}},t}(ProcessorBase);__reflect(NetBStarStruckResponse.prototype,"NetBStarStruckResponse");var NetBGameGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Share_GameGift},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.itemId,i=t.status,n=t.item;n&&n.length&&GlobalAllProxy.getInstance().backpackProxy.addServerItem(n,!1,!1);var o=new ShareGetGifViewOpenVo;o.itemId=a,o.status=i,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_pf_getgif],o)}},t}(ProcessorBase);__reflect(NetBGameGiftResponse.prototype,"NetBGameGiftResponse");var NetBBattlefieldReportResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Secretary_BattlefieldReport},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.report;NetBBattleResponse.SetFigntData(a,!0,!0)}},t}(ProcessorBase);__reflect(NetBBattlefieldReportResponse.prototype,"NetBBattlefieldReportResponse");var NetBChallengesRecordResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_ChallengesRecord},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().fightProxy.qualifyingRecordData=t.challenges),EventBus.sendMessage(game.GameCommands.QUALIFYING_RECORD)}},t}(ProcessorBase);__reflect(NetBChallengesRecordResponse.prototype,"NetBChallengesRecordResponse");var NetBClearTimeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_ClearCoolingTime},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&t.cost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost);var a=e.sendSaveData,i=GlobalAllProxy.getInstance().fightProxy.qualifyingData;i.coolingTime=0,EventBus.sendMessage(game.GameCommands.QUALIFYING_CLEARTIME,a)}},t}(ProcessorBase);__reflect(NetBClearTimeResponse.prototype,"NetBClearTimeResponse");var NetBCrossGloryCoinResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_GloryCoinCost},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(t){var i=t.item,n=GlobalAllProxy.getInstance().backpackProxy;n.addServerItem(i,!0,!0),a.gloryCoin=t.gloryCoin}EventBus.sendMessage(game.GameCommands.LEAGUE_SHOP_REWARD,t.gloryCoin)}},t}(ProcessorBase);__reflect(NetBCrossGloryCoinResponse.prototype,"NetBCrossGloryCoinResponse");var NetBCrossLevelRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_rewardInit},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&(GlobalAllProxy.getInstance().fightProxy.LevelReward=t,EventBus.sendMessage(game.GameCommands.LEAGUE_LEVEL_REWARD))}},t}(ProcessorBase);__reflect(NetBCrossLevelRewardResponse.prototype,"NetBCrossLevelRewardResponse");var NetBCrossRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_Rank},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;t&&EventBus.sendMessage(game.GameCommands.LEAGUE_RANK_DATA,t)}},t}(ProcessorBase);__reflect(NetBCrossRankResponse.prototype,"NetBCrossRankResponse");var NetBCrossReceivedRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_levelReward},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.LevelReward;if(t){if(t.item){var i=t.item,n=GlobalAllProxy.getInstance().backpackProxy;n.addServerItem(i)}a.level=t.level,a.daily=t.daily}EventBus.sendMessage(game.GameCommands.LEAGUE_GETLEVEL_REWARD)}},t}(ProcessorBase);__reflect(NetBCrossReceivedRewardResponse.prototype,"NetBCrossReceivedRewardResponse");var NetBPurchaseTimesResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_PurchaseChallengeTimes},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.qualifyingData;a.challenge+=t.num,a.buyChallenge+=t.num,GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost),EventBus.sendMessage(game.GameCommands.QUALIFYING_BUYTIME,a.challenge)}},t}(ProcessorBase);__reflect(NetBPurchaseTimesResponse.prototype,"NetBPurchaseTimesResponse");var NetBQualifyingDailyRewardsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_DailyRewards},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.qualifyingData;a.dailyRewards.length>0?a.dailyRewards=a.dailyRewards.concat(t.grades):a.dailyRewards=t.grades;var i=GlobalAllProxy.getInstance().backpackProxy;i.addServerItem(t.item),EventBus.sendMessage(game.GameCommands.QUALIFYING_DAYREWARD)}},t}(ProcessorBase);__reflect(NetBQualifyingDailyRewardsResponse.prototype,"NetBQualifyingDailyRewardsResponse");var NetBQualifyingInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SQualifyingInitResponse;a.objectToThis(t),GlobalAllProxy.getInstance().fightProxy.qualifyingData=a,EventBus.sendMessage(game.GameCommands.QUALIFYING_INIT)}},t}(ProcessorBase);__reflect(NetBQualifyingInitResponse.prototype,"NetBQualifyingInitResponse");var NetBQualifyingOpponentResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_RefreshOpponent},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.qualifyingData;a.rival=t.rival,EventBus.sendMessage(game.GameCommands.QUALIFYING_UPDATAPLAYER,t.refreshTime)}},t}(ProcessorBase);__reflect(NetBQualifyingOpponentResponse.prototype,"NetBQualifyingOpponentResponse");var NetBQualifyingRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Qualifying_Ranking},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().fightProxy.qualifyingRankData=t,EventBus.sendMessage(game.GameCommands.QUALIFYING_RANK)}},t}(ProcessorBase);__reflect(NetBQualifyingRankResponse.prototype,"NetBQualifyingRankResponse");var NetBUserCrossApply1Response=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_Apply},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;a&&a.seasonId==t.seasonId&&(a.success=t.success)}EventBus.sendMessage(game.GameCommands.LEAGUE_APPLY)}},t}(ProcessorBase);__reflect(NetBUserCrossApply1Response.prototype,"NetBUserCrossApply1Response");var NetBUserCrossApplyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_Apply},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;a&&a.seasonId==t.seasonId&&(a.success=t.success,a.battleTime=t.battleTime)}EventBus.sendMessage(game.GameCommands.LEAGUE_APPLY)}},t}(ProcessorBase);__reflect(NetBUserCrossApplyResponse.prototype,"NetBUserCrossApplyResponse");var NetBUserCrossResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Cross_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SUserCrossResponse;a.objectToThis(t),GlobalAllProxy.getInstance().fightProxy.UserCrossData=a}}},t}(ProcessorBase);__reflect(NetBUserCrossResponse.prototype,"NetBUserCrossResponse");var NetBAchieveRankResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.RANK_Achieve},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SRankAchieve;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.rankachievedata=a,EventBus.sendMessage(game.GameCommands.RANK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBAchieveRankResponse.prototype,"NetBAchieveRankResponse");var NetBRankClub=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.RANK_CLUB},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SRankClub;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.rankclubdata=a,EventBus.sendMessage(game.GameCommands.RANK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBRankClub.prototype,"NetBRankClub");var NetBRankTeamFighting=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.RANK_TEAM},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SRankTeamFighting;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.rankfightdata=a,EventBus.sendMessage(game.GameCommands.RANK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBRankTeamFighting.prototype,"NetBRankTeamFighting");var NetBRefreshCoolingTimeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Group_ClearCoolingTime},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().fightProxy.richdata;a&&t&&(a.coolingTime=0,GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,t.cost)),EventBus.sendMessage(game.GameCommands.RICH_REFRESH_COOLINGTIME),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE)}},t}(ProcessorBase);__reflect(NetBRefreshCoolingTimeResponse.prototype,"NetBRefreshCoolingTimeResponse");var NetBScoutCancelResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_CANCEL},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.HeroInfoView);var t=e.returnParams,a=e.sendParams.playerItemId,i=t.returns;GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_qiucar,i),a&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(a,1),EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE)}},t}(ProcessorBase);__reflect(NetBScoutCancelResponse.prototype,"NetBScoutCancelResponse");var NetBScoutExchangeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Scout_ExchangePlayers},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SScoutMarket;a.changeitem(t.playerItemId),GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(t.item[0].pid,t.item[0].num),GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(t.playerItemId,1),utils.GameComUtil.playershar(t.playerItemId),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.SCOUT_MARKET_INFO)}}},t}(ProcessorBase);__reflect(NetBScoutExchangeResponse.prototype,"NetBScoutExchangeResponse");var NetBScoutGetpointsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_GET_POINTS},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scoutData;if(a){a.temp_output=0,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_qiutan,t.output);var i=Global.systemTimeNum+"";a.setReshTime(i,!0)}EventBus.sendMessage(game.GameCommands.SCOUT_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.BUILD_GET_AWARD)}},t}(ProcessorBase);__reflect(NetBScoutGetpointsResponse.prototype,"NetBScoutGetpointsResponse");var NetBScoutInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_INT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SScoutInitResponseVO;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.scoutData=a,EventBus.sendMessage(game.GameCommands.SCOUT_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScoutInitResponse.prototype,"NetBScoutInitResponse");var NetBScoutMarketResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this
}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Scout_TransferMarket},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SScoutMarket;a.objectToThis(e.returnParams),GlobalAllProxy.getInstance().playerProxy.scoutMarkdata&&FLOAT.NShowPutong([Language.ins.scout_tip10]),GlobalAllProxy.getInstance().playerProxy.scoutMarkdata=a,t.diamondCost&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_qiucar,t.diamondCost),EventBus.sendMessage(game.GameCommands.SCOUT_MARKET_INFO)}}},t}(ProcessorBase);__reflect(NetBScoutMarketResponse.prototype,"NetBScoutMarketResponse");var NetBScoutRecruitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_RECRUIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.playerItemIds,i=e.sendParams.type,n=(t.teamType,t.luckVal),o=1,r=GlobalAllProxy.getInstance().playerProxy.clubData;GlobalAllProxy.getInstance().playerProxy.getnewhero=1,r&&(o=r.grade);var s=GlobalAllProxy.getInstance().backpackProxy,l=GlobalConfig.getScoutRatioVO(i,o),p=utils.GameComUtil.getItemVoArr(l.cost);if(p.length){var c=null;i==recruitType.type_master?c=Language.ins.log_uug_onecar:i==recruitType.type_master_ten&&(c=Language.ins.log_uug_tencar),s.redBagItemToArr(p,c)}for(var u,m=0,g=a.length;g>m;m++)u=a[m],s.addBagItemNum(u.playerItemId,1,!1,!1,!1);var _=GlobalAllProxy.getInstance().playerProxy.scoutData;if(_){if(i==recruitType.type_expert_ten)_.addexpertsNum(10);else if(i==recruitType.type_expert)_.addexpertsNum(1);else if(i==recruitType.type_master)_.copy_luck=n;else if(i==recruitType.type_master_ten){_.copy_luck=n;var h=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(h&&h.scoutReward){var d=h.scoutReward;d.totalScoutTimes++,d.todayScoutTimes++}}var y=new SScoutInfos;y.type=i,y.player=a,_.addPlayerInfo(y),EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_CHANGE,y);var v=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;v&&v.recruitInit&&(v.recruitInit.score+=ParamLoader.instance.ServerDrawCard[i-1]);var f=GlobalAllProxy.getInstance().operationProxy.starStruck;if(f){var b=GlobalConfig.getactivityoperateVO(f.activityId);if(!b)return;var G=b.relation,x=GlobalConfig.getactivityjuxingVO(G),C=x.limit.split(";");f.score+=+C[i-1]}}}},t}(ProcessorBase);__reflect(NetBScoutRecruitResponse.prototype,"NetBScoutRecruitResponse");var NetBScoutRefreshCardPoolResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.User_ChangeCardPool},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().playerProxy.scoutPool=t.newCardPool,GlobalAllProxy.getInstance().playerProxy.todayReflashTime=t.todayTime,EventBus.sendMessage(game.GameCommands.ScoutLibrary_ChangeCardPool);var a=GlobalConfig.getPriceVO(t.todayTime);a&&GlobalAllProxy.getInstance().playerProxy.playerinfo.addug(-a.poolrefresh,!1,!1,Language.ins.log_uug_scoutRefreshCardPool)}},t}(ProcessorBase);__reflect(NetBScoutRefreshCardPoolResponse.prototype,"NetBScoutRefreshCardPoolResponse");var NetBScoutSignPlayerResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_SIGN_PLAYER},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.HeroInfoView);var t,a=e.returnParams,i=e.sendParams.playerItemId,n=(e.sendParams.type,a.player);if(t=new game.SResponsePlayer,t.objectToThis(n),GlobalAllProxy.getInstance().playerProxy.addPlayerVO(t),i){GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(i,1);var o=GlobalConfig.getItemVo(i),r=GlobalConfig.getPlayerPorpertyVO(parseInt(o.parameter));r&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_coin,r.money)}var s=GlobalAllProxy.getInstance().guideProxy;if(t){var l=!1;s.isPlayGuide()&&(l=!0),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_herosign,t.playerid,null,l)}if(EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE),EventBus.sendMessage(game.GameCommands.SCOUT_RECRUIT_COMPLETE_CHANGE,i),EventBus.sendMessage(game.GameCommands.BACKPACK_DATACHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.SECRETARY_DATA_CHANGE),s.isPlayGuide()){var p=s.curGuideId,c=GuideSyncData.TransTOGuideID(p),u=GlobalConfig.getGuideVo(c);u&&u.type==game.GuideVO.type_force&&PanelDM.getIns().clearPanels()}}},t}(ProcessorBase);__reflect(NetBScoutSignPlayerResponse.prototype,"NetBScoutSignPlayerResponse");var NetBScoutUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCOUT_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scoutData;if(a){a.temp_output=t.temp_output,a.setReshTime(Global.systemTimeNum+"",!1);var i=GlobalConfig.getScoutCenterVO(a.getLevel());if(i){var n=utils.GameComUtil.getItemVoArr(i.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(n)}var o=a.getLevel()+1;a.setLevel(o)}SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_buildup),EventBus.sendMessage(game.GameCommands.SCOUT_DATA_CHANGE),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_builduplv,stafftype.type_scout)}},t}(ProcessorBase);__reflect(NetBScoutUpgradeResponse.prototype,"NetBScoutUpgradeResponse");var NetBZeroRefreshResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.User_ZeroRefresh},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;GlobalAllProxy.getInstance().playerProxy.scoutPool=t.refreshCardPool.newCardPool,GlobalAllProxy.getInstance().playerProxy.todayReflashTime=t.refreshCardPool.todayTime,EventBus.sendMessage(game.GameCommands.ScoutLibrary_ChangeCardPool)}},t}(ProcessorBase);__reflect(NetBZeroRefreshResponse.prototype,"NetBZeroRefreshResponse");var NetBCommitTaskResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SECRETARY_COMMIT_TASK},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.item,i=t.task,n=e.sendParams.taskId,o=GlobalConfig.getSecretaryTaskVO(n);if(o.tasktype){var r=1e6*o.tasktype+n;TDGATool.onMissionBegin(GlobalEnum.talk_task+r),TDGATool.onMissionCompleted(GlobalEnum.talk_task+r)}GlobalAllProxy.getInstance().backpackProxy.addServerItem(a);var s=GlobalAllProxy.getInstance().gameProxy.secretaryData;s&&(s.removeTask(n),i&&s.addTaskArr(i)),EventBus.sendMessage(game.GameCommands.SECRETARY_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBCommitTaskResponse.prototype,"NetBCommitTaskResponse");var NetBInformMsg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.PASSIVE_NOTIFICATION_MESSAGE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.report,i=!1;if(a){i=!0;var n=GlobalAllProxy.getInstance().gameProxy.secretaryData;n&&n.addReportArr(a)}i&&EventBus.sendMessage(game.GameCommands.SECRETARY_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBInformMsg.prototype,"NetBInformMsg");var NetBSecretaryInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SECRETARY_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SSecretaryInitResponse;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.secretaryData=a,EventBus.sendMessage(game.GameCommands.SECRETARY_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBSecretaryInitResponse.prototype,"NetBSecretaryInitResponse");var NetBModifyLogoResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SETTING_MODIFY_LOGO},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.SetUpLogoView);var t=e.returnParams,a=t.logo,i=t.cost,n=GlobalAllProxy.getInstance().playerProxy;GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,i),n.playerinfo.logo=a,n.playerinfo.addownLogo(a),n.modifyLogoNum+=1,EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW),EventBus.sendMessage(game.GameCommands.CLUB_LOGO_CHANGE),FLOAT.NShowPutong([Language.ins.setup_tip2])}},t}(ProcessorBase);__reflect(NetBModifyLogoResponse.prototype,"NetBModifyLogoResponse");var NetBModifyNameResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SETTING_MODIFY_NAME},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.SetUpChangeNameView);var t=e.returnParams,a=t.name,i=t.cost;GlobalAllProxy.getInstance().playerProxy.playerinfo.club_name=a,GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,i),GlobalAllProxy.getInstance().playerProxy.modifyNameNum+=1,EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW),FLOAT.NShowPutong([Language.ins.setup_tip1]),TDGATool.setAccountName(a)}},t}(ProcessorBase);__reflect(NetBModifyNameResponse.prototype,"NetBModifyNameResponse");var NetBShareInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Share_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.SWeeklyShare;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.weeklyshare=a}}},t}(ProcessorBase);__reflect(NetBShareInitResponse.prototype,"NetBShareInitResponse");var NetBShareRewardsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Share_ShareRewards},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=t.type,i=t.position,n=t.param,o=t.item,r=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(1==a){if(r&&r.magnate){var s=r.magnate;-1==s.receiveGrade.indexOf(n)&&s.receiveGrade.push(n)}}else if(2==a){if(r&&r.dailyShare)for(var l,p,c=r.dailyShare,u=c.invites,m=0,g=u.length;g>m;m++)l=u[m],l.index==i&&(p=l.receiveLists,-1==p.indexOf(n)&&p.push(n))}else if(3==a){if(r&&r.dailyShare){var c=r.dailyShare;c.loginReward=2,c.remainder--}}else if(4==a&&r&&r.dailyShare)for(var l,p,c=r.dailyShare,u=c.invites,m=0,g=u.length;g>m;m++)l=u[m],l.index==i&&(l.logo=null,l.name=null);GlobalAllProxy.getInstance().backpackProxy.addServerItem(o,!1,!0)}EventBus.sendMessage(game.GameCommands.SHARE_EVERY_AWARD),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBShareRewardsResponse.prototype,"NetBShareRewardsResponse");var NetBShareWeekResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Share_InviteWeek},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().playerProxy.weeklyshare.weekShare,i=GlobalAllProxy.getInstance().backpackProxy;i.addServerItem(t.item),1==t.type?a.shareStatus=2:2==t.type&&(a.inviteStatus=2)}EventBus.sendMessage(game.GameCommands.SHARE_REWAED),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBShareWeekResponse.prototype,"NetBShareWeekResponse");var SPayNotice=function(){function e(){}return e}();__reflect(SPayNotice.prototype,"SPayNotice");var NetBPayNotice=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Pay_Notice},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t,i=a.buyItem,n=GlobalConfig.getChargeVO(i),o=!1;n&&n.isactivity&&(o=!0);var r=GlobalAllProxy.getInstance().playerProxy.vipData,s=GlobalAllProxy.getInstance().backpackProxy;s.addBagItemNum(GlobalEnum.itemid_ug,a.diamond+a.extraGift,!0,!0),s.addBagItemNum(GlobalEnum.itemid_vipexp,a.addExp,!0,!0,vipaddtype.type_b),s.addBagItemNum(GlobalEnum.itemid_betB,a.guessCoin,!0,!0,vipaddtype.type_b),s.addServerItem(a.item),FLOAT.showLoopInfo();var l=GlobalAllProxy.getInstance().activityProxy.activityArr;if((l&&!l.firstChargeInit||0!=l.firstChargeInit.status)&&r&&i&&r.setPayBuyTime(i),o){if(l&&l.payInit){var p=l.payInit.dailyPay;l.payInit.dailyPay+=a.diamond,l.payInit.totalPay+=a.diamond;var c=GlobalConfig.getActivityVO(act_type.continuousrecharge),u=+c.price;u>p&&l.payInit.dailyPay>=u&&l.payInit.totalChargeDays++}l&&l.firstChargeInit&&0==l.firstChargeInit.status&&(l.firstChargeInit.status=1),l&&l.sevenLogin&&(l.sevenLogin.rechargeStatus=1);var m=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;m&&m.updataPay(a.diamond)}var l=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;l&&l.yiYuan&&i==pay_id.yiyuan_pay_id&&(l.yiYuan.receiveStatus=1);var g=GlobalAllProxy.getInstance().activityProxy.activityArr;g&&g.fundInit&&i==pay_id.activity_pay_fund&&(g.fundInit.fundBuyStatus=1,-1!=a.isFundNum&&(g.fundInit.num=a.isFundNum));var m=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(!m.investmentManager||i!=pay_id.touzi_pay_16&&i!=pay_id.touzi_pay_17&&i!=pay_id.touzi_pay_18||(m.investmentManager.receiveStatus=1),m.footballPoint&&i==pay_id.act_ssr_point&&(m.footballPoint.receiveStatus=1),0!=a.monthCardDay){var _=GlobalAllProxy.getInstance().playerProxy.vipData;if(_&&_.monthCard){var h=_.monthCard,d=h[0],y=h[1],v=h[2];7==a.monthCardDay?(d.numDays+=7,2!=d.dailyGiftBag&&(d.dailyGiftBag=1)):30==a.monthCardDay?(y.numDays+=30,2!=y.dailyGiftBag&&(y.dailyGiftBag=1)):-1==a.monthCardDay&&(v.numDays=-1,2!=v.dailyGiftBag&&(v.dailyGiftBag=1))}EventBus.sendMessage(game.GameCommands.BUY_MONTHCAR,a.monthCardDay)}var f=[pay_id.touzi_actsuperpay_0,pay_id.touzi_actsuperpay_1,pay_id.touzi_actsuperpay_2,pay_id.touzi_actsuperpay_3];if(g&&g.OverflowBuying&&-1!=f.indexOf(i)){var b,G=g.OverflowBuying,x=G.Overflow,C=G.OverflowGet;for(b in x)+x[b].itemId==i&&x[b].buyNum>0&&(x[b].buyNum-=1);for(b in C)+C[b].itemId==i&&(C[b].buyNum+=1)}EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.SHOP_PAY_COMPLETE)}EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW)},t}(ProcessorBase);__reflect(NetBPayNotice.prototype,"NetBPayNotice");var NetBRechargeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Shop_Recharge},t.prototype.execute=function(e){if(e.returnResult){e.returnParams;FLOAT.NShowPutong([Language.ins.shop_tip17])}},t}(ProcessorBase);__reflect(NetBRechargeResponse.prototype,"NetBRechargeResponse");var NetBStoreBuyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.STORE_BUY},t.prototype.execute=function(e){if(e.returnResult){PanelDM.getIns().decideClose(vm.ShopBuyView),PanelDM.getIns().decideClose(vm.HeroInfoView);var t=e.returnParams,a=e.sendParams.itemId,i=e.sendParams.num,n=t.item,o=t.costItem,r=GlobalConfig.getShopVO(a),s=GlobalAllProxy.getInstance().backpackProxy;s.addServerItem(n,!0,!0);var l;if(o&&o.length?s.redServerItem(o):(l=i*r.price,s.redBagItemNum(r.costid,l)),r.costid==GlobalEnum.itemid_ug){var p=GlobalConfig.getItemVo(r.objectid);if(p){var c=Language.ins.log_uug_shop+"_"+p.name;TDGATool.onItemPurchase(i,c,r.price)}}if(+r.objectid==GlobalEnum.itemid_scouttencar){var u=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(u&&u.scoutReward){var m=u.scoutReward;m.todayScoutBuyTimes+=i}}GlobalAllProxy.getInstance().backpackProxy.setShopNum(a,i,!0),EventBus.sendMessage(game.GameCommands.SHOP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBStoreBuyResponse.prototype,"NetBStoreBuyResponse");var NetBStoreInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.STORE_INITIALIZE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.records,i=t.specialSale,n=t.dailyLimitation,o=t.weeklyLimitation;GlobalAllProxy.getInstance().backpackProxy.shopBuyArr=a,GlobalAllProxy.getInstance().backpackProxy.itemIdArr=i,GlobalAllProxy.getInstance().backpackProxy.weeklyLimitation=o,GlobalAllProxy.getInstance().backpackProxy.dailyLimitation=n,EventBus.sendMessage(game.GameCommands.SHOP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBStoreInitResponse.prototype,"NetBStoreInitResponse");var NetBTacticalCenterResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Tactics_Center},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.STCResponseVO;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.tacticsData=a,EventBus.sendMessage(game.GameCommands.GET_TACTICAL_CENTER)}},t}(ProcessorBase);__reflect(NetBTacticalCenterResponse.prototype,"NetBTacticalCenterResponse");var NetBTCFUResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Formation_Upgrade},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.formid,i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(n){var o=n.getFormeLevel(a),r=GlobalConfig.getFormationProperVO(a,o);if(r){var s=utils.GameComUtil.getItemVoArr(r.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(s)}n.changeFormaLevel(a,1);var l=utils.GameComUtil.getFightNum(i.fight),p=l,c=t.fighting-p;n.fighting+=c}EventBus.sendMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE)}},t}(ProcessorBase);__reflect(NetBTCFUResponse.prototype,"NetBTCFUResponse");var NetBTCRecRwdResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Tactics_Center_Rec_Reward},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(a){a.temp_potion=0,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_study,t.potions);var i=Global.systemTimeNum+"";a.setReshTime(i,!0)}EventBus.sendMessage(game.GameCommands.GET_TACTICAL_REWARD),EventBus.sendMessage(game.GameCommands.BUILD_GET_AWARD)}},t}(ProcessorBase);__reflect(NetBTCRecRwdResponse.prototype,"NetBTCRecRwdResponse");var NetBTCTResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Tactics_Upgrade},t.prototype.execute=function(e){if(e.returnResult&&e.returnResult){var t=(e.returnParams,e.sendParams.tid),a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(a){var i=a.getStudyLevel(t),n=GlobalConfig.getTacticstoPorPertyVO(t,i);if(n){var o=utils.GameComUtil.getItemVoArr(n.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(o);var r="tab_zs_b6";n.ttype==game.ComTacticsPorVO.ttype_def&&(r="tab_zs_b7"),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_studyupgrade,t,r)}a.changeStudyLevel(t,1)}EventBus.sendMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE)}},t}(ProcessorBase);__reflect(NetBTCTResponse.prototype,"NetBTCTResponse");var NetBTCUResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Tactics_Center_Upgrade},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(a){a.temp_potion=t.temp_potion;t.timstamp;a.setReshTime(Global.systemTimeNum+"",!1);var i=GlobalConfig.getTacticsCenterVO(a.getLevel());if(i){var n=utils.GameComUtil.getItemVoArr(i.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(n)}var o=a.getLevel()+1;a.setLevel(o)}SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_buildup),EventBus.sendMessage(game.GameCommands.GET_TACTICAL_CENTER_UPGRADE),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_builduplv,stafftype.type_tactical)}},t}(ProcessorBase);__reflect(NetBTCUResponse.prototype,"NetBTCUResponse");var NetBDailyGetRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.DAILY_GET_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.item,i=e.sendParams.num,n=GlobalAllProxy.getInstance().gameProxy.daytask;n.setrewardState(i),GlobalAllProxy.getInstance().backpackProxy.addServerItem(a,!0,!0,null),EventBus.sendMessage(game.GameCommands.DAYTASK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBDailyGetRewardResponse.prototype,"NetBDailyGetRewardResponse");var NetBDailyGetTypeRewardResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.DAILY_GET_TYPE_REWARD},t.prototype.execute=function(e){if(e.returnResult){var t=e.sendParams.type,a=e.returnParams,i=a.score,n=a.cexp,o=GlobalAllProxy.getInstance().backpackProxy,r=GlobalAllProxy.getInstance().gameProxy.daytask;r.addscore(i),r.setListState(t),o.addBagItemNum(GlobalEnum.itemid_exp,n,!0,!0),o.addBagItemNum(GlobalEnum.itemid_daytasknum,i,!0,!0),FLOAT.showLoopInfo(),EventBus.sendMessage(game.GameCommands.DAYTASK_DATA_CHANGE),TDGATool.onMissionBegin(GlobalEnum.talk_act+t),TDGATool.onMissionCompleted(GlobalEnum.talk_act+t);var s=GlobalAllProxy.getInstance().guildProxy;if(s&&s.Guild&&s.Guild.data){s.Guild.data.exp+=i,s.Guild.data.threeDaysContribution+=i;var l=s.GuildMemberList,p=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(l)for(var c=0,u=l.length;u>c;c++)p==l[c].uid&&(l[c].threeDayContribution+=i,l[c].totalContribution+=i)}}},t}(ProcessorBase);__reflect(NetBDailyGetTypeRewardResponse.prototype,"NetBDailyGetTypeRewardResponse");var NetBDailyResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.DAILY_LIST},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SDailyResponse;a.objectToThis(t),GlobalAllProxy.getInstance().gameProxy.daytask=a,EventBus.sendMessage(game.GameCommands.DAYTASK_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBDailyResponse.prototype,"NetBDailyResponse");var NetBScienceBookAddOnceResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_BOOK_ADDONCE},t.prototype.execute=function(e){if(e.returnResult){e.returnParams}},t}(ProcessorBase);__reflect(NetBScienceBookAddOnceResponse.prototype,"NetBScienceBookAddOnceResponse");var NetBScienceBookLockResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Science_BookLock},t.prototype.execute=function(e){if(e.returnResult){for(var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scienceData.book,i=a.length,n=0;i>n;n++)if(a[n].type==t.eid){a[n].lock=t.lock;break}EventBus.sendMessage(game.GameCommands.EQUIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceBookLockResponse.prototype,"NetBScienceBookLockResponse");var NetBScienceClearCoolingResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Science_ClearCooling},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.cost;a&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a);var i=GlobalAllProxy.getInstance().playerProxy.scienceData;i&&i.clearCDFun(),EventBus.sendMessage(game.GameCommands.EQUIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceClearCoolingResponse.prototype,"NetBScienceClearCoolingResponse");var NetBScienceEquipUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_EQUIP_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t,a=(e.returnParams,e.sendParams.eid),i=e.sendParams.type,n=GlobalAllProxy.getInstance().playerProxy;if(t=n.getEquipVo(a),1==i){var o=t.grade,r=GlobalConfig.getEquipClassVO(t.eid,o),s=utils.GameComUtil.getItemVoArr(r.cost);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(s),t.grade+=1;var l=GlobalConfig.getEquipQualityVO(t.eid,t.quality);GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_equipupgrade,i,l.icon)}else{var p=GlobalConfig.getEquipQualityVO(t.eid,t.quality),s=utils.GameComUtil.getItemVoArr(p.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(s),t.quality+=1;var l=GlobalConfig.getEquipQualityVO(t.eid,t.quality);GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_equipupgrade,i,l.icon)}EventBus.sendMessage(game.GameCommands.EQUIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceEquipUpgradeResponse.prototype,"NetBScienceEquipUpgradeResponse");var NetBScienceExchangeBookResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_EXCHANGE_BOOK},t.prototype.execute=function(e){if(e.returnResult){for(var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scienceData,i=GlobalAllProxy.getInstance().playerProxy.equipArr,n=i.length,o=t.equipExp,r=0;n>r;r++)for(var s=0,l=o.length;l>s;s++)if(i[r].eid==o[s].eid){i[r].exp=o[s].exp,i[r].level=o[s].level;break}a.book=[],a.coolingTime=t.coolingTime,EventBus.sendMessage(game.GameCommands.EQUIP_DATA_STRENGTHEN),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceExchangeBookResponse.prototype,"NetBScienceExchangeBookResponse");var NetBScienceGetpointsResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_GET_POINTS},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scienceData;if(a){a.temp_output=0,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_techdian,t.output);var i=Global.systemTimeNum+"";a.setReshTime(i,!0)}EventBus.sendMessage(game.GameCommands.TECH_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.BUILD_GET_AWARD)}}},t}(ProcessorBase);__reflect(NetBScienceGetpointsResponse.prototype,"NetBScienceGetpointsResponse");var NetBScienceInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_INIT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().playerProxy,i=new game.SScienceInitResponseVO;i.objectToThis(t),a.scienceData=i}EventBus.sendMessage(game.GameCommands.TECH_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceInitResponse.prototype,"NetBScienceInitResponse");var NetBScienceRefreshbookResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_RFRESH_BOOK},t.prototype.execute=function(e){if(e.returnResult){var t,a,i=e.returnParams,n=i.book,o=GlobalAllProxy.getInstance().playerProxy.scienceData,r=o.book,s=[];if(r.length<=0){a=n.length;for(var l=0;a>l;l++)t=new ScienceBooks,t.objectToThis(n[l]),s.push(t);o.book=s}else{a=r.length;for(var p=0;a>p;p++)for(var c=0,u=n.length;u>c;c++)r[p].type==n[c].type&&(r[p].quality=n[c].quality,r[p].level=n[c].level)}o.luck+=1,o.luck>=21&&(o.luck=0),1==i.type?GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_techdian,i.cost):2==i.type&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,i.cost),EventBus.sendMessage(game.GameCommands.EQUIP_BOOK_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBScienceRefreshbookResponse.prototype,"NetBScienceRefreshbookResponse");var NetBScienceUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.SCIENCE_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.scienceData;if(a){a.temp_output=t.temp_output,a.setReshTime(Global.systemTimeNum+"",!1);var i=GlobalConfig.getTechCenterVO(a.getLevel());if(i){var n=utils.GameComUtil.getItemVoArr(i.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(n)}var o=a.getLevel()+1;a.setLevel(o)}SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_buildup),EventBus.sendMessage(game.GameCommands.TECH_DATA_CHANGE),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_builduplv,stafftype.type_tech)}}},t}(ProcessorBase);__reflect(NetBScienceUpgradeResponse.prototype,"NetBScienceUpgradeResponse");var NetBUserTitleInit=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Title_Init},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=new game.STitle;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.titledata=a}}},t}(ProcessorBase);__reflect(NetBUserTitleInit.prototype,"NetBUserTitleInit");var NetBUserTitleResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Title_Activate},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;if(t){var a=GlobalAllProxy.getInstance().playerProxy.titledata,i=GlobalAllProxy.getInstance().backpackProxy;t.item&&i.redServerItem(t.item),a.club=t.club,EventBus.sendMessage(game.GameCommands.TITLE_UP)}}},t}(ProcessorBase);__reflect(NetBUserTitleResponse.prototype,"NetBUserTitleResponse");var NetBBuySkillPointResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Upgrade_BuySkillPoint},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=GlobalAllProxy.getInstance().playerProxy.playerinfo;a.skillPoint=t.skillPoint,a.buySkillPointNum=t.buyNum,a.recSkillPointTime=t.recSkillPointTime;var i=(GlobalAllProxy.getInstance().playerProxy.playerinfo.buySkillPointNum,GlobalConfig.getPriceVO(a.buySkillPointNum)),n=0;i&&(n=+i.skill),n&&GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,n),EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBBuySkillPointResponse.prototype,"NetBBuySkillPointResponse");var NetBPlayerPositionExtensionResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TRAINING_POSITION_EXTENSION},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.use_type,i=t.status,n=ParamLoader.instance,o=GlobalAllProxy.getInstance().backpackProxy,r=GlobalAllProxy.getInstance().playerProxy,s=e.sendParams.playerId,l=e.sendParams.position,p=r.getSeverPlayerVO(s),c=p.getlogArr(),u=c.length;
if(i?(PanelDM.getIns().decideClose(vm.TrainBreachChooseView),1==a&&(GlobalAllProxy.getInstance().playerProxy.playerinfo.lucky=0),p.addnewPos(l),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_herobreach,l)):FLOAT.NShowPutong([Language.ins.train_add_tip1],!0),1==a)o.redBagItemNum(GlobalEnum.itemid_ug,n.Serverlocationexpand,Language.ins.log_uug_addpos),i||r.playerinfo.addlucky(n.Serverlucky);else{var m=1,g=n.Serverlocationcard,m=0;p.card_trait==playertrait.trait_SSR&&(u+=2),g.length>=u&&(m=parseInt(g[u-1][1])),o.redBagItemNum(GlobalEnum.itemid_breachcar,m)}EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBPlayerPositionExtensionResponse.prototype,"NetBPlayerPositionExtensionResponse");var NetBPlayerProficiencyUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.CMD_INC_SKILL_MASTERY},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams;e.sendParams.playerId,e.sendParams.skillId;GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(t.item[0].pid,t.item[0].num),EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBPlayerProficiencyUpgradeResponse.prototype,"NetBPlayerProficiencyUpgradeResponse");var NetBPlayerSkillUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TRAINING_PLAYER_SKIL_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.playerId,i=e.sendParams.skillId,n=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a),o=n.getSkillForID(i),r=GlobalConfig.getSkillVO(o.skill_id),s=GlobalConfig.getSkillGradeVO(r.sclass,o.level),l=utils.GameComUtil.getItemVoArr(s.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(l),o.level+=1;var p=GlobalAllProxy.getInstance().playerProxy.playerinfo;p.skillPoint=t.skillPoint,p.recSkillPointTime=t.recSkillPointTime,EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_skillup,0)}},t}(ProcessorBase);__reflect(NetBPlayerSkillUpgradeResponse.prototype,"NetBPlayerSkillUpgradeResponse");var NetBPlayerUpgradeResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TRAINING_PLAYER_UPGRADE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.playerId,i=t.level,n=t.exp,o=t.need,r=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a);GlobalAllProxy.getInstance().playerProxy.playerinfo.addPlayerExpNum(-o),r.exp=n;var s=i-r.level;r.addLevel(s),FLOAT.NShowPutong([Language.ins.train_add_tip6]),EventBus.sendMessage(game.GameCommands.TRAIN_UPGRADESTAR_ANIMO),EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup)}},t}(ProcessorBase);__reflect(NetBPlayerUpgradeResponse.prototype,"NetBPlayerUpgradeResponse");var NetBPlayerUpgradeStarResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.TRAINING_PLAYER_STAR},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.playerId,i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a),n=GlobalConfig.getPlayerStarVO(i.card_trait,i.stars),o=utils.GameComUtil.getItemVoArr(n.cost,null);GlobalAllProxy.getInstance().backpackProxy.redBagItemToArr(o),i.addStar(1);var r,s=t.skill,l=null;if(s){i.openSkill(s);var p=GlobalConfig.getSkillVO(s);l=GlobalEnum.getSkillIconName(p.icon);var c=ColorUtil.getSkillNameCol(p.sclass);r=FormatString.format(Language.ins.game_col,c,p.sname)}GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_starup,i.stars,l,r),EventBus.sendMessage(game.GameCommands.TRAIN_UPGRADESTAR_ANIMO),EventBus.sendMessage(game.GameCommands.TRAIN_DATA_CHANGE),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_levelup)}},t}(ProcessorBase);__reflect(NetBPlayerUpgradeStarResponse.prototype,"NetBPlayerUpgradeStarResponse");var NetBDailyVipGiftBagResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GET_DAILY_VIP_GIFT_BAG},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(a);var i=GlobalAllProxy.getInstance().playerProxy.vipData;i&&i.setdailyGift(1),EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBDailyVipGiftBagResponse.prototype,"NetBDailyVipGiftBagResponse");var NetBGetMonthGiftResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GET_MONTH_CARD_GIFT},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(a);var i=e.sendParams.type,n=GlobalAllProxy.getInstance().playerProxy.vipData;n&&n.setmonthAwardindex(i),EventBus.sendMessage(game.GameCommands.BUY_MONTHCAR),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBGetMonthGiftResponse.prototype,"NetBGetMonthGiftResponse");var NetBVipExclusiveGiftBag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Vip_BuyExclusiveGiftBag},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.cost,i=t.item,n=e.sendParams.level;GlobalAllProxy.getInstance().backpackProxy.addServerItem(i),GlobalAllProxy.getInstance().backpackProxy.redBagItemNum(GlobalEnum.itemid_ug,a);var o=GlobalAllProxy.getInstance().playerProxy.vipData;o&&o.setbuygifindex(n),EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBVipExclusiveGiftBag.prototype,"NetBVipExclusiveGiftBag");var NetBVipInitResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.USER_VIP_INITIALIZE},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=new game.SVipInitResponseVO;a.objectToThis(t),GlobalAllProxy.getInstance().playerProxy.vipData=a,EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBVipInitResponse.prototype,"NetBVipInitResponse");var NetBVipLevelGiftBagResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.GET_VIP_LEVLE_GIFT_BAG},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=e.sendParams.level,i=t.item;GlobalAllProxy.getInstance().backpackProxy.addServerItem(i);var n=GlobalAllProxy.getInstance().playerProxy.vipData;n&&n.addLevelGif(a,1),EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE)}},t}(ProcessorBase);__reflect(NetBVipLevelGiftBagResponse.prototype,"NetBVipLevelGiftBagResponse");var NetBVipLoginResponse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return BufRequests.Vip_LoginGameReceive},t.prototype.execute=function(e){if(e.returnResult){var t=e.returnParams,a=t.vipExp,i=GlobalAllProxy.getInstance().playerProxy.vipData;i.loginExp=a,GlobalAllProxy.getInstance().backpackProxy.addBagItemNum(GlobalEnum.itemid_vipexp,a),EventBus.sendMessage(game.GameCommands.VIP_DATA_CHANGE),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}},t}(ProcessorBase);__reflect(NetBVipLoginResponse.prototype,"NetBVipLoginResponse");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_banner_name1_0","tab_banner_name1_3","tab_hdsc_t9","tab_hdsc_w6","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","btn_common_1","smalicon_100002"],a.resGroupName="ActivityGiftPacksSkin",a.wingSkinName=ActivityGiftPacksSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivityGiftPacksSkinDR=t,__reflect(t.prototype,"skins.ActivityGiftPacksSkinDR")}(skins||(skins={}));var net;!function(e){var t=function(e){function t(t,a){var i=e.call(this)||this;i.m_waitParam=0;var n=i;return t=Math.floor(t),n.m_waitParam=Math.floor(t),n.m_callback=a,i}return __extends(t,e),t}(egret.HashObject);e.NetCallback=t,__reflect(t.prototype,"net.NetCallback")}(net||(net={}));var net;!function(e){var t=function(e){function t(t,a,i){var n=e.call(this)||this,o=n;return o.m_netSocket=t,o.m_packStore=a,o.m_sendBuf=i,o.InitHandleFunc(),n}return __extends(t,e),t.prototype.InitHandleFunc=function(){},t.prototype.SendBegin=function(e){e=Math.floor(e);var t=this;t.m_sendBuf.Clear(),t.m_sendBuf.m_wMsgCmd=Math.floor(e)},t.prototype.SendEnd=function(){var e=this;return e.m_sendBuf.GenSendBuf()?(e.m_netSocket.SendPackUnit(e.m_sendBuf),void e.Trace("SendMsg MsgCmd:"+e.m_sendBuf.m_wMsgCmd.toString(16)+" Time:"+(new Date).toString())):void e.Trace("SendEnd() error; cmd:"+e.m_sendBuf.m_wMsgCmd.toString(16))},t.prototype.RegistHandler=function(e,t){e=Math.floor(e),this.m_packStore.RegistCmdFunc(e,t)},t.prototype.Trace=function(e){},t}(egret.HashObject);e.NetHandlerBase=t,__reflect(t.prototype,"net.NetHandlerBase")}(net||(net={}));var net;!function(e){var t=function(t){function a(){var a=t.call(this)||this;return a.m_dicNetCmd2Func={},a.m_arrNetPack=[],a.m_restData=new e.NetBasePack,a.m_uTID=0,a}return __extends(a,t),a.prototype.RegistCmdFunc=function(e,t){var a=this;e=Math.floor(e),a.m_dicNetCmd2Func[e]||(a.m_dicNetCmd2Func[e]=[]),a.m_dicNetCmd2Func[e].push(t)},a.prototype.RecvDataStream=function(t){var a=this;if(t){var i=!1,n=new e.NetBasePack;for(a.m_restData.position=Math.floor(0),a.m_restData.readBytes(n,n.position),a.m_restData.length=Math.floor(0),t.readBytes(n,n.length),n.position=Math.floor(0);n.bytesAvailable>0;){if(n.bytesAvailable<4)return void n.readBytes(a.m_restData);var o=Math.floor(n.readUnsignedInt());if(n.position-=Math.floor(4),n.bytesAvailable<o)return void n.readBytes(a.m_restData);var r=new e.NetRecvUnit;n.readBytes(r,0,o),r.GenRecvBuf()&&(a.m_arrNetPack.push(r),i=!0)}i&&!a.m_uTID&&a.ProcNetPack()}},a.prototype.ProcNetPack=function(){var e=this;e.m_uTID&&(egret.clearTimeout(e.m_uTID),e.m_uTID=Math.floor(0));for(var t=Math.floor(0);5>t&&e.m_arrNetPack.length>0;){var a=e.m_arrNetPack.shift();if(-1!=a.m_dwMsgErrno){var i=e.m_dicNetCmd2Func[a.m_wMsgCmd];for(var n in i){var o=i[n];o(a)}++t}else console.log("MsgError MsgCmd:"+a.m_wMsgCmd.toString(16)+"  ErrorNo:"+a.m_dwMsgErrno),++t}e.m_arrNetPack.length>0&&(e.m_uTID=egret.setTimeout(e.ProcNetPack,e,30))},a}(egret.HashObject);e.NetPackStore=t,__reflect(t.prototype,"net.NetPackStore")}(net||(net={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_banner_name1_0","tab_banner_name1_1","tab_hdsc_x8","tab_qiri_a9","tab_lt_a3","tab_hdsc_a8","tab_zs_c9","btn_common_1","smalicon_100002","tab_qiri_a1","tab_qiri_a8","tab_qiri_b1"],a.resGroupName="ActivitySevenLoginSkin",a.wingSkinName=ActivitySevenLoginSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivitySevenLoginSkinDR=t,__reflect(t.prototype,"skins.ActivitySevenLoginSkinDR")}(skins||(skins={}));var net;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.GenRecvHead=function(){var e=this;if(e.length<define.MsgConst.MSG_HEADER_LENGTH||e.length>define.MsgConst.MSG_MAX_LENGTH)return!1;if(e.m_dwMsgSize=Math.floor(e.GetDword(0)),e.m_dwMsgMagic=Math.floor(e.GetDword()),e.m_wMsgType=Math.floor(e.GetWord()),e.m_wMsgCmd=Math.floor(e.GetWord()),e.m_dwMsgErrno=Math.floor(e.GetDword()),e.m_dwMsgParams[0]=e.GetDword(),e.m_dwMsgParams[1]=e.GetDword(),0!=e.m_dwMsgErrno);return 0==e.m_wMsgCmd?!1:!0},t.prototype.GenRecvBuf=function(){return this.GenRecvHead()},t}(e.NetPackUnit);e.NetRecvUnit=t,__reflect(t.prototype,"net.NetRecvUnit")}(net||(net={}));var net;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.Clear=function(){e.prototype.Clear.call(this),this.GenSendHead()},t.prototype.GenSendHead=function(){var e=this;e.AddDword(e.m_dwMsgSize,0),e.AddDword(e.m_dwMsgMagic),e.AddWord(e.m_wMsgType),e.AddWord(e.m_wMsgCmd),e.AddDword(e.m_dwMsgErrno),e.AddDword(e.m_dwMsgParams[0]),e.AddDword(e.m_dwMsgParams[1])},t.prototype.GenSendBuf=function(){var e=this;return e.m_dwMsgSize=e.length,e.m_dwMsgSize<define.MsgConst.MSG_HEADER_LENGTH||e.m_dwMsgSize>define.MsgConst.MSG_MAX_LENGTH?!1:(e.GenSendHead(),!0)},t}(e.NetPackUnit);e.NetSendUnit=t,__reflect(t.prototype,"net.NetSendUnit")}(net||(net={}));var net;!function(e){var t=function(e){function t(t){var a=e.call(this)||this;a.m_port=0;var i=a;return i.m_socket=new egret.WebSocket,i.m_packStore=t,a}return __extends(t,e),t.prototype.setRecvCallback=function(e){this.m_recvCallback=e},t.prototype.setConnectCallback=function(e){this.m_connectCallback=e},t.prototype.setCloseCallback=function(e){this.m_closeCallback=e},t.prototype.setErrorCallback=function(e){this.m_errorCallback=e},t.prototype.isConnected=function(){return this.m_socket.connected},t.prototype.connect=function(e,t,a){void 0===a&&(a=0);var i=this;i.m_ip=e,i.m_port=t,i.m_socket.addEventListener(egret.Event.CONNECT,i.onConnected,i),i.m_socket.addEventListener(egret.Event.CLOSE,i.onClosed,i),i.m_socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,i.onSocketData,i),i.m_socket.addEventListener(egret.IOErrorEvent.IO_ERROR,i.onIOError,i),i.m_socket.connect(i.m_ip,i.m_port)},t.prototype.Close=function(){var e=this;e.m_socket.removeEventListener(egret.Event.CONNECT,e.onConnected,e),e.m_socket.removeEventListener(egret.Event.CLOSE,e.onClosed,e),e.m_socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,e.onSocketData,e),e.m_socket.removeEventListener(egret.IOErrorEvent.IO_ERROR,e.onIOError,e);try{e.m_socket.close()}catch(t){}},t.prototype.onIOError=function(e){var t=this;console.log(t,"IOError:"+e.type+","+e.data),null!=t.m_errorCallback&&t.m_errorCallback(e)},t.prototype.onConnected=function(e){var t=this;console.log(t,"connect handler"),null!=t.m_connectCallback&&t.m_connectCallback(e)},t.prototype.onClosed=function(e){var t=this;console.log(t,"close handler"),null!=t.m_closeCallback&&t.m_closeCallback(e)},t.prototype.SendPackUnit=function(e){var t=this;t.m_socket&&t.m_socket.connected?(t.m_socket.writeBytes(e),t.m_socket.flush()):console.log("socket is disconneted")},t.prototype.onSocketData=function(e){var t=this;t.m_socket.connected&&t.m_packStore&&t.m_packStore.RecvDataStream(t.m_socket)},t.prototype.toString=function(){var e=this;return"[Socket ip:"+e.m_ip+", port:"+e.m_port+"]"},t}(egret.HashObject);e.NetSocket=t,__reflect(t.prototype,"net.NetSocket")}(net||(net={}));var define;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.HashObject);e.DataType=t,__reflect(t.prototype,"define.DataType")}(define||(define={})),define.DataType.BYTE=0,define.DataType.UBYTE=1,define.DataType.SHORT=2,define.DataType.WORD=3,define.DataType.INT=4,define.DataType.DWORD=5,define.DataType.FLOAT=6,define.DataType.DOUBLE=7,define.DataType.STRING=8;var define;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.HashObject);e.MsgConst=t,__reflect(t.prototype,"define.MsgConst")}(define||(define={})),define.MsgConst.MAX_USER_NAME=32,define.MsgConst.MAX_USER_NICK=32,define.MsgConst.MAX_HOST_NAME=32,define.MsgConst.MAX_USER_PASSWD=48,define.MsgConst.MSG_HEADER_LENGTH=24,define.MsgConst.MSG_MAX_LENGTH=10240,define.MsgConst.MAX_LOGINPRIZE_DAYS=7,define.MsgConst.USER_CARD_LEN=5,define.MsgConst.CUSTOM_DATA_COUNT=8,define.MsgConst.CTASKBASE_INT_COUNT=16;var LoadJs=function(){function e(){}return e.loadJs=function(e,t,a,i,n){function o(e){e.match("http:")||e.match("https:")||(e="js/"+e);var s=Date.now().toString(),l=document.createElement("script");l.src=e,l.type="text/javascript",l.id=s,l.onerror=function(t){document.getElementById(s).remove(),i&&(console.log("@loaderror:"+e),i(e))},l.onload=function(){r.splice(0,1),r.length>=1?(o(r[0]),a&&a({id:s,src:e})):(a&&a({id:s,src:e}),t&&t()),n&&document.getElementById(s).remove()},document.head.appendChild(l)}var r=e;return"string"==typeof e&&(r=[e]),0==r.length?void(t&&t()):void o(r[0])},e}();__reflect(LoadJs.prototype,"LoadJs");var PFAll=function(){function e(){}return e.payCallback=function(e){},e.InitPF=function(t,a,i){var n=Global;n.severlocal=n.severNE,e.game_pf=t,e.InitPFPlayFun();var o=e.getPFClass(t);o&&(o.InitPF(),a&&i&&a.call(i))},e.InitPFPlayFun=function(){var e=this;e.isNowPF([Global.severNE_japan])?Language.ins.sever_font="Helvetica":e.isNowPF([Global.severNE_english])?(Language.ins.sever_font="Arial",Global.isshowBarrage=!1,ResName.spa_main_a=-2,ResName.spa_title_a=0,ResName.spa_title_b=0,ResName.spa_fight_a=-2):e.isNowPF([Global.severNE_russia])&&(Language.ins.sever_font="Calibri",Global.isshowBarrage=!1,ResName.spa_main_a=-5,ResName.spa_title_a=-5,ResName.spa_title_b=-5,ResName.spa_fight_a=-1)},e.InitConfig=function(){var t=Global,a=t.severNE,i=e.getPFClass(a);i&&i.InitConfig()},e.InitPFLogin=function(t,a){var i=Global;i.severlocal=i.severNE;var n=i.severNE_Arr;if(-1==n.indexOf(i.severNE)){var o=FormatString.format(Language.ins.pt_tip0,i.severNE);return void FLOAT.NShowPutong([o])}var r=e.getPFClass(t);r&&r.logingame()},e.PFPay=function(t){var a=Global.severNE,i=e.getPFClass(a);i&&i.pay(t)},e.sendQuitGame=function(){var t=Global.severNE,a=e.getPFClass(t);a&&a.sendQuitGame()},e.loginGame=function(){var t=Global.severNE;switch(t){default:var a=(new Date).getTime();e.game_time&&(a=e.game_time),GlobalAllProxy.getInstance().gameProxy.NetSendLogin(e.game_userid,+e.game_platform,e.game_serverId,e.game_pf,e.game_token,a,e.game_openid,e.game_pf_channel)}},e.loginGameOK=function(){var t=e.getPFClass(Global.severNE);t&&t.loginGameOK()},e.shareGame=function(t){var a=Global.severNE,i=e.getPFClass(a);i&&i.shareGame(t)},e.collectGame=function(){var t=Global.severNE,a=e.getPFClass(t);a&&a.collectGame()},e.logout=function(){var t=Global.severNE,a=e.getPFClass(t);a&&a.refreshGame()},e.ReportLog=function(t){var a=Global.severNE,i=e.getPFClass(a);i&&i.ReportLog(t)},e.isNowPF=function(e){for(var t,a=Global.severNE,i=0,n=e.length;n>i;i++){if(t=e[i],t==a)return!0;switch(t){case Global.severNE_japan:if("debug_japan"==Global.html_severNE)return!0;break;case Global.severNE_english:if("debug_english"==Global.html_severNE)return!0;break;case Global.severNE_russia:if("debug_russia"==Global.html_severNE)return!0}}return!1},e.followMe=function(){var t=Global.severNE,a=e.getPFClass(t);a&&a.followMe()},e.toIosEvaluation=function(){var t=Global.severNE,a=e.getPFClass(t);a&&a.toIosEvaluation()},e.getPFClass=function(e){var t,a=Global;switch(e){case a.severNE_debug:t=PFdebug.getInstance();break;case a.severNE_aiweiyou:t=PFaiweiyou.getInstance();break;case a.severNE_qqllq:t=PFqqllq.getInstance();break;case a.severNE_wanba:t=PFwanba.getInstance();break;case a.severNE_dujiaoshou:t=PFdujiaoshou.getInstance();break;case a.severNE_dujiaoshouiostest:t=PFdujiaoshouIOSTest.getInstance();break;case a.severNE_tanwan:t=PFtanwan.getInstance();break;case a.severNE_japan:t=PFjapan.getInstance();break;case a.severNE_russia:t=PFrussia.getInstance();break;case a.severNE_english:t=PFJoyFun.getInstance();break;case a.servrNE_tanwantest:t=PFtanwan.getInstance();break;case a.servrNE_wxgame:t=PFwxgame.getInstance();break;case a.servrNE_mobilegame:t=PFmobilegame.getInstance();break;case a.servrNE_blockchain:t=PFblockchain.getInstance()}return t},e.getPFOpenFun=function(t){var a=0;switch(t){case pf_openfun.share:a=e.game_kg_sharebonus;break;case pf_openfun.desktop:a=e.game_kg_showdesktop;break;case pf_openfun.follow:a=e.game_kg_focusbonus;break;case pf_openfun.invitation:a=e.game_kg_sharebonus,(Global.severNE==Global.severNE_debug||this.isdujiaoshouhun()||Global.severNE==Global.severNE_russia)&&(a=0)}return a},e.isdujiaoshouhun=function(){var t=!1;return Global.severNE==Global.severNE_dujiaoshou&&("hortor"==e.game_pf_channel||"aiaiyou"==e.game_pf_channel||"gank"==e.game_pf_channel||(t=!0)),t},e.isdujiaoshouzhuan=function(){var t=!1;return Global.severNE==Global.severNE_dujiaoshou&&("hortor"==e.game_pf_channel||"aiaiyou"==e.game_pf_channel||"gank"==e.game_pf_channel)&&(t=!0),t},e.isGetPFdata=function(){var t=!1;return e.game_userid&&(t=!0),t},e.getChargePath=function(){var t="cfg_charge";return Global.severNE==Global.severNE_russia&&(e.game_pf_channel==Global.severNE_russia_vk?t="cfg_chargevk":e.game_pf_channel==Global.severNE_russia_ok&&(t="cfg_chargeok")),t},e.isRussiaVK=function(){return e.game_pf_channel==Global.severNE_russia_vk},e.isIosTest=function(){var e=Global.severNE,t=!1,a=Global;switch(e){case a.severNE_japan:t=Global.isIOS_ts;break;default:t=Global.isIOS_ts}return t},e.isiosopen=function(t){var a=(Global.severNE,!0);if(e.isIosTest())switch(t){case iostest_type.pay_activity:Global.severNE==Global.severNE_japan&&(a=!1),Global.severNE==Global.servrNE_tanwantest&&(a=!1);break;case iostest_type.pay:case iostest_type.activity:Global.severNE==Global.severNE_dujiaoshou&&(a=!1),Global.severNE==Global.severNE_japan&&(a=!1),Global.severNE==Global.servrNE_tanwantest&&(a=!1);break;case iostest_type.answer:a=!1;break;case iostest_type.vip:Global.severNE==Global.servrNE_tanwantest&&(a=!1)}return a},e.isYouKe=function(){var t=Global.severNE,a=!1,i=Global;switch(t){case i.severNE_japan:a="guest"==e.game_type?!0:!1}return a},e.showyouketip=function(){e.isYouKe()?e.game_blbindtip||(e.game_binding==binding_type.repeat?FLOAT.NShowPutong([Language.ins.pf_buiding_tip0]):e.game_binding==binding_type.complete&&FLOAT.NShowPutong([Language.ins.pf_buiding_tip1]),e.game_blbindtip=!0):e.game_blbindtip||(e.game_blbindtip=!0,e.game_binding==binding_type.complete&&FLOAT.NShowPutong([Language.ins.pf_buiding_tip1]))},e.isOutStopRender=function(){var e=!1;if(utils.GameComUtil.isPhone())switch(Global.severNE){case Global.severNE_wanba:e=!0}return e},e.game_id="",e.game_token="",e.game_params="",e.game_shareurl="",e.game_userid="",e.game_platform=1,e.game_jumpurl="",e.game_appicon="",e.game_serverId=1,e.game_servername="",e.game_pf="",e.game_type="",e.game_binding=0,e.game_blbindtip=!1,e.game_gifid="",e.game_shareid="",e.game_openid="",e.game_pf_nickname="",e.game_pf_channel="",e.game_pf_focus=0,e.game_pf_openid="",e.game_kg_focusbonus=1,e.game_kg_sharebonus=1,e.game_kg_showdesktop=1,e.game_kg_showforum="",e.game_kg_changelogin=1,e.game_version="v1.1.12",e.dubug_gameversion="2018.5.15.19",e.url_visitor_binding="",e.game_score=0,e.game_vip_level=0,e.game_figureurl="",e.isIOS=!1,e}();__reflect(PFAll.prototype,"PFAll");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v4","tab_hdsc_v5","tab_hdsc_v6","tab_hdsc_v1","tab_tyk_a2","tab_zs_c9","tab_lt_a3","tab_hdqr_e4","act_icon_1004003","act_name_1004002","tab_hdsc_u9"],a.resGroupName="ActivitySkin",a.wingSkinName=ActivitySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivitySkinDR=t,__reflect(t.prototype,"skins.ActivitySkinDR")}(skins||(skins={}));var TDGATool=function(){function e(){}return e.GetTDGA=function(){return null},e.Account=function(e,t,a,i,n){var o=this.GetTDGA();if(o){var r={};e&&(r.accountId=e),t&&(r.level=t),a&&(r.gameServer=a),i&&(r.accountType=i),n&&(r.accountName=n),o.Account(r)}},e.setAccountType=function(e){var t=this.GetTDGA();t&&t.Account.setAccountType(e)},e.setAccountName=function(e){var t=this.GetTDGA();t&&t.Account.setAccountName(e)},e.setLevel=function(e){var t=this.GetTDGA();t&&t.Account.setLevel(e)},e.onReward=function(e,t){void 0===t&&(t=null);var a=this.GetTDGA();a&&t&&a.onReward(e,t)},e.onItemPurchase=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=0);var i=this.GetTDGA();if(t&&i){var n={};t&&(n.item=t),e&&(n.itemNumber=e),a&&(n.priceInVirtualCurrency=a),i.onItemPurchase(n)}},e.onItemUse=function(e,t){void 0===t&&(t=null);var a=this.GetTDGA();if(t&&a){var i={};t&&(i.item=t),e&&(i.itemNumber=e),a.onItemUse(i)}},e.onMissionBegin=function(e){var t=this.GetTDGA();t&&t.onMissionBegin(e)},e.onMissionCompleted=function(e){var t=this.GetTDGA();t&&t.onMissionCompleted(e)},e.onMissionFailed=function(e,t){void 0===t&&(t="Fail");var a=this.GetTDGA();a&&a.onMissionFailed(e,t)},e}();__reflect(TDGATool.prototype,"TDGATool");var GC=function(){function e(){}return e.enableUnionShare=function(e){},e}();__reflect(GC.prototype,"GC");var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return""},t.prototype.onNetR=function(e){e.returnResult},t}(e.NetPc);e.NetAiweiyoustartorder=t,__reflect(t.prototype,"game.NetAiweiyoustartorder")}(game||(game={}));var PFaiweiyou=function(e){function t(){var a=e.call(this)||this;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){var e=this,t=SaveUtil.getItem(SaveUtil.type_aiweiyou_token);t==e.tokenkey?e.errorPlay(Language.ins.pt_error_token):SaveUtil.setItem(SaveUtil.type_aiweiyou_token,e.tokenkey)},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.addBackFun=function(){GC.enableUnionShare(function(){utils.GameComUtil.log("@收到支付回调")})},t.prototype.pay=function(e){var a,i=[],n=[],o=GlobalConfig.charge_DATA;for(var r in o)a=o[r],a&&a.id<1e3?i.push(a.itmeid):a.itmeid&&n.push(a.itmeid);a=GlobalConfig.getChargeVO(e),a&&-1==i.indexOf(a.itmeid)&&i.push(a.itmeid),GlobalAllProxy.getInstance().gameProxy.NetAiweiyoustartorder(PFAll.game_serverId);var s=n.join(",");try{GC.jumpPay({uid:Global.severuserid,gameid:t.gameId,userdata:PFAll.game_serverId,pid:i[e-1],hide:s})}catch(l){}},t.prototype.logingame=function(){LoadJs.loadJs([t.payJsPath],function(){var e=t.getInstance().getInfo();e&&GlobalAllProxy.getInstance().gameProxy.loginaccount()},null,function(e){egret.setTimeout(this.logingame,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.token){var i=a.token;e.tokenkey=i,t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.SINGLETON_MSG="PFaiweiyou Singleton already constructed!",t.gameId=109,t.loginPath="http://api.vutimes.com:4100/login",t.payJsPath="http://qcdn.11h5.com/static/js/gc.min.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="http://union.11h5.com/login.html?gameid=109",t}(PFBase);__reflect(PFaiweiyou.prototype,"PFaiweiyou");var PFblockchain=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.beilv=1,null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.InitPF=function(){var e=this;PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,e.url_userinfo=Global.serverURL+"balance_m.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",Global.serverPath=e.url_serverPath,e.initdata(),e.getinfo()},t.prototype.InitConfig=function(){var e=this;e.initQuitGame(),e.initSharegame()},t.prototype.initdata=function(){PFAll.game_score=0/0,PFAll.game_pf_channel=Global.servrNE_blockchain},t.prototype.pay=function(e){if(2==PFAll.game_platform)return void FLOAT.NShowPutong([Language.ins.pf_tip16]);var t;if(t=GlobalConfig.getChargeVO(e)){this._payvo=t;var a=(GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,t.itmeid,t.chargenum*this.beilv);console.log("@判断要扣: ",a+" 当前"+PFAll.game_score);var i={count:a,extString:PFAll.game_serverId},n=this.getSDK();n&&n.makeRecharge(i)}},t.prototype.getinfo=function(){var e=this.getSDK();e&&(e.init(t.gameId,t.loginkey,this.initBackFun,"cn"),e.login(),e.showMain())},t.prototype.initBackFun=function(e){var a=JSON.parse(e),i=t.getInstance().getSDK();if(i)switch(console.log("listener => ",a),a.cmd){case"loginRes":var n=a.data;i.getBalance(),n.wallet&&(PFAll.game_userid=n.wallet.toString(),PFAll.game_token=n.sign,GlobalAllProxy.getInstance().gameProxy.loginaccount()),i.showIcon();break;case"invokescriptRes":var o=(a.data.params,a.data.res);if(1==o.err);else{o.info}break;case"makeRawTransactionRes":break;case"makeRechargeRes":i.showIcon();break;case"getAppNotifysRes":var r,s=a.data;if(s instanceof Array){for(var l=0,p=s.length;p>l;l++)if(r=s[l],r&&r.txid){var c={txid:r.txid};2==+r.state&&FLOAT.NShowPutong([Language.ins.pf_tip8]),i.confirmAppNotify(c)}}else if(r=s,r&&r.txid){var c={txid:r.txid};2==+r.state&&FLOAT.NShowPutong([Language.ins.pf_tip8]),i.confirmAppNotify(c)}break;case"makeGasTransferRes":break;case"confirmAppNotifyRes":break;case"getBalanceRes":var o=a.data,u=o.sgas;o.gas;PFAll.game_score=u;break;case"getUserInfoRes":a.data;break;case"getNetTypeRes":a.data;break;case"changeNetTypeRes":a.data}},t.prototype.getBalance=function(){var e=this.getSDK();e&&e.getBalance()},t.prototype.getSDK=function(){return window.BlackCat.SDK},t.prototype.initQuitGame=function(){},t.prototype.initSharegame=function(){},t.prototype.shareGame=function(e){},t.prototype.getShareAward=function(e){void 0===e&&(e=null)},t.prototype.getShareUrl=function(e,t,a){void 0===a&&(a=["GIFT","shareid"]);var i="";return i},t.prototype.collectGame=function(){},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.POST),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=e.target,a=t.response;egret.log(a);var i=JSON.parse(a+"");if(0==+i.errcode){var n=i;n&&(PFAll.game_score=+n.balance,"balance_m"==n.from)}else i.errcode&&egret.log("errcode:"+i.errcode)},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.SINGLETON_MSG="PFblockchain Singleton already constructed!",t.platform_android="1",t.platform_ios="2",t.loginkey="fU6COKsxU2oQQLGFIKDWZXSMy",t.gameId="7",t}(PFBase);__reflect(PFblockchain.prototype,"PFblockchain");var PFdebug=function(e){function t(){var a=e.call(this)||this;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.InitPF=function(){PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=1,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,PFAll.game_version=PFAll.dubug_gameversion},t.prototype.pay=function(e){},t.prototype.refreshGame=function(){window.location.reload()},t.SINGLETON_MSG="PFdebug Singleton already constructed!",t.serverPath="http://sggjapp2.gz.1251009140.clb.myqcloud.com/h5/",t}(PFBase);__reflect(PFdebug.prototype,"PFdebug");var PFdujiaoshou=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;
0==a.indexOf("https://")&&(i=!0),e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.gamePath=e.changeHTTPS(t.gamePath,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,t.getInstance().getInfo(),e.initsdk()},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.ReportLog=function(e){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo;switch(e){case report_type.login:var a=this.getSDK();a&&a.report({type:"userinfo",who:t.uid,appid:PFAll.game_id,deviceid:PFAll.game_userid,serverid:PFAll.game_serverId,level:t.level,channelid:PFAll.game_pf_channel,power:t.getZhanliNum()})}},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_kay)return void t.httpGet(t.url_ordercreate);var a;a=GlobalConfig.getChargeVO(e);var i=0;if(a&&(i=a.itemdujiaoshou),i){var n=this.getSDK();if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo,r={wid:i,txid:t.pay_kay,userdata:PFAll.game_serverId,serverid:PFAll.game_serverId,username:o.club_name};n.pay(r),debugDM.log("@支付"+JSON.stringify(r)),t.pay_kay=null}}},t.prototype.initsdk=function(){var e=this;debugDM.log("@initsdk:"+t.payJsPath),LoadJs.loadJs([t.payJsPath],function(){debugDM.log("@sdkok");var a=t.getInstance().getInfo();if(a){var i=t.getInstance().getSDK();i&&i.config(t.gameId,function(t){"SUCCESS"==t?PFwanba.share_id&&(e.getShareAward(PFwanba.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,PFwanba.share_id)):JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME),debugDM.log("@分享成功回调:"+t)},function(){JAlert.showinfostr(Language.ins.shop_tip14,Language.ins.title_tishi,null,null,!1),debugDM.log("@充值成功回调")},function(){PFAll.game_pf_focus=1,GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_follow,1),JAlert.showinfostr(Language.ins.shop_tip15,Language.ins.title_tishi,null,null,!1),debugDM.log("@关注成功回调")},function(e,t,a,i){debugDM.log("@登录成功回调"),i&&(PFAll.game_pf_focus=+i.focus,PFAll.game_pf_nickname=i.nickname,PFAll.game_figureurl=i.headimgurl),a&&(PFAll.game_pf_channel=a)})}},null,function(e){egret.setTimeout(this.initsdk,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.logingame=function(){},t.prototype.collectGame=function(){var e=this.getSDK();e&&(e.desktop(),GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1))},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.uid){a.token;PFAll.game_id=a.gameid,PFAll.game_userid=a.uid,PFAll.game_openid=a.openid,PFAll.game_pf_nickname=a.nickname,PFAll.game_figureurl=a.headimgurl,PFAll.game_pf_channel=a.channel,PFAll.game_token=a.sign,PFAll.game_pf_focus=+a.focus,PFAll.game_kg_focusbonus=+a.focusbonus,PFAll.game_kg_sharebonus=+a.sharebonus,PFAll.game_kg_showdesktop=+a.showdesktop,PFAll.game_kg_showforum=a.showforum,PFAll.game_kg_changelogin=+a.changelogin,debugDM.log("@取得后："+JSON.stringify(a)),a.fuid&&(PFAll.game_shareid=a.fuid),t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.shareGame=function(e){Language.ins.game_name,Language.ins.game_miaoshu;PFwanba.share_id=e;var t=this.getSDK();t&&t.showShare()},t.prototype.followMe=function(){var e=this.getSDK();e&&e.showFocus()},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.getSDK=function(){var e=window.GANK_SDK||null;return e},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_kay=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.SINGLETON_MSG="PFdujiaoshou Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="https://cdn.djsh5.com/js/gank.sdk.https.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFdujiaoshou.prototype,"PFdujiaoshou");var PFdujiaoshouIOSTest=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;0==a.indexOf("https://")&&(i=!0),e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.gamePath=e.changeHTTPS(t.gamePath,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,t.getInstance().getInfo(),e.initsdk()},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.ReportLog=function(e){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo;switch(e){case report_type.login:var a=this.getSDK();a&&a.report({type:"userinfo",who:t.uid,appid:PFAll.game_id,deviceid:PFAll.game_userid,serverid:PFAll.game_serverId,level:t.level,channelid:PFAll.game_pf_channel,power:t.getZhanliNum()})}},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_kay)return void t.httpGet(t.url_ordercreate);var a;a=GlobalConfig.getChargeVO(e);var i=0;if(a&&(i=a.itemdujiaoshou),i){var n=this.getSDK();if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo,r={wid:i,txid:t.pay_kay,userdata:PFAll.game_serverId,serverid:PFAll.game_serverId,username:o.club_name};n.pay(r),debugDM.log("@支付"+JSON.stringify(r)),t.pay_kay=null}}},t.prototype.initsdk=function(){var e=this;debugDM.log("@initsdk:"+t.payJsPath),LoadJs.loadJs([t.payJsPath],function(){debugDM.log("@sdkok");var a=t.getInstance().getInfo();if(a){var i=t.getInstance().getSDK();i&&i.config(t.gameId,function(t){"SUCCESS"==t?PFwanba.share_id&&(e.getShareAward(PFwanba.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,PFwanba.share_id)):JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME),debugDM.log("@分享成功回调:"+t)},function(){JAlert.showinfostr(Language.ins.shop_tip14,Language.ins.title_tishi,null,null,!1),debugDM.log("@充值成功回调")},function(){PFAll.game_pf_focus=1,GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_follow,1),JAlert.showinfostr(Language.ins.shop_tip15,Language.ins.title_tishi,null,null,!1),debugDM.log("@关注成功回调")},function(e,t,a,i){debugDM.log("@登录成功回调"),i&&(PFAll.game_pf_focus=+i.focus,PFAll.game_pf_nickname=i.nickname,PFAll.game_figureurl=i.headimgurl),a&&(PFAll.game_pf_channel=a)})}},null,function(e){egret.setTimeout(this.initsdk,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.logingame=function(){},t.prototype.collectGame=function(){var e=this.getSDK();e&&(e.desktop(),GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1))},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.uid){a.token;PFAll.game_id=a.gameid,PFAll.game_userid=a.uid,PFAll.game_openid=a.openid,PFAll.game_pf_nickname=a.nickname,PFAll.game_figureurl=a.headimgurl,PFAll.game_pf_channel=a.channel,PFAll.game_token=a.sign,PFAll.game_pf_focus=+a.focus,PFAll.game_kg_focusbonus=+a.focusbonus,PFAll.game_kg_sharebonus=+a.sharebonus,PFAll.game_kg_showdesktop=+a.showdesktop,PFAll.game_kg_showforum=a.showforum,PFAll.game_kg_changelogin=+a.changelogin,debugDM.log("@取得后："+JSON.stringify(a)),a.fuid&&(PFAll.game_shareid=a.fuid),t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.shareGame=function(e){Language.ins.game_name,Language.ins.game_miaoshu;PFwanba.share_id=e;var t=this.getSDK();t&&t.showShare()},t.prototype.followMe=function(){var e=this.getSDK();e&&e.showFocus()},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.getSDK=function(){var e=window.GANK_SDK||null;return e},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_kay=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.SINGLETON_MSG="PFdujiaoshouIOSTest Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="https://cdn.djsh5.com/js/gank.sdk.https.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFdujiaoshouIOSTest.prototype,"PFdujiaoshouIOSTest");var PFjapan=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",a.url_pay="",a.evaluateIOS_url="https://itunes.apple.com/us/app/id1382489085?l=ja&ls=1&mt=8",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.InitPF=function(){var e=this;location.href;e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_pay=Global.serverURL+"pay.php",PFAll.url_visitor_binding="binding.html",PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,Global.serverPath=e.url_serverPath,t.getInstance().getInfo()},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;t.pay_id=e;var a;a=GlobalConfig.getChargeVO(e);var i=PFAll.game_pf_channel;if(a){if("yahoo_wiki"==PFAll.game_pf_channel)return void this.buyForYahooWiki(a);var n=GlobalAllProxy.getInstance().playerProxy.playerinfo,o=PFAll.game_serverId,r=n.uid,s=window,l=(a.id+"",a.chargenum+""),p=a.name2,c="0",u="http://sozetsugames.com/",m=a.itemdujiaoshou;""!=location.href&&(u=location.href);var g="";s&&(g=s.location.href);var _="",h=PFAll.game_userid,d=PFAll.game_pf_nickname;null==d&&(d="");var y="amount="+l+"&itemName="+p+"&tax="+c+"&clientField1="+_+"&backLink="+encodeURIComponent(g)+"&userID="+h+"&nickname="+d+"&itemCode="+m+"&uid="+r+"&channel="+i+"&serverId="+o,v=t.url_pay+"?",f=v+y;s&&(s.location.href=f)}},t.prototype.buyForYahooWiki=function(e){var t=this,a="["+e.id+"]",i="accountName="+PFAll.game_userid+"&goodsIds="+a+"&serverId="+PFAll.game_serverId,n="https://yahoo.s123.jp/createItemList.php?"+i;t._hp2=new egret.HttpRequest,t._hp2.responseType=egret.HttpResponseType.TEXT,t._hp2.addEventListener(egret.Event.COMPLETE,t.onHttpRequestComplete2,t),t._hp2.addEventListener(egret.IOErrorEvent.IO_ERROR,t.onHttpRequestError2,t),t._hp2.open(n,egret.HttpMethod.GET),t._hp2.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.onHttpRequestError2=function(e){console.log("@发送通知变更选择的充值列表出现异常！"),console.log(e),LoadingMaskView.remove(GameEnum.load_pt_pay)},t.prototype.onHttpRequestComplete2=function(e){var t=this;if(t._hp2.response){var a=JSON.parse(t._hp2.response);null!=a&&0==parseInt(a.code)?t.buyForYahooWiki2():console.log("@设置商品列表，收到数据："+t._hp2.data)}LoadingMaskView.remove(GameEnum.load_pt_pay)},t.prototype.buyForYahooWiki2=function(){var e=window;e&&this.yahoowikipayurl&&(e.location.href=this.yahoowikipayurl)},t.prototype.logingame=function(){},t.prototype.getInfo=function(){var e=this,t=!1,a=window.yahooLoginInfo;if(a)return PFAll.game_pf_channel="yahoo_wiki",PFAll.game_token=a.sign,PFAll.game_time=parseFloat(a.timestamp),PFAll.game_userid=a.user_id,void(e.yahoowikipayurl=a.yahoowikipayurl);var i=utils.GameComUtil.getHtmlKeyArr();if(i&&i.sign){if(PFAll.game_userid=i.uid,PFAll.game_type=i.type,PFAll.isIOS=i.isIOS&&1==i.isIOS?!0:!1,i.binding&&(PFAll.game_binding=parseInt(i.binding)),PFAll.game_pf_channel=i.channel,PFAll.game_token=i.sign,i.time&&(PFAll.game_time=parseInt(i.time)),PFAll.game_pf_nickname=i.nickname,debugDM.log("@取得后："+JSON.stringify(i)),PFAll.isIosTest()){var n=SaveUtil.type_ios_youke_uid+PFAll.game_version,o=SaveUtil.getItem(n);o&&"undefined"!=o||(o=PFAll.game_userid,SaveUtil.setItem(n,PFAll.game_userid)),PFAll.game_userid=o}t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.toIosEvaluation=function(){var e=this;window.location.href=e.evaluateIOS_url},t.prototype.refreshGame=function(){window.location.reload()},t.SINGLETON_MSG="PFjapan Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="https://cdn.djsh5.com/js/gank.sdk.https.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFjapan.prototype,"PFjapan");var PFJoyFun=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;0==a.indexOf("https://")&&(i=!0),PFAll.game_pf_focus=0,PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=1,PFAll.game_kg_showdesktop=1,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,PFAll.game_id=t.gameId,PFAll.game_pf_channel=Global.html_severNE,e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.gamePath=e.changeHTTPS(t.gamePath,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,Global.isshowBarrage=!1;var n=e.getSDK();n?n.init({appId:t.gameId,channelId:t.channelId,debug:!1,env:"production",onSuccess:function(t){console.log("jfsdk:Initialization successful"),e.logingame()},onLogout:function(){}}):e.errorPlay("err:initialization failed")},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.InitConfig=function(){},t.prototype.sendQuitGame=function(){},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_sever_key)return void t.httpGet(t.url_ordercreate);var a,i=t.getSDK();a=GlobalConfig.getChargeVO(e);var n=0;a&&(n=a.itemenglish),i&&n?(i.pay({data:{serverId:PFAll.game_serverId,cpOrderId:t.pay_sever_key,gameGoodsId:a.itemenglish,goodsName:a.name,goodsDesc:a.des,goodsNum:1,goodsPrice:a.chargenum,goodsAmount:a.chargenum,extParams:t.pay_sever_add},onFinish:function(){t.pay_sever_key&&(t.pay_sever_key=null,FLOAT.NShowPutong(["Payment successful"]))},onFail:function(e){t.pay_sever_key=null,FLOAT.NShowPutong(["Payment failed"])},onCancel:function(){t.pay_sever_key=null,FLOAT.NShowPutong(["Payment cancellation"])}}),t.pay_sever_key=null):t.errorPlay("")},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_sever_key=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.prototype.logingame=function(){var e=this,a=e.getSDK();return a?void a.login({onLoginSuccess:function(e){console.log("jfsdk:onLoginSuccess"),t.getInstance().severdata=e,PFAll.game_userid=e.userId.toString(),PFAll.game_token=e.sign,e.formShareId&&(PFAll.game_shareid=e.formShareId),console.log(e),GlobalAllProxy.getInstance().gameProxy.loginaccount()},onLogout:function(){console.log("jfsdk:onLogout"),e.logingame()}}):void e.errorPlay("err:jfsdk")},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.ReportLog=function(e){var t,a=[15,25,30,35,50,55],i=this,n=i.getSDK(),o=1,r=GlobalAllProxy.getInstance().playerProxy.playerinfo,s=r.level<=0?1:r.level,l=!isNaN(e),p=l?e:e[0];switch(p){case report_type.clublevelup:if(-1==a.indexOf(r.level))return;o=a.indexOf(r.level)+4,t={step:o,level:s,serverId:PFAll.game_serverId,character:r.club_name},n.reportLevelUp(t);break;case report_type.login:t={step:o,level:s,serverId:PFAll.game_serverId,character:r.club_name},n.reportEnterGame(t);break;case report_type.guideComplete:o=report_type.guideComplete,t={step:o,level:s,serverId:PFAll.game_serverId,character:r.club_name},n.reportLevelUp(t);break;case report_type.signcreat:o=report_type.signcreat,t={step:o,level:s,serverId:PFAll.game_serverId,character:r.club_name},n.reportLevelUp(t);break;case report_type.openMatchCenterFun:10001004==e[1]&&(o=report_type.openMatchCenterFun,t={step:o,level:s,serverId:PFAll.game_serverId,character:r.club_name},n.reportLevelUp(t))}},t.prototype.followMe=function(){},t.prototype.shareGame=function(e){var t=this,a=t.getSDK(),i=(Language.ins.game_name,Language.ins.game_miaoshu);PFAll.share_id=e;var n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(a&&n){var o=Global.severNE_english+"_"+PFAll.game_serverId+"_"+n,r={quote:i,shareId:o,thumbnail:"http://enweb.wc2018.instantfuns.com/pic/share.jpg",onFail:function(e){e&&FLOAT.NShowPutong([e])}};a.shareFacebook(r),egret.setTimeout(t.getShareAward,t,3e3,PFAll.share_id)}},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,PFAll.share_id)}},t.prototype.severerror=function(e){e&&FLOAT.NShowPutong(e)},t.prototype.collectGame=function(){var e=this,t=e.getSDK();if(t){var a=navigator.userAgent;a.indexOf("AppleWebKit")>-1?(t.addToHomeScreen(),GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1)):FLOAT.NShowPutong(["Please use safari or chrome to open"])}},t.prototype.getSDK=function(){var e=window.jfsdk||null;return e},t.SINGLETON_MSG="PFJoyFun Singleton already constructed!",t.gameId="120000007",t.channelId="510017",t.payJsPath="https://static.123ogame.com/public/common/H5/js/JCgame_sdk.js",t.serverPath="http://enapi.wc2018.instantfuns.com/gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFJoyFun.prototype,"PFJoyFun");var PFmobilegame=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;0==a.indexOf("https://")&&(i=!0),e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.gamePath=e.changeHTTPS(t.gamePath,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,t.getInstance().getInfo(),e.initsdk()},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.ReportLog=function(e){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo;switch(e){case report_type.login:var a=this.getSDK();a&&a.report({type:"userinfo",who:t.uid,appid:PFAll.game_id,deviceid:PFAll.game_userid,serverid:PFAll.game_serverId,level:t.level,channelid:PFAll.game_pf_channel,power:t.getZhanliNum()})}},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_kay)return void t.httpGet(t.url_ordercreate);var a;a=GlobalConfig.getChargeVO(e);var i=0;if(a&&(i=a.itemdujiaoshou),i){var n=this.getSDK();if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo,r={wid:i,txid:t.pay_kay,userdata:PFAll.game_serverId,serverid:PFAll.game_serverId,username:o.club_name};n.pay(r),debugDM.log("@支付"+JSON.stringify(r)),t.pay_kay=null}}},t.prototype.initsdk=function(){var e=this;debugDM.log("@initsdk:"+t.payJsPath),LoadJs.loadJs([t.payJsPath],function(){debugDM.log("@sdkok");var a=t.getInstance().getInfo();if(a){var i=t.getInstance().getSDK();i&&i.config(t.gameId,function(t){"SUCCESS"==t?PFwanba.share_id&&(e.getShareAward(PFwanba.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,PFwanba.share_id)):JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME),debugDM.log("@分享成功回调:"+t)},function(){JAlert.showinfostr(Language.ins.shop_tip14,Language.ins.title_tishi,null,null,!1),debugDM.log("@充值成功回调")},function(){PFAll.game_pf_focus=1,GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_follow,1),JAlert.showinfostr(Language.ins.shop_tip15,Language.ins.title_tishi,null,null,!1),debugDM.log("@关注成功回调")},function(e,t,a,i){debugDM.log("@登录成功回调"),i&&(PFAll.game_pf_focus=+i.focus,PFAll.game_pf_nickname=i.nickname,PFAll.game_figureurl=i.headimgurl),a&&(PFAll.game_pf_channel=a)})}},null,function(e){egret.setTimeout(this.initsdk,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.logingame=function(){},t.prototype.collectGame=function(){var e=this.getSDK();e&&(e.desktop(),GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1))},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.uid){a.token;PFAll.game_id=a.gameid,PFAll.game_userid=a.uid,PFAll.game_openid=a.openid,PFAll.game_pf_nickname=a.nickname,PFAll.game_figureurl=a.headimgurl,PFAll.game_pf_channel=a.channel,PFAll.game_token=a.sign,PFAll.game_pf_focus=+a.focus,PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,debugDM.log("@取得后："+JSON.stringify(a)),a.fuid&&(PFAll.game_shareid=a.fuid),t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.shareGame=function(e){Language.ins.game_name,Language.ins.game_miaoshu;PFwanba.share_id=e;var t=this.getSDK();t&&t.showShare()},t.prototype.followMe=function(){var e=this.getSDK();e&&e.showFocus()},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.getSDK=function(){var e=window.GANK_SDK||null;return e},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_kay=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.SINGLETON_MSG="PFmobilegame Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="https://cdn.djsh5.com/js/gank.sdk.https.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFmobilegame.prototype,"PFmobilegame");var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return""},t.prototype.onNetR=function(e){if(e.returnResult){PFqqllq.appsig=e.returnParams[1][1],PFqqllq.appsigData=e.returnParams[1][2];var t=e.sendSaveData;t&&PFqqllq.getInstance().getsigback(t)}},t.type_login=1,t.type_pay=2,t}(e.NetPc);e.NetGetAppSig=t,__reflect(t.prototype,"game.NetGetAppSig")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return""},t.prototype.onNetR=function(e){e.returnResult},t}(e.NetPc);e.NetGetCipherData=t,__reflect(t.prototype,"game.NetGetCipherData")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return""},t.prototype.onNetR=function(e){e.returnResult&&(PFqqllq.appsigData=e.returnParams[1][1])},t}(e.NetPc);e.NetGetDataSig=t,__reflect(t.prototype,"game.NetGetDataSig")}(game||(game={}));var game;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getCmd=function(){return""},t.prototype.onNetR=function(e){if(e.returnResult){PFqqllq.apppaysigData=e.returnParams[1][1];var t=e.sendSaveData;t&&PFqqllq.getInstance().getsigback(t)}},t}(e.NetPc);e.NetQqllqGetDataSig=t,__reflect(t.prototype,"game.NetQqllqGetDataSig")}(game||(game={}));var PFqqllq=function(e){function t(){var a=e.call(this)||this;if(null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.pay=function(e){if(t.SDK){var a=t.severobj,i=GlobalConfig.getChargeVO(e),n=1,o=utils.GameComUtil.getSeverObj();o&&(n=o.id);var r=10*i.chargenum,s={appid:t.APPID,appsig:"",paysig:"",qbopenid:a.qbopenid,qbopenkey:a.qbopenkey,payItem:i.name+"*"+r+"*1",payInfo:i.name,reqTime:Math.floor((new Date).getTime()/1e3),customMeta:e+"_"+n+"_"+GlobalAllProxy.getInstance().playerProxy.playerinfo.uid},l="appid="+s.appid+"&appsig="+s.appsig+"&paysig="+s.paysig+"&qbopenid="+s.qbopenid+"&qbopenkey="+s.qbopenkey+"&payItem="+s.payItem+"&payInfo="+s.payInfo+"&reqTime="+s.reqTime+"&customMeta="+s.customMeta;GlobalAllProxy.getInstance().gameProxy.NetQqllqGetDataSig(l,{type:game.NetGetAppSig.type_pay,idN:e})}},t.prototype.backpay=function(e){if(t.SDK){var a=utils.GameComUtil.getSeverObj(),i=1;a&&(i=a.id);var n=t.severobj,o=GlobalConfig.getChargeVO(e),r=10*o.chargenum,s={appid:t.APPID,appsig:"",paysig:t.apppaysigData,qbopenid:n.qbopenid,qbopenkey:n.qbopenkey,payItem:o.name+"*"+r+"*1",payInfo:o.name,reqTime:Math.floor((new Date).getTime()/1e3),customMeta:e+"_"+i+"_"+GlobalAllProxy.getInstance().playerProxy.playerinfo.uid},l=function(a){"object"==typeof a&&("order error, ErrorCode(1101)"==a.msg||0===a.result||-2===a.result||903===a.result||(-3===a.result?setTimeout(function(){t.getInstance().refreshToken(function(){t.getInstance().pay(e)})},3e3):19===a.result&&setTimeout(function(){t.getInstance().logout()},3e3)))};t.SDK.pay(s,l)}},t.prototype.logingame=function(){LoadJs.loadJs([t.sdkall],function(){t.SDK=window.browser.x5gameplayer,t.SDK?(t.SDK.config&&t.SDK.config({loginCallBack:t.getInstance().loginCallBack}),t.SDK.getAvailableLoginType({appid:t.APPID},function(e){if(e&&0===e.result){for(var a=e.loginTypes,i=[],n=0;n<a.length;n++)i.push(a[n].loginType);t.severtypeArr=i,EventBus.sendMessage(game.GameCommands.qq_login_change)}})):FLOAT.NShowPutong([Language.ins.game_tip0])},null,function(e){egret.setTimeout(this.logingame,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.loginIn=function(e){if(t.SDK){var a=GlobalAllProxy.getInstance().gameProxy;a.NetGetAppSig({type:game.NetGetAppSig.type_login,idN:e})}},t.prototype.getsigback=function(e){if(e&&e.type){var a=e.type,i="";switch(e.idN&&(i=e.idN),a){case game.NetGetAppSig.type_login:t.appsig&&t.appsigData&&t.SDK.login({appid:t.APPID,appsig:t.appsig,appsigData:t.appsigData,loginType:i},function(e){});break;case game.NetGetAppSig.type_pay:this.backpay(parseInt(i))}}},t.prototype.loginCallBack=function(e){e&&0===e.result?(t.severobj=e,t.severkey="qbopenid="+e.qbopenid+"&qbopenkey="+e.qbopenkey+"&refreshToken="+e.refreshToken+"&rspsig="+e.rspsig,t.severkey&&GlobalAllProxy.getInstance().gameProxy.loginaccount()):602==e.result},t.prototype.getLoginKey=function(){return t.severkey},t.prototype.refreshToken=function(e){if(t.SDK){var a=t.severobj,i={appid:t.APPID,qbopenid:a.qbopenid,refreshToken:a.refreshToken},n=function(e){if("object"==typeof e)if(0===e.result&&e.qbopenkey){var a=window.localStorage;a.setItem("qbopenkey",e.qbopenkey),e.qbopenkey=e.qbopenkey}else 11==e.result&&setTimeout(function(){t.getInstance().logout()},3e3)};t.SDK.refreshToken(i,n)}},t.prototype.logout=function(){if(t.SDK){var e={appid:t.APPID,qbopenid:localStorage.getItem("qbopenid"),loginType:localStorage.getItem("loginType")};t.SDK.logout(e,function(e){var a=window.location.href,i=t.SDK.sandbox||"";i=i&&"?sandbox="+i,window.location.href=a.substring(0,a.lastIndexOf("/"))+"/login.html"+i})}},t.type_qq="qq",t.type_wx="wx",t.SINGLETON_MSG="PFqqllq Singleton already constructed!",t.serverPath="http://gateway.hylrh5.shengyouxi.com/qqbrowser/json-gateway.php",t.sdkinf="http://jsapi.qq.com/get?api=x5gameplayer.*",t.sdkall="http://res.imtt.qq.com/html5game/api/js/qbh5-1.0.0-min.js",t.APPID=7254199613,t.JsOK=!1,t.severkey="",t.severtypeArr=[],t
}(PFBase);__reflect(PFqqllq.prototype,"PFqqllq");var PFrussia=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",a.success_str="success",a.failed_str="failed",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;0==a.indexOf("https://")&&(i=!0),PFAll.game_pf_focus=0,PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.gamePath=e.changeHTTPS(t.gamePath,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,t.getInstance().getInfo(),e.initsdk()},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.ReportLog=function(e){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=this,i=a.getSDK();if(i)switch(e){case report_type.login:i.callMethod("reportCharacter",{character:t.club_name,sid:PFAll.game_serverId},function(e){e.status==a.success_str||a.severerror(e)});break;case report_type.clublevelup:i.callMethod("reportLevel",{level:t.level,sid:PFAll.game_serverId},function(e){e.status==a.success_str||a.severerror(e)})}},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_kay)return void t.httpGet(t.url_ordercreate);var a;a=GlobalConfig.getChargeVO(e);var i=0;if(a&&(i=a.itemeluosi),i){var n=t.getSDK();if(n){var o={order_id:t.pay_kay,goods_id:i,sid:PFAll.game_serverId};debugDM.log("@支付"+JSON.stringify(o)),t.pay_kay=null,n.callMethod("showPayBox",o,function(e){e.status==t.success_str||t.severerror(e)})}}},t.prototype.initsdk=function(){var e=this;debugDM.log("@initsdk:"+t.payJsPath),LoadJs.loadJs([t.payJsPath],function(){debugDM.log("@sdkok");var a=t.getInstance().getInfo();if(a){var i=t.getInstance().getSDK();i&&i.init(function(){},function(t){t.status==e.success_str||e.severerror(t)})}},null,function(t){egret.setTimeout(e.initsdk,e,GlobalEnum.loaderrorTime)}.bind(e))},t.prototype.logingame=function(){},t.prototype.collectGame=function(){},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.uid){var i=a.token;PFAll.game_userid=a.uid,PFAll.game_id=a.gid,e.token_str=i,PFAll.game_pf_openid=a.platform_id,PFAll.game_pf_channel=a.platform_name,PFAll.game_time=parseFloat(a.time),PFAll.game_token=a.sign,PFAll.game_kg_sharebonus=+a.share_support,debugDM.log("@取得后："+JSON.stringify(a)),a.share_uid&&(PFAll.game_shareid=a.share_uid),t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.loginGameOK=function(){var e=this,t=e.getSDK();t&&t.callMethod("checkLogin",{uid:PFAll.game_userid,sid:PFAll.game_serverId,gid:PFAll.game_id,token:e.token_str},function(a){a.status==e.success_str?t.callMethod("reportCharacter",{character:GlobalAllProxy.getInstance().playerProxy.playerinfo.club_name,sid:PFAll.game_serverId},function(t){t.status==e.success_str||e.severerror(t)}):e.severerror(a)})},t.prototype.severerror=function(e){e.errCode&&FLOAT.NShowPutong(["error:"+e.errCode])},t.prototype.shareGame=function(e){var t=this;Language.ins.game_name,Language.ins.game_miaoshu;PFAll.share_id=e;var a=t.getSDK();a&&a.callMethod("showShareBox",{platform_name:PFAll.game_pf_channel},function(e){e.status==t.success_str?(t.getShareAward(PFAll.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,PFAll.share_id)):t.severerror(e)})},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.getSDK=function(){var e=window.JCgame||null;return e},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_kay=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay)},t.SINGLETON_MSG="PFrussia Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="https://static.123ogame.com/public/common/H5/js/JCgame_sdk.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t.gamePath="https://sdk.djsh5.com/game/?g=ZBqNInBpQHgOY",t}(PFBase);__reflect(PFrussia.prototype,"PFrussia");var PFtanwan=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.url_ordercreate="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.checkTokenVar=function(){},t.prototype.InitPF=function(){var e=this,a=location.href,i=!1;0==a.indexOf("https://")&&(i=!0),e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",e.url_ordercreate=Global.serverURL+"ordercreate.php",PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,e.url_userinfo=e.changeHTTPS(e.url_userinfo,i),e.url_buy_item=e.changeHTTPS(e.url_buy_item,i),e.url_serverPath=e.changeHTTPS(e.url_serverPath,i),e.url_ordercreate=e.changeHTTPS(e.url_ordercreate,i),t.payJsPath=e.changeHTTPS(t.payJsPath,i),t.serverPath=e.changeHTTPS(t.serverPath,i),Global.serverPath=e.url_serverPath,t.getInstance().getInfo(),e.initsdk()},t.prototype.changeHTTPS=function(e,t){return e=t?e.replace("http://","https://"):e.replace("https://","http://")},t.prototype.ReportLog=function(e){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=[3,4,1,2,5,6],i=null,n=null,o=null,r=null;switch(t&&(t.uid&&(i=t.uid),t.club_name&&(n=t.club_name),t.level&&(o=t.level),t.stone&&(r=t.stone)),e){case report_type.login:case report_type.clublevelup:case report_type.choosesever:case report_type.signcreat:case report_type.outgame:case report_type.pay:var s=this.getSDK();if(s){var l=a[e-1];s.reportUserInfo({dataType:l,appid:PFAll.game_id,serverID:PFAll.game_serverId,serverName:PFAll.game_servername,userId:PFAll.game_userid,roleID:i,roleName:n,roleLevel:o,moneyNum:r})}}},t.prototype.ReshLoad=function(){window.location.reload()},t.prototype.pay=function(e){var t=this;if(t.pay_id=e,!t.pay_kay)return void t.httpGet(t.url_ordercreate);var a;a=GlobalConfig.getChargeVO(e);var i=0;if(a&&(i=a.itemdujiaoshou),i){var n=this.getSDK();if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo,r={buyNum:1,coin:100,game_id:PFAll.game_id,server_id:PFAll.game_serverId,server_name:PFAll.game_servername,uid:PFAll.game_userid,role_name:o.club_name,role_level:o.level,vip:o.vipLevel,money:a.chargenum,game_gold:a.diamond,role_id:o.uid,product_id:i,product_name:a.name,product_desc:a.name,ext:t.pay_kay};n.pay(r),debugDM.log("@支付"+JSON.stringify(r)),t.pay_kay=null}}},t.prototype.initsdk=function(){debugDM.log("@initsdk:"+t.payJsPath),LoadJs.loadJs([t.payJsPath],function(){debugDM.log("@sdkok");var e=t.getInstance().getInfo();if(e){t.getInstance().getSDK()}},null,function(e){egret.setTimeout(this.initsdk,this,GlobalEnum.loaderrorTime)}.bind(this))},t.prototype.logingame=function(){},t.prototype.collectGame=function(){},t.prototype.getInfo=function(){var e=this,t=!1,a=utils.GameComUtil.getHtmlKeyArr();if(a&&a.uid){a.token;PFAll.game_userid=a.uid,PFAll.game_pf_nickname=a.uname,PFAll.game_id=a.appid,PFAll.game_time=parseFloat(a.time),PFAll.game_token=a.sign,debugDM.log("@取得后："+JSON.stringify(a)),PFAll.game_pf_channel=Global.html_severNE,-2==parseInt(a.logotype)&&a.logo_url&&(PFAll.game_change_logo=decodeURIComponent(a.logo_url)),-2==parseInt(a.loading_bg_type)&&a.loading_bg_url&&(PFAll.game_change_loadbg=decodeURIComponent(a.loading_bg_url)),-2==parseInt(a.login_bg_type)&&a.login_bg_url&&(PFAll.game_change_bg=decodeURIComponent(a.login_bg_url)),t=!0}else e.errorPlay(Language.ins.pt_error_token),t=!1;return t},t.prototype.shareGame=function(e){Language.ins.game_name,Language.ins.game_miaoshu;PFAll.share_id=e;var t=this.getSDK();t&&t.showShare()},t.prototype.followMe=function(){var e=this.getSDK();e&&e.showFocus()},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.getSDK=function(){var e=window.twSDK||null;return e},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.GET),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");egret.log("compHttp:"+JSON.stringify(i)),n&&n.orderid&&(t.pay_kay=n.orderid,t.pay_id&&t.pay(t.pay_id))},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay)},t.SINGLETON_MSG="PFtanwan Singleton already constructed!",t.gameId="ZBqNInBpQHgOY",t.payJsPath="http://h5.tanwan.com/js/game/sdk-init.js",t.serverPath="http://gateway.hylrh5.shengyouxi.com/h5/json-gateway.php",t}(PFBase);__reflect(PFtanwan.prototype,"PFtanwan");var PFwanba=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.InitPF=function(){var e=this;PFAll.game_kg_focusbonus=0,e.url_userinfo=Global.serverURL+"balance.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",Global.serverPath=e.url_serverPath,e.initdata();var t=window.OPEN_DATA;t&&window.getOpenKey(function(t){var a=(t.code,t.data);if(a){var i=(a.appid,a.openkey),n=a.openid;PFAll.game_userid=n,PFAll.game_token=i}e.getinfo()})},t.prototype.InitConfig=function(){var e=this;e.initQuitGame(),e.initSharegame()},t.prototype.initdata=function(){var e=window.OPEN_DATA;if(e){PFAll.game_params;PFAll.game_id=t.gameId,PFAll.game_token=e.openkey,PFAll.game_platform=e.platform,PFAll.game_userid=e.openid,PFAll.game_shareurl=e.shareurl,PFAll.game_jumpurl=e.jumpurl,PFAll.game_appicon=e.appicon,PFAll.game_pf=e.pf;var a=e.appurl,i=utils.GameComUtil.getHtmlKeyArr(a);i.GIFT&&(PFAll.game_gifid=i.GIFT),i.shareid&&(PFAll.game_shareid=i.shareid)}},t.prototype.pay=function(e){var t,a=[],i=[],n=GlobalConfig.charge_DATA;for(var o in n)t=n[o],t&&t.id<1e3?a.push(t.itmeid):t.itmeid&&i.push(t.itmeid);if(t=GlobalConfig.getChargeVO(e)){-1==a.indexOf(t.itmeid)&&a.push(t.itmeid),this._payvo=t;var r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,s=t.itemioswanba;1==PFAll.game_platform&&(s=t.itemanwanba);10*t.chargenum;this.httpGet(this.url_buy_item+"?openid="+PFAll.game_userid+"&openkey="+PFAll.game_token+"&zoneid="+PFAll.game_platform+"&appid="+r+"&count=1&pf="+PFAll.game_pf+"&serverid="+PFAll.game_serverId+"&itemid="+s)}},t.prototype.getinfo=function(){this.httpGet(this.url_userinfo+"?openid="+PFAll.game_userid+"&zoneid="+PFAll.game_platform+"&openkey="+PFAll.game_token+"&pf="+PFAll.game_pf)},t.prototype.reqPay=function(e,t){egret.log("reqPay+"+JSON.stringify(e));var a=this;window.__paySuccess=function(){egret.log("@充值星笔成功后执行"),a.pay(e.id)},window.__payError=function(){egret.log("@支付失败"),JAlert.showinfostr(Language.ins.pf_tip8,Language.ins.title_tishi,null,null,!1)},window.__payClose=function(){egret.log("@已取消支付"),JAlert.showinfostr(Language.ins.pf_tip7,Language.ins.title_tishi,null,null,!1)},e&&window.popPayTips({defaultScore:10*e.chargenum,appid:PFAll.game_id})},t.prototype.initQuitGame=function(){var e=window.mqq;if(e){e.invoke("ui","setOnAddShortcutHandler",{callback:e.callback(function(){e.ui.addShortcut({action:"web",title:Language.ins.game_name,icon:window.OPEN_DATA.appicon,url:window.OPEN_DATA.jumpurl,callback:function(e){egret.log("@发送桌面结果："+e),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME)}})},!1,!0)})}},t.prototype.initSharegame=function(){var e=this,t=window.mqq;if(t){var a=Language.ins.game_name,i=Language.ins.game_miaoshu,n=window.OPEN_DATA.appicon,o=GlobalConfig.getShareVO(share_type.type_award);if(o){var r=GlobalConfig.getShartxtVO(o.tpid),s=utils.GameComUtil.randomNum(r.length-1),l=r[s];l&&l.title&&(a=l.title,i=l.reset)}var p,c=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(c){var u=PFAll.game_platform+"_"+PFAll.game_serverId+"_"+c;p={shareid:u}}var m=e.getShareUrl(window.OPEN_DATA.shareurl,p);t.ui.setOnShareHandler(function(e){t.ui.shareMessage({title:a,desc:i,share_type:e,share_url:m,image_url:n,appid:PFAll.game_id,back:!0},function(e){e&&0==+e.retCode?(JAlert.showinfostr(Language.ins.pf_tip5,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS)):JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME)})})}},t.prototype.shareGame=function(e){var a=this,i=Language.ins.game_name,n=Language.ins.game_miaoshu,o=window.OPEN_DATA.appicon;t.share_id=e;var r=GlobalConfig.getShareVO(e);if(r){var s=GlobalConfig.getShartxtVO(r.tpid),l=utils.GameComUtil.randomNum(s.length-1),p=s[l];p&&p.title&&(i=p.title,n=p.reset,o=Language.ins.wanba_imgurl+p.image_url)}var c=window.mqq;if(c){var u=share_pf_type.share_type_friend;e==share_type.type_weeklyshar&&(u=share_pf_type.share_type_kongjian);var m,g=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(g){var _=PFAll.game_platform+"_"+PFAll.game_serverId+"_"+g;m={shareid:_}}var h=a.getShareUrl(window.OPEN_DATA.shareurl,m);c.ui.shareMessage({title:i,desc:n,share_type:u,share_url:h,image_url:o,appid:PFAll.game_id,back:!0},function(e){e&&0==+e.retCode?(a.getShareAward(t.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,t.share_id)):JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME)})}},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.getShareUrl=function(e,t,a){void 0===a&&(a=["GIFT","shareid"]);var i,n=utils.GameComUtil.getHtmlKeyArr(e),o=a.length;if(o)for(var r=0;o>r;r++)delete n[a[r]];if(t)for(var s in t)n[s]=t[s];return i=utils.GameComUtil.setHtmlObjToUrl(e,n)},t.prototype.collectGame=function(){var e=function(e){if(e){var t=e.result;0==+t&&FLOAT.NShowPutong([Language.ins.pf_tip6])}EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME),egret.log("@发送桌面结果："+e)},t=window.mqq;t&&(t.ui.addShortcut({action:"web",title:Language.ins.game_name,icon:PFAll.game_appicon,url:PFAll.game_jumpurl,callback:e}),GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_desktop,1))},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.POST),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=this,a=e.target,i=a.response,n=JSON.parse(i+"");if(egret.log("compHttp:"+JSON.stringify(i)),0==+n.code){var o=n.data;if(o){var r=o[0];r&&(r.vip_level&&(PFAll.game_vip_level=+r.vip_level),r.score&&(PFAll.game_score=+r.score),r.cost&&(JAlert.showinfostr(Language.ins.shop_tip14,Language.ins.title_tishi,null,null,!1),t.getinfo()))}}else this.reqPay(this._payvo,"")},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.prototype.refreshGame=function(){window.location.reload()},t.SINGLETON_MSG="PFwanba Singleton already constructed!",t.platform_android="1",t.platform_ios="2",t.gameId="1106333239",t}(PFBase);__reflect(PFwanba.prototype,"PFwanba");var PFwxgame=function(e){function t(){var a=e.call(this)||this;if(a.url_userinfo="",a.url_buy_item="",a.url_serverPath="",a.beilv=10,null!=t.instance)throw Error(t.SINGLETON_MSG);return t.instance=a,a}return __extends(t,e),t.getInstance=function(){var e=this;return null==e.instance&&(e.instance=new t),e.instance},t.prototype.InitPF=function(){var e=this;PFAll.game_kg_focusbonus=0,PFAll.game_kg_sharebonus=0,PFAll.game_kg_showdesktop=0,PFAll.game_kg_showforum="",PFAll.game_kg_changelogin=0,e.url_userinfo=Global.serverURL+"balance_m.php",e.url_buy_item=Global.serverURL+"charge.php",e.url_serverPath=Global.serverURL+"gateway.php",Global.serverPath=e.url_serverPath,e.initdata(),e.getinfo()},t.prototype.InitConfig=function(){var e=this;e.initQuitGame(),e.initSharegame()},t.prototype.initdata=function(){PFAll.game_score=0/0,this.getIsPhoneX()},t.prototype.getIsPhoneX=function(){var e=this.getSDK();if(e){var t=e.getSystemInfoSync();PFAll.game_platform=/iPhone|iPad|iPod|iOS/i.test(t.system)?2:1,("iPhone X"==t.model||812==t.windowHeight&&375==t.windowWidth)&&(Global.isIphoneX=!0)}},t.prototype.pay=function(e){if(isNaN(PFAll.game_score))return void this.getBalance();if(2==PFAll.game_platform)return void FLOAT.NShowPutong([Language.ins.pf_tip16]);var t,a=this;if(t=GlobalConfig.getChargeVO(e)){this._payvo=t;var i=(GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,t.itmeid,t.chargenum*this.beilv);console.log("@判断要扣: ",i+" 当前"+PFAll.game_score),i<=PFAll.game_score?this.httpGet(this.url_buy_item+"?openid="+PFAll.game_userid+"&session_id="+PFAll.game_token+"&serverid="+PFAll.game_serverId+"&money="+t.chargenum+"&channel="+PFAll.game_pf_channel):a.paycost(t)}},t.prototype.paycost=function(e){if(e){var t=this,a=(GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,e.chargenum*this.beilv),i=this.getSDK();LoadingMaskView.show(GameEnum.load_pt_pay),i&&i.requestMidasPayment({mode:"game",env:0,offerId:"1450015702",currencyType:"CNY",platform:"android",buyQuantity:a,zoneId:"1",success:function(i){console.log("pay success: ",i),PFAll.game_score+=a,console.log("pay balance: ",PFAll.game_score),t.pay(e.id),LoadingMaskView.remove(GameEnum.load_pt_pay)},fail:function(e){egret.log("@支付失败"),JAlert.showinfostr(Language.ins.pf_tip8,Language.ins.title_tishi,null,null,!1),LoadingMaskView.remove(GameEnum.load_pt_pay)}})}},t.prototype.getinfo=function(){var e=this.getSDK();e&&e.login({success:function(e){PFAll.game_pf_channel=Global.servrNE_wxgame;var t=GlobalAllProxy.getInstance().gameProxy.severlistData;t||GlobalAllProxy.getInstance().gameProxy.NetGameNotice(PFAll.game_pf,PFAll.game_platform,e.code,PFAll.game_token,PFAll.game_pf_channel)}})},t.prototype.getBalance=function(){this.httpGet(this.url_userinfo+"?openid="+PFAll.game_userid+"&session_id="+PFAll.game_token)},t.prototype.getSDK=function(){return window.wx},t.prototype.initQuitGame=function(){},t.prototype.initSharegame=function(){var e=this.getSDK();if(e){var t=Language.ins.game_name,a=Language.ins.game_miaoshu,i=GlobalConfig.getShareVO(share_type.type_award),n=Language.ins.wxgame_imgurl+"feed4.png";if(i){var o=GlobalConfig.getShartxtVO(i.tpid),r=utils.GameComUtil.randomNum(o.length-1),s=o[r];s&&s.title&&(t=s.title,a=s.reset,n=Language.ins.wxgame_imgurl+s.image_url)}e.onShareAppMessage(function(){return{title:t,imageUrl:n}}),e.showShareMenu({withShareTicket:!1,success:function(e){},fail:function(e){},complete:function(e){}})}},t.prototype.shareGame=function(e){var a=this,i=Language.ins.game_name,n=Language.ins.game_miaoshu;t.share_id=e;var o="",r=GlobalConfig.getShareVO(e);if(r){var s=GlobalConfig.getShartxtVO(r.tpid),l=utils.GameComUtil.randomNum(s.length-1),p=s[l];p&&p.title&&(i=p.title,n=p.reset,o=Language.ins.wxgame_imgurl+p.image_url)}var c=this.getSDK();if(c){var u=share_pf_type.share_type_friend;e==share_type.type_weeklyshar&&(u=share_pf_type.share_type_kongjian);var m,g=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(g){var _=PFAll.game_platform+"_"+PFAll.game_serverId+"_"+g;m={shareid:_}}c.updateShareMenu({withShareTicket:!1,success:function(e){a.getShareAward(t.share_id),EventBus.sendMessage(game.GameCommands.SHARE_SUCCESS,t.share_id),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME)},fail:function(e){JAlert.showinfostr(Language.ins.pf_tip9,Language.ins.title_tishi,null,null,!1),EventBus.sendMessage(game.GameCommands.ACTIVATE_GAME)}});var h="";c.shareAppMessage({title:i,imageUrl:o,query:h})}},t.prototype.getShareAward=function(e){if(void 0===e&&(e=null),GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var t=share_type.type_award;e&&(t=e);var a=GlobalConfig.getShareVO(t);a&&GlobalAllProxy.getInstance().gameProxy.NetShare(t,1)}},t.prototype.getShareUrl=function(e,t,a){void 0===a&&(a=["GIFT","shareid"]);var i,n=utils.GameComUtil.getHtmlKeyArr(e),o=a.length;if(o)for(var r=0;o>r;r++)delete n[a[r]];if(t)for(var s in t)n[s]=t[s];return i=utils.GameComUtil.setHtmlObjToUrl(e,n)},t.prototype.collectGame=function(){},t.prototype.refreshGame=function(){window.location.reload()},t.prototype.httpGet=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.addEventListener(egret.Event.COMPLETE,this.compHttp,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.errHttp,this),t.open(encodeURI(e),egret.HttpMethod.POST),t.send(),LoadingMaskView.show(GameEnum.load_pt_pay)},t.prototype.compHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay);var t=e.target,a=t.response;egret.log(a);var i=JSON.parse(a+"");if(0==+i.errcode){var n=i;n&&(PFAll.game_score=+n.balance,"balance_m"==n.from)}else i.errcode&&egret.log("errcode:"+i.errcode)},t.prototype.errHttp=function(e){LoadingMaskView.remove(GameEnum.load_pt_pay),alert(e.type+"error")},t.prototype.setGameClubShow=function(e){if(!this._gameclubbtn){var t=this.createGameClubButton();this._gameclubbtn=t}this._gameclubbtn.style.hidden=!e},t.prototype.createGameClubButton=function(){var e,t=this.getSDK();return t&&(e=t.createGameClubButton({icon:"dark",style:{left:10,top:50,width:40,height:40}})),e},t.SINGLETON_MSG="PFwxgame Singleton already constructed!",t.platform_android="1",t.platform_ios="2",t.gameId="1106333239",t}(PFBase);__reflect(PFwxgame.prototype,"PFwxgame"),window.PFwxgame=PFwxgame;var SoundMgr=function(){function e(){this._curSound="",this._curEffect="",this._soundVolume=.5,this._effectVolume=1,this._deactivate=0,this._effectstate=null,this.moreEffArr=[]}return e.getInstance=function(){var t=this;return null==t._instance&&(t._instance=new e),Global.isrest||(t._instance.SetSoundVolume(0),t._instance.SetEffectVolume(0)),t._instance},e.prototype.SetVolume=function(e){var t=this;t.SetSoundVolume(e),t.SetEffectVolume(e)},e.prototype.SetSoundVolume=function(e){var t=this;t._soundVolume=e,0==e&&t._channel&&t._channel.stop()},e.prototype.SetEffectVolume=function(e){var t=this;t._effectVolume=e},e.prototype.PlaySound=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=0);var i=this;if(Global.isrest&&(0==t&&(t=-1),i._musicbgid=e,i._loadbgsd=null,Global.isMusic()&&e&&"null"!=e&&e!=i._curSound&&!(i._soundVolume<=0))){i._deactivate=0;var n=RES.getRes(e);if(null==n)return void RES.getResAsync(e,function(){i._loadbgsd=e,i.LoadSoundBgCom(e)},i);i._curSound&&i._channel.stop();var o=n.play(a,t);o.volume=i._soundVolume,i._channel=o,i._curSound=e,i._sound=n}},e.prototype.LoadSoundBgCom=function(e){var t=this;t._loadbgsd&&t._loadbgsd==e&&t.PlaySound(e)},e.prototype.StopSound=function(){var e=this;e._channel&&e._channel.stop(),e._sound=null,e._curSound=""},e.prototype.deactivateStopSound=function(){var e=this;e._deactivate=0,e._channel&&(e._deactivate=e._channel.position,e._channel.stop()),e._sound=null,e._curSound="",e._effectstate=Global.sound_isopen,Global.sound_isopen="0"},e.prototype.deactivatePlaySound=function(){var e=this;e.PlaySound(e._musicbgid,0,e._deactivate),Global.sound_isopen=e._effectstate},e.prototype.PlayEffect=function(e,t,a){var i=this;if(Global.isrest&&Global.isSound()&&e&&"null"!=e&&!(i._effectVolume<=0||t&&-1!=i.moreEffArr.indexOf(t))){var n=RES.getRes(e);if(null==n)return void RES.getResAsync(e,function(){RES.getRes(e)&&i.PlayEffect(e)},i);var o=n.play(0,1);o.volume=i._effectVolume,i._curEffect=e,a&&(i._onlyEffSound&&i._onlyEffSound!=n&&(i._onlyEffchannel.stop(),i._onlyEffSound=null,i.moreEffArr=[]),i._onlyEffchannel=o,i._onlyEffSound=n),t&&(i.moreEffArr.push(t),o.name=t,o.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundCom,this))}},e.prototype.onSoundCom=function(e){var t=this,a=e.target;if(a){a.removeEventListener(egret.Event.SOUND_COMPLETE,this.onSoundCom,this);var i=a.name,n=t.moreEffArr.indexOf(i);-1!=n&&t.moreEffArr.splice(n,1)}},e._instance=null,e}();__reflect(SoundMgr.prototype,"SoundMgr");var ColorUtil=function(){function e(){}return e.rgbToHex=function(e,t,a){return e<<16|t<<8|a},e.rgbToHtml=function(e,t,a){return"#"+(e<<16|t<<8|a).toString(16)},e.getHtmlColStr=function(e,t){var a="<font color="+e+">"+t+"</font>";return a},e.getHtmlStr=function(e,t,a,i){void 0===i&&(i=!1);var n=Language.ins.sever_font,o=16777215,r="";null!=e&&(r=e.toString()),t&&(n=t),a&&(o=a);var s='<font fontfamily="'+n+'" color="'+o+'">'+r+"</font>";return i&&(s+="\n"),s},e.getPlayerNameCol=function(e){switch(e){case playertrait.trait_N:return 16777215;case playertrait.trait_R:return 6547455;case playertrait.trait_SR:return 13542143;case playertrait.trait_SSR:return 16757760;case playertrait.trait_UR:return 16711680}return 16777215},e.getSkillNameCol=function(e){switch(e){case skill_class.class_green:return 65280;case skill_class.class_blue:return 6547455;case skill_class.class_purple:return 13542143;case skill_class.class_orange:return 16757760}return 16777215},e.getRichRankCol=function(e){switch(e){case 1:return 16776192;case 2:return 6158847;case 3:return 14784567;default:return 16777215}return 16777215},e.yellow=16776960,e.white=16777215,e.hui=9013641,e.red=16711680,e.green=65280,e.txtgreen=6415872,e.txtyellow=16049101,e.black=0,e.blue=255,e.blue_font=40191,e.red_font=15468552,e.g_red=16735324,e.g_grey=12500670,e.g_green=12779335,e.g_blue=4251135,e.g_purple=16555519,e.g_lightblue=4251135,e.g_yellow=16775232,e.g_yellow2=16777215,e.txtyellow2=16046261,e.duicol=3985781,e.cuocol=15815247,e.tip_hui=8882055,e.tip_blue=120315,e}();__reflect(ColorUtil.prototype,"ColorUtil");var FormatString=function(){function e(){}return e.ASCLength=function(e){if(!e)return 0;for(var t,a=e.length,i=0,n=0,o=0;a>o;o++)t=e.charCodeAt(o),t>31&&127>t?n+=1:i+=1;return i+Math.ceil(n/2)},e.ASCLengthNew=function(e){if(!e)return 0;var t=e.length,a=0,i=e.match(/[^\x00-\x80]/g);return i&&(a=i.length),t+a},e.format=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var i,n=t.length,o=0;n>o;o++)(t[o]||0==t[o])&&(i=t[o].toString(),""!=i&&null!=i&&e&&(e=e.replace(new RegExp("\\{"+o+"\\}","g"),i)));return e},e.formatArr=function(e,t){for(var a,i=t.length,n=0;i>n;n++)(t[n]||0==t[n])&&(a=t[n].toString(),""!=a&&null!=a&&e&&(e=e.replace(new RegExp("\\{"+n+"\\}","g"),a)));return e},e}();__reflect(FormatString.prototype,"FormatString");var utils;!function(e){var t=function(){function t(){}return t.getArmature=function(t,a,i,n){void 0===n&&(n=!0);var o,r=i;return r[a]?o=r[a]:(o=n?e.GameComUtil.getSYArmature(t):e.GameComUtil.getSYArmature(t),r[a]=o),o},t.getSYArmature=function(t){var a,i=RES.getRes(t+"_ske"),n=RES.getRes(t+"_tex_json"),o=RES.getRes(t+"_tex");if(i&&n&&o){var r=e.GameComUtil.animoObj;r[t]?a=dragonBones.EgretFactory.factory.buildArmatureDisplay(t):(r[t]=1,dragonBones.EgretFactory.factory.parseDragonBonesData(i),dragonBones.EgretFactory.factory.parseTextureAtlasData(n,o),a=dragonBones.EgretFactory.factory.buildArmatureDisplay(t))}else a=null;return a},t.getSYMovieClip=function(e,t){var a=GlobalEnum.s_mcDataF;a.mcDataSet=RES.getRes(e+"_json"),a.texture=RES.getRes(e);var i=a.generateMovieClipData(t),n=MandPool.getIns(vm.SYMovieClip);return n.setData(i,e),n},t.stopRemoveMc=function(e,t){void 0===t&&(t=!1),null!=e&&e instanceof vm.SYMovieClip&&(null!=e.parent&&e.parent.removeChild(e),e.stop(),t&&e.Release())},t.removeSelf=function(e){e&&e.parent&&e.parent.removeChild(e)},t.removeAnimoSelf=function(e){e&&(e.animation?e.animation.stop():e.stop(),e.parent&&e.parent.removeChild(e))},t.showChageBtn=function(e,t,a){e.visible=a,t.visible=!a},t.getIsUnLock=function(e,t){void 0===t&&(t=null);var a=!0;if(e){var i=e[0],n=0;if(e[1]&&(n=e[1]),GlobalConfig.UPLOCK_DATA){var o=GlobalConfig.getUnLockVo(i);if(null!=o){var r=o.getUnlockStr(n);if(null!=r&&parseInt(r[0])){var s=parseInt(r[0]);switch(s){case unlock_type.level:var l=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,p=parseInt(r[1]);p>l&&(a=!1);break;case unlock_type.pve_check:var c=GlobalAllProxy.getInstance().playerProxy.playerinfo.getPveCheck(),p=parseInt(r[1]);(!c||p>c)&&(a=!1)}}}}}return a},t.buttonUnLock=function(e,t,a,i){void 0===a&&(a=!0),void 0===i&&(i=null);var n=!0,n=this.getIsUnLock(t);if(!n&&(e&&e.stopImmediatePropagation(),a)){var o=t,r=t.length,s=o[0],l=0;r>1&&(l=o[1]);var p=GlobalConfig.getUnLockVo(s);if(null!=p){var c=p.getUnlockStr(l);if(null!=c&&parseInt(c[0])){var u=parseInt(c[0]);switch(u){case unlock_type.level:FLOAT.NShowPutong([FormatString.format(Language.ins.game_unlock_level,parseInt(c[1]))]);break;case unlock_type.pve_check:FLOAT.NShowPutong([FormatString.format(Language.ins.game_unlock_pve,parseInt(c[1]))])}}}}return n},t.getUnLockTip=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a=null);var i=null,n=this.getIsUnLock(e);if(!n&&e&&t){var o=e,r=e.length,s=o[0],l=0;r>1&&(l=o[1]);var p=GlobalConfig.getUnLockVo(s);if(null!=p){var c=p.getUnlockStr(l);if(null!=c&&parseInt(c[0])){var u=parseInt(c[0]);switch(u){case unlock_type.level:i=FormatString.format(Language.ins.game_unlock_level,parseInt(c[1]));break;case unlock_type.pve_check:i=FormatString.format(Language.ins.game_unlock_pve,parseInt(c[1]))}}}}return i},t.getTipMcImg=function(t,a,i,n,o){void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=!0),void 0===n&&(n=!1),void 0===o&&(o=new egret.Point(-23,0));var r;if(null!=t?r=t:(r=new eui.Image,r.source="tab_lt_a3",r.touchEnabled=!1),null!=a&&null!=a.parent){var s;s=i?e.GameComUtil.getLocalToGlobal(a.parent,a.x,a.y):new egret.Point(a.x,a.y),a.anchorOffsetX>0&&(a.anchorOffsetX=a.width>>1,a.anchorOffsetY=a.height>>1);var l=a.anchorOffsetX,p=a.anchorOffsetY,c=0,u=0;l&&(c=l),p&&(u=p),n&&(s.x=0,s.y=0),r.x=s.x+a.width-c,r.y=s.y-u,o&&(r.x+=o.x,r.y+=o.y)}return r},t.resizeBgImage=function(e,t,a,i){if(void 0===i&&(i=!1),null!=e){var n=Global.stageHeight/a;
n>1?(e.width=Global.stageWidth,e.height=a*n,e.y=.5*Math.floor(Global.stageHeight-e.height)):(e.width=t,e.height=a)}},t.buildshar=function(e){if(PFAll.getPFOpenFun(pf_openfun.share)&&e){var t=GlobalConfig.getClubgradeVO(e);t&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_shar],e)}},t.playershar=function(e){if(PFAll.getPFOpenFun(pf_openfun.share)&&e){var t=!0,a=GlobalConfig.getShareVO(share_type.type_playershar),i=a.limit,n=GlobalAllProxy.getInstance().playerProxy.shareTimes;if(n&&a)for(var o,r=0,s=n.length;s>r;r++)o=n[r],o.pid==share_type.type_playershar&&+o.num>=i&&(t=!1);var l,p,c=GlobalAllProxy.getInstance().playerProxy,u=GlobalAllProxy.getInstance().backpackProxy,m=GlobalConfig.getItemVo(e),g=+m.parameter;if(g&&t&&(l=c.getSeverPlayerVO(g),!l)){var _=GlobalConfig.getPlayerPorpertyVO(g);_&&_["class"]==GlobalEnum.hero_quality&&(p=u.getItemCount(e),1>=p&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_shar],g))}}},t.playerArrshar=function(e){if(PFAll.getPFOpenFun(pf_openfun.share)&&e.length){var t=!0,a=GlobalConfig.getShareVO(share_type.type_playershar),i=a.limit,n=GlobalAllProxy.getInstance().playerProxy.shareTimes;if(a)for(var o,r=0,s=n.length;s>r;r++)o=n[r],o.pid==share_type.type_playershar&&+o.num>=i&&(t=!1);if(t)for(var l,p,c,u,m,g,_=GlobalAllProxy.getInstance().playerProxy,h=GlobalAllProxy.getInstance().backpackProxy,d=0,s=e.length;s>d;d++)l=e[d],p=GlobalConfig.getItemVo(l.playerItemId),u=+p.parameter,u&&(c=GlobalConfig.getPlayerPorpertyVO(u),c["class"]==GlobalEnum.hero_quality&&(m=_.getSeverPlayerVO(u),m||(g=h.getItemCount(l.playerItemId),1>=g&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_shar],u))))}},t.randomNum=function(e){var t=Math.round(Math.random()*e);return t},t.checkactH=function(e){var t=GlobalAllProxy.getInstance().activityProxy.activityArr;if(!t)return!1;var a;if(e==act_type.sevenday){var i=t.sevenLogin;if(!i)return!1;a=i.receiveAward;for(var n=0;n<a.length;n++){if(1==a[n])return!0;if(i.rechargeStatus&&n+1<=i.currentOpenDay&&2!=a[n])return!0}}else if(e==act_type.cumsign){var o=t.signInit,r=t.signInit,s=GlobalConfig.getActivityVO(act_type.cumsign);if(!r)return!1;var l=+GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,p=s.exsigncondition.split("|"),c=0,u=p.length;r.day&&u>=r.day&&(c=r.day-1);var m=p[c].split(":");if(!o)return!1;if(1!=o.extraState&&+m[1]<=l)return!0;var l=+GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel;if(0==o.todayState)return!0;a=o.receiveAward;for(var n=0;n<a.length;n++)if(1==a[n])return!0}else if(e==act_type.levelgif){var g=t.gradeInit;if(!g)return!1;for(var _=GlobalConfig.getActivityVO(act_type.levelgif),h=_.limit.split(","),d=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,y=!0,n=0;n<h.length;n++)if(+h[n]<=d){y=!0;for(var v in g.receiveAward)+g.receiveAward[v]==+h[n]&&(y=!1);if(y)return y}}else{if(e==act_type.onlinegif){var f=GlobalEnum,b=GlobalAllProxy.getInstance().gameProxy;return b.getTipForArr(null,[f.tipmc_zaixian])}if(e==act_type.superbuy){var f=GlobalEnum,b=GlobalAllProxy.getInstance().gameProxy;return b.getTipForArr(null,[f.tipmc_act_superbuy])}}return!1},t.checkrecH=function(e){var t=this;if(!GlobalAllProxy.getInstance().activityProxy.activityArr)return!1;if(e==act_type.reccourtesy){if(t.checkactchdH(e,0)||t.checkactchdH(e,1)||t.checkactchdH(e,2))return!0}else if(e==act_type.consgift){if(t.checkactchdH(e,0)||t.checkactchdH(e,1))return!0}else if(e==act_type.opensfund){var a=GlobalAllProxy.getInstance().activityProxy.activityArr.fundInit;if(!a||1!=a.fundBuyStatus)return!1;var i,n,o,r,s,l,p,c=GlobalConfig.getActivityVO(e),u=c.limit.split(","),m=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,g=!0;for(s=+m,l=a.gradeGift,r=l.length,i=0,n=u.length;n>i;i++)if(p=+u[i],s>=p){for(g=!0,o=0;r>o;o++)+l[o]==p&&(g=!1);if(g)return g}}else if(e==act_type.opensinves&&(t.checkactchdH(e,0)||t.checkactchdH(e,1)||t.checkactchdH(e,2)||t.checkactchdH(e,3)))return!0;return!1},t.checkactchdH=function(e,t){var a=GlobalConfig.getActivityVO(e),i=a.tabnum.split(","),n=GlobalConfig.getActivityVO(i[t]),o=n.limit.split(","),r=!0,s=GlobalAllProxy.getInstance().activityProxy.activityArr;if(!s)return!1;var l,p,c,u,m,g,_;if(e==act_type.reccourtesy){var h=s.payInit;if(!h)return!1;if(0==t){for(m=+h.dailyPay,g=h.everydayPay,u=g.length,l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}else if(1==t){for(m=+h.totalChargeDays,g=h.continuousCharege,u=g.length,l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}else if(2==t)for(m=+h.totalPay,g=h.cumulativePay,u=g.length,l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}else if(e==act_type.consgift){var d=s.consumeInit;if(!d)return!1;if(0==t){for(m=+d.dailyConsume,g=d.everydayConsume,u=g.length,l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}else if(1==t)for(m=+d.totalConsume,g=d.cumulativeConsume,u=g.length,l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}else if(e==act_type.opensinves){var y=s.investmentInit;if(!y)return!1;var v=y.example[t];m=+y.openDays,g=v.receiveList,u=g.length;var f=v.buyState;for(l=0,p=o.length;p>l;l++)if(_=+o[l],m>=_&&1==f){for(r=!0,c=0;u>c;c++)+g[c]==_&&(r=!1);if(r)return r}}return!1},t.checkrankchdH=function(e){var t,a=GlobalConfig.getActivityVO(e),i=a.tabnum.split(","),n=GlobalConfig.getActivityVO(i[1]);n&&(t=n.limit.split(","));var o=!0,r=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(!r)return!1;if(n&&n.id==GlobalEnum.activity_rank_power){var s=r.powerInit,l=GlobalAllProxy.getInstance().playerProxy.playerinfo.getZhanliNum();if(!s)return!1;for(var p=0;p<t.length;p++)if(+t[p]<=+l){o=!0;for(var c=0;c<s.status.length;c++)+s.status[c]==+t[p]&&(o=!1);if(o)return o}}else if(n&&n.id==GlobalEnum.activity_rank_level){var u=r.levelInit,m=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;if(!u)return!1;for(var p=0;p<t.length;p++)if(+t[p]<=m){o=!0;for(var c=0;c<u.status.length;c++)+u.status[c]==+t[p]&&(o=!1);if(o)return o}}else if(n&&n.id==GlobalEnum.activity_rank_peak){var g=r.peakInit;if(!g)return!1;for(var p=0;p<t.length;p++)if(+t[p]<=g.score){o=!0;for(var c=0;c<g.status.length;c++)+g.status[c]==+t[p]&&(o=!1);if(o)return o}}else if(e==GlobalEnum.activity_rank_recruit){var _=r.recruitInit;if(!_)return!1;if(_.score>=100&&!GlobalAllProxy.getInstance().activityProxy.bl_isopenRecruit)return!0}return!1},t.getLocalToGlobal=function(e,t,a,i,n){void 0===i&&(i=null),void 0===n&&(n=!0);var o=e.localToGlobal(t,a);return n&&(o.x=Math.floor(o.x/Global.stageScale),o.y=Math.floor(o.y/Global.stageScale)),null!=i&&(i.x=o.x,i.y=o.y),o},t.getGlobalToLocal=function(e,t,a,i,n){void 0===i&&(i=null),void 0===n&&(n=!0);var o=e.globalToLocal(t,a);return n&&(o.x=Math.floor(o.x*Global.stageScale),o.y=Math.floor(o.y*Global.stageScale)),null!=i&&(i.x=o.x,i.y=o.y),o},t.changeNum=function(e){var t="",a=Language.ins.game_tip2;return t=a[e]},t.setToConter=function(e){var t=e.width,a=e.height;if(0!=t&&e.anchorOffsetX!=Math.floor(.5*t)){var i=Math.floor(.5*t),n=Math.floor(.5*a);e.anchorOffsetX=i,e.x+=i,e.anchorOffsetY=n,e.y+=n}},t.setCenterX=function(e,t){var a=t,i=e.anchorOffsetX;0!=i&&(a+=i),e.x=a},t.setCenterY=function(e,t){var a=t,i=e.anchorOffsetY;0!=i&&(a+=i),e.y=a},t.getName=function(e,t,a){void 0===a&&(a=!1);var i="";if(e){var n=FormatString.ASCLength(e);n>t?a?(i=e.substr(0,t-1),i+="..."):i=e.substr(0,t):i=e}return i},t.getAddSpace=function(e){if(PFAll.isNowPF([Global.severNE_japan,Global.severNE_english,Global.severNE_russia]))return e;var t="";if(e){var a=FormatString.ASCLengthNew(e);t=4>=a?e.substr(0,1)+" "+e.substr(1,2):e}return t},t.getImageAdd=function(e,a,i,n){void 0===i&&(i=16711680),void 0===n&&(n=.7);var o,r,s,l=a||new egret.RenderTexture,p=t,c=p.imagePos;if(p.witrct?r=p.witrct:(r=new egret.Shape,p.witrct=r),(p.imagecolor!=i||p.alphaN!=n)&&(p.imagecolor=i,p.alphaN=n,r.graphics.clear(),r.graphics.beginFill(i,n),r.graphics.drawRect(0,0,c.x,c.y),r.graphics.endFill()),p.imagecontainer?o=p.imagecontainer:(o=new egret.DisplayObjectContainer,p.imagecontainer=o),o.removeChildren(),p.imagebmp?s=p.imagebmp:(s=new egret.Bitmap,p.imagebmp=s),e instanceof egret.DisplayObjectContainer);else{var u,m=0,g=0;if(e instanceof vm.SYMovieClip?(u=e.$bitmapData,m=e.x,g=e.y):u=e,null==u||!u._bitmapWidth)return null;var _=u._bitmapWidth,h=u._bitmapHeight,d=u._offsetX,y=u._offsetY;_+=d,h+=y,c.x=Math.floor(_+10),c.y=Math.floor(h+10),r.graphics.clear(),r.graphics.beginFill(i,n),r.graphics.drawRect(0,0,c.x,c.y),r.graphics.endFill(),s.texture=u,o.addChild(s),o.addChild(r),r.mask=s,l.drawToTexture(o,new egret.Rectangle(0,0,_,h)),r.mask=null,o.removeChildren(),s.texture=null}return l},t.getMapListImg=function(e,t){var a,i,n,o=t||new egret.RenderTexture,r=0,s=0,l=e.length;if(1==l)i=e[0],o=a=RES.getRes(i);else{var n;n=new egret.DisplayObjectContainer;var p;for(var c in e)i=e[c],a=RES.getRes(i),p=new egret.Bitmap(a),p.x=r,n.addChild(p),r+=a._bitmapWidth,s=a._bitmapHeight;o.drawToTexture(n,new egret.Rectangle(0,0,r,s))}return o},t.getHtmlText=function(e){var t=this;return e||(e=""),null==t.htmlpar&&(t.htmlpar=new egret.HtmlTextParser),t.htmlpar.parser(e)},t.getTimeStr=function(e){var t=Math.floor(e/3600),a=Math.floor(Math.floor(e%3600)/60),i=Math.floor(Math.floor(e%3600)%60),n="";return t>0&&(n+=t+Language.ins.game_hour),n+a+Language.ins.game_minute+i+Language.ins.game_second},t.getTimeOnlineToString=function(e){var t=Math.floor(e/3600),a=Math.floor(Math.floor(e%3600)/60),i=Math.floor(Math.floor(e%3600)%60),n=10>t?"0"+t:t,o=10>a?"0"+a:a,r=10>i?"0"+i:i;return FormatString.format(Language.ins.activity_countdown,n,o,r)},t.offlineTime=function(e){var t=new Date,a=t.getTime(),i=+parseInt(""+a/1e3)-e,n=i/3600;return parseInt(""+n)},t.getTimeNewStr=function(e,t){void 0===t&&(t=":");var a=new Date(1e3*e),i=a.getHours(),n=Math.floor(Math.floor(e%3600)/60),o=(Math.floor(Math.floor(e%3600)%60),"");return o+=i>9?i+t:"0"+i.toString()+t,o+=n>9?n:"0"+n.toString()},t.getTime1Str=function(t,a){if(void 0===a&&(a=!0),PFAll.isNowPF([Global.severNE_english,Global.severNE_russia]))return e.GameComUtil.getActivityTimeToString(t);var i=new Date(t),n=i.getMonth()+1,o=i.getDate(),r=i.getHours(),s=i.getMinutes(),l=n+Language.ins.game_month+o+Language.ins.game_day;return a&&(l+=10>+r?"0"+r:r,l+=Language.ins.game_maohao,l+=10>+s?"0"+s:s),l},t.getActivityTimeToString=function(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),o=t.getHours(),r=t.getMinutes(),s=10>o?"0"+o:o,l=10>r?"0"+r:r,p=FormatString.format(Language.ins.activity_time_single,a,i,n,s,"",l);return p},t.getTime2Str=function(e,t){void 0===t&&(t=!0);var a=new Date(e),i=a.getFullYear(),n=a.getMonth()+1,o=a.getDate(),r=a.getHours(),s=a.getMinutes(),l=i+"/"+n+"/"+o+" ";return t&&(l+=10>+r?"0"+r:r,l+=Language.ins.game_maohao,l+=10>+s?"0"+s:s),l},t.getTime3Str=function(e,t,a){void 0===a&&(a=!0);var i=new Date(e),n=i.getFullYear(),o=i.getMonth()+1,r=i.getDate(),s=i.getHours(),l=i.getMinutes(),p=n+"/"+o+"/"+r+" ";if(a&&(p+=10>+s?"0"+s:s,p+=Language.ins.game_maohao,p+=10>+l?"0"+l:l),t){var c=new Date(t),u=c.getHours(),m=c.getMinutes();p+=" ",a&&(p+=10>+u?"0"+u:u,p+=Language.ins.game_maohao,p+=10>+m?"0"+m:m)}return p},t.getTime4Str=function(e,t){void 0===t&&(t=!0);var a=new Date(e),i=a.getFullYear(),n=a.getMonth()+1,o=a.getDate(),r=a.getHours(),s=a.getMinutes(),l=Math.floor(Math.floor(e/1e3%3600)%60),p=i+"/"+n+"/"+o+" ";return t&&(p+=10>+r?"0"+r:r,p+=Language.ins.game_maohao,p+=10>+s?"0"+s:s,p+=Language.ins.game_maohao,p+=10>+l?"0"+l:l),p},t.getIsTime=function(e){var t=!1,a=new Date(Global.systemTimeNum),i=a.getHours();return e>i&&(t=!0),t},t.getNewTimeStr=function(e,t){void 0===t&&(t=":");var a=Math.floor(e/3600%24),i=Math.floor(Math.floor(e%3600)/60),n=(Math.floor(Math.floor(e%3600)%60),"");return n+=a>9?a+t:"0"+a.toString()+t,n+=i>9?i:"0"+i.toString()},t.getTimeNum=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a=":");var i=Math.floor(e/3600),n=Math.floor(Math.floor(e%3600)/60),o=Math.floor(Math.floor(e%3600)%60),r="";return t&&(r+=i>9?i+a:"0"+i.toString()+a),r+=n>9?n+a:"0"+n.toString()+a,r+=o>9?o:"0"+o.toString()},t.getLastTime=function(){var e=new Date(Global.systemTimeNum),t=3600*(23-e.getHours()),a=60*(59-e.getMinutes()),i=59-e.getSeconds(),n=t+a+i;return n},t.getMcPathArr=function(e){var t,a=[],i=e;for(var n in i)t=i[n],a.push(t),a.push(t+"_json");return a},t.getTimeYearStr=function(e){var t=new Date,a=e;t.setTime(a);var i=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate();return i},t.getSeverName=function(e){for(var t,a=ParamLoader.instance.PlateformName,i=0,n=a.length;n>i;i++)if(+a[i][0]==e)return a[i][1];return t},t.excRepeat=function(e){for(var t,a=[],i={},n=e.length,o=0;n>o;o++)t=e[o],i[t]||(a.push(t),i[t]=1);return a},t.getItemColorStar=function(e){var t=16498216;return 0==e?t=16777215:1==e?t=12779335:2==e?t=4251135:3==e?t=16480511:4==e&&(t=16498216),t},t.frametotime=function(e,t){var a;return e&&(a=e/t*1e3),a},t.setVisibleHitPanel=function(e,t,a,i){if(void 0===i&&(i=0/0),null!=e&&(e.visible=a,void 0!=t))if(a)isNaN(i)?t.addChild(e):t.addChildAt(e,i);else{var n=e.parent;n&&n.removeChild(e)}},t.getNetWaitTime=function(e,t){var a=Math.floor(.001*egret.getTimer());return isNaN(e)&&(e=0),0!=e&&t>a-e?0/0:a},t.refreshGameInit=function(){LoadingMaskView.clearPlay();var e=BufHandler.instance.socket;BufHandler.instance&&BufHandler.instance.clearReLink(),e&&e.isConnected()&&e.Close()},t.logout=function(t,a){void 0===a&&(a=!0),a&&e.GameComUtil.refreshGameInit();var i=new AlertVO,n=Language.ins.alert_no_link;t&&(n=t),i.info=n,i.showCancel=!1,JAlert.show(i,Language.ins.title_tishi,PFAll.logout,this,PFAll.logout)},t.neterrorToMain=function(e){var t=new AlertVO,a=Language.ins.alert_no_link;e&&(a=e),t.info=e,t.showCancel=!1,JAlert.show(t,Language.ins.title_tishi,Global.goMainScene,this,Global.goMainScene)},t.linkloaderror=function(){var t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=GlobalAllProxy.getInstance().guideProxy;a.isPlayGuide()?BufHandler.instance.alerttolink():t&&t.uid?(LoadingMaskView.clearPlay(),PanelDM.getIns().clearAlertPanel(),PanelDM.getIns().clearTopPanels(),PanelDM.getIns().clearVIPanels(),FLOAT.NShowPutong([Language.ins.alert_load_link])):e.GameComUtil.logout(Language.ins.no_loadcom_res)},t.getHtmlKeyArr=function(e){var t={},a="";e?a=e:(debugDM.log(JSON.stringify(location)),a=location.href);var i,n=a.split("?");if(n.length>1){i=n[1];for(var o,r=n[1].split("&"),s=0,l=r.length;l>s;s++)o=r[s].split("="),o.length>1&&(t[o[0]]=o[1])}return t},t.setHtmlObjToUrl=function(e,t){var a="",i=e.split("?");if(i.length){var n=i[0],o="";for(var r in t)o+=""==o?r+"="+t[r]:"&"+r+"="+t[r];a=""!=o?n+"?"+o:n}else a=e;return a},t.getParamUrl=function(e,t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=e.substr(1).match(a);return null!=i?decodeURI(decodeURIComponent(decodeURI(i[2]))):null},t.getItemVoArr=function(e,t){if(void 0===t&&(t=null),t||(t=[]),null!=e){var a,i,n,o=e.split(";"),r=o.length;for(a=0;r>a;a++)i=o[a].split(","),i.length>1&&parseInt(i[1])&&(n=new game.ComItemGroupVo,n.itemid=parseInt(i[0]),n.count=parseInt(i[1]),t.push(n))}return t},t.getItemVoArrToString=function(e,t){void 0===t&&(t="");var a,i,n,o,r,s=e.split(";"),e="",l=s.length;for(a=0;l>a;a++)r=s[a].split(","),r.length>1&&parseInt(r[1])&&(i=parseInt(r[0]),n=parseInt(r[1]),o=GlobalConfig.getItemVo(i),o&&(e+=n+t+o.name+" "));return e},t.getItemVoArrIsFull=function(e){var t,a,i,n,o,r=!0,s=e.split(";"),l=s.length,p=GlobalAllProxy.getInstance().backpackProxy;for(t=0;l>t;t++)if(a=s[t].split(","),a.length>1&&(i=parseInt(a[0]),n=parseInt(a[1]),o=p.getItemCount(i),n>o)){r=!1;break}return r},t.getStringVoArr=function(e,t){void 0===t&&(t=null),t||(t=[]);var a,i,n,o,r=e.split(";"),s=r.length;for(a=0;s>a;a++){for(i=r[a].split(","),n=0,o=i.length;o>n;n++)i[n]=parseInt(i[n]);t.push(i)}return t},t.setListMaskChange=function(e,t){if(void 0===t&&(t=ResName.tab_yys_b8),null!=e&&null!=e.parent){var a=e.parent,i=e.viewport,n=0,o=33,r=33,s=0;if(null!=i){var l,p,c,u,m,g,_,h,d=i.height,y=e.viewport.scrollV,v=i.contentHeight;if(null==a.bgmasktopimg){l=new eui.Image,l.touchEnabled=!1,l.source=RES.getRes(t),m=Math.floor(.25*o),g=Math.floor(.25*r),_=Math.floor(.5*r),h=Math.floor(.5*r);var f=new egret.Rectangle(m,g,_,h);l.scale9Grid=f,l.scaleY=-1,l.width=e.width+2*s,n=a.getChildIndex(e),a.bgmasktopimg=l,a.addChildAt(l,n+1)}if(null==a.bgmaskdownimg){p=new eui.Image,p.touchEnabled=!1,p.source=RES.getRes(t),m=Math.floor(.25*o),g=Math.floor(.25*r),_=Math.floor(.5*r),h=Math.floor(.5*r);var f=new egret.Rectangle(m,g,_,h);p.scale9Grid=f,p.width=e.width+2*s,a.bgmaskdownimg=p,a.addChildAt(p,n+1)}if(c=a.bgmasktopimg,u=a.bgmaskdownimg,c.x=e.x-s,c.y=e.y+r,u.x=e.x-s,u.y=e.y+e.height-r,c.visible=!1,u.visible=!1,v<=e.height)return;y>10&&(c.visible=!0),v>y+d+10&&(u.visible=!0)}}},t.ShowTip=function(e,t,a,i,n,o){void 0===n&&(n=!1),void 0===o&&(o=100);var r=this.getProtocol(t,a,i,o);r.trigger=e,i&&(r.itemData=i),a==game.TipSimpleObject.type_awardarr?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tip_awardarr],r):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tip],r)},t.ArrayToChange=function(e,t){void 0===t&&(t=!0);for(var a=e.length,i=0;a>i;i++)e[i]=parseFloat(e[i])},t.StrArrToNumArr=function(e){return e.map(function(e){return+e})},t.getProtocol=function(e,t,a,i){void 0===i&&(i=100);var n=new game.TipSimpleObject(t);switch(n.id=e,t){case game.TipSimpleObject.type_item:var o=GlobalConfig.getItemVo(e);null!=o&&(n.avatar=GlobalEnum.getIconName(o.icon),n.name=o.name,n.desc=o.des);break;case game.TipSimpleObject.type_common:n.desc=a;break;case game.TipSimpleObject.type_awardarr:break;case game.TipSimpleObject.type_skill:var r=GlobalConfig.getSkillVO(e);if(null!=r){var s=1;a&&a.playerstar&&(s=a.playerstar),n.name=r.sname,n.desc=r.getdec(i,s),n.level=i}}return n.type=t,n},t.panelJump=function(e,t){var a=!1;if(e&&"0"!=e){for(var i,n,o=e.split(";"),r=[],s=[],l=0,p=o.length;p>l;l++)if(i=o[l],r=i.split(","),r.length>0){if(n=PanelDM.getIns().goWindow(r,null,t),!n){s.push(0);break}s.push(1)}s.length&&-1==s.indexOf(0)&&(a=!0)}return a},t.setPorObjArr=function(e,t){var a,i,n,o,r,s,l,p;for(l=0,p=e.length;p>l;l++)for(i=e[l][0],n=parseFloat(e[l][1]),a=i==porpertyType.num_all?GlobalEnum.porpernumall:i==porpertyType.bai_all?GlobalEnum.porperbaiall:[i],o=0,r=a.length;r>o;o++)s=parseFloat(a[o]),t[s]?t[s]=n+t[s]:t[s]=n},t.wanToNomal=function(e){return 1e-4*e},t.getNumScale=function(e){return e},t.ResLoadArr=function(e){for(var e=e,t="",a=e.length-1;a>=0;a--)t=e[a],RES.getRes(t)&&e.splice(a,1)},t.getStringLength=function(e){return e.replace(/[\u0391-\uFFE5]/g,"aa").length},t.getSeverObj=function(){var e,t,a,i=[1,2,3,4],n=SaveUtil.getItem(SaveUtil.type_login_sever),o=GlobalEnum.severDataArr,r=o.length;if(PFAll.game_serverId&&(n=PFAll.game_serverId),n&&"undefined"!=n){for(a=0;r>a;a++)if(e=o[a],parseInt(e.id)==parseInt(n)){t=e;break}}else{var s=0;for(a=0;r>a;a++)e=o[a],parseInt(e.id)>=s&&i.indexOf(-1!=parseInt(e.state))&&(s=parseInt(e.id),t=e)}var l=new game.SeverVO;return l.objectToThis(t),l},t.getNowSeverVO=function(){var e;if(Global.severNE!=Global.severNE_debug){var t=GlobalAllProxy.getInstance().gameProxy.severlistData;if(t){var a=t.lastLogin,i=t.svrlst;if(i&&i.length){var n=i.length;if(n){var o=GlobalAllProxy.getInstance().gameProxy.chooseSeverVO;if(o)e=o;else{var r;a.length?(r=a[0],e=r.serverid?t.getListVO(r.serverid):i[n-1]):e=i[n-1],GlobalAllProxy.getInstance().gameProxy.setChooseSever(e)}}}}}return e},t.log=function(e,t){void 0===t&&(t=!1),(!Global.isbanben||t)&&egret.log(e)},t.getFightNum=function(e){var t=0;return e&&(e.player&&(t+=e.player),e.formation&&(t+=e.formation),e.equip&&(t+=e.equip),e.coach&&(t+=e.coach),e.title&&(t+=e.title),e.logo&&(t+=e.logo)),t=Math.floor(t)},t.removeListData=function(e){e&&e.dataProvider&&(e.dataProvider.source=[],e.dataProvider.removeAll())},t.isPhone=function(){var e=!0;return window.isOnPc&&(e=!1),e},t.removeTextFlow=function(t){t&&(t.textFlow=e.GameComUtil.getHtmlText(""))},t.getNameLenght=function(){return Math.floor(ParamLoader.instance.Servernamemax)},t.getCharLenght=function(){return Math.floor(ParamLoader.instance.Serverchatmaxtext)},t.getNameLenghtStr=function(e,t){for(var a,i="",n=0,o=0;o<e.length;o++){if(a=e.charAt(o),n+=null!=a.match(/[^\x00-\xff]/gi)?2:1,n>t)return i;i+=a}return i},t.animoObj={},t.imagePos=new egret.Point(300,300),t}();e.GameComUtil=t,__reflect(t.prototype,"utils.GameComUtil")}(utils||(utils={}));var utils;!function(e){var t=function(){function t(){}return t.stringCheckNull=function(e){var t=e;return"undefined"==t||"null"==t||""==t?"":t},t.max=function(e,t){return e>t?e:t},t.min=function(e,t){return e>t?t:e},t.getNumToStr=function(e){if(PFAll.isNowPF([Global.severNE_english,Global.severNE_russia]))return this.getNumToStrForEn(e);e=Math.floor(e);var t,a,i,n=e+"",o=3;return e>=1e8?(t=e/1e8,i=o-Math.floor(t).toString().length,a=i>0?parseFloat(t.toFixed(i)):t.toFixed(0),n=a+Language.ins.game_yi_s):e>=1e4&&(t=e/1e4,i=o-Math.floor(t).toString().length,a=i>0?parseFloat(t.toFixed(i)):t.toFixed(0),n=a+Language.ins.game_wan_s),n},t.getNumToStrForEn=function(e){e=Math.floor(e);var t,a,i,n=e+"",o=3,r=1e6,s=1e8,l=1e4,p=PFAll.isNowPF([Global.severNE_english,Global.severNE_russia]);return e>=s&&!p?(t=e/s,i=o-Math.floor(t).toString().length,a=i>0?parseFloat(t.toFixed(i)):t.toFixed(0),a=p?100*a:a,n=parseFloat(a.toFixed(i))+Language.ins.game_yi_s):e>=r?(t=e/r,i=o-Math.floor(t).toString().length,a=i>0?parseFloat(t.toFixed(i)):t.toFixed(0),n=a+Language.ins.game_baiwan_s):e>=l&&(t=e/l,i=o-Math.floor(t).toString().length,a=i>0?parseFloat(t.toFixed(i)):t.toFixed(0),a=p?10*a:a,n=parseFloat(a.toFixed(i))+(p?Language.ins.game_qian_s:Language.ins.game_wan_s)),n},t.getresuleStr=function(e){var t=e.split(":"),a="";if(t.length>1){var i=parseInt(t[0]),n=parseInt(t[1]);i>n?a="WIN":i==n?a="DRAW":n>i&&(a="LOSE")}return a},t.getchangenum=function(e,t){return parseFloat(t)-parseFloat(e)},t.setColorGrey=function(e,t){if(t){var a=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(a);e.filters=[i]}else e.filters=[]},t.setColorBrightness=function(e,t,a){if(a){var i=[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0],n=new egret.ColorMatrixFilter(i);e.filters=[n]}else e.filters=[]},t.getScalePanel=function(e,t){var a=Global.stageHeight,i=1;if(e>a){var n=t-(e-a),o=n/t;o=parseFloat(o.toFixed(2)),1>o&&(i=o)}return i},t.playGifMc=function(t,a,i,n,o){void 0===n&&(n="tab_yys_c3"),void 0===o&&(o="gif");var r,s,l=i;s=l[o+"mcG"+t];var p=o+"mc"+t,c=l[o+"img"+t];if(s)if(a){if(r=e.GameComUtil.getArmature(ResName.mc_award_lingqu,p,l,!1)){var u=r.animation.isPlaying;u||r.animation.play("effect")}var m,g=n,_="building",h=r.armature.getSlot(_);m=RES.getRes(g);var d=new egret.Bitmap;d.texture=m,d.anchorOffsetX=Math.floor(.5*m.textureWidth),d.anchorOffsetY=Math.floor(.5*m.textureHeight),h.display=d,s.addChild(r),c&&(c.visible=!1)}else l[p]&&e.GameComUtil.removeAnimoSelf(l[p]),c&&(c.visible=!0)},t.cellwidth=120,t.cellheight=160,t.cellMoveW=10,t.cellMoveH=80,t.dekaronroadStarNum=0,t.friendshipsoldgoal_num=-1,t.friendshipsscore=-1,t.friendshipssuccess_num=-1,t.qualifyingscore=-1,t.qualifyingrank_num=-1,t.qualifyold_rank=0,t.sortTwoFun=function(e,t,a,i){return void 0===a&&(a=!0),void 0===i&&(i=!0),function(n,o){var r,s;return i?(r=n[e],s=o[e]):(s=n[e],r=o[e]),r>s?-1:s>r?1:a?n[t]-o[t]:o[t]-n[t]}},t.sortMatckFun=function(e,t){return void 0===t&&(t=null),function(a,i){var n=0;t&&(n=t.length);var o;for(var r in e)if(o=parseInt(a[e[r]])-parseInt(i[e[r]]),0!=o)return n>parseInt(r)&&0==t[r]?o:-o;return 0}},t}();e.GameUtil=t,__reflect(t.prototype,"utils.GameUtil")}(utils||(utils={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_banner_name1_0","tab_banner_name1_5","tab_hdsc_t9","tab_hdsc_f1","tab_hdsc_w6","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","icon_108","smalicon_100002","btn_common_1"],a.resGroupName="ActivitySuperBuySkin",a.wingSkinName=ActivitySuperBuySkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivitySuperBuySkinDR=t,__reflect(t.prototype,"skins.ActivitySuperBuySkinDR")}(skins||(skins={}));var MandPool=function(){function e(){}return e.getIns=function(e){var t=this;if(null!=e){var a=egret.getQualifiedClassName(e),i=t.s_dict[a];if(null==i&&(i=[],t.s_dict[a]=i),i.length>0){var n=i.pop();return n.onCheckout&&n.onCheckout(),n}return new e}return null},e.remand=function(e){var t=this;if(null!=e){var a=egret.getQualifiedClassName(e),i=t.s_dict[a];null!=i&&(i.push(e),e.onRemand&&e.onRemand())}},e.getCount=function(e){var t=this.s_dict[e];return null!=t?t.length:0},e.s_dict={},e}();__reflect(MandPool.prototype,"MandPool");var Manifest=function(){function e(){}return e.map=function(e){game.Injector.mapClass(e,e)},e.getIns=function(e){return game.Injector.getInstance(e)},e}();__reflect(Manifest.prototype,"Manifest");var SaveUtil=function(){function e(){}return e.setItem=function(e,t){egret.localStorage.setItem(e,t)},e.getItem=function(e){return egret.localStorage.getItem(e)},e.removeItem=function(e){egret.localStorage.removeItem(e)},e.clear=function(){egret.localStorage.clear()},e.type_login_name="type_login_name",e.type_login_pass="type_login_pass",e.type_login_sever="type_login_sever",e.type_music_isopen="type_music_isopen",e.type_sound_isopen="type_sound_isopen",e.type_rech_mc_ishow="type_rech_mc_ishow",e.type_league_mc_ishow="type_league_mc_ishow",e.type_rech_sound_ishow="type_rech_sound_ishow",e.type_seve_list_num="type_seve_list_num",e.type_debug_name="type_debug_name",e.type_ios_youke_uid="type_ios_youke_uid",e.type_aiweiyou_token="type_aiweiyou_token",e}();__reflect(SaveUtil.prototype,"SaveUtil");var egret;!function(e){var t=function(){function e(){}return e.transDate=function(e){var t;return t=new Date(1e3*e),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},e.transDate1=function(e){var t;return t=new Date(1e3*e),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},e.transDate2=function(e){var t,a="00",i="00",n="00",o="00",r="00";return t=new Date(1e3*e),a=t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1),i=t.getDate()>=10?t.getDate():"0"+t.getDate(),n=t.getHours()>=10?t.getHours():"0"+t.getHours(),o=t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes(),r=t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds(),t.getFullYear()+"-"+a+"-"+i+" "+n+":"+o+":"+r},e.SecToHSC=function(e){void 0===e&&(e=0);var t="",a=Math.floor(e/3600),i=Math.floor(e/60)-60*a,n=e-3600*a-60*i;return 10>a?t+="0"+(a+":"):a>=10&&(t+=a+":"),10>i?t+="0"+(i+":"):i>=10&&(t+=i+":"),10>n?t+="0"+n:n>=10&&(t+=n),t},e}();e.TimeUtils=t,__reflect(t.prototype,"egret.TimeUtils")}(egret||(egret={}));var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_hdsc_v2","tab_banner_name1_0","tab_banner_name1_6","tab_djs_a1","tab_hdsc_t9","tab_hdsc_f1","tab_hdsc_w6","font_vipshop_zi","tab_hdsc_z1","tab_hdsc_x7","tab_lt_a3","tab_hdsc_a8","icon_108","smalicon_100002","tab_hdsc_y9","btn_common_1"],a.resGroupName="ActivityTimedBagSkin",a.wingSkinName=ActivityTimedBagSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.ActivityTimedBagSkinDR=t,__reflect(t.prototype,"skins.ActivityTimedBagSkinDR")}(skins||(skins={}));var LoadingMaskView=function(){function e(){}return e.show=function(e){var t=this;if(RES.getRes("anima_load")){t.s_obMask||(t.s_obMask=new eui.Rect,t.s_obMask.percentWidth=100,t.s_obMask.percentHeight=100,t.s_obMask.fillColor=0,t.s_obMask.fillAlpha=.5,t.s_loadmc=utils.GameComUtil.getSYMovieClip("anima_load","anima_load")),t.s_loadmc.x=.5*Global.stageWidth,t.s_loadmc.y=.5*Global.stageHeight,null==t.s_txt&&(t.s_txt=new eui.Label),null==t.s_tiptxttxt&&(t.s_tiptxttxt=new eui.Label,t.s_tiptxttxt.touchEnabled=!1,t.s_tiptxttxt.text=Language.ins.game_loading,t.s_tiptxttxt.size=20),t.s_tiptxttxt.horizontalCenter=0,t.s_tiptxttxt.y=t.s_loadmc.y+55,0==t.s_arrHost.length&&(t.s_blPlaying=!0),-1==t.s_arrHost.indexOf(e)&&t.s_arrHost.push(e);var a=dm.VDM.s_root;a.touchChildren=!1,t.s_waitNum||t.s_loadmc.parent||(egret.clearTimeout(t.s_waitNum),t.s_waitNum=0,t.s_obMask.alpha=0,a.addChild(t.s_obMask),t.s_waitNum=egret.setTimeout(t.waitShow,t,1e3)),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,t.groupIOError_res,t),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.groupComplete_res,t),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,t.groupProgress_res,t),t.setText("load++"+e+"\n"),t.s_txt.touchEnabled=!1,t.waittimeshow()}},e.isLoading=function(){return this.s_arrHost.length>0},e.groupComplete_res=function(e){var t=this;t.setText("complete--"+e.groupName+"\n")},e.groupIOError_res=function(e){var t=this;t.s_arrHost=[],t.clearPlay(),t.setText("error--"+e.groupName+"\n")},e.groupProgress_res=function(e){this.waittimeshow()},e.waittimeshow=function(){var e=this,t=2e4;if(Global.ishtml&&(t=2e4),egret.clearTimeout(e._removetime),e.s_arrHost.length>0){var a=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();a||(e._removetime=egret.setTimeout(e.timetoremove,e,t))}},e.timetoremove=function(){var e=this;egret.log("loadingerror:"+e.s_arrHost.toString()),e.s_arrHost=[],e.removeLoading(),FLOAT.NShowPutong([Language.ins.game_club_loadlong])},e.waitShow=function(){var e=this;if(egret.clearTimeout(e.s_waitNum),e.s_waitNum=0,e.s_arrHost.length>0){var t=dm.VDM.s_root;t.addChild(e.s_obMask),t.addChild(e.s_loadmc),t.addChild(e.s_tiptxttxt),Global.isrest||t.addChild(e.s_txt),e.s_loadmc.play(-1),e.s_obMask.alpha=1}},e.remove=function(e){var t=this;if(!RES.getRes("anima_load"))return void EventBus.sendMessage(game.GameCommands.ALL_LOADING_COMPLETE);egret.clearTimeout(t._removetime);var a=t.s_arrHost.indexOf(e);a>-1&&t.s_arrHost.splice(a,1),0==t.s_arrHost.length&&t.removeLoading(),t.setText("remove++"+e+"\n")},e.removeLoading=function(){var e=this;egret.clearTimeout(e.s_waitNum),e.s_waitNum=0,e.s_blPlaying=!1;var t=dm.VDM.s_root;t.touchChildren=!0,e.s_obMask&&e.s_obMask.parent==t&&t.removeChild(e.s_obMask),e.s_loadmc&&e.s_loadmc.parent==t&&(e.s_loadmc.stop(),t.removeChild(e.s_loadmc),t.removeChild(e.s_tiptxttxt)),EventBus.sendMessage(game.GameCommands.ALL_LOADING_COMPLETE)},e.clearPlay=function(){var e=this;e.s_arrHost=[],egret.clearTimeout(e.s_waitNum),egret.clearTimeout(e.s_nTID),e.s_blPlaying=!1,e.s_waitNum=0;var t=dm.VDM.s_root;t.touchChildren=!0,e.s_obMask&&(e.s_obMask.parent==t&&t.removeChild(e.s_obMask),e.s_loadmc.parent==t&&(e.s_loadmc.stop(),t.removeChild(e.s_loadmc),t.removeChild(e.s_tiptxttxt)))},e.setText=function(e){},e.s_arrHost=[],e}();__reflect(LoadingMaskView.prototype,"LoadingMaskView");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_a3","tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_8","btn_common_6","btn_common_9","btn_common_1"],a.resGroupName="AlertBuyTimeSkin",a.wingSkinName=AlertBuyTimeSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertBuyTimeSkinDR=t,__reflect(t.prototype,"skins.AlertBuyTimeSkinDR")}(skins||(skins={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AchieveAwardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_achieve_award),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.achieveData;
if(a){for(var i,n,o=a.levelGift,r=GlobalConfig.achievereward_DATA,s=[],l=a.level,p=0,c=r.length;c>p;p++)i=r[p],i.reward&&"0"!=i.reward&&(n=new AchieveAwardRenderVO,n.vo=i,n.achievelv=i.achievelv,l>=i.achievelv?n.iscan=1:n.iscan=0,-1!=o.indexOf(i.achievelv)?n.isget=1:n.isget=0,s.push(n));s.sort(utils.GameUtil.sortMatckFun(["isget","iscan","achievelv"],[0,1,0])),t.showData(s,!1),t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.achieve_tip5)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.ACHIEVE_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=AchieveAwardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(e.VM);e.AchieveAwardView=t,__reflect(t.prototype,"vm.AchieveAwardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e=new skins.AchieveChangeSkinDR,t=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],a=[],i=0,n=t.length;n>i;i++)a=a.concat(ResName.getDragonFastArr(t[i]));e.runto(this,a)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_achieve_change),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&(e.m_chooseindex=e.panelVo.panelobj)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.achieveData,i=GlobalAllProxy.getInstance().playerProxy.clubData,n=t.m_chooseindex;if(a&&n&&i){var o,r,s,l,p,c,u,m,g=a.achieve,_=[],h=i.achieveShow,d=h.length;for(r=0,s=g.length;s>r;r++)if(l=g[r],l.getTime){for(o=GlobalConfig.getAchieveVO(l.achieveId),p=o.id,c=new AchieveRenderVO,c.id=p,c.vo=o,c.curnum=l.progress,c["class"]=o["class"],c.time=l.getTime,m=0;d>m;m++)u=h[m],u.achieveId&&u.achieveId==p&&(c.isshow=!0);_.push(c)}t.showData(_,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CHANGE_SHOW_ACHIEVE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;a&&(GlobalAllProxy.getInstance().playerProxy.NetModifyAchieveShow(t.m_chooseindex,a.id),t.datalist.selectedIndex=-1)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CHANGE_SHOW_ACHIEVE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.CHANGE_SHOW_ACHIEVE:this.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=AchieveRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(e.VM);e.AchieveChangeView=t,__reflect(t.prototype,"vm.AchieveChangeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e=new skins.AchieveListSkinDR,t=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],a=[],i=0,n=t.length;n>i;i++)a=a.concat(ResName.getDragonFastArr(t[i]));e.runto(this,a)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_achieve_list_title),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&(e.m_chooseid=e.panelVo.panelobj)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.achieveData,i=t.m_chooseid;if(a&&i){var n,o,r,s,l,p,c,u,m=a.achieve,g=GlobalConfig.achieve_DATA,_=[];for(g.sort(utils.GameUtil.sortMatckFun(["achieveid","class"],[0,0])),s=0,l=g.length;l>s;s++)if(n=g[s],c=n.id,i==n.achieveid)for(u=new AchieveRenderVO,u.id=c,u.vo=n,u.curnum=0,u["class"]=n["class"],_.push(u),o=0,r=m.length;r>o;o++)if(p=m[o],p.achieveId==c){u.curnum=p.progress,u.time=p.getTime,u.vo=n;break}t.showData(_,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=AchieveListRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(e.VM);e.AchieveListView=t,__reflect(t.prototype,"vm.AchieveListView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){for(var e=new skins.AchieveSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu),a=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.showTar(),a.achievebar.ShowLabel=!0,a.lantxt0.text=Language.ins.achieve_tip6,a.changeG.label=Language.ins.btn_achieve_award),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_achieve),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun()},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_achieve;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVO=function(){var e=this;e._choosemode=0,e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent();var a=this;utils.GameComUtil.removeListData(this.datalist),utils.GameUtil.playGifMc(0,!1,a,"tab_cj_c6"),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a=this,i=GlobalAllProxy.getInstance().gameProxy.achieveData;if(i){var n,o,r,s,l,p,c,u,m=a._choosemode==t.type_all,g=i.achieve,_=GlobalConfig.achieve_DATA,h={},d=[];for(_.sort(utils.GameUtil.sortMatckFun(["achieveid","class"],[0,0])),s=0,l=_.length;l>s;s++)for(n=_[s],c=n.id,h[n.achieveid]?u=h[n.achieveid]:(u=new AchieveRenderVO,u.isunlock=0,h[n.achieveid]=u,u.id=c,u.vo=n,u["class"]=n["class"],u.isNeedShowTip=!1,d.push(u)),o=0,r=g.length;r>o;o++)if(p=g[o],p.achieveId==c){p.isNeedShowTip&&(u.isNeedShowTip=p.isNeedShowTip),u.id==c?(u.curnum=p.progress,u.time=p.getTime,u.isunlock=p.progress>=n.schedule?1:0):p.progress>=n.schedule&&u["class"]<n["class"]&&(u.id=c,u.curnum=p.progress,u.time=p.getTime,u.vo=n,u.isunlock=p.progress>=n.schedule?1:0);break}if(!m)for(var y=d.length-1;y>=0;y--)u=d[y],u.isunlock&&d.splice(y,1);d.sort(utils.GameUtil.sortMatckFun(["isunlock","id"],[1,0])),a.showData(d,!1);var v,f,b=i.level,G=i.levelGift,x=GlobalConfig.achievereward_DATA;for(o=0,r=x.length;r>o;o++)if(v=x[o],f=v.achievelv,v.reward&&"0"!=v.reward){if(!(b>=f))break;if(-1==G.indexOf(f))break}a.m_achieveVO=v,b>=v.achievelv?utils.GameUtil.playGifMc(0,!0,a,"tab_cj_c6"):utils.GameUtil.playGifMc(0,!1,a,"tab_cj_c6");var C=utils.GameComUtil.getItemVoArr(v.reward);a.m_jiangliArr=C;var T=GlobalConfig.getAchieveRewardVO(b),P=i.score-T.minscore,A=T.maxscore-T.minscore;a.achlvtxt.text=b,a.achievebar.setValue(P,A),a.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.achieve_tip5),a.ranktxt.text=i.currentRank}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof AchieveRenderVO){var i=a,n=GlobalAllProxy.getInstance().gameProxy.achieveData;if(n)for(var o,r,s=n.achieve,l=i.vo.achieveid,p=0,c=s.length;c>p;p++)o=s[p],o.isNeedShowTip&&(r=GlobalConfig.getAchieveVO(o.achieveId),r&&r.achieveid==l&&(o.isNeedShowTip=!1));PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_list],i.vo.achieveid),t.datalist.selectedIndex=-1,t.changeShow()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACHIEVE_DATA_CHANGE:a.changeShow(e);break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.changeG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_award]);break;case t.achieverank:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamerank,2]);break;case t.arwardimg:var i=GlobalAllProxy.getInstance().gameProxy.achieveData;i.level>=t.m_achieveVO.achievelv?GlobalAllProxy.getInstance().gameProxy.NetAchieveReward(t.m_achieveVO.achievelv):utils.GameComUtil.ShowTip(t.arwardimg,null,game.TipSimpleObject.type_awardarr,t.m_jiangliArr)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=AchieveRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.type_all=0,t.type_lock=1,t}(e.VM);e.AchieveView=t,__reflect(t.prototype,"vm.AchieveView")}(vm||(vm={}));var ActivityCumulativeSignVO=function(){function e(){}return e}();__reflect(ActivityCumulativeSignVO.prototype,"ActivityCumulativeSignVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.cumsign,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ActivityCumulativeSignSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt0.text=Language.ins.activity_tip56,t.tiptxt1.text=Language.ins.activity_tip57),t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.signInit;if(a){var i=t.reward.split("|"),n=[],o=t.limit.split(",");for(var r in i){var s=new ActivityRewardRenderVO;s.rewardarr=utils.GameComUtil.getItemVoArr(i[r]),s.limit=+o[r],s.title=FormatString.format(Language.ins.activity_tip1,o[r],a.signDays,s.limit),s.id=e.activityid,s.iscanget=a.receiveAward[r],2!=s.iscanget&&a.signDays>=s.limit&&(s.iscanget=1),s.index=1,1==s.iscanget?s.index=0:2==s.iscanget&&(s.index=2),n.push(s)}n.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(n,!1),e.contenttxt.text=t.des;var l=utils.GameComUtil.getTime1Str(1e3*a.startTime),p=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,l,p);var c,u=t.signreward.split("|");if(u.length>a.day-1){c=u[a.day-1];var m=utils.GameComUtil.getItemVoArr(c);e.item0.setIdAndNum(m[0].itemid,m[0].count,!0),e.item0.setTip(!0)}var g=t.exsignreward.split("|");if(g.length>a.day-1){var _=utils.GameComUtil.getItemVoArr(g[a.day-1]);e.item1.setIdAndNum(_[0].itemid,_[0].count,!0),e.item1.setTip(!0)}e.tiphimg.visible=!1,0==+a.todayState?(e.rewardbtn.label=Language.ins.game_canling,e.tiphimg.visible=!0,utils.GameUtil.setColorGrey(e.rewardbtn,!1)):1==+a.todayState&&(e.rewardbtn.label=Language.ins.month_tip1,utils.GameUtil.setColorGrey(e.rewardbtn,!0));var h=t.exsigncondition.split("|"),d=h[a.day-1].split(":"),y=+GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel;e.tiphimg0.visible=!1,1==+a.extraState?(e.rankbtn.label=Language.ins.month_tip1,utils.GameUtil.setColorGrey(e.rankbtn,!0)):+d[1]<=y?(e.rankbtn.label=Language.ins.game_canling,e.tiphimg0.visible=!0,utils.GameUtil.setColorGrey(e.rankbtn,!1)):(e.tiphimg0.visible=!1,utils.GameUtil.setColorGrey(e.rankbtn,!0),e.rankbtn.label=FormatString.format(Language.ins.activity_tip12,d[1])),e.curdaytxt.text=FormatString.format(Language.ins.activity_tip47,a.signDays)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.rewardbtn:GlobalAllProxy.getInstance().activityProxy.NetEvedayReceiveReward(1);break;case t.rankbtn:GlobalAllProxy.getInstance().activityProxy.NetEvedayReceiveReward(2)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.ActivityCumulativeSignView=t,__reflect(t.prototype,"vm.ActivityCumulativeSignView")}(vm||(vm={}));var ActivityDrawingVO=function(){function e(){}return e}();__reflect(ActivityDrawingVO.prototype,"ActivityDrawingVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.times=0,t.timearr=[150,130,110,90,70],t.okarr=[0,0,0,0,0];var a=t;return a.activityid=act_type.onlinegif,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ActivityDrawingSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;t&&(a.tiptxt0.text=Language.ins.activity_tip58,a.tiptxt1.text=Language.ins.activity_tip59,a.tiptxt2.text=Language.ins.activity_tip61,a.tiptxt4.text=Language.ins.activity_tip63,a.overtimetxt.text=Language.ins.activity_tip65,a.ugtiptext.text=Language.ins.activity_tip60),a.initAddEvent(),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent();var a=this;utils.GameComUtil.removeListData(this.datalist),a.mctimer&&(a.mctimer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc2,a),a.mctimer.stop(),a.mctimer=null)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush.dailyOnline,a=GlobalConfig.getactivityoperateVO(t.activityId),i=GlobalConfig.getComActivitylabaVO(a.relation);e.times=t.times,e.timestxt.text=FormatString.format(Language.ins.activity_tip78,t.times,i.times),e.contenttxt.text=a.des;var n=utils.GameComUtil.getTime1Str(1e3*t.startTime),o=utils.GameComUtil.getTime1Str(1e3*t.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,n,o),e.hadugnumtxt.text=GlobalAllProxy.getInstance().playerProxy.playerinfo.stone,e.ugimg.visible=!1;var r=i.times;if(0!=t.times){e.useugnumtxt.text=i.laprice.split(",")[r-t.times];var s=i.lareward.split("|"),l=s[r-t.times].split(";"),p=l[0].split(":")[1].split(",")[0];e.getugnumtxt.text=p,e.ugtext.text=t.rechargeAmount+"/"+i.lacharge.split(",")[r-t.times],e.ugtiptext.text=Language.ins.activity_tip43,e.ugimg.visible=!0}else e.useugnumtxt.text="0",e.getugnumtxt.text="0",e.ugtext.text="",e.ugtiptext.text=Language.ins.activity_tip40;GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel;0!=t.times&&t.rechargeAmount>=+i.lacharge.split(",")[3-t.times];var c=t.winnerList;if(e.showData(c,!1),e.clickimg.source="tab_hdsc_w9",0!=t.times){var u=+t.rechargeAmount,m=i.lacharge.split(","),g=+m[r-t.times],_=(+GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,+i.laprice.split(",")[r-t.times]),h=+GlobalAllProxy.getInstance().playerProxy.playerinfo.stone,d=u>=g?!0:!1,y=h>=_?!0:!1;t.times>0&&d&&y?(e.tiphimg.visible=!0,e.tipimg.visible=!0):(e.tiphimg.visible=!1,e.tipimg.visible=!1)}else e.tiphimg.visible=!1,e.tipimg.visible=!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE_LABA,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE_LABA:a.labareward=e[0].num,a.labarewarditem=e,a.tiphimg.visible=!1,a.tipimg.visible=!1,a.maskimg.visible=!0,this.showmc()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.clickimg:var a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush.dailyOnline;if(a){var i=GlobalConfig.getactivityoperateVO(a.activityId);GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(i.activitytype,a.actPeriods,0,0)}break;case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE),t.close()}},t.prototype.showmc=function(){var e=this;if(null==e.mctimer){e.okarr=[0,0,0,0,0];for(var t=e.labareward+"",a=5-t.length,i=0;a>i;i++)t="0"+t;e.m_shownum=t,e.coolingTime1=0,e.mctimer=new egret.Timer(50),e.mctimer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc2,e)}e.clickimg.source="tab_hdsc_x1",e.mctimer.start()},t.prototype.timerFunc2=function(e){var t=this;t.coolingTime1++;for(var a,i,n,o,r,s,l=t.m_shownum,p=1e3,c=20,u=Math.floor(.1*p),m=c+10,g=14,_=t.timearr,h=t.okarr,d=4;d>=0;d--)o=_[d],h[d]||(r=t["num0img"+d],s=t["num1img"+d],t.coolingTime1>o&&(a=(+l[d]+1)*u-p+g,i=r.y,n=s.y,i>=a-m&&a>=i?(r.y=a,s.y=r.y-p,h[d]=1):n>=a-m&&a>=n&&(s.y=a,r.y=s.y-p,h[d]=1)),h[d]||.1*t.coolingTime1>=4-d&&(s.y=s.y+c,r.y=r.y+c,s.y>=106&&(s.y=-1894),r.y>=106&&(r.y=-1894)));if(-1==h.indexOf(0)){t.mctimer&&(t.mctimer.removeEventListener(egret.TimerEvent.TIMER,t.timerFunc2,t),t.mctimer.stop(),t.mctimer=null);var y=GlobalAllProxy.getInstance().backpackProxy;y.addServerItem(t.labarewarditem);var v=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush.dailyOnline,f=GlobalConfig.getactivityoperateVO(v.activityId),b=GlobalConfig.getComActivitylabaVO(f.relation),G=b.times,x=b.laprice.split(",")[G-t.times];y.redBagItemNum(GlobalEnum.itemid_ug,x,Language.ins.log_uug_activitydrawing),t.maskimg.visible=!1,t.changeShow()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE_LABA,e.eventChange),e.mctimer&&(e.mctimer.removeEventListener(egret.TimerEvent.TIMER,e.timerFunc2,e),e.mctimer.stop(),e.mctimer=null)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityInfoRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.ActivityDrawingView=t,__reflect(t.prototype,"vm.ActivityDrawingView")}(vm||(vm={}));var ActivityGiftPacksViewVO=function(){function e(){}return e}();__reflect(ActivityGiftPacksViewVO.prototype,"ActivityGiftPacksViewVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.levelgif,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ActivityGiftPacksSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.gradeInit,i=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,n=t.reward.split("|"),o=[],r=t.limit.split(",");for(var s in n){var l=new ActivityRewardRenderVO;l.rewardarr=utils.GameComUtil.getItemVoArr(n[s]),l.limit=+r[s],l.title=FormatString.format(Language.ins.activity_tip2,r[s]),l.id=e.activityid,l.iscanget=0,l.index=1,+r[s]<=i&&(l.iscanget=1,l.index=0);for(var p in a.receiveAward)+a.receiveAward[p]==+r[s]&&(l.iscanget=2,l.index=2);o.push(l)}o.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(o,!1),e.contenttxt.text=t.des;var c=utils.GameComUtil.getTime1Str(1e3*a.startTime),u=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,c,u)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow()}},t.prototype.touchTapFun=function(e){e.target},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.ActivityGiftPacksView=t,__reflect(t.prototype,"vm.ActivityGiftPacksView")}(vm||(vm={}));var ActivitySevenLoginVO=function(){function e(){}return e}();__reflect(ActivitySevenLoginVO.prototype,"ActivitySevenLoginVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.sevenday,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ActivitySevenLoginSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.m_maxnum=0;var a=GlobalAllProxy.getInstance().activityProxy.activityArr.sevenLogin;if(e&&(t.getbtn.label=Language.ins.game_canling_p),a){var i=GlobalConfig.getActivityVO(t.activityid),n=i.reward.split("|"),o=a.currentOpenDay,r=a.receiveAward,s=n.length,l=o;1==r[o-1]?l=o:2==r[o-1]&&s>o&&(l=o+1),t.m_chooseteamtype=l,l+4>s?t.m_chooseN=s-4:t.m_chooseN=l-1}t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.sevenLogin;e.changeTypeList(),e.contenttxt.text=t.des;var i=utils.GameComUtil.getTime1Str(1e3*a.startTime),n=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,i,n);var o=t.reward.split("|"),r=utils.GameComUtil.getItemVoArr(o[e.m_chooseteamtype-1]);if(r&&e.listGroup.setDataArr(r,"",!0,!1,!0,!1),e.getbtn.visible=!0,e.getedimg.visible=!1,e.tiphimg.visible=!1,e.m_chooseteamtype<=a.currentOpenDay){var s=a.receiveAward;1==s[e.m_chooseteamtype-1]?(e.getbtn.enabled=!0,e.tiphimg.visible=!0):2==s[e.m_chooseteamtype-1]?(e.getbtn.visible=!1,e.getedimg.visible=!0):1==a.rechargeStatus?(e.getbtn.enabled=!0,e.tiphimg.visible=!0):e.getbtn.enabled=!1}else e.getbtn.enabled=!1,e.tiphimg.visible=!1;var l=utils.GameComUtil.changeNum(e.m_chooseteamtype),p=utils.GameComUtil.changeNum(a.currentOpenDay);e.tiptxt.text=FormatString.format(Language.ins.activity_tip50,l),e.daytxt.text=FormatString.format(Language.ins.activity_tip51,p)},t.prototype.changeTypeList=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.sevenLogin,i=t.reward.split("|");e.m_maxnum=i.length;var n=e.m_chooseN;e.leftbtn.visible=!1,e.rightbtn.visible=!1,n+4>=e.m_maxnum?(n=e.m_maxnum-4,e.m_chooseN=e.m_maxnum-4):e.rightbtn.visible=!0,0>=n?n=0:e.leftbtn.visible=!0,e.m_maxnum=n;for(var o,r=[],s=e.m_chooseteamtype,l=(t.limit.split(","),n),p=1;5>p;p++){var c=new ActivitySevenDayRenderVO;o=l+p,c.id=e.activityid,c.index=o,o<=a.currentOpenDay?c.isshow=!0:c.isshow=!1,c.ischoose=s==o?!0:!1,c.isnow=o==a.currentOpenDay?!0:!1,r.push(c)}r.sort(utils.GameUtil.sortMatckFun(["index"],[0])),e.showData(r,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;a&&(t.m_chooseteamtype=a.index,t.changeShow())},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this,a=GlobalAllProxy.getInstance().activityProxy.activityArr;switch(e.target){case t.jumptxt:a&&a.firstChargeInit?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_first_recharge]):FLOAT.NShowPutong([Language.ins.activity_first_tip3]);break;case t.leftbtn:t.m_chooseN--,t.changeTypeList();break;case t.rightbtn:t.m_chooseN++,t.changeTypeList();break;case t.getbtn:a&&a.sevenLogin&&GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(a.sevenLogin.activityId,t.m_chooseteamtype)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivitySevenDayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.ActivitySevenLoginView=t,__reflect(t.prototype,"vm.ActivitySevenLoginView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.superbuy,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ActivitySuperBuySkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.OverflowBuying;GlobalAllProxy.getInstance().playerProxy.playerinfo.level;if(t&&a){for(var i,n,o,r,s=t.getSuperBuyArr(),l=[],p=a.Overflow,c=a.OverflowGet,u=0,m=s.length;m>u;u++){i=s[u],n=new ActivitySuperBuyRenderVO,n.timebagvo=i,n.id=e.activityid,n.iscanget=0,n.canbuytime=0,n.index=1,n.num=u+1;for(o in c)+c[o].itemId==+i.payid&&(r=c[o].buyNum,r>0&&(n.iscanget=1,n.index=0));for(o in p)+p[o].itemId==+i.payid&&(n.canbuytime=p[o].buyNum,p[o].buyNum<=0&&(n.iscanget||(n.iscanget=2,n.index=2)));l.push(n)}l.sort(utils.GameUtil.sortMatckFun(["index","num"],[0,0])),e.showData(l,!1),e.contenttxt.text=t.des;var g=utils.GameComUtil.getTime1Str(1e3*a.startTime),_=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,g,_)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.SHOP_PAY_COMPLETE:a.changeShow()}},t.prototype.touchTapFun=function(e){e.target},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivitySuperBuyRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.ActivitySuperBuyView=t,__reflect(t.prototype,"vm.ActivitySuperBuyView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.timedbag,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ActivityTimedBagSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){var t=this;this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),t.timer&&(t.timer.removeEventListener(egret.TimerEvent.TIMER,t.timerFunc1,t),t.timer.stop(),t.timer=null)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().activityProxy.activityArr;if(t){var a=GlobalConfig.getActivityVO(e.activityid),i=t.limitBuying;if(a&&i){for(var n,o,r,s,l,p=i.openDays,c=(i.panic,a.getTimedBagRewardArr(p)),u=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,m=[],g=0,_=c.length;_>g;g++){n=c[g],l=GlobalConfig.getItemVo(n.itemid),r=new ActivityTimedBagRenderVO,r.timebagvo=n,r.num=g+1,r.id=e.activityid,r.iscanget=0,r.index=1,r.buyNum=0,n.vip<=u&&(r.iscanget=1,r.index=0);for(s in i.panic)o=i.panic[s],+o.itemId==+r.num&&(r.buyNum=o.buyNum,o.buyNum<=0&&(r.iscanget=2,r.index=2));
m.push(r)}m.sort(utils.GameUtil.sortMatckFun(["index","num"],[0,0])),e.showData(m,!1),e.contenttxt.text=a.des;var h=utils.GameComUtil.getTime1Str(1e3*i.startTime),d=utils.GameComUtil.getTime1Str(1e3*i.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,h,d);var y=parseInt(Global.systemTimeNum/1e3+"");e.coolingTime=i.endTime-y,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.overtimetxt0.text=utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timer.start()):e.overtimetxt0.text="00:00:00"}}},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.overtimetxt0.text="00:00:00")):void(t.overtimetxt0.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow()}},t.prototype.touchTapFun=function(e){},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityTimedBagRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.ActivityTimedBagView=t,__reflect(t.prototype,"vm.ActivityTimedBagView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.activity_1030101={id:1030101,panename:"vm.ActivitySevenLoginView",isreddot:!1,position:0,ischoose:!1},t.activity_1030201={id:1030201,panename:"vm.ActivityCumulativeSignView",isreddot:!1,position:0,ischoose:!1},t.activity_1030601={id:1030601,panename:"vm.ActivityTimedBagView",isreddot:!1,position:0,ischoose:!1},t.activity_1030301={id:1030301,panename:"vm.ActivityGiftPacksView",isreddot:!1,position:0,ischoose:!1},t.activity_1030501={id:1030501,panename:"vm.OperationZaiXianView",isreddot:!1,position:0,ischoose:!1},t.activity_1030701={id:1030701,panename:"vm.ActivitySuperBuyView",isreddot:!1,position:0,ischoose:!1},t.panelArr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ActivitySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo;e.m_index=0,e.activity_1030101.isreddot=utils.GameComUtil.checkactH(e.activity_1030101.id),e.activity_1030201.isreddot=utils.GameComUtil.checkactH(e.activity_1030201.id),e.activity_1030601.isreddot=utils.GameComUtil.checkactH(e.activity_1030601.id),e.activity_1030301.isreddot=utils.GameComUtil.checkactH(e.activity_1030301.id),e.activity_1030501.isreddot=utils.GameComUtil.checkactH(e.activity_1030501.id),e.activity_1030701.isreddot=utils.GameComUtil.checkactH(e.activity_1030701.id),e.updatapanelArr(),!e.m_chooosedata&&e.panelArr.length>0&&(e.m_chooosedata=e.panelArr[0],e.panelArr[0].ischoose=!0),e.panelArr.length<=4?(e.leftbtn.enabled=!0,e.leftbtn.touchEnabled=!1,e.rightbtn.enabled=!0,e.rightbtn.touchEnabled=!1):(e.leftbtn.enabled=!1,e.leftbtn.touchEnabled=!0,e.rightbtn.enabled=!1,e.rightbtn.touchEnabled=!0)},t.prototype.updatapanelArr=function(){var e,t=this,a=GlobalAllProxy.getInstance().activityProxy.activityArr,i=a.getfuliArr();if(t.panelArr.length<=0){for(var n,o=0,r=i.length;r>o;o++)e=GlobalConfig.getActivityVO(i[o]),n=t["activity_"+i[o]],n&&(n.position=e.position,t.panelArr.push(n));t.panelArr.sort(utils.GameUtil.sortMatckFun(["position"],[0]))}},t.prototype.changeshow=function(){var e=this;e.hitalllist();var t,a=e.m_chooosedata.panename;t=e[a],null==t?(t=Manifest.getIns(egret.getDefinitionByName(a)),e.contentGroup.addChild(t),t.visible=!0,e[a]=t):(!t.isNeedLoad(!0)&&t._isSubCreated&&t.onShow(!1),t.visible=!0,e.contentGroup.addChild(t));var i,n=e.panelArr,o=n.length,r=e.m_index;o>4&&(0>=r?(e.leftbtn.enabled=!0,e.leftbtn.touchEnabled=!1):(e.leftbtn.enabled=!1,e.leftbtn.touchEnabled=!0),r>=o-4?(e.rightbtn.enabled=!0,e.rightbtn.touchEnabled=!1):(e.rightbtn.enabled=!1,e.rightbtn.touchEnabled=!0));for(var s=!1,l=!1,p=[],c=r+4,u=0;o>u;u++)i=n[u],i&&(r>u?i.isreddot&&(s=!0):u>=c?i.isreddot&&(l=!0):p.push(i));e.tipleftimg.visible=s,e.tiprightimg.visible=l,e.showData(p,!1)},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n].panename,t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.hitalllist(),this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),a.panelArr=[],a.m_chooosedata=null},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE_LABA,e.eventchange),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE_LABA,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.updatatop(),a.changeshow();break;case game.GameCommands.ACTIVITY_RECEIVE_LABA:case game.GameCommands.OPERTION_REWARD:a.updatatop()}},t.prototype.updatatop=function(){var e=this;e.activity_1030101.isreddot=utils.GameComUtil.checkactH(e.activity_1030101.id),e.activity_1030201.isreddot=utils.GameComUtil.checkactH(e.activity_1030201.id),e.activity_1030601.isreddot=utils.GameComUtil.checkactH(e.activity_1030601.id),e.activity_1030301.isreddot=utils.GameComUtil.checkactH(e.activity_1030301.id),e.activity_1030501.isreddot=utils.GameComUtil.checkactH(e.activity_1030501.id),e.activity_1030701.isreddot=utils.GameComUtil.checkactH(e.activity_1030701.id),e.updatapanelArr()},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.leftbtn:t.movelist(-1);break;case t.rightbtn:t.movelist(1)}},t.prototype.movelist=function(e){var t=this;t.panelArr;t.m_index+=e,t.changeshow()},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityTitleRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.listchangeA=function(e){for(var t=this,a=t.datalist.selectedItem,i=0,n=t.panelArr.length;n>i;i++)t.panelArr[i].id==a.id?(t.panelArr[i].ischoose=!0,t.m_chooosedata=t.panelArr[i]):t.panelArr[i].ischoose=!1;t.changeshow()},t}(e.VM);e.ActivityView=t,__reflect(t.prototype,"vm.ActivityView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.panelArr=[],t.m_chooosedata=0;var a=t;return a.activityid=act_type.carnival,a.m_imgurlarr=["icon_103","icon_104","icon_105","icon_106"],a.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.CarnivalActivitySkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);t.concat(this.m_imgurlarr),e.runto(this,t)},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),t){for(var i=a.m_imgurlarr,n=0,o=i.length;o>n;n++)a["gifimg"+n].source=i[n];a.tiptxt.text=Language.ins.activity_tip66,a.tiptxt0.text=Language.ins.activity_tip67,a.tiptxt1.text=Language.ins.activity_tip68,a.tiptxt2.text=Language.ins.activity_tip69}a.readPanelVo(),a.initAddEvent(),a.changeshow(!0)},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.changeshow=function(e){var t=this,a=GlobalConfig.getActivityVO(t.activityid),i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(a||!i){var n=i.carnival;if(n.openDays<7)utils.GameUtil.setColorGrey(t.bgimg,!0),t.bgimg.enabled=!1,t.bgimg.touchEnabled=!1;else{utils.GameUtil.setColorGrey(t.bgimg,!1),t.bgimg.enabled=!0,t.bgimg.touchEnabled=!0;var o,r=n.task,s=r.length;t.tiphimg.visible=!1;for(var l=0;s>l;l++)o=GlobalConfig.getCarnivaVO(r[l].taskId),7==o.day&&1==r[l].isReward&&(t.tiphimg.visible=!0)}t.showtask(t.m_chooosedata+1,e),t.showTop();var p=utils.GameComUtil.getTime1Str(1e3*n.startTime),c=utils.GameComUtil.getTime1Str(1e3*n.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip38,p,c),t.headimg.source=ResName.getPlayerIcon(a.rewardplayer),t.addfighttxt.text=n.score,t.changeshowGif()}},t.prototype.showTop=function(){for(var e,t=this,a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.carnival,i=a.task,n=i.length,o=[],r=1;7>r;r++){var s=new CarnivalRenderVO;s.icon="tab_hdsc_t"+r,s.isshowreddot=!1;for(var l=0;n>l;l++)i&&i[l]&&i[l].taskId&&(e=GlobalConfig.getCarnivaVO(i[l].taskId),e.day==r&&1==i[l].isReward&&(s.isshowreddot=!0));s.daytime=a.openDays,o.push(s)}t.showData(o,!1)},t.prototype.changeshowGif=function(){var e=this,t=GlobalAllProxy.getInstance().activityProxy.rankactivityArr,a=GlobalConfig.getActivityVO(e.activityid);if(t){for(var i,n,o,r,s,l=a.limit.split(","),p=t.carnival.score,c=l.length,u=0,m=e.gifbar.x,g=e.gifbar.width,_=0,h=100,d=0,y=[],v=[],f=t.carnival.status,b=0;c>b&&(n=+l[b],u=b,e["gifG"+u]);b++){if(i=!1,s=e.m_imgurlarr[u],t.carnival.status.length>0)for(var G=0,x=f.length;x>G;G++)f[G]==n&&(i=!0);o=n,r=e["gifG"+u].x+e["gifxian"+u].x-m+3,v.push(r/g),y.push(o),e["gifstartxt"+u].text=o,utils.GameUtil.setColorGrey(e["gifimg"+u],!1),p>=o?i?(utils.GameUtil.playGifMc(u,!1,e,s),utils.GameUtil.setColorGrey(e["gifimg"+u],!0)):utils.GameUtil.playGifMc(u,!0,e,s):utils.GameUtil.playGifMc(u,!1,e,s),e["gifling"+u].visible=i?!0:!1,p>o&&(d=b+1)}var C;if(d>=y.length)_=h;else{var T=y[d],P=v[d];if(d>0){var A=y[d-1],w=v[d-1];C=(p-A)/(y[d]-A),_=100*(w+(P-w)*C)}else C=p/T,_=P*C*100}e.gifbar.setValue(_,h)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist);for(var i,n=0;4>n;n++)i=n,utils.GameUtil.playGifMc(i,!1,a,"")},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeshow(!1)}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.heroinfoimg:var i=GlobalConfig.getActivityVO(t.activityid),n=GlobalConfig.getPlayerPorpertyVO(+i.rewardplayer),o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n.playerid,n,!0));break;case t.gifrct0:t.getGiffun(0,t.gifrct0);break;case t.gifrct1:t.getGiffun(1,t.gifrct1);break;case t.gifrct2:t.getGiffun(2,t.gifrct2);break;case t.gifrct3:t.getGiffun(3,t.gifrct3);break;case t.bgimg:t.showtask(7,!0),t.m_chooosedata=6,t.datalist.selectedIndex=-1}},t.prototype.showtask=function(e,t){var a=this,i=GlobalConfig.getCarnivaArrVO(e),n=GlobalConfig.getActivityVO(a.activityid);if(n){var o=n.tabnum.split(","),r=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.carnival,s=[];if(r){for(var l=0;l<i.length;l++){var p=new CarnivaTaskRenderVO;p.id=i[l].taskid,p.jifen=i[l].score,p.activityid=+o[0],p.index=1,p.jump=i[l].jump,p.rewardarr=utils.GameComUtil.getItemVoArr(i[l].reward);for(var c=0;c<r.task.length;c++)if(r.task[c]&&r.task[c].taskId&&r.task[c].taskId==i[l].taskid){p.limit=i[l].des+" "+FormatString.format(Language.ins.activity_tip39,r.task[c].progress,i[l].schedule),p.iscanget=r.task[c].isReward,1==r.task[c].isReward?p.index=0:0==r.task[c].isReward?p.index=1:p.index=2,s.push(p);break}}s.sort(utils.GameUtil.sortMatckFun(["index","id"],[0,0])),a.showData1(s,t)}}},t.prototype.getGiffun=function(e,t){var a=this,i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr,n=GlobalConfig.getActivityVO(a.activityid),o=n.limit.split(","),r=i.carnival.status,s=r.length,l=!1;if(i&&+o[e]<=i.carnival.score){l=!0;for(var p=0;s>p;p++)if(r[p]==+o[e]){l=!1;break}}if(l)GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(a.activityid,+o[e]);else{var c=utils.GameComUtil.getItemVoArr(n.reward.split("|")[e]);utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,c)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=CarnivalRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData1=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=CarnivaTaskRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA0;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.listchangeA=function(e){var t=this;t.datalist.selectedItem;t.m_chooosedata=t.datalist.selectedIndex,t.changeshow(!0)},t}(e.VM);e.CarnivalActivityView=t,__reflect(t.prototype,"vm.CarnivalActivityView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.isRecharge=0,t.chargetype=0;var a=t;return a.activityid=act_type.goalkeeper,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FirstRechargeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.initAddEvent(),a.changeshow(),t&&(a.tiptxt0.text=Language.ins.activity_first_tip6,a.tiptxt1.text=Language.ins.activity_first_tip6,a.tiptxt2.text=Language.ins.activity_first_tip6,a.tiptxt3.text=Language.ins.activity_first_tip6)},t.prototype.changeshow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.firstChargeInit;if(t&&a){var i=utils.GameComUtil.getItemVoArr(t.reward);if(e.showpveDataC(i,!1),e.isRecharge=a.status,0==a.status){e.getbtn.visible=!1,e.chargebtnG.visible=!0;for(var n=t.maintitle.split(","),o=t.subtitle.split(","),r=0,s=o.length;s>r;r++)if(n[r]){var l=GlobalConfig.getChargeVO(n[r]);e["getbtn"+r].label=FormatString.format(PFAll.isRussiaVK()?Language.ins.russia_vk_recharge:Language.ins.activity_first_tip4,l.chargenum),e["ugtxt"+r].text=FormatString.format(Language.ins.activity_first_tip5,o[r])}}else 1==a.status?(e.getbtn.label=Language.ins.game_canling,e.getbtn.visible=!0,e.chargebtnG.visible=!1):(e.getbtn.label=Language.ins.month_tip1,e.getbtn.visible=!0,e.chargebtnG.visible=!1)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.pveawardlistC)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.pveawardlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.addMessage(game.GameCommands.ACTIVITY_FIRST_RECEIVE,e.eventchange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.pveawardlistC.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.removeMessage(game.GameCommands.ACTIVITY_FIRST_RECEIVE,e.eventchange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange)},t.prototype.listchangeA=function(e){var t=this,a=t.pveawardlistC.selectedItem;if(a){var i=a.itemid,n=GlobalConfig.getItemVo(i),o=n.type,r=GlobalConfig.getPlayerPorpertyVO(+n.parameter);if(o==item_type.type_player||o==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,r.playerid,r,!0))}t.pveawardlistC.selectedIndex=-1}},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_FIRST_RECEIVE:a.getbtn.label=Language.ins.game_reallyling,utils.GameUtil.setColorGrey(a.getbtn,!0);break;case game.GameCommands.SHOP_PAY_COMPLETE:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:t.close();break;case t.getbtn:1==t.isRecharge&&GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(t.activityid,1);break;case t.getbtn0:t.chargef(0);break;case t.getbtn1:t.chargef(1);break;case t.getbtn2:t.chargef(2);break;case t.getbtn3:t.chargef(3)}},t.prototype.gopay=function(){var e=this;GlobalAllProxy.getInstance().gameProxy.NetRecharg(e.chargetype)},t.prototype.chargef=function(e){var t=this,a=GlobalConfig.getActivityVO(t.activityid),i=a.maintitle.split(",");if(i[e]){t.chargetype=+i[e];GlobalConfig.getChargeVO(i[e]);Global.severNE!=Global.severNE_debug?PFAll.PFPay(i[e]):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0)}},t.prototype.showpveDataC=function(e,t){var a=this,i=e,n=a.pveawardlistC;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.FirstRechargeView=t,__reflect(t.prototype,"vm.FirstRechargeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.activity_1050101={id:1050101,panename:"vm.RankPowerView",isreddot:!1,position:0,ischoose:!1},t.activity_1050201={id:1050201,panename:"vm.RankLevelView",isreddot:!1,position:0,ischoose:!1},t.activity_1050301={id:1050301,panename:"vm.RankPeakView",isreddot:!1,position:0,ischoose:!1},t.activity_1050401={id:1050401,panename:"vm.RankRecruitView",isreddot:!1,position:0,ischoose:!1},t.panelArr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RankActivitySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;if(e.activity_1050101.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050101.id),e.activity_1050201.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050201.id),e.activity_1050301.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050301.id),e.activity_1050401.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050401.id),e.updatapanelArr(),!e.m_chooosedata&&e.panelArr.length>0&&(e.m_chooosedata=e.panelArr[0],e.panelArr[0].ischoose=!0),e.panelArr.length<=4?(e.leftbtn.enabled=!0,e.leftbtn.touchEnabled=!1,e.rightbtn.enabled=!0,e.rightbtn.touchEnabled=!1):(e.leftbtn.enabled=!1,e.leftbtn.touchEnabled=!0,e.rightbtn.enabled=!1,e.rightbtn.touchEnabled=!0),null!=t&&t.panelobj)for(var a=+t.panelobj,i=0,n=e.panelArr.length;n>i;i++)a==e.panelArr[i].id?(e.m_chooosedata=e.panelArr[i],e.panelArr[i].ischoose=!0):e.panelArr[i].ischoose=!1},t.prototype.updatapanelArr=function(){var e,t=this,a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr,i=a.getrankArr();if(t.panelArr.length<=0)for(var n in i)e=GlobalConfig.getActivityVO(i[n]),t["activity_"+i[n]].position=e.position,t.panelArr.push(t["activity_"+i[n]]),t.panelArr.sort(utils.GameUtil.sortMatckFun(["position"],[0]))},t.prototype.changeshow=function(){var e=this;if(e.hitalllist(),e.m_chooosedata){var t,a=e.m_chooosedata.panename;t=e[a],null==t?(t=Manifest.getIns(egret.getDefinitionByName(a)),e.contentGroup.addChild(t),t.visible=!0,e[a]=t):(!t.isNeedLoad(!0)&&t._isSubCreated&&t.onShow(!1),t.visible=!0,e.contentGroup.addChild(t)),e.showData(e.panelArr,!1)}},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n].panename,t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),this.hitalllist(),utils.GameComUtil.removeListData(this.datalist),a.panelArr=[]},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.updatatop=function(){var e=this;e.activity_1050101.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050101.id),e.activity_1050201.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050201.id),e.activity_1050301.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050301.id),e.activity_1050401.isreddot=utils.GameComUtil.checkrankchdH(e.activity_1050401.id),e.updatapanelArr()},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.updatatop()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityTitleRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.listchangeA=function(e){var t=this;t.datalist.selectedItem;t.m_chooosedata=t.panelArr[t.datalist.selectedIndex];for(var a=0,i=t.panelArr.length;i>a;a++)t.panelArr[a]==t.m_chooosedata?t.panelArr[a].ischoose=!0:t.panelArr[a].ischoose=!1;t.changeshow()},t}(e.VM);e.RankActivityView=t,__reflect(t.prototype,"vm.RankActivityView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.levelstarcraft,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RankLevelSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;e&&(t.showTar(),t.tiptxt0.text=Language.ins.mark_tip6,t.tiptxt1.text=Language.ins.mark_tip7),t.initAddEvent(),t.changeShow(),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip25;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist0)},a.prototype.changeShow=function(){var t=this,a=GlobalConfig.getActivityVO(t.activityid),i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.levelInit,n=this._choosemode,o=a.tabnum.split(","),r=GlobalConfig.getActivityVO(o[n]),s=r.reward.split("|"),l=[],p=r.limit.split(","),c=r.rank.split("|"),u=+GlobalAllProxy.getInstance().playerProxy.playerinfo.level;if(n==e.RankPowerView.type_0){for(var m=0;m<s.length;m++){var g=new ActivityRankRenderVO;g.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),g.rank=c[m],i.rankList[m]&&(g.rankobj=i.rankList[m],g.rankinfo=Language.ins.activity_tip32,g.ranknum=i.rankList[m].level),l.push(g)}t.datascrollA.visible=!0,t.datascrollA0.visible=!1,t.showData(l,!1)}else if(n==e.RankPowerView.type_1){for(var m=0;m<s.length;m++){var _=new ActivityRankRender1VO;_.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),_.limit=+p[m],_.name=Language.ins.activity_tip35,_.icon="smalicon_lv",_.id=r.id,_.iscanget=0,_.index=1,+p[m]<=u&&(_.iscanget=1,_.index=0);for(var h=0;h<i.status.length;h++)+i.status[h]==+p[m]&&(_.iscanget=2,_.index=2);l.push(_)}t.datascrollA.visible=!1,t.datascrollA0.visible=!0,l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),t.showData0(l,!1)}t.contenttxt.text=a.des;var d=utils.GameComUtil.getTime1Str(1e3*i.startTime),y=utils.GameComUtil.getTime1Str(1e3*i.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,d,y),t.ranktxt.text=i.ranking,t.ranktxt0.text=u,i.distance<=0?t.tipG.visible=!1:(t.tipG.visible=!0,t.tiptxt.text=FormatString.format(Language.ins.activity_tip37,i.distance))},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.ACTIVITY_RANK_UPDATA:a.changeTipMC(),a.changeShow()}},a.prototype.touchTapFun=function(e){e.target},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender1,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this,t=utils.GameComUtil.checkrankchdH(e.activityid),a=e.kbuttontab1,i="tipkbuttontab1";null!=a&&(e[i]=utils.GameComUtil.getTipMcImg(e[i],a,!1,!0),e.kbuttontab1.addChild(e[i]),e[i].visible=t)},a.type_0=0,a.type_1=1,a}(e.InnerVM);e.RankLevelView=t,__reflect(t.prototype,"vm.RankLevelView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.peakcraft,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RankPeakSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;e&&(t.showTar(),t.tiptxt0.text=Language.ins.mark_tip6,t.tiptxt1.text=Language.ins.mark_tip9),t.initAddEvent(),t.changeShow(),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip26;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.onHide=function(e){this.removeEvent()},a.prototype.changeShow=function(){var t=this,a=GlobalConfig.getActivityVO(t.activityid),i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.peakInit,n=this._choosemode,o=a.tabnum.split(","),r=GlobalConfig.getActivityVO(o[n]),s=r.reward.split("|"),l=[],p=r.limit.split(","),c=r.rank.split("|"),u=i.score;if(n==e.RankPowerView.type_0){for(var m=0;m<s.length;m++){var g=new ActivityRankRenderVO;g.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),g.rank=c[m],i.rankList[m]&&(g.rankobj=i.rankList[m],g.rankinfo=Language.ins.activity_tip33,g.ranknum=i.rankList[m].score),l.push(g)}t.datascrollA.visible=!0,t.datascrollA0.visible=!1,t.showData(l,!1)}else if(n==e.RankPowerView.type_1){for(var m=0;m<s.length;m++){var _=new ActivityRankRender1VO;_.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),_.limit=+p[m],_.name=Language.ins.activity_tip36,_.icon="smalicon_danfengjifen",_.id=r.id,_.iscanget=0,_.index=1,+p[m]<=u&&(_.iscanget=1,_.index=0);for(var h=0;h<i.status.length;h++)+i.status[h]==+p[m]&&(_.iscanget=2,_.index=2);l.push(_)}t.datascrollA.visible=!1,t.datascrollA0.visible=!0,l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),t.showData0(l,!1)}t.contenttxt.text=a.des;var d=utils.GameComUtil.getTime1Str(1e3*i.startTime),y=utils.GameComUtil.getTime1Str(1e3*i.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,d,y),t.ranktxt.text=i.ranking,t.ranktxt0.text=u,i.distance<=0?t.tipG.visible=!1:(t.tipG.visible=!0,t.tiptxt.text=FormatString.format(Language.ins.activity_tip37,i.distance))},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.ACTIVITY_RANK_UPDATA:a.changeTipMC(),a.changeShow()}},a.prototype.touchTapFun=function(e){e.target},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender1,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this,t=utils.GameComUtil.checkrankchdH(e.activityid),a=e.kbuttontab1,i="tipkbuttontab1";null!=a&&(e[i]=utils.GameComUtil.getTipMcImg(e[i],a,!1,!0),e.kbuttontab1.addChild(e[i]),e[i].visible=t)},a.type_0=0,a.type_1=1,a}(e.InnerVM);e.RankPeakView=t,__reflect(t.prototype,"vm.RankPeakView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.fightpower,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RankPowerSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;e&&(t.showTar(),t.tiptxt0.text=Language.ins.mark_tip6,t.tiptxt1.text=Language.ins.mark_tip8),t.initAddEvent(),t.changeShow(),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip24;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)
},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist0)},a.prototype.changeShow=function(){var t=this,a=GlobalConfig.getActivityVO(t.activityid),i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.powerInit,n=this._choosemode,o=a.tabnum.split(","),r=GlobalConfig.getActivityVO(o[n]),s=r.reward.split("|"),l=[],p=r.limit.split(","),c=r.rank.split("|"),u=+GlobalAllProxy.getInstance().playerProxy.playerinfo.getZhanliNum();if(n==e.RankPowerView.type_0){for(var m=0;m<s.length;m++){var g=new ActivityRankRenderVO;g.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),g.rank=c[m],g.id=t.activityid,i.rankList[m]&&(g.rankobj=i.rankList[m],g.rankinfo=Language.ins.activity_tip31,g.ranknum=i.rankList[m].fighting),l.push(g)}t.datascrollA.visible=!0,t.datascrollA0.visible=!1,t.showData(l,!1)}else if(n==e.RankPowerView.type_1){for(var m=0;m<s.length;m++){var _=new ActivityRankRender1VO;_.rewardarr=utils.GameComUtil.getItemVoArr(s[m]),_.limit=+p[m],_.name=Language.ins.activity_tip34,_.icon="tab_zjm_i3",_.id=r.id,_.iscanget=0,_.index=1,+p[m]<=u&&(_.iscanget=1,_.index=0);for(var h=0;h<i.status.length;h++)+i.status[h]==+p[m]&&(_.iscanget=2,_.index=2);l.push(_)}t.datascrollA.visible=!1,t.datascrollA0.visible=!0,l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),t.showData0(l,!1)}t.contenttxt.text=a.des;var d=utils.GameComUtil.getTime1Str(1e3*i.startTime),y=utils.GameComUtil.getTime1Str(1e3*i.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,d,y),t.ranktxt.text=i.ranking,t.ranktxt0.text=i.maxFighting,i.distance<=0?t.tipG.visible=!1:(t.tipG.visible=!0,t.tiptxt.text=FormatString.format(Language.ins.activity_tip37,i.distance))},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.ACTIVITY_RANK_UPDATA:a.changeTipMC(),a.changeShow()}},a.prototype.touchTapFun=function(e){e.target},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.ACTIVITY_RANK_UPDATA,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender1,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this,t=utils.GameComUtil.checkrankchdH(e.activityid),a=e.kbuttontab1,i="tipkbuttontab1";null!=a&&(e[i]=utils.GameComUtil.getTipMcImg(e[i],a,!1,!0),e.kbuttontab1.addChild(e[i]),e[i].visible=t)},a.type_0=0,a.type_1=1,a}(e.InnerVM);e.RankPowerView=t,__reflect(t.prototype,"vm.RankPowerView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.herorecruit,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.RankRecruitSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt0.text=Language.ins.mark_tip10),t.initAddEvent(),t.changeShow();var a=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;a&&a.recruitInit&&a.recruitInit.score>=100&&(GlobalAllProxy.getInstance().activityProxy.bl_isopenRecruit=!0)},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e,t=this,a=GlobalConfig.getActivityVO(t.activityid),i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr.recruitInit,n=a.playerbuy,o=n.split("|"),r=[];if(i)for(var s=0;s<o.length;s++){e=o[s].split(",");var l=new RankDuiHuanRenderVO;l.buyednum=i.exchange[s].num,l.buytime=e[2],l.iteminfo=GlobalConfig.getItemVo(e[0]),l.price=e[3],l.buynum=e[1],l.id=t.activityid,l.index=s,r.push(l)}t.showData(r,!1),t.contenttxt.text=a.des;var p=utils.GameComUtil.getTime1Str(1e3*i.startTime),c=utils.GameComUtil.getTime1Str(1e3*i.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,p,c),t.numtxt.text=i.score},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.jumptxt:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout])}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=RankDuiHuanRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.type_0=0,t.type_1=1,t}(e.InnerVM);e.RankRecruitView=t,__reflect(t.prototype,"vm.RankRecruitView")}(vm||(vm={}));var RechargeConsumptionViewVO=function(){function e(){}return e}();__reflect(RechargeConsumptionViewVO.prototype,"RechargeConsumptionViewVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.consgift,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RechargeConsumptionSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;e&&(t.tiptxt0.text=Language.ins.mark_tip6,t.tiptxt1.text=Language.ins.activity_tip85,t.showTar()),t.initAddEvent(),t.changeShow(),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip7;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(){var t,a,i=this,n=GlobalConfig.getActivityVO(i.activityid),o=GlobalAllProxy.getInstance().activityProxy.activityArr.consumeInit,r=this._choosemode;if(i.datascrollA.visible=!0,i.datascrollA0.visible=!1,i.rankG.visible=!1,r==e.RechargeConsumptionView.type_everyday){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var s=a.reward.split("|"),l=[],p=a.limit.split(",");for(var c in s){var u=new ActivityRewardRenderVO;u.rewardarr=utils.GameComUtil.getItemVoArr(s[c]),u.limit=+p[c],u.title=FormatString.format(Language.ins.activity_tip8,p[c],o.dailyConsume,u.limit),u.id=a.id,u.iscanget=0,u.index=1,+p[c]<=+o.dailyConsume&&(u.iscanget=1,u.index=0);for(var m in o.everydayConsume)+o.everydayConsume[m]==+p[c]&&(u.iscanget=2,u.index=2);l.push(u)}l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(l,!1)}else if(r==e.RechargeConsumptionView.type_cumulative){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var s=a.reward.split("|"),l=[],p=a.limit.split(",");for(var c in s){var u=new ActivityRewardRenderVO;u.rewardarr=utils.GameComUtil.getItemVoArr(s[c]),u.limit=+p[c],u.title=FormatString.format(Language.ins.activity_tip9,p[c],o.totalConsume,u.limit),u.id=a.id,u.iscanget=0,u.index=1,+p[c]<=+o.totalConsume&&(u.iscanget=1,u.index=0);for(var m in o.cumulativeConsume)+o.cumulativeConsume[m]==+p[c]&&(u.iscanget=2,u.index=2);l.push(u)}l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(l,!1)}else if(r==e.RechargeConsumptionView.type_rank){i.datascrollA.visible=!1,i.datascrollA0.visible=!0,i.rankG.visible=!0,i.ranktxt.text=o.ranking,i.ranktxt0.text=o.totalConsume,t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);for(var s=a.reward.split("|"),l=[],p=a.limit.split(","),g=a.rank.split("|"),_=0;_<s.length;_++){var h=new ActivityRankRenderVO;h.rewardarr=utils.GameComUtil.getItemVoArr(s[_]),h.rank=g[_],h.id=act_type.cumconrank,h.rankinfo=Language.ins.activity_tip85,o.rankList[_]&&(h.rankobj=o.rankList[_],h.ranknum=o.rankList[_].totalConsume),l.push(h)}i.showData0(l,!1)}i.contenttxt.text=n.des;var d=utils.GameComUtil.getTime1Str(1e3*o.startTime),y=utils.GameComUtil.getTime1Str(1e3*o.endTime);i.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,d,y)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeTipMC(),a.changeShow()}},a.prototype.touchTapFun=function(e){e.target},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA0;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this;e.showTipConsumptionToday(utils.GameComUtil.checkactchdH(e.activityid,0)),e.showTipCumulativeConsumption(utils.GameComUtil.checkactchdH(e.activityid,1))},a.prototype.showTipCumulativeConsumption=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},a.prototype.showTipConsumptionToday=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},a.type_everyday=0,a.type_cumulative=1,a.type_rank=2,a}(e.InnerVM);e.RechargeConsumptionView=t,__reflect(t.prototype,"vm.RechargeConsumptionView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.opensfund,a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.RechargeFundSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt2.text=Language.ins.activity_tip70),t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(){var e=this,t=GlobalConfig.getActivityVO(e.activityid),a=GlobalAllProxy.getInstance().activityProxy.activityArr.fundInit,i=t.reward.split("|"),n=[],o=t.limit.split(","),r=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var s in i){var l=new ActivityRewardRenderVO;l.rewardarr=utils.GameComUtil.getItemVoArr(i[s]),l.limit=+o[s],l.title=FormatString.format(Language.ins.activity_tip13,o[s]),l.id=e.activityid,l.iscanget=0,l.index=1,+o[s]<=+r&&1==a.fundBuyStatus&&(l.iscanget=1,l.index=0);for(var p in a.gradeGift)a.gradeGift[p]==+o[s]&&(l.iscanget=2,l.index=2);n.push(l)}n.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(n,!1);var c=GlobalConfig.getChargeVO(pay_id.activity_pay_fund);0==+a.fundBuyStatus?(c&&(e.buybtn.label=FormatString.format(Language.ins.month_tip11,c.chargenum)),utils.GameUtil.setColorGrey(e.buybtn,!1)):1==+a.fundBuyStatus&&(e.buybtn.label=Language.ins.game_really_shopbuy,utils.GameUtil.setColorGrey(e.buybtn,!0)),e.tiptxt0.text=FormatString.format(Language.ins.activity_tip16,a.num),e.contenttxt.text=t.des;var u=utils.GameComUtil.getTime1Str(1e3*a.startTime),m=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,u,m)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.SHOP_PAY_COMPLETE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.buybtn:var a=GlobalAllProxy.getInstance().activityProxy.activityArr;if(a&&a.fundInit){var i=a.fundInit;if(0==i.fundBuyStatus){Global.severNE!=Global.severNE_debug?PFAll.PFPay(pay_id.activity_pay_fund):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0);break}}}},t.prototype.gopay=function(){GlobalAllProxy.getInstance().gameProxy.NetRecharg(pay_id.activity_pay_fund)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender2,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.RechargeFundView=t,__reflect(t.prototype,"vm.RechargeFundView")}(vm||(vm={}));var RechargeInvestmentViewVO=function(){function e(){}return e}();__reflect(RechargeInvestmentViewVO.prototype,"RechargeInvestmentViewVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.opensinves,a.chooseid=act_type.traininves,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RechargeInvestmentSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;e&&(t.showTar(),t.tiptxt4.text=Language.ins.activity_tip71,t.tiptxt5.text=Language.ins.activity_tip70,t.tiptxt6.text=Language.ins.activity_tip72),t.initAddEvent(),t.changeShow(),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip10;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(){var t,a,i=this,n=GlobalConfig.getActivityVO(i.activityid),o=GlobalAllProxy.getInstance().activityProxy.activityArr.investmentInit,r=this._choosemode,s=GlobalAllProxy.getInstance().playerProxy.vipData.getIsMonther();if(r==e.RechargeInvestmentView.type_train){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var l=a.reward.split("|"),p=[],c=a.limit.split(",");i.chooseid=a.id;for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip11,c[u]),m.id=a.id,m.iscanget=0,m.index=1,+c[u]<=+o.openDays&&o.example[0].buyState&&(m.iscanget=1,m.index=0);for(var g in o.example[0].receiveList)o.example[0].receiveList[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m),i.tiptxt2.text=FormatString.format(Language.ins.activity_tip16,o.example[0].num)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(p,!1),0==+o.example[0].buyState?(i.buybtn.label=Language.ins.game_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!1),s||utils.GameUtil.setColorGrey(i.buybtn,!0)):1==+o.example[0].buyState&&(i.buybtn.label=Language.ins.game_really_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!0)),i.tipviptxt.text=a.price,i.canbuyimg.visible=i.iscanbuy(r)}else if(r==e.RechargeInvestmentView.type_star){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var l=a.reward.split("|"),p=[],c=a.limit.split(",");i.chooseid=a.id;for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip11,c[u]),m.id=a.id,m.iscanget=0,m.index=1,+c[u]<=+o.openDays&&o.example[1].buyState&&(m.iscanget=1,m.index=0);for(var g in o.example[1].receiveList)o.example[1].receiveList[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(p,!1),0==+o.example[1].buyState?(i.buybtn.label=Language.ins.game_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!1),s||utils.GameUtil.setColorGrey(i.buybtn,!0)):1==+o.example[1].buyState&&(i.buybtn.label=Language.ins.game_really_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!0)),i.tiptxt2.text=FormatString.format(Language.ins.activity_tip16,o.example[1].num),i.tipviptxt.text=a.price,i.canbuyimg.visible=i.iscanbuy(r)}else if(r==e.RechargeInvestmentView.type_formation){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var l=a.reward.split("|"),p=[],c=a.limit.split(",");i.chooseid=a.id;for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip11,c[u]),m.id=a.id,m.iscanget=0,m.index=1,+c[u]<=+o.openDays&&o.example[2].buyState&&(m.iscanget=1,m.index=0);for(var g in o.example[2].receiveList)o.example[2].receiveList[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(p,!1),0==+o.example[2].buyState?(i.buybtn.label=Language.ins.game_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!1),s||utils.GameUtil.setColorGrey(i.buybtn,!0)):1==+o.example[2].buyState&&(i.buybtn.label=Language.ins.game_really_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!0)),i.tiptxt2.text=FormatString.format(Language.ins.activity_tip16,o.example[2].num),i.tipviptxt.text=a.price,i.canbuyimg.visible=i.iscanbuy(r)}else if(r==e.RechargeInvestmentView.type_equipment){t=n.tabnum.split(","),a=GlobalConfig.getActivityVO(t[r]);var l=a.reward.split("|"),p=[],c=a.limit.split(",");i.chooseid=a.id;for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip11,c[u]),m.id=a.id,m.iscanget=0,m.index=1,+c[u]<=+o.openDays&&o.example[3].buyState&&(m.iscanget=1,m.index=0);for(var g in o.example[3].receiveList)o.example[3].receiveList[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),i.showData(p,!1),0==+o.example[3].buyState?(i.buybtn.label=Language.ins.game_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!1),s||utils.GameUtil.setColorGrey(i.buybtn,!0)):1==+o.example[3].buyState&&(i.buybtn.label=Language.ins.game_really_shopbuy,utils.GameUtil.setColorGrey(i.buybtn,!0)),i.tiptxt2.text=FormatString.format(Language.ins.activity_tip16,o.example[3].num),i.tipviptxt.text=a.price,i.canbuyimg.visible=i.iscanbuy(r)}i.tiptxt3.text=FormatString.format(Language.ins.activity_tip17,o.openDays),i.contenttxt.text=n.des;var _=utils.GameComUtil.getTime1Str(1e3*o.startTime),h=utils.GameComUtil.getTime1Str(1e3*o.endTime);i.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,_,h)},a.prototype.iscanbuy=function(e){var t=!1,a=GlobalAllProxy.getInstance().activityProxy.activityArr,i=GlobalAllProxy.getInstance().playerProxy.vipData;if(a&&a.investmentInit){var n=a.investmentInit.example[e];0==n.buyState&&i.getIsMonther()&&(t=!0)}return t},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.changeShow(),a.changeTipMC()}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.buybtn:GlobalAllProxy.getInstance().activityProxy.NetServiceBuy(t.chooseid);break;case t.yuekaG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_monthcar])}},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender2,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this;e.showTip([utils.GameComUtil.checkactchdH(e.activityid,0),utils.GameComUtil.checkactchdH(e.activityid,1),utils.GameComUtil.checkactchdH(e.activityid,2),utils.GameComUtil.checkactchdH(e.activityid,3)])},a.prototype.showTip=function(e){for(var t,a,i,n=this,o=0;o<e.length;o++)t=e[o],a=n["kbuttontab"+o],i="tipkbuttontab"+o,null!=a&&(n[i]=utils.GameComUtil.getTipMcImg(n[i],a,!1,!0),a.addChild(n[i]),n[i].visible=t)},a.type_train=0,a.type_star=1,a.type_formation=2,a.type_equipment=3,a}(e.InnerVM);e.RechargeInvestmentView=t,__reflect(t.prototype,"vm.RechargeInvestmentView")}(vm||(vm={}));var RechargePackageViewVO=function(){function e(){}return e}();__reflect(RechargePackageViewVO.prototype,"RechargePackageViewVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._choosemode=0;var a=e;return a.activityid=act_type.reccourtesy,a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RechargePackageSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;if(e){t.showTar();var a=GlobalConfig.getActivityVO(act_type.continuousrecharge);t.ctxt1.text=FormatString.format(Language.ins.activity_tip84,a.price),t.ctxt0.text=Language.ins.activity_tip60,t.ctxt2.text=""}t.initAddEvent(),t.changeShow(!0),t.changeTipMC()},a.prototype.showTar=function(){var e=this,t=Language.ins.activity_tip4;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(t){var a,i,n=this,o=GlobalConfig.getActivityVO(n.activityid),r=GlobalAllProxy.getInstance().activityProxy.activityArr.payInit,s=this._choosemode;if(n.datascrollA.y=1,n.datascrollA.height=521,n.continuityG.visible=!1,s==e.RechargePackageView.type_everyday){a=o.tabnum.split(","),i=GlobalConfig.getActivityVO(a[s]);var l=i.reward.split("|"),p=[],c=i.limit.split(",");for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip5,c[u],r.dailyPay,m.limit),m.id=i.id,m.iscanget=0,m.index=1,+c[u]<=+r.dailyPay&&(m.iscanget=1,m.index=0);for(var g in r.everydayPay)+r.everydayPay[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),n.showData(p,t)}else if(s==e.RechargePackageView.type_cumulative){a=o.tabnum.split(","),i=GlobalConfig.getActivityVO(a[s]);var l=i.reward.split("|"),p=[],c=i.limit.split(",");for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip6,c[u],r.totalPay,m.limit),m.id=i.id,m.iscanget=0,m.index=1,+c[u]<=+r.totalPay&&(m.iscanget=1,m.index=0);for(var g in r.cumulativePay)+r.cumulativePay[g]==+c[u]&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),n.showData(p,t)}else if(s==e.RechargePackageView.type_continuity){n.continuityG.visible=!0,n.datascrollA.y=60,n.datascrollA.height=462,a=o.tabnum.split(","),i=GlobalConfig.getActivityVO(a[s]);var l=i.reward.split("|"),p=[],c=i.limit.split(","),_=0;+r.totalChargeDays&&(_=r.totalChargeDays);for(var u in l){var m=new ActivityRewardRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(l[u]),m.limit=+c[u],m.title=FormatString.format(Language.ins.activity_tip83,_,c[u]),m.id=i.id,m.iscanget=0,m.index=1,+c[u]<=_&&(m.iscanget=1,m.index=0);for(var g in r.continuousCharege)+r.continuousCharege[g]==m.limit&&(m.iscanget=2,m.index=2);p.push(m)}p.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),n.showData(p,t),n.ctxt2.text=FormatString.format(Language.ins.activity_tip78,r.dailyPay,i.price)}n.contenttxt.text=o.des;var h=utils.GameComUtil.getTime1Str(1e3*r.startTime),d=utils.GameComUtil.getTime1Str(1e3*r.endTime);n.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,h,d)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:case game.GameCommands.SHOP_PAY_COMPLETE:a.changeTipMC(),a.changeShow(!1)}},a.prototype.touchTapFun=function(e){e.target},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventChange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this;e.showTipRechargeToday(utils.GameComUtil.checkactchdH(e.activityid,0)),e.showTipcontinuityRecharge(utils.GameComUtil.checkactchdH(e.activityid,1)),e.showTipCumulativeRecharge(utils.GameComUtil.checkactchdH(e.activityid,2))},a.prototype.showTipCumulativeRecharge=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab2.addChild(t[n]),t[n].visible=a)},a.prototype.showTipcontinuityRecharge=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},a.prototype.showTipRechargeToday=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},a.type_everyday=0,a.type_continuity=1,a.type_cumulative=2,a}(e.InnerVM);e.RechargePackageView=t,__reflect(t.prototype,"vm.RechargePackageView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.activity_1040101={id:1040101,panename:"vm.RechargePackageView",isreddot:!1,position:0,ischoose:!1},t.activity_1040201={id:1040201,panename:"vm.RechargeConsumptionView",isreddot:!1,position:0,ischoose:!1},t.activity_1040401={id:1040401,panename:"vm.RechargeInvestmentView",isreddot:!1,position:0,ischoose:!1},t.activity_1040301={id:1040301,panename:"vm.RechargeFundView",isreddot:!1,position:0,ischoose:!1},t.panelArr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RechargeRebateSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo;e.m_index=0,e.activity_1040101.isreddot=utils.GameComUtil.checkrecH(e.activity_1040101.id),e.activity_1040201.isreddot=utils.GameComUtil.checkrecH(e.activity_1040201.id),e.activity_1040301.isreddot=utils.GameComUtil.checkrecH(e.activity_1040301.id),e.activity_1040401.isreddot=utils.GameComUtil.checkrecH(e.activity_1040401.id),e.updatapanelArr(),!e.m_chooosedata&&e.panelArr.length>0&&(e.m_chooosedata=e.panelArr[0],e.panelArr[0].ischoose=!0),e.panelArr.length<=4?(e.leftbtn.enabled=!0,e.leftbtn.touchEnabled=!1,e.rightbtn.enabled=!0,e.rightbtn.touchEnabled=!1):(e.leftbtn.enabled=!1,e.leftbtn.touchEnabled=!0,e.rightbtn.enabled=!1,e.rightbtn.touchEnabled=!0)},t.prototype.updatapanelArr=function(){var e,t=this,a=GlobalAllProxy.getInstance().activityProxy.activityArr,i=a.getxiaofeiArr();if(t.panelArr.length<=0)for(var n in i)e=GlobalConfig.getActivityVO(i[n]),t["activity_"+i[n]].position=e.position,t.panelArr.push(t["activity_"+i[n]]),t.panelArr.sort(utils.GameUtil.sortMatckFun(["position"],[0]))},t.prototype.changeshow=function(){var e=this;if(e.hitalllist(),e.m_chooosedata){var t,a=e.m_chooosedata.panename;t=e[a],null==t?(t=Manifest.getIns(egret.getDefinitionByName(a)),e.contentGroup.addChild(t),t.visible=!0,e[a]=t):(!t.isNeedLoad(!0)&&t._isSubCreated&&t.onShow(!1),t.visible=!0,e.contentGroup.addChild(t));var i,n=e.panelArr,o=n.length,r=e.m_index;o>4&&(0>=r?(e.leftbtn.enabled=!0,e.leftbtn.touchEnabled=!1):(e.leftbtn.enabled=!1,e.leftbtn.touchEnabled=!0),r>=o-4?(e.rightbtn.enabled=!0,e.rightbtn.touchEnabled=!1):(e.rightbtn.enabled=!1,e.rightbtn.touchEnabled=!0));for(var s=!1,l=!1,p=[],c=r+4,u=0;o>u;u++)i=n[u],i&&(r>u?i.isreddot&&(s=!0):u>=c?i.isreddot&&(l=!0):p.push(i));e.tipleftimg.visible=s,e.tiprightimg.visible=l,e.showData(p,!1)}},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n].panename,t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.hitalllist(),this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),a.panelArr=[]},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.updatatop=function(){var e=this;e.activity_1040101.isreddot=utils.GameComUtil.checkrecH(e.activity_1040101.id),e.activity_1040201.isreddot=utils.GameComUtil.checkrecH(e.activity_1040201.id),e.activity_1040301.isreddot=utils.GameComUtil.checkrecH(e.activity_1040301.id),e.activity_1040401.isreddot=utils.GameComUtil.checkrecH(e.activity_1040401.id),e.updatapanelArr()
},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.updatatop(),a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.leftbtn:t.movelist(-1);break;case t.rightbtn:t.movelist(1)}},t.prototype.movelist=function(e){var t=this;t.panelArr;t.m_index+=e,t.changeshow()},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityTitleRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.listchangeA=function(e){for(var t=this,a=t.datalist.selectedItem,i=0,n=t.panelArr.length;n>i;i++)t.panelArr[i].id==a.id?(t.panelArr[i].ischoose=!0,t.m_chooosedata=t.panelArr[i]):t.panelArr[i].ischoose=!1;t.changeshow()},t}(e.VM);e.RechargeRebateView=t,__reflect(t.prototype,"vm.RechargeRebateView")}(vm||(vm={}));var AlertBuyTimeViewVO=function(){function e(){}return e}();__reflect(AlertBuyTimeViewVO.prototype,"AlertBuyTimeViewVO");var alert_buy;!function(e){e[e.type_club=1]="type_club",e[e.type_qualifying=2]="type_qualifying"}(alert_buy||(alert_buy={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AlertBuyTimeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.infotxt2.text=Language.ins.alert_tip0,a.tiptxt.text=Language.ins.alert_tip1,a.cancelBtn.label=Language.ins.game_cancel,a.okBtn.label=Language.ins.game_ok),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openobj=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.infotxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openobj;a&&(t.panel_bg.titlename.text=a.title,t.infotxt.textFlow=utils.GameComUtil.getHtmlText(a.tipstr),t.usechange.setdata(1,a.maxnum,1),t.usechange.addEventFun(),t.tipimg.source=ResName.getMinItemIcon(a.costitemid),t.synnumchange())},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.addEventListener(egret.Event.CHANGE,e.synnumchange,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.removeEventListener(egret.Event.CHANGE,e.synnumchange,e)},t.prototype.synnumchange=function(e){void 0===e&&(e=null);var t=this,a=t.m_openobj,i=t.usechange.getValue();if(a.costitemid){var n,o,r,s=0,l=a.costtype,p=a.curbuynum;switch(l){case alert_buy.type_club:for(o=p+i,n=p+1;o>=n;n++)r=GlobalConfig.getPriceVO(n),r&&(s+=r.gradetimes);break;case alert_buy.type_qualifying:for(o=p+i,n=p+1;o>=n;n++)r=GlobalConfig.getPriceVO(n),r&&(s+=r.arenatimes);break;default:s=a.onecost*i}t.tipnumtxt.text=s}},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.cancelBtn:t.close();break;case t.okBtn:var i=t.usechange.getValue();if(i){var n=t.m_openobj;n&&n.callFun&&n.callself&&n.callFun.call(n.callself,i),t.close()}else FLOAT.NShowPutong([Language.ins.shop_tip2])}},t}(e.VM);e.AlertBuyTimeView=t,__reflect(t.prototype,"vm.AlertBuyTimeView")}(vm||(vm={}));var AlertListViewOpenVO=function(){function e(){}return e}();__reflect(AlertListViewOpenVO.prototype,"AlertListViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AlertListSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.cancelBtn.label=Language.ins.game_cancel,a.okBtn.label=Language.ins.game_ok),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openobj=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openobj;a&&(t.panel_bg.titlename.text=a.title,t.tiptxt0.text=a.tipstr,t.tiptxt1.text=a.tipstr2,t.itemlist.setDataArr(a.voarr,"",!0,!1,!0,!1,!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.cancelBtn:t.close();break;case t.okBtn:var i=t.m_openobj;i&&i.callFun&&i.callself&&i.callFun.call(i.callself),t.close()}},t}(e.VM);e.AlertListView=t,__reflect(t.prototype,"vm.AlertListView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AlertNoteSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_alertnote),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.comtxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.severlistData;a&&(t.comtxt.textFlow=utils.GameComUtil.getHtmlText(a.notice))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_SEVER_LIST,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_SEVER_LIST,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;e.target;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.AlertNoteView=t,__reflect(t.prototype,"vm.AlertNoteView")}(vm||(vm={}));var AlertRewardViewOpenVO=function(){function e(){}return e}();__reflect(AlertRewardViewOpenVO.prototype,"AlertRewardViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_showgif=!1,t.m_gifs=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AlertRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&a.panel_bg.setImgBg(""),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openobj=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent();for(var a,i=this,n=i.m_gifs,o=0,r=n.length;r>o;o++)a=n[o],a&&a.onHide()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openobj;if(a){t.showGifFun(!0,a);var i=a.title?a.title:"";t.panel_bg.titlename.text=i,t.desG.visible=!1,a.tipstr&&(t.desG.visible=!0,t.destxt.text=a.tipstr)}},t.prototype.showGifFun=function(e,t){var a=this;if(a.gifG.visible=e,e){var i,n=t.voarr,o=a.m_gifs;a.gifitemG.removeChildren();for(var r,s=o.length,l=n.length,p=0;l>p;p++)r=n[p],s>p?i=o[p]:(i=new AlertRewardGif,o.push(i)),i.setData(r),a.gifitemG.addChild(i)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;if(a instanceof AlertRewardGif){var i=a,n=i._data;if((n.curnum<n.neednum||n.isget)&&n.reward&&""!=n.reward){var o=utils.GameComUtil.getItemVoArr(n.reward);return void utils.GameComUtil.ShowTip(a,null,game.TipSimpleObject.type_awardarr,o)}var r=t.m_openobj;if(r){var s=r.callFun,l=r.callself;s&&l&&s.call(l,n.type,n.index)}}else switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.AlertRewardView=t,__reflect(t.prototype,"vm.AlertRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._testW=new egret.TextField,t._testH=new egret.TextField,t._ttf=new egret.TextField;var a=t;return a._testW.bold=!0,a._testH.bold=!0,a._ttf.bold=!0,a.skinName=AlertSkin,t}return __extends(t,e),t.prototype._format=function(e){e.textColor=16777215,e.size=20,e.fontFamily=Language.ins.sever_font},t.prototype.complete_asRes=function(e){e==RES.getRes(this._strTitle)&&this.onShow(!1)},t.prototype.onShow=function(e){var t=this;t.panel_bg.setImgBg(""),t.percentWidth=t.percentHeight=100;var a=t.cancelBtn,i=t.okBtn;t.initAddEvent(),e&&(t.cancelBtn.label=Language.ins.game_cancel,t.okBtn.label=Language.ins.game_ok,t.panel_bg.titlename.text=Language.ins.title_tishi,a.label=Language.ins.btn_cancel,i.label=Language.ins.btn_ok,t._format(t._ttf),t._format(t._testW),t._format(t._testH),t.contT.addChild(t._ttf),t._ttf.width=442,PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])&&(t._ttf.wordWrap=!0),t._ttf.verticalAlign=egret.VerticalAlign.MIDDLE,t._ttf.textAlign=egret.HorizontalAlign.CENTER,t.needtxt1.text=Language.ins.alert_ug_tip),t._voInfo.txtVAlign?t._ttf.verticalAlign=t._voInfo.txtVAlign:t._ttf.verticalAlign=egret.VerticalAlign.MIDDLE,t._voInfo.txtHAlign?t._ttf.textAlign=t._voInfo.txtHAlign:t._ttf.textAlign=egret.HorizontalAlign.CENTER,t._SetText(t._testW);var n=0,o=t.mainCont.width;t.panel_bg.titlename.text=t._strTitle,450>o&&(o=450),utils.GameComUtil.setVisibleHitPanel(t.cancelBtnG,t.contBtn,!1),utils.GameComUtil.setVisibleHitPanel(t.okBtnG,t.contBtn,!1);t._voInfo.showCancel&&(utils.GameComUtil.setVisibleHitPanel(t.cancelBtnG,t.contBtn,!0),a.label=t._voInfo.cancelLabel),t._voInfo.showOK&&(utils.GameComUtil.setVisibleHitPanel(t.okBtnG,t.contBtn,!0),i.label=t._voInfo.okLabel),t._testH.width=o,t._SetText(t._testH),n=t._testH.height+205;var r=27,s=91;if(t.ugcostG.visible=!1,t._voInfo.tipbl){n+=50,t.tipG.visible=!0;var l=t._voInfo.tipstr,p=t._voInfo.tipitemid,c=t._voInfo.tipitemnum;if(l&&(t.tiptxt.text=l),p&&(t.tipimg.source=ResName.getMinItemIcon(p),t.tipnumtxt.text=c),p==GlobalEnum.itemid_ug){var u=ug_cost_type.com;t._voInfo.tipcostid&&(u=t._voInfo.tipcostid);var m=[ug_cost_type.fight_buy_win,ug_cost_type.fight_ship_guwu,ug_cost_type.fight_ship_change,ug_cost_type.fight_ship_again,ug_cost_type.club_fast,ug_cost_type.fight_rich_clearcd,ug_cost_type.scout_m_resh,ug_cost_type.buy_skillpot];if(-1!=m.indexOf(u));else{var g=GlobalAllProxy.getInstance().gameProxy.alertcostobj;g[u]?t.checkug.selected=!0:t.checkug.selected=!1;var _=t.ugcostG.height;n+=_,t.ugcostG.visible=!0,s+=_,r+=_}}t.tipG.bottom=s}else t.tipG.visible=!1;t.contBtn.bottom=r,t.contT.visible=!1,t.itemG.visible=!1,t._voInfo.tipitemvo?(n+=85,t.itemG.visible=!0,t.itemicon.setitemdata(t._voInfo.tipitemvo,!0,0,!1,!1,!0),t.itemdestxt.text=t._voInfo.tipitemdes):t.contT.visible=!0,230>n&&(n=230),n>640&&(n=640),t._SetText(t._ttf),t.mainCont.width=o,t.mainCont.height=n},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.cancelBtn:t.tap_cancelBtn();break;case t.panel_bg.closebtn:t.tap_cancelBtn();break;case t.okBtn:t.tap_okBtn();break;case t.costboxG:var i=!t.checkug.selected;t.checkug.selected=i;var n=ug_cost_type.com;t._voInfo.tipcostid&&(n=t._voInfo.tipcostid),GlobalAllProxy.getInstance().gameProxy.setcoststate(n,i)}},t.prototype._SetText=function(e){null!=this._voInfo.info?e.textFlow=utils.GameComUtil.getHtmlText(this._voInfo.info):this._voInfo.textFlow?e.textFlow=this._voInfo.textFlow:e.text=""},t.prototype.onHide=function(e){var t=this;t.removeAddEvent()},t.prototype.tap_okBtn=function(e){void 0===e&&(e=null);var t=this;t.close(),null!=t._callBack&&t._callBack.call(t._obThis)},t.prototype.tap_cancelBtn=function(e){void 0===e&&(e=null);var t=this;t.close(),null!=t._cancelBack&&t._cancelBack.call(t._obThis)},t.prototype.setVO=function(e){var t=this;e!=t._voInfo&&(t._voInfo=e)},t.prototype.getLayer=function(){return PanelLayer.alert},t}(e.VM);e.AlertView=t,__reflect(t.prototype,"vm.AlertView")}(vm||(vm={}));var AlertVO=function(){function e(){this.tipbl=!1,this.onCheckout()}return Object.defineProperty(e.prototype,"htmlText",{set:function(e){this.textFlow=utils.GameComUtil.getHtmlText(e)},enumerable:!0,configurable:!0}),e.prototype.onCheckout=function(){var e=this;e.info=null,e.showCancel=!0,e.showOK=!0,e.cancelLabel=Language.ins.btn_cancel,e.okLabel=Language.ins.btn_ok,e.txtVAlign=null,e.txtHAlign=null},e.prototype.onRemand=function(){},e}();__reflect(AlertVO.prototype,"AlertVO",["IRemandObj"]);var AlertMcItemVO=function(){function e(){}return e}();__reflect(AlertMcItemVO.prototype,"AlertMcItemVO");var AlertMcVO=function(){function e(e,t){void 0===t&&(t=null);var a=this;a.type=e,a.addobj=t}return e}();__reflect(AlertMcVO.prototype,"AlertMcVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_isplaying=!1,t.m_isguide=!1,t.m_timenum=0,t.m_changenum=0,t.m_allnum=0,t.m_mcnameArr=["mc_game_zhanlitisheng"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.topVIPanel},t.prototype.startLoadRes=function(){var e=new skins.AlertZhanliSkinDR,t=ResName.getDragonFastArr(ResName.mc_game_zhanlitisheng);t.push("font_zhanliadd_zi","font_zhanlired_zi"),e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.touchEnabled=!1,a.touchChildren=!1,t&&(a.heroicon.visible=!1,a.m_isplaying=!1,a.zhanliG.visible=!1,a.mcG.visible=!1,a.buildupG.visible=!1,a.opennewG.visible=!1,a.gobtn.label=Language.ins.btn_alert_govip);var i=GlobalAllProxy.getInstance().gameProxy.alertVoArr;if(!i.length){var n=a.bgimg;egret.Tween.removeTweens(n),n.alpha=0,egret.Tween.get(n).to({alpha:.7},100)}a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),a.m_isplaying=!1,a.m_isguide=!1,egret.clearTimeout(a.m_timenum);for(var i,n,o=a.m_mcnameArr,r=0,s=o.length;s>r;r++)n=o[r],i=a[n],i&&(i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,a.playermc1,a),i.removeEventListener(dragonBones.EventObject.COMPLETE,a.playermc2,a),utils.GameComUtil.removeAnimoSelf(i));GlobalAllProxy.getInstance().gameProxy.clearAlertArr();var l=a.bgimg;egret.Tween.removeTweens(l),utils.GameComUtil.removeTextFlow(this.skilltxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.showNextMc()},t.prototype.showNextMc=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.alertVoArr,a=t.length;if(!e.m_isplaying)if(a){e.m_isplaying=!0;var i=t.shift();e.playOneMc(i)}else e.close()},t.prototype.playOneMc=function(e){var t=e.type,a=this;a.m_curalertvo=e;var i=a.m_curalertvo.addobj;if(i&&i.resarr){var n=i.resarr;if(utils.GameComUtil.ResLoadArr(n),n.length){var o=ResName.animo_panel_mcs;return RES.createGroup(o,n,!0),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,a.groupComplete_res,a),LoadingMaskView.show(o),void RES.loadGroup(o)}}a.zhanliG.visible=!1,a.mcG.visible=!1,a.buildupG.visible=!1,a.opennewG.visible=!1,a.skillG.visible=!1,a.closebtn.visible=!1,a.gobtn.visible=!1;var r=a.bgimg;switch(t==panelmc_type.type_zhanli?(egret.Tween.removeTweens(r),r.alpha=0):.7!=r.alpha&&(egret.Tween.removeTweens(r),r.alpha=0,egret.Tween.get(r).to({alpha:.7},100)),t){case panelmc_type.type_zhanli:egret.clearTimeout(a.m_timenum),a.zhanglitxt.text="",a.showawardmc(e);break;case panelmc_type.type_clubupgrade:case panelmc_type.type_builduplv:case panelmc_type.type_studyupgrade:if(i&&i.mcurl){var s=i.mcurl;a.showChangeMc(e,s,s,e.type),i.tiptxt&&a.setbuildAtxt(i.tiptxt)}break;case panelmc_type.type_starup:if(i&&i.mcurl){var s=i.mcurl;a.showChangeMc(e,s,s,e.type),i.tiptxt&&(a.skilltxt.textFlow=utils.GameComUtil.getHtmlText(i.tiptxt))}break;case panelmc_type.type_opennew:case panelmc_type.type_herobreach:case panelmc_type.type_equipupgrade:case panelmc_type.type_richmc:case panelmc_type.type_league:case panelmc_type.type_coachupcla:case panelmc_type.type_coachupstar:if(i&&i.mcurl){var s=i.mcurl;a.showChangeMc(e,s,s,e.type),i.tiptxt&&a.setbuildBtxt(i.tiptxt)}break;case panelmc_type.type_herosign:var l=GlobalConfig.getPlayerPorpertyVO(i.num);a.heroicon.setData(l),egret.setTimeout(a.waitShowMc,a,100);break;case panelmc_type.type_herobereborn:var p=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(i.num);a.heroicon.setData(p,!1),egret.setTimeout(a.waitShowMc,a,100);break;case panelmc_type.type_vipupgrade:a.viptxt.text=i.num,egret.setTimeout(a.waitShowMc,a,100);break;default:if(i&&i.mcurl){var s=i.mcurl;a.showMc(e,s,s,e.type)}}a.m_isguide=GlobalAllProxy.getInstance().guideProxy.isPlayGuide(),i.needclose&&!a.m_isguide?a.touchChildren=!0:a.touchChildren=!1},t.prototype.waitShowMc=function(){var e=this,t=e.m_curalertvo,a=t.type,i=e.m_curalertvo.addobj;switch(a){case panelmc_type.type_herosign:case panelmc_type.type_herobereborn:if(i&&i.mcurl){var n=i.mcurl;e.showChangeMc(t,n,n,t.type),i.tiptxt&&e.setbuildAtxt(i.tiptxt)}break;case panelmc_type.type_vipupgrade:if(i&&i.mcurl){var n=i.mcurl;e.showChangeMc(t,n,n,t.type),i.tiptxt&&e.setbuildAtxt(i.tiptxt)}}},t.prototype.groupComplete_res=function(e){var t=this,a=ResName.animo_panel_mcs;a==e.groupName&&(LoadingMaskView.remove(a),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.groupComplete_res,t),t.playOneMc(t.m_curalertvo))},t.prototype.setbuildAtxt=function(e){var t=this;FntUtil.showFnt(t.buildBZG,ResName.fnt_title,e,ResName.spa_title_b)},t.prototype.setbuildBtxt=function(e){var t=this;FntUtil.showFnt(t.buildBZG1,ResName.fnt_title,e,ResName.spa_title_b)},t.prototype.changenum=function(){var e=this;e.zhangchangetxt.alpha=1,e.zhangchangetxt.visible=!0,e.m_changenum=0,egret.clearTimeout(e.m_timenum);var t=utils.GameComUtil.getFightNum(GlobalAllProxy.getInstance().playerProxy.playerinfo.fight);e.m_allnum=t,e.zhanglitxt.alpha=1,e.timechange(!0)},t.prototype.timechange=function(e){void 0===e&&(e=!1);var t=this,a=t.m_allnum,i=t.getchangenum(a,t.m_changenum);t.m_changenum=i;var n=a-i;1>n?t.zhanglitxt.text=a:(t.zhanglitxt.text=Math.floor(i),t.m_timenum=egret.setTimeout(t.timechange,t,50))},t.prototype.getchangenum=function(e,t){var a=.5*(e-t)+t;return a},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.gobtn:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_vip])}},t.prototype.showawardmc=function(e){var t=this,a=e.addobj;a&&a.num>0&&SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_changzhanli),t.zhanliG.visible=!0;var i="";t.zhangchangetxt.visible=!1,a.num>0?(i="+"+a.num,t.zhangchangetxt.font="font_zhanliadd_zi"):(i=a.num.toString(),t.zhangchangetxt.font="font_zhanlired_zi"),t.zhangchangetxt.text=i;var n="mc_game_zhanlitisheng",o=utils.GameComUtil.getArmature(ResName.mc_game_zhanlitisheng,n,t);o&&(o.touchChildren=!1,o.touchEnabled=!1,o.animation.play("effect",1),t.zhanlimcG.addChild(o),o.addEventListener(dragonBones.EventObject.FRAME_EVENT,t.playermc1,t),o.addEventListener(dragonBones.EventObject.COMPLETE,t.playermc2,t))},t.prototype.playermc1=function(e){var t=e,a=this,i=a.m_curalertvo,n=t.target,o=t.name;if(t.frameLabel&&(o=t.frameLabel),i){var r=i.type;if("start"==o)switch(r){case panelmc_type.type_zhanli:a.changenum();break;case panelmc_type.type_builduplv:case panelmc_type.type_clubupgrade:case panelmc_type.type_vipupgrade:case panelmc_type.type_herobereborn:var s=a.buildupG;s.visible=!0,s.alpha=0,egret.Tween.get(s).to({alpha:1},100);break;case panelmc_type.type_starup:var s=a.skillG;s.visible=!0,s.alpha=0,egret.Tween.get(s).to({alpha:1},100);break;case panelmc_type.type_opennew:var s=a.opennewG;s.visible=!0,s.alpha=0,s.scaleX=1.5,s.scaleY=1.5,egret.Tween.get(s).to({alpha:1,scaleX:.8,scaleY:.8},100).to({scaleX:1,scaleY:1},50)}if("end"==o)switch(r){case panelmc_type.type_zhanli:egret.Tween.get(a.zhangchangetxt).to({alpha:0},100),egret.Tween.get(a.zhanglitxt).to({alpha:0},100);break;case panelmc_type.type_builduplv:case panelmc_type.type_clubupgrade:case panelmc_type.type_vipupgrade:case panelmc_type.type_herobereborn:egret.Tween.get(a.buildupG).to({alpha:0},100);break;case panelmc_type.type_opennew:egret.Tween.get(a.opennewG).to({alpha:0,scaleX:1.5,scaleY:1.5},100)}"pause"==o&&i.addobj.needclose&&!a.m_isguide&&(n.animation?n.animation.stop():n.stop(),a.mcPauseFun(i))}},t.prototype.mcPauseFun=function(e){var t=e.type,a=this;switch(t){case panelmc_type.type_vipupgrade:a.gobtn.visible=!0,a.closebtn.visible=!0}},t.prototype.playermc2=function(e){var t=this,a=e;t.m_isplaying=!1;var i=a.target;i&&(i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,t.playermc1,t),i.removeEventListener(dragonBones.EventObject.COMPLETE,t.playermc2,t),utils.GameComUtil.removeAnimoSelf(i));var n=t.m_curalertvo;if(n){if(n.addobj&&n.addobj.iscacheguide){var o=GlobalAllProxy.getInstance().guideProxy;o.isPlayGuide()&&o.isCache&&o.cacheGuide()}if(EventBus.sendMessage(game.GameCommands.EFFECT_ZHANLI_OVER,n.type),n.addobj.needclose)return void t.close()}t.showNextMc()},t.prototype.showMc=function(e,t,a,i){var n=this;n.mcG.visible=!0;var o=n.m_mcnameArr;-1==o.indexOf(a)&&o.push(a);var r=utils.GameComUtil.getArmature(t,a,n);r&&(r.touchChildren=!1,r.touchEnabled=!1,n.mcG.addChildAt(r,0),r.animation.play("effect",1),r.addEventListener(dragonBones.EventObject.COMPLETE,this.playermc2,this))},t.prototype.showChangeMc=function(e,t,a,i){var n=this;n.mcG.visible=!0;var o=n.m_mcnameArr;-1==o.indexOf(a)&&o.push(a);var r=utils.GameComUtil.getArmature(t,a,n,!1),s=e.addobj,l=e.type;if(r&&s){if(r.touchChildren=!1,r.touchEnabled=!1,r.addEventListener(dragonBones.EventObject.COMPLETE,this.playermc2,this),l==panelmc_type.type_starup)for(var p,c,u,m=s.num,g=6;g>=1;g--)p="star"+g,u=new egret.Bitmap,c=r.armature.getSlot(p),m>=g?(_=RES.getRes("tab_xlzx1_b9"),u.texture=_,u.anchorOffsetX=Math.floor(.5*_.textureWidth),u.anchorOffsetY=Math.floor(.5*_.textureHeight),c.display=u):c.display=u;if(s.changebone){var _,h=s.changeurl,d=s.changebone,c=r.armature.getSlot(d);if(l==panelmc_type.type_herosign||l==panelmc_type.type_herobereborn){if(_=n.heroicon.getCopyImg(),l==panelmc_type.type_herobereborn){var y=RES.getRes(h),v=r.armature.getSlot("building2"),f=new egret.Bitmap;f.texture=y,f.anchorOffsetX=Math.floor(.5*y.textureWidth),f.anchorOffsetY=Math.floor(.5*y.textureHeight),v.display=f}}else _=l==panelmc_type.type_vipupgrade?n.getTxtCopy(n.viptxt):RES.getRes(h);var b=new egret.Bitmap;b.texture=_,b.anchorOffsetX=Math.floor(.5*_.textureWidth),b.anchorOffsetY=Math.floor(.5*_.textureHeight),c.display=b}n.mcG.addChildAt(r,0),r.animation.play("effect",1),r.addEventListener(dragonBones.EventObject.FRAME_EVENT,n.playermc1,n)}},t.prototype.getTxtCopy=function(e){var t,a,i=new egret.RenderTexture;return t=e.width,a=e.height,i.drawToTexture(e,new egret.Rectangle(0,0,t,a)),i},t}(e.VM);e.AlertZhanliView=t,__reflect(t.prototype,"vm.AlertZhanliView")}(vm||(vm={}));var JAlert=function(){function e(){}return e.show=function(e,t,a,i,n){if(void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=null),e&&e.tipitemid==GlobalEnum.itemid_ug){var o=ug_cost_type.com;e.tipcostid&&(o=e.tipcostid);var r=GlobalAllProxy.getInstance().gameProxy.alertcostobj;if(r[o])return null!=a&&a.call(i),null}if(!game.Injector.hasMapRule(vm.AlertView))return null;var s=game.Injector.getInstance(vm.AlertView);return s._obThis=i,s._callBack=a,s._cancelBack=n,s._strTitle=t,s.setVO(e),PanelDM.getIns().open(vm.AlertView),s},e.showinfostr=function(t,a,i,n,o){void 0===o&&(o=!0);var r=new AlertVO;r.info=t,r.showCancel=o,e.show(r,a,i,n)},e}();__reflect(JAlert.prototype,"JAlert");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AnswerAwardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_answer_award),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.questionweeklybag_DATA;t.showData(a,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=AnswerAwardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(e.VM);e.AnswerAwardView=t,__reflect(t.prototype,"vm.AnswerAwardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AnswerRankSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.lantxt0.text=Language.ins.rank_tip5,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_answer_rank,a.tiptxt1.text=Language.ins.answer_tip19,a.tiptxt2.text=Language.ins.answer_tip20,a.tiptxt3.text=Language.ins.answer_tip21),GlobalAllProxy.getInstance().gameProxy.NetQuestionRank()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy,i=a.rankquestiondata;if(utils.GameComUtil.setVisibleHitPanel(t.mydataG,t.contgroup,!1),i){var n=i.getMyRankVo();n&&utils.GameComUtil.setVisibleHitPanel(t.mydataG,t.contgroup,!0)}if(n&&t.showGrouData(n),i){var o=i.getRankArr();t.showData(o,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.RANK_DATA_CHANGE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.RANK_DATA_CHANGE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.listchange=function(e){var t=this,a=e.target.selectedItem;a&&(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.uid),t.datalist.selectedIndex=-1)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.RANK_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=AnswerRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t.prototype.showGrouData=function(e){var t=this,a=e;t.tiptxt0.text=a.rankId,a.rankId>1e3&&(t.tiptxt0.text="1000+"),t.nametxt.text=a.name,t.maxtxt0.text=a.score,t.rankicon0.source=ResName.getRankImg(a.rankId),t.logoimg.setLogoUrl(a.logo)},t}(e.VM);e.AnswerRankView=t,__reflect(t.prototype,"vm.AnswerRankView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AnswerResultSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.showlist.setGroupAlign(egret.HorizontalAlign.CENTER),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_answerok),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.questiondata;if(a){var i=a.questionNotiData;if(i){var n=i.resultdata;if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,r=GlobalConfig.getQuestionRewardVO(o),s=utils.GameComUtil.getItemVoArr(r.rreward);t.showlist.setDataArr(s,"",!1,!0,!0,!1),t.scoretxt.text=FormatString.format(Language.ins.answer_tip6,n.score)}}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}t.close()},t.prototype.changelogo=function(){},t}(e.VM);e.AnswerResultView=t,__reflect(t.prototype,"vm.AnswerResultView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.AnswerScoreRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.answer_gif_tip0),a.changeShow(),a.listGroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)
},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.questiondata,a=GlobalConfig.questiondailybag_DATA;if(a){var i,n,o=[],r=-1;for(var s in a)i=a[s],n=new AnswerSAwardRenderVO,n.id=i.id,n.index=+s,n.rewardarr=utils.GameComUtil.getItemVoArr(i.reward),n.name=FormatString.format(Language.ins.answer_gif_tip2,i.score),o.push(n),t.score>=i.score&&(r=s);o.sort(utils.GameUtil.sortMatckFun(["id"],[1])),e.showData(o,!0);if(a[r]){var l=utils.GameComUtil.getItemVoArr(a[r].reward);e.listGroup.setDataArr(l,"",!0,!1,!0,!1)}else e.listGroup.setDataArr([],"",!0,!1,!0,!1);e.ranktxt.text=FormatString.format(Language.ins.answer_gif_tip3,t.score)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=AnswerSAwardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.AnswerScoreRewardView=t,__reflect(t.prototype,"vm.AnswerScoreRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._issend=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.AnswerSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;this._issend=!1,a.initAddEvent(),a.readPanelVO(),t&&(a.listGroup.setGroupAlign(egret.HorizontalAlign.CENTER),a.tiptxt8.text=Language.ins.answer_tip12,a.itemtitletxt.text=Language.ins.answer_tip14,a.itemtip0.text=Language.ins.answer_tip16,a.itemtip1.text=Language.ins.answer_tip17,a.lantxt1.text=Language.ins.answer_tip18,a.awardbtn.label=Language.ins.btn_answer_rankaward,a.rankbtn.label=Language.ins.btn_answer_rank,a.usebtn0.label=Language.ins.btn_backpack_use,a.usebtn1.label=Language.ins.btn_backpack_use,a.jitiptxt2.text=Language.ins.answer_tip24,a.jitiptxt3.text=Language.ins.answer_tip25,a.choosetiptxt.text=Language.ins.answer_tip26),egret.clearTimeout(a.m_timeN),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_answer),a.addChild(a.m_toppanel),a.changeShow();var i=GlobalAllProxy.getInstance().gameProxy.questiondata;i||GlobalAllProxy.getInstance().gameProxy.NetQuestionEnter(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat_barrage],new ChatBarrageViewOpenVO(600,40)),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this,i=GlobalAllProxy.getInstance().gameProxy.questiondata;if(i){var n=i.status;n==game.SQuestionEnter.type_play||egret.clearTimeout(a.m_timeN)}else egret.clearTimeout(a.m_timeN);egret.clearTimeout(a.m_timeS),a.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.questiondata;if(a){var i=GlobalAllProxy.getInstance().backpackProxy,n=a.weekday;if(utils.GameComUtil.setVisibleHitPanel(t.itemuserG,t.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(t.awardG,t.contgroup,!1),t.choosetiptxt.visible=!0,n){utils.GameComUtil.setVisibleHitPanel(t.itemuserG,t.contgroup,!0);var o=i.getItemCount(GlobalEnum.itemid_answerresult),r=i.getItemCount(GlobalEnum.itemid_answerred);t.useitem0.setIdAndNum(GlobalEnum.itemid_answerresult,o,!0),t.useitem1.setIdAndNum(GlobalEnum.itemid_answerred,r,!0),t.bgimg1.source="tab_dati_b8",t.bgimg2.source="tab_dati_b4",t.tipimg2.source="tab_dati_d6",t.tipimg3.source="tab_dati_d5",t.awardbtn.visible=!0,t.rankbtn.visible=!0,t.gifimg.visible=!1}else utils.GameComUtil.setVisibleHitPanel(t.awardG,t.contgroup,!0),t.bgimg1.source="tab_dati_b7",t.bgimg2.source="tab_dati_b5",t.tipimg2.source="tab_dati_c6",t.tipimg3.source="tab_dati_c5",t.awardbtn.visible=!1,t.rankbtn.visible=!1,t.gifimg.visible=!0;var s=a.status;if(t.numtxt.visible=!1,t.numG.visible=!1,t.anallG.visible=!1,t.zheimg.visible=!1,t.jiG.visible=!1,t.jiG0.visible=!1,s==game.SQuestionEnter.type_start)t.zheimg.visible=!0,t.jitiptxt.text=Language.ins.answer_tip3,t.jinumtxt.text=a.time,t.choosetiptxt.visible=!1,t.clockG.visible=!1;else if(s==game.SQuestionEnter.type_play){var l=a.questionNotiData;t.choosetiptxt.visible=!0,t.clockG.visible=!0,l?(l.isReckonScore&&(t.zheimg.visible=!0,t.jiG0.visible=!0,t.jitiptxt0.text=Language.ins.answer_tip4),t.anallG.visible=!0,t.numG.visible=!0,t.numtxt.visible=!0,t.setQuestionData(l)):(t.zheimg.visible=!0,t.jiG0.visible=!0,t.jitiptxt0.text=Language.ins.answer_tip4)}else s==game.SQuestionEnter.type_over&&t.questionOver();var p,c,u,m=a.correct,g=a.wrong,_=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,h=GlobalConfig.getQuestionRewardVO(_),d=utils.GameComUtil.getItemVoArr(h.rreward),y=utils.GameComUtil.getItemVoArr(h.wreward),v={};for(p=0,c=d.length;c>p;p++)u=d[p],u.count*=m,v[u.itemid]||(v[u.itemid]=0),v[u.itemid]+=u.count;for(p=0,c=y.length;c>p;p++)u=y[p],u.count*=g,v[u.itemid]||(v[u.itemid]=0),v[u.itemid]+=u.count;var f=[];for(var b in v)v[b]&&f.push(new game.ComItemGroupVo(parseInt(b),v[b]));t.listGroup.setDataArr(f,"",!1,!0,!0,!1),t.tiptxt5.text=a.num,t.tiptxt6.text=a.score,t.tiptxt1.text=a.total,s!=game.SQuestionEnter.type_over&&(egret.clearTimeout(t.m_timeN),t.reshTime()),s!=game.SQuestionEnter.type_play&&t.reshTimeS()}},t.prototype.showAnswerGif=function(){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_answer_reward])},t.prototype.setQuestionData=function(e){var t=this;t.numtiptxt.text=FormatString.format(Language.ins.answer_gif_tip4,e.num),t.numtxt.text=e.question;var a,i=e.option,n=e.resultdata,o=e.outoptionarr;o||(o=[]);var r=0/0,s=0/0,l=e.isReckonScore;if(n){r=n.option,s=n.correct;var p=Global.systemTimeNum,c=u-Math.floor(.001*p-e.timstamp);c=t.getTimeNomel(c);var u=ParamLoader.instance.ServerQuesLookTime;!c&&e.isReckonScore&&(n.score&&n.correct==n.option?(t.zheimg.visible=!0,t.jiG0.visible=!0,t.jitiptxt0.text=Language.ins.answer_tip11):(t.zheimg.visible=!0,t.jiG0.visible=!0,t.jitiptxt0.text=Language.ins.answer_tip10))}for(var m,g=0;4>g;g++)m=g+1,a=i[g],t["andestxt"+g].text=a,t["ancheck"+g].selected=!1,isNaN(r)||m!=r||(t["ancheck"+g].selected=!0),-1!=o.indexOf(m)?t["anG"+g].visible=!1:t["anG"+g].visible=!0,t["duiimg"+g].visible=!1,l&&!isNaN(s)&&s==m&&(t["duiimg"+g].visible=!0);t.numtxt.text=e.question},t.prototype.getTimeNomel=function(e){return 0>=e&&(e=0),e},t.prototype.reshTime=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.questiondata;if(t){var a=Global.systemTimeNum,i=0;i=Math.floor(.001*(t.endTime+1e3-a)),i=e.getTimeNomel(i),i||t.status==game.SQuestionEnter.type_over||(t.status=game.SQuestionEnter.type_over);var n=0,o=t.status;if(o==game.SQuestionEnter.type_start)i=Math.floor(.001*(t.time+1e3-a)),i=e.getTimeNomel(i),e.jinumtxt.text=i,i||t.sendtype||(t.sendtype=game.SQuestionEnter.type_play,GlobalAllProxy.getInstance().gameProxy.NetQuestionNotification(1)),egret.clearTimeout(e.m_timeS),e.m_timeS=egret.setTimeout(e.reshTimeS,e,1e3);else if(o==game.SQuestionEnter.type_play){egret.clearTimeout(e.m_timeS),e.jiG1.visible=!1;var r=t.questionNotiData;if(r){var s=ParamLoader.instance.ServerQuesTime,l=ParamLoader.instance.ServerQuesLookTime;if(i=s+1-Math.floor(.001*a-r.timstamp),i=e.getTimeNomel(i),n=l-Math.floor(.001*a-r.timstamp),n=e.getTimeNomel(n),r.isover||n||r.isover||(r.isover=!0,e.answernum(0)),n||!r.resultdata||r.isReckonScore||e.reckonScoreFun(),i||r.issendnext||0!=t.num&&(r.issendnext=!0,GlobalAllProxy.getInstance().gameProxy.NetQuestionNotification(1)),n?(r.isover?e.tiptxt0.text=Language.ins.answer_tip7:e.tiptxt0.text=Language.ins.answer_tip7,e.tiptxt7.text=n):(e.tiptxt0.text=Language.ins.answer_tip8,0==t.num&&(t.status=3,e.questionOver()),e.tiptxt7.text=i),!n&&!this.isOpend())return void egret.clearTimeout(e.m_timeN)}else t.sendtype||(t.sendtype=game.SQuestionEnter.type_play,GlobalAllProxy.getInstance().gameProxy.NetQuestionNotification(1))}else if(o==game.SQuestionEnter.type_over)return void e.changeShow();egret.clearTimeout(e.m_timeN),e.m_timeN=egret.setTimeout(e.reshTime,e,1e3)}},t.prototype.questionOver=function(){var e=this;e.zheimg.visible=!0,e.jiG0.visible=!0,e.clockG.visible=!1,e.choosetiptxt.visible=!1,e.jitiptxt0.text=Language.ins.answer_tip5,egret.clearTimeout(e.m_timeS),e.reshTimeS(),e.m_timeS=egret.setTimeout(e.reshTimeS,e,1e3)},t.prototype.reshTimeS=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.questiondata,a=Global.systemTimeNum,i=0;e.jiG1.visible=!1,t&&(a<Math.floor(t.time)&&(i=Math.floor(.001*(t.time+1e3-a)),e.jitiptxt1.text=utils.GameComUtil.getTimeNum(i,!0),e.jiG1.visible=!0,0==t.todaystatus?e.tipG.visible=!1:e.tipG.visible=!0),t.endTime&&a>=Math.floor(t.endTime)&&(this._issend||(this._issend=!0,GlobalAllProxy.getInstance().gameProxy.NetQuestionEnter())))},t.prototype.reckonScoreFun=function(){var e=GlobalAllProxy.getInstance().gameProxy.questiondata;if(e){var t=e.questionNotiData;if(t){var a=t.resultdata;a&&a.correct&&(e.sumResult(),a.correct==a.option?(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_answer_result]),this.changeShow()):this.changeShow())}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ANSWER_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ANSWER_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ANSWER_DATA_CHANGE:this.changeShow(e);break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.awardbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_answer_award]);break;case t.rankbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_answer_rank]);break;case t.gifrct0:t.getGiffun(0);break;case t.gifrct1:t.getGiffun(1);break;case t.gifrct2:t.getGiffun(2);break;case t.gifrct3:t.getGiffun(3);break;case t.anG0:t.answernum(1);break;case t.anG1:t.answernum(2);break;case t.anG2:t.answernum(3);break;case t.anG3:t.answernum(4);break;case t.usebtn0:GlobalAllProxy.getInstance().gameProxy.NetChooseAnswer();break;case t.usebtn1:GlobalAllProxy.getInstance().gameProxy.NetExcludeError();break;case t.gifimg:t.showAnswerGif();break;case t.chatbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat])}},t.prototype.getGiffun=function(e){FLOAT.NShowPutong([Language.ins.answer_tip2])},t.prototype.answernum=function(e){var t=GlobalAllProxy.getInstance().gameProxy.questiondata;if(t){var a=t.questionNotiData;if(a){var i=a.resultdata;i||GlobalAllProxy.getInstance().gameProxy.NetSelectAnswer(a.num,e)}}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.AnswerView=t,__reflect(t.prototype,"vm.AnswerView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.panelArr=[],t.isSelectRecover=!1,t._choosemode=0,t.selectTimes=1,t.selectItemID=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.BackPackBgSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changedata(!0),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_backpack),a.addChild(a.m_toppanel),t){a.fastbtn.label=Language.ins.btn_backpack_recovery,a.changeG.label=Language.ins.btn_backpack_use2,a.selectRecoverBtn.label=Language.ins.btn_select_recover,a.selectOkBtn.label=Language.ins.btn_ok,a.selectCancelBtn.label=Language.ins.btn_cancel,a.showTar();var i=GlobalEnum.itemid_qiucar;a.itemimg.source=ResName.getMinItemIcon(i)}a.m_isinhero=!1,a.changeshow(),a.resizefun()},t.prototype.changedata=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().backpackProxy,i=a.getItemArrForTag(t._choosemode+1,!0),n=i.length;n&&i.sort(utils.GameUtil.sortMatckFun(["rank","itemid"],[0,0]));for(var o=n;40>o;o++)i.push(null);t.showData(i,e),t.datalist.selectedIndex=-1;var r=GlobalEnum.itemid_qiucar,s=GlobalAllProxy.getInstance().backpackProxy.getItemCount(r);t.numtxt.text=s},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_backpack;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changedata(!0),t.changeshow()},t.prototype.changeshow=function(){var e=this,a=e._choosemode;a==t.type_hero&&(e.m_isinhero=!0),e.changeHeroTip(),e.changeTipMC()},t.prototype.changeHeroTip=function(){var e=this;e.heroG.visible=!1,e.changeG.visible=!1,e.itemG.visible=!1;var a=e._choosemode;if(utils.GameComUtil.removeTextFlow(this.tiptxt),e.tiptxtGroup.visible=!1,a==t.type_hero){e.heroG.visible=!0,e.changeG.visible=!0,e.itemG.visible=!0,GlobalAllProxy.getInstance().playerProxy.getnewhero=0;for(var i,n,o,r=GlobalAllProxy.getInstance().backpackProxy,s=r.getItemArrForTag(e._choosemode+1,!0),l=[0,0,0,0,0],p=0,c=s.length;c>p;p++)i=s[p],n=GlobalConfig.getItemVo(i.itemid),o=GlobalConfig.getPlayerPorpertyVO(n.parameter),l[o["class"]-1]+=i.count;var u=e.getcarstr(playertrait.trait_N,l),m=e.getcarstr(playertrait.trait_R,l),g=e.getcarstr(playertrait.trait_SR,l,13500924),_=e.getcarstr(playertrait.trait_SSR,l),h=e.getcarstr(playertrait.trait_UR,l);e.tiptxtGroup.visible=!0,e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.backpack_tip4,u,m,g,_,h))}},t.prototype.getcarstr=function(e,t,a){void 0===a&&(a=0/0);var i="",n=t[e-1];switch(e){case playertrait.trait_N:i="N";break;case playertrait.trait_R:i="R";break;case playertrait.trait_SR:i="SR";break;case playertrait.trait_SSR:i="SSR";break;case playertrait.trait_UR:i="UR"}var o=FormatString.format(Language.ins.backpack_tip5,i,n),r=a;return isNaN(a)&&(r=ColorUtil.getPlayerNameCol(e)),o=FormatString.format(Language.ins.game_col,r,o)},t.prototype.hitalllist=function(){},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;if(a.cancelSelectRecover(),a.m_isinhero)for(var i,n=GlobalAllProxy.getInstance().backpackProxy.backItemArr,o=0,r=n.length;r>o;o++)i=n[o],1==i.isnew&&(i.isnew=0);this.hitalllist(),this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem,i=t.datalist.$indexToRenderer[t.datalist.selectedIndex];if(a instanceof game.SeverItemVO){var n=a,o=GlobalConfig.getItemVo(n.itemid);if(o&&o.type==item_type.type_player)if(t.isSelectRecover)i&&(t.selectItemID==a.itemid&&a.selectRecoverAmount++,t.selectItemID=a.itemid,a.isSelectRecover=1,t.datalist.updateRenderer(i,t.datalist.selectedIndex,a));else{var r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,n.itemid,null,!1,!0))}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpackinfo],new BackPackInfoViewOpenVO(n.itemid,!1));GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickRectTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick),t.datalist.selectedIndex=-1}},t.prototype.cancelSelectRecover=function(){var e=this;e.selectTimes=1,e.selectItemID=0,e.isSelectRecover=!1,e.selectRecover.visible=!1,e.selectOkBtn.visible=e.selectCancelBtn.visible=!1,e.fastbtn.visible=e.selectRecoverBtn.visible=!0;for(var t,e=this,a=GlobalAllProxy.getInstance().backpackProxy,i=a.getItemArrForTag(e._choosemode+1,!0),n=0;n<i.length;n++)t=i[n],1==t.isSelectRecover&&(t.isSelectRecover=0,t.selectRecoverAmount=1);e.changedata()},t.prototype.getSelectRecoverTotalTransactionCertificateNum=function(){var e,t,a,i,n=this,o=GlobalAllProxy.getInstance().backpackProxy,r=o.getItemArrForTag(n._choosemode+1,!0),s={};s[playertrait.trait_N]={},s[playertrait.trait_R]={},s[playertrait.trait_SR]={},s[playertrait.trait_SSR]={},s[playertrait.trait_UR]={},s[playertrait.trait_N].num1=0,s[playertrait.trait_N].num2=0,s[playertrait.trait_R].num1=0,s[playertrait.trait_R].num2=0,s[playertrait.trait_SR].num1=0,s[playertrait.trait_SR].num2=0,s[playertrait.trait_SSR].num1=0,s[playertrait.trait_SSR].num2=0,s[playertrait.trait_UR].num1=0,s[playertrait.trait_UR].num2=0;for(var l=0,p=r.length;p>l;l++)e=r[l],t=GlobalConfig.getItemVo(e.itemid),i=t.type,i==item_type.type_player&&1==e.isSelectRecover&&(a=GlobalConfig.getPlayerPorpertyVO(t.parameter),s[a["class"]].num1+=a["return"]*e.selectRecoverAmount,s[a["class"]].num2+=e.selectRecoverAmount);return s},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:a.changedata();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:var i=a.datascrollA;i.stopAnimation(),i&&(i.viewport.scrollV=0),a.changeHeroTip();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close();break;case t.fastbtn:i.goWindow([GlobalViewIDEnum.pType_hero_recoverfast]);break;case t.changeG:i.goWindow([GlobalViewIDEnum.pType_market]);break;case t.itemG:var n=game.TipSimpleObject.type_item,o=GlobalEnum.itemid_qiucar,r=new game.ComItemGroupVo(o,0);utils.GameComUtil.ShowTip(t.itemG,o,n,r);break;case t.selectRecoverBtn:t.isSelectRecover=!0,t.selectRecover.visible=!0,t.selectOkBtn.visible=t.selectCancelBtn.visible=!0,t.fastbtn.visible=t.selectRecoverBtn.visible=!1;break;case t.selectOkBtn:var s=t.getSelectRecoverTotalTransactionCertificateNum(),l=(GlobalConfig.getItemVo(GlobalEnum.itemid_qiucar).name,s[playertrait.trait_N].num1+s[playertrait.trait_R].num1+s[playertrait.trait_SR].num1+s[playertrait.trait_SSR].num1+s[playertrait.trait_UR].num1),p=FormatString.format(Language.ins.backpack_tip13,s[playertrait.trait_N].num2,s[playertrait.trait_R].num2,s[playertrait.trait_SR].num2,s[playertrait.trait_SSR].num2,l,s[playertrait.trait_UR].num2);JAlert.showinfostr(p,Language.ins.title_recovercar,t.chorecoverFun,t);break;case t.selectCancelBtn:t.cancelSelectRecover()}},t.prototype.chorecoverFun=function(){var e=this;GlobalAllProxy.getInstance().playerProxy.NetSelectRecover(e._choosemode)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender3,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o.stopAnimation(),o&&(o.viewport.scrollV=0)}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTiphero(t.getTipForArr(null,[GlobalEnum.tipmc_getnewhero])),e.showTipherosynthesis(t.getTipForArr(null,[GlobalEnum.tipmc_hero_synthesis])),e.showTipappointitem(t.getTipForArr(null,[GlobalEnum.tipmc_appoint_item]))},t.prototype.showTipappointitem=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},t.prototype.showTipherosynthesis=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab2.addChild(t[n]),t[n].visible=a)},t.prototype.showTiphero=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.type_daoju=0,t.type_hero=1,t.type_cailiao=2,t}(e.VM);e.BackPackBgView=t,__reflect(t.prototype,"vm.BackPackBgView")}(vm||(vm={}));var BackPackInfoViewOpenVO=function(){function e(e,t){void 0===t&&(t=!1),this.itemid=e,this.ismax=t}return e}();__reflect(BackPackInfoViewOpenVO.prototype,"BackPackInfoViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_choosemode=0,t.m_itemid=0,t.m_ismax=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BackPackInfoSkinDR;e.runto(this,["tab_shop_b4"])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_backpack_info,a.panel_bg.setImgBg(""),a.tpitxt.text=Language.ins.backpack_tip6,a.tiptxt1.text=Language.ins.backpack_tip9,a.tiptxt0.text=Language.ins.backpack_tip10,a.sellbtn.label=Language.ins.btn_backpack_sell,a.useusebtn.label=Language.ins.btn_backpack_use,a.infosynbtn.label=Language.ins.btn_backpack_syn,a.infogobtn.label=Language.ins.btn_backpack_gouse),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.m_ismax=!1,e.panelVo){var t=e.panelVo.panelobj;if(e.panelVo.childtype?e.m_choosemode=e.panelVo.childtype:e.m_choosemode=0,t){var a=t;a&&a.itemid&&(e.m_itemid=t.itemid,e.m_ismax=a.ismax)}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.infonumtxt),utils.GameComUtil.removeTextFlow(this.infodextxt0),utils.GameComUtil.removeTextFlow(this.infodextxt1)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=20;t.tpitxt.visible=!1,utils.GameComUtil.setVisibleHitPanel(t.listG2,t.listG,!1),utils.GameComUtil.setVisibleHitPanel(t.listcostG1,t.listcostG,!1),utils.GameComUtil.setVisibleHitPanel(t.useuseG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.sellG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.infosynG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.infogoG,t.infobtnG,!1),t.tiptxt1.text=Language.ins.backpack_tip9;var i=0;if(t.m_itemid){var n=GlobalAllProxy.getInstance().backpackProxy.getItemforitemid(t.m_itemid),o=GlobalConfig.getItemVo(t.m_itemid);if(n&&o){t.infoitem.setIdAndNum(n.itemid,0,!1,0,!1,!1,!1),i=n.count;var r=utils.GameUtil.getNumToStr(i);t.infonumtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.backpack_tip2,r));var s="";s+=FormatString.format(Language.ins.game_zisize,a,Language.ins.tips_tip11),s+="\n"+o.des;var l="";if(l+=FormatString.format(Language.ins.game_zisize,a,Language.ins.tips_tip0),l+="\n"+FormatString.format(Language.ins.game_col,4299987,o.des2),t.infonametxt.text=o.name,t.infodextxt0.textFlow=utils.GameComUtil.getHtmlText(s),t.infodextxt1.textFlow=utils.GameComUtil.getHtmlText(l),o.sell){if(!i)return void t.close();t.tiptxt1.text=Language.ins.backpack_tip11,t.sellcostimg0.source=ResName.getMinItemIcon(GlobalEnum.itemid_coin),utils.GameComUtil.setVisibleHitPanel(t.listcostG1,t.listcostG,!0),utils.GameComUtil.setVisibleHitPanel(t.sellG,t.infobtnG,!0),t.usechange.setdata(1,n.count,1),t.usechange.addEventFun(),utils.GameComUtil.setVisibleHitPanel(t.listG2,t.listG,!0)}else t.tpitxt.visible=!0;o.type==item_type.type_gif?(t.usechange.setdata(1,n.count,1),t.usechange.addEventFun(),utils.GameComUtil.setVisibleHitPanel(t.useuseG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.listG2,t.listG,!0)):o.type==item_type.type_fast&&(t.usechange.setdata(1,n.count,1),utils.GameComUtil.setVisibleHitPanel(t.useuseG,t.infobtnG,!0)),o.compose&&utils.GameComUtil.setVisibleHitPanel(t.infosynG,t.infobtnG,!0),o.jump&&"0"!=o.jump&&utils.GameComUtil.setVisibleHitPanel(t.infogoG,t.infobtnG,!0)}t.synnumchange()}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_ACTION_CHANGE,e.eventChange),e.usechange.addEventListener(egret.Event.CHANGE,e.synnumchange,e)},t.prototype.synnumchange=function(e){void 0===e&&(e=null);var t=this,a=t.usechange.getValue();if(t.m_itemid){var i=GlobalConfig.getItemVo(t.m_itemid);if(i.sell){var n=i.sell*a;t.sellCnumtxt0.text=n}}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BACKPACK_ACTION_CHANGE,e.eventChange),e.usechange.removeEventListener(egret.Event.CHANGE,e.synnumchange,e),e.usechange.removeEventFun()},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_ACTION_CHANGE:a.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.infosynbtn:t.close(),t.m_itemid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpacksynthesisinfo],t.m_itemid);break;case t.infogobtn:if(t.m_itemid){var a=GlobalConfig.getItemVo(t.m_itemid);utils.GameComUtil.panelJump(a.jump,!0)}break;case t.useusebtn:var i=t.usechange.getValue();if(i){if(t.m_itemid==GlobalEnum.itemid_pvefastcar){var n=Manifest.getIns(FightDM),o=n.getFightData(FightEnum.type_pve);if(o.nowid){var r=1;GlobalAllProxy.getInstance().fightProxy.NetInstantPlay(Math.floor(o.nowid),r)}var s=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_pvefastcar);s-1==0&&t.close()}else GlobalAllProxy.getInstance().backpackProxy.NetUseItem(t.m_itemid,i);EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)}else FLOAT.NShowPutong([Language.ins.backpack_tip0]);break;case t.sellbtn:var i=t.usechange.getValue();i?GlobalAllProxy.getInstance().backpackProxy.NetSaleItems(t.m_itemid,i):FLOAT.NShowPutong([Language.ins.backpack_tip0])}},t}(e.VM);e.BackPackInfoView=t,__reflect(t.prototype,"vm.BackPackInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_itemid=0,t.animopatharr=["itemovermc","itemcreatmc","itemmovemc"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e,t=this,a=t.animopatharr,i=["tab_shop_b4"],n=0,o=a.length;o>n;n++)e=a[n],i.push(e+"_ske"),i.push(e+"_tex_json"),i.push(e+"_tex");var r=new skins.BackPackSynthesisInfoSkinDR;r.runto(this,i)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_backpack_info,a.panel_bg.setImgBg("tab_shop_b4"),a.syntiptxt0.text=Language.ins.backpack_tip7,a.syntiptxt1.text=Language.ins.backpack_tip8,a.syncanelbtn.label=Language.ins.btn_cancel,a.synsynbtn.label=Language.ins.btn_backpack_syn),a.synsynbtn.enabled=!0,a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;if(t){e.m_itemid=t;GlobalConfig.getItemVo(e.m_itemid)}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;if(t.m_itemid){var a=GlobalAllProxy.getInstance().backpackProxy.getItemforitemid(t.m_itemid),i=GlobalConfig.getItemVo(t.m_itemid);if(a&&i){t.synitem0.setitemdata(a,!0);var n=i.composeid,o=GlobalConfig.getItemVo(n);t.synitem1.setitemdata(o,!0);var r=Math.floor(a.count/i.compose);t.synchange.setdata(0,r,1),t.synchange.addEventFun(),t.synnumchange()}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_ACTION_CHANGE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_HECHEN_COPLETE,e.eventChange),e.synchange.addEventListener(egret.Event.CHANGE,e.synnumchange,e)},t.prototype.synnumchange=function(e){void 0===e&&(e=null);var t=this,a=t.synchange.getValue();if(t.m_itemid){var i=GlobalAllProxy.getInstance().backpackProxy.getItemforitemid(t.m_itemid),n=GlobalConfig.getItemVo(t.m_itemid);i&&n&&(t.synnumtxt.text=i.count+"/"+Math.floor(n.compose*a))}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BACKPACK_ACTION_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_HECHEN_COPLETE,e.eventChange),e.synchange.removeEventListener(egret.Event.CHANGE,e.synnumchange,e),e.synchange.removeEventFun()},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_ACTION_CHANGE:a.changeShow(e);break;case game.GameCommands.BACKPACK_HECHEN_COPLETE:var i=e;a.m_comvo=i,a.showHechenAnimo(i.sendid)}},t.prototype.showHechenAnimo=function(e){var t=this;t.synsynbtn.enabled=!1;var a=new FloatAnimoVO;a.callFun=t.animoOverFun,a.callParent=t;var i=new FloatAnimoInfoVO;i.itemid=e;var n=t.synitem0,o=t.synitem1,r=n.x+.5*n.width,s=n.y+.5*n.height,l=o.x+.5*o.width,p=o.y+.5*o.height,c=utils.GameComUtil.getLocalToGlobal(n.parent,r,s),u=utils.GameComUtil.getLocalToGlobal(o.parent,l,p);i.movepos=c,i.topos=u,a.showarr=[i],a.mcroot=t,FloatAnimo.startAnimoMc(a)},t.prototype.animoOverFun=function(){var e=this;e.synsynbtn.enabled=!0;var t=e.m_comvo;if(t){var a=GlobalAllProxy.getInstance().backpackProxy;a.addBagItemNum(t.getid,t.getnum,!1,!0),e.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.syncanelbtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.synsynbtn:var a=t.synchange.getValue();a?GlobalAllProxy.getInstance().backpackProxy.NetSynthesisItem(t.m_itemid,a):FLOAT.NShowPutong([Language.ins.backpack_tip0])}},t.type_syn=2,t}(e.VM);e.BackPackSynthesisInfoView=t,__reflect(t.prototype,"vm.BackPackSynthesisInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isshop=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BetChampionSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.bet_champion_tip1.text=Language.ins.bet_champion_tip1,a.bet_champion_tip2.text=Language.ins.bet_champion_tip2,a.bet_champion_tip3.text=Language.ins.bet_champion_tip3,a.okBtn.label=Language.ins.bet_champion_tip5);
var i=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin,n=Math.max(1,Math.floor(i/100));a.usechange.setdata(1,n,1,!1,100),a.usechange.addEventFun(),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),this.m_openvo=null,utils.GameComUtil.removeTextFlow(this.infodextxt0),utils.GameComUtil.removeTextFlow(this.infodextxt1),utils.GameComUtil.removeTextFlow(this.infonumtxt)},t.prototype.readPanelVO=function(){var e,t=this;if(t.panelVo){var a=t.panelVo.panelobj;a&&(e=a,e.id&&(t.m_itemid=e.id),t.m_openvo=e)}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.m_itemid&&(t.usechangefun(),t.img_nationalFlag.source=t.m_openvo.icon,t.tf_name.text=t.m_openvo.Countname,t.bet_champion_tip0.text=FormatString.format(Language.ins.bet_champion_tip0,t.m_openvo.odds))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.addEventListener(egret.Event.CHANGE,e.usechangefun,e)},t.prototype.usechangefun=function(e){void 0===e&&(e=null);var t=this,a=t.usechange.getValue(),i=t.m_openvo.odds,a=Number(i)*a;t.bet_champion_tip4.text=FormatString.format(Language.ins.bet_match_tip5,a.toFixed(0))},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.removeEventFun(),e.usechange.removeEventListener(egret.Event.CHANGE,e.usechangefun,e)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okBtn:var a=t.usechange.getValue();a<=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin?(GlobalAllProxy.getInstance().gameProxy.bet_champion_data[0]=t.m_openvo.id,GlobalAllProxy.getInstance().gameProxy.bet_champion_data[1]=a,GlobalAllProxy.getInstance().gameProxy.NetSendOperatingActivityChampionGuess(t.m_openvo.id,a),t.close()):FLOAT.NShowPutong([Language.ins.bet_match_tip9])}},t}(e.VM);e.BetChampionView=t,__reflect(t.prototype,"vm.BetChampionView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isshop=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BetMatchSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.bet_match_tip10,a.bet_match_tip1.text=Language.ins.bet_match_tip1,a.bet_match_tip2.text=Language.ins.bet_match_tip2,a.bet_match_tip3.text=Language.ins.bet_match_tip3,a.bet_match_tip4.text=Language.ins.bet_match_tip4,a.needtxt0.text=a.needtxt1.text=a.needtxt2.text=Language.ins.bet_match_tip8,a.okBtn.label=Language.ins.bet_champion_tip5,a.checkug0.selected=!1,a.checkug1.selected=!1,a.checkug2.selected=!1);var i=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin,n=Math.max(1,Math.floor(i/100));a.usechange.setdata(1,n,1,!1,100),a.usechange.addEventFun(),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),this.m_openvo=null,utils.GameComUtil.removeTextFlow(this.infodextxt0),utils.GameComUtil.removeTextFlow(this.infodextxt1),utils.GameComUtil.removeTextFlow(this.infonumtxt)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.usechange.addEventListener(egret.Event.CHANGE,e.usechangefun,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.readPanelVO=function(){var e,t=this;if(t.panelVo){var a=t.panelVo.panelobj;a&&(e=a,e.matchId&&(t.m_itemid=e.matchId),t.m_openvo=e)}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.usechangefun(),t.img_nationalFlag0.source=t.m_openvo.homeIcon,t.img_nationalFlag1.source=t.m_openvo.guestIcon,t.tf_name0.text=t.m_openvo.homeName,t.tf_name1.text=t.m_openvo.guestName,t.tf_odds0.text=FormatString.format(Language.ins.tf_odds0,t.m_openvo.hodds),t.tf_odds1.text=FormatString.format(Language.ins.tf_odds1,t.m_openvo.podds),t.tf_odds2.text=FormatString.format(Language.ins.tf_odds2,t.m_openvo.vodds),t.bet_match_tip5.text=FormatString.format(Language.ins.bet_match_tip5,100),t.bet_match_tip0.text=FormatString.format(Language.ins.bet_match_tip0,egret.TimeUtils.transDate2(t.m_openvo.limit+3600))},t.prototype.usechangefun=function(e){void 0===e&&(e=null);var t=this,a=t.usechange.getValue(),i=t.checkug0.selected?t.m_openvo.hodds:t.checkug1.selected?t.m_openvo.podds:t.checkug2.selected?t.m_openvo.vodds:"0",a=Number(i)*a;t.bet_match_tip5.text=FormatString.format(Language.ins.bet_match_tip5,a.toFixed(0))},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.removeEventFun(),e.usechange.removeEventListener(egret.Event.CHANGE,e.usechangefun,e),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okBtn:var a=t.usechange.getValue(),i=t.checkug0.selected?1:t.checkug1.selected?3:t.checkug2.selected?2:0;0!=i?a<=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin?(GlobalAllProxy.getInstance().gameProxy.bet_match_data[0]=t.m_openvo.matchId,GlobalAllProxy.getInstance().gameProxy.bet_match_data[1]=i,GlobalAllProxy.getInstance().gameProxy.bet_match_data[3]=a,GlobalAllProxy.getInstance().gameProxy.NetSendOperateActivityGuessResponse(t.m_openvo.matchId,i,a),t.close()):FLOAT.NShowPutong([Language.ins.bet_match_tip9]):FLOAT.NShowPutong([Language.ins.bet_match_tip7]);break;case t.costboxG0:t.checkug0.selected=t.img_selected0.visible=!0,t.checkug1.selected=t.img_selected1.visible=!1,t.checkug2.selected=t.img_selected2.visible=!1,t.odds_state0_img.visible=!1,t.odds_state1_img.visible=t.odds_state2_img.visible=!0;break;case t.costboxG1:t.checkug0.selected=t.img_selected0.visible=!1,t.checkug1.selected=t.img_selected1.visible=!0,t.checkug2.selected=t.img_selected2.visible=!1,t.odds_state1_img.visible=!1,t.odds_state0_img.visible=t.odds_state2_img.visible=!0;break;case t.costboxG2:t.checkug0.selected=t.img_selected0.visible=!1,t.checkug1.selected=t.img_selected1.visible=!1,t.checkug2.selected=t.img_selected2.visible=!0,t.odds_state2_img.visible=!1,t.odds_state0_img.visible=t.odds_state1_img.visible=!0}t.usechangefun()},t}(e.VM);e.BetMatchView=t,__reflect(t.prototype,"vm.BetMatchView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BetShopSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_league_shop),a.changeShow()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.addMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.addMessage(game.GameCommands.Bet_OperatingActivity_Guess,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.removeMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.removeMessage(game.GameCommands.Bet_OperatingActivity_Guess,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.LEAGUE_SHOP_REWARD:case game.GameCommands.MY_INFO_CHANGW:case game.GameCommands.Bet_OperatingActivity_Guess:this.changeShow()}},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:case t.panel_bg.closebtn:t.close()}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=(o.type,GlobalConfig.getShopVO(i.vo.id)),s=Math.floor(GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin/r.price),l=new ShopBuyViewOpenVO(i.vo.id,1,s,shopbuy_type.betshop);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l),t.datalist.selectedIndex=-1}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t,a,i=this,n=GlobalConfig.shop_DATA,o=(GlobalAllProxy.getInstance().playerProxy.playerinfo.level,showitemtype.type_bet),r=[],s=GlobalAllProxy.getInstance().backpackProxy;for(var l in n)a=n[l],a.shoptype==o&&(t=new ShopHotRenderVO,t.vo=a,t.rank=a.rank,t.buynum=s.getShopNum(a.id),r.push(t));r.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),i.showData(r,!1);var p=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin,c=GlobalConfig.getItemVo(GlobalEnum.itemid_betB);i.itemname.text=c.name,i.numtxt.text=p.toString(),i.useicon.source=ResName.getMinItemIcon(GlobalEnum.itemid_betB)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopHotRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.onHide=function(t){var a=this;e.prototype.onHide.call(this,t),a.removeEvent(),utils.GameComUtil.removeListData(a.datalist)},t}(e.VM);e.BetShopView=t,__reflect(t.prototype,"vm.BetShopView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.countdownTimer=new egret.Timer(1e3),t.contdownT=0,t.isRedPoint=!0,t._choosemode1=0,t._choosemode2=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BetSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO();var i,n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush,o=GlobalConfig.betChampionInit_dataArr;if(t){var r,s="",l="";if(n&&n.guess){var p=n.guess;s=utils.GameComUtil.getTime1Str(1e3*p.startTime),l=utils.GameComUtil.getTime1Str(1e3*p.endTime);var r=GlobalConfig.getactivityoperateVO(p.activityId);a.bet_tip1.text=r.des}a.bet_activity_timeTF.text=FormatString.format(Language.ins.bet_activity_timeTF,s,l);var c=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin;a.bet_voucher_tf.text=FormatString.format(Language.ins.bet_voucher_tf,c),a.bet_send_reward_tip0.text=FormatString.format(Language.ins.bet_send_reward_tip0),a.bet_top_ui_1_tf0.text=Language.ins.bet_top_ui_1_tf0,a.bet_top_ui_1_tf1.text=Language.ins.bet_top_ui_1_tf1,a.bet_top_ui_1_tf2.text=Language.ins.bet_top_ui_1_tf2,a.bet_top_ui_1_tf3.text=Language.ins.bet_top_ui_1_tf3,a.showTar1(),a.showTar2()}if(n&&n.guess)for(var u=0;u<o.length;u++)if(i=o[u],n.guess.actRelationId==i.relation){var m=new Date(i.lasttime);a.contdownT=Math.max(0,Math.floor((m.getTime()-Global.systemTimeNum)/1e3));break}var g=GlobalAllProxy.getInstance().gameProxy.bet_data[2];if(g&&0==g.length){var _=GlobalAllProxy.getInstance().gameProxy;if(n&&n.guess){var h=Math.floor(Global.systemTimeNum/1e3);h>=n.guess.startTime&&h<n.guess.endTime&&(_.NetOperatingActivityChampionGuessInit(),_.NetOperatingActivityGuessInit())}}else a.changeShow()},t.prototype.timerHandler=function(e){var t=this;if(t.contdownT>0){var a=egret.TimeUtils.SecToHSC(t.contdownT);t.bet_contdown_tf.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.bet_contdown_tf,a)),t.contdownT--}else t.countdownTimer.running&&(t.countdownTimer.stop(),t.countdownTimer.reset()),t.bet_contdown_tf.textFlow=utils.GameComUtil.getHtmlText(Language.ins.bet_contdown_stop_tf)},t.prototype.showTar1=function(){var e=this,t=Language.ins.bet_tab_group1;e.tabGroup1.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup1.setLayoutInfo(a),e.tabGroup1.setListData(t),e.tabGroup1.setView(e.tabGroup1)},t.prototype.changeTipMC=function(){var e=this,t=GlobalEnum,a=GlobalAllProxy.getInstance().gameProxy,i=e.isRedPoint&&a.getTipForArr(null,[t.tipmc_bet]);e.showRedPoint1(i),e.showRedPoint2(i)},t.prototype.showRedPoint1=function(e){var t=this,a=e,i=t.tabGroup1.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.tabGroup1.kbuttontab1.addChild(t[n]),t[n].visible=a)},t.prototype.showRedPoint2=function(e){var t=this,a=e,i=t.tabGroup2.kbuttontab1,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.tabGroup2.kbuttontab1.addChild(t[n]),t[n].visible=a)},t.prototype.showTar2=function(){var e=this,t=Language.ins.bet_tab_group2;e.tabGroup2.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup2.setButtonWidth(280),e.tabGroup2.setLayoutInfo(a),e.tabGroup2.setListData(t),e.tabGroup2.setView(e.tabGroup2)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.itemTouchTapFun,e),e.tabGroup1.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick1,e),e.tabGroup2.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick2,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.addMessage(game.GameCommands.Bet_OperatingActivity_Guess,e.eventChange),e.addMessage(game.GameCommands.Bet_Activity_GuessInit,e.eventChange),e.countdownTimer.addEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.itemTouchTapFun,e),e.tabGroup1.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick1,e),e.tabGroup2.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick2,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.removeMessage(game.GameCommands.Bet_Activity_GuessInit,e.eventChange),e.removeMessage(game.GameCommands.Bet_OperatingActivity_Guess,e.eventChange),e.countdownTimer.removeEventListener(egret.TimerEvent.TIMER,e.timerHandler,e)},t.prototype.listchangeA=function(e){var t=this;t.top_ui_0_datalist.selectedItem;t.top_ui_0_datalist.selectedIndex=-1},t.prototype.listchangeB=function(e){var t=this;t.top_ui_1_datalist.selectedItem;t.top_ui_0_datalist.selectedIndex=-1},t.prototype.itemTapHandler0=function(e){e.currentTarget},t.prototype.itemTapHandler1=function(e){e.currentTarget},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.MY_INFO_CHANGW:case game.GameCommands.Bet_OperatingActivity_Guess:case game.GameCommands.Bet_Activity_GuessInit:this.changeShow()}},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onBarItemClick1=function(e){var t=this;t._choosemode1=e.itemIndex,t.top_ui_0.visible=!1,t.top_ui_1.visible=!1,t["top_ui_"+e.itemIndex].visible=!0,t.changeShow()},t.prototype.onBarItemClick2=function(e){var t=this;t._choosemode2=e.itemIndex,1==t._choosemode2&&(t.isRedPoint=!1,GlobalAllProxy.getInstance().gameProxy.isShowBetRedPoint=t.isRedPoint,EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE)),t.top_ui_1_0.visible=!1,t.top_ui_1_1.visible=!1,t["top_ui_1_"+e.itemIndex].visible=!0,t.changeShow()},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closeBtn:t.close();break;case t.rechargeBtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.betShopBtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_bet_shop]);break;case t.betVoucher:var i=new game.ComItemGroupVo(GlobalEnum.itemid_betB,1);utils.GameComUtil.ShowTip(t.betVoucher,GlobalEnum.itemid_betB,game.TipSimpleObject.type_item,i)}},t.prototype.itemTouchTapFun=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player||r==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist.selectedIndex=-1}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=[];if(0==t._choosemode1){var i,e=[],n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush,o=GlobalConfig.betChampionInit_dataArr;if(n&&n.guess)for(var r=0;r<o.length;r++)i=o[r],n.guess.actRelationId==i.relation&&e.push(i);t.showData_top_ui_0_datalist(e,!1)}else if(0==t._choosemode2){GlobalAllProxy.getInstance().gameProxy.bet_data[2];a=GlobalAllProxy.getInstance().gameProxy.bet_data[2];for(var s in a){var l=a[s];l.sort(game.SBetMatchResultVo.sortOnLimit)}t.showData_top_ui_1_datalist(a,!1)}else a=GlobalAllProxy.getInstance().gameProxy.bet_data[3],t.showData_top_ui_2_datalist(a,!1);var p=GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin;t.bet_voucher_tf.text=FormatString.format(Language.ins.bet_voucher_tf,p),t.timerHandler(null),t.contdownT>0&&!t.countdownTimer.running&&t.countdownTimer.start(),t.changeTipMC()},t.prototype.showData_top_ui_0_datalist=function(e,t){var a=this,i=e,n=a.top_ui_0_datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BetChampionRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.top_ui_0_Scroller;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData_top_ui_2_datalist=function(e,t){var a=this,i=e,n=a.top_ui_2_datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BetResultRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.top_ui_2_Scroller;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData_top_ui_1_datalist=function(e,t){var a=this,i=e,n=a.top_ui_1_datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BetMatchListRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.top_ui_1_Scroller;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.onHide=function(t){var a=this;a.countdownTimer.running&&(a.countdownTimer.stop(),a.countdownTimer.reset()),e.prototype.onHide.call(this,t),a.removeEvent(),utils.GameComUtil.removeListData(a.top_ui_0_datalist),utils.GameComUtil.removeListData(a.top_ui_1_datalist),utils.GameComUtil.removeListData(a.top_ui_2_datalist)},t}(e.VM);e.BetView=t,__reflect(t.prototype,"vm.BetView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildClubInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.m_buildarr=[stafftype.type_player,stafftype.type_scout,stafftype.type_tactical,stafftype.type_tech],a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_club,a.maxtiptxt.text=Language.ins.build_tip20,a.starmaxG.visible=!1,a.tiptxt1.text=Language.ins.build_tip35,a.tiptxt0.text=Language.ins.build_tip36,a.btiptxt0.text=Language.ins.build_tip37,a.btiptxt1.text=Language.ins.build_tip38,a.btiptxt2.text=Language.ins.build_tip52,a.exchangebtn.label=Language.ins.build_tip47),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.childtype;if(!isNaN(t)){var a=e.m_buildarr,i=a[t];e.m_chosetype=i}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist1),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=stafftype.type_player,i=GlobalAllProxy.getInstance().playerProxy.clubData,n=(GlobalAllProxy.getInstance().gameProxy,GlobalAllProxy.getInstance().friendProxy.friendList),o=!1;n&&n.length&&(o=!0);var r=[];if(i&&a){var s,l,p=i.grade,c=p+1,u=GlobalConfig.getClubgradeVO(p),m=GlobalConfig.getClubgradeVO(c);s=i.getDataForType(a);var g,_=game.SClubResponseVO.getTimeOutPut(a,s.blevel,1,!0,!0,p);if(t.starmaxG.visible=!1,t.datalist.visible=!1,t.upbtn.visible=!1,m){t.datalist.visible=!0,t.upbtn.visible=!0,l=i.getDataForType(a,c),t.buptxt0.text=m.allstaff,g=game.SClubResponseVO.getTimeOutPut(a,l.blevel,1,!0,!0,c),t.buptxt1.text=FormatString.format(Language.ins.club_time_str,m.getBaseNum()),t.buptxt2.text=FormatString.format(Language.ins.club_time_str,m.getRateNum()),t.buildimg1.source=ResName.getBuildImg(a,m.clubgrade,!1,!1),t.logoimg1.source=ResName.club_grade_arr[m.clubgrade-1];var h=m.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(t.titleBZG1,ResName.fnt_title,h,ResName.spa_title_a);var d,y=m.unlockplayer.split(",");for(var v in y)d=new ScoutUnlockRenderVO,d.vo=GlobalConfig.getPlayerPorpertyVO(+y[v]),r.push(d)}else{t.starmaxG.visible=!0,t.buptxt0.text=Language.ins.game_remax,t.buptxt1.text=Language.ins.game_remax,t.buptxt2.text=Language.ins.game_remax,t.buildimg1.source=ResName.getBuildImg(a,u.clubgrade,!1,!1),t.logoimg1.source=ResName.club_grade_arr[u.clubgrade-1];var h=u.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(t.titleBZG1,ResName.fnt_title,h,ResName.spa_title_a);var d,y=u.unlockplayer.split(",");for(var v in y)d=new ScoutUnlockRenderVO,d.vo=GlobalConfig.getPlayerPorpertyVO(+y[v]),r.push(d)}t.bnumtxt0.text=u.allstaff,t.bnumtxt1.text=FormatString.format(Language.ins.club_time_str,u.getBaseNum()),t.bnumtxt2.text=FormatString.format(Language.ins.club_time_str,u.getRateNum());var f=ResName.getMinItemIcon(_.itemid);t.boutimg1.source=f,t.boutimg2.source=f,t.panel_bg.titlename.text=FormatString.format(Language.ins.title_build_upgrade,s.bname),t.upbtn.label=Language.ins.game_upgrade_s}var b=GlobalAllProxy.getInstance().playerProxy.clubData,u=GlobalConfig.getClubgradeVO(b.grade),G=[];G=utils.GameComUtil.getItemVoArr(u.cost);var x=new game.ComItemGroupVo(GlobalEnum.itemid_clearancecondition);x.addnum2=u.jump,G.push(x),t.setCostListA(G);var C=CostItemRender.getItemOkArr(G);t.upbtn.enabled=C?!0:!1,t.showData(r,e),t.buildimg0.source=ResName.getBuildImg(a,b.grade,!1,!1),t.logoimg0.source=ResName.club_grade_arr[b.grade-1];var T=u.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(t.titleBZG0,ResName.fnt_title,T,ResName.spa_title_a)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CLUBE_GRADE_UP,e.eventChange),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CLUBE_GRADE_UP,e.eventChange),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CLUBE_GRADE_UP:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.upbtn:t.goupwpanel();break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heromarket])}},t.prototype.godatapanel=function(){var e=this,t=e.m_chosetype;if(!isNaN(t))switch(e.close(),t){case stafftype.type_player:break;case stafftype.type_tactical:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamehero]);break;case stafftype.type_tech:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tech]);break;case stafftype.type_scout:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout])}},t.prototype.goupwpanel=function(){GlobalAllProxy.getInstance().playerProxy.NetClubPromotion()},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist1;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ScoutUnlockRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.listchangeA=function(e){var t=this,a=t.datalist1.selectedItem;if(a instanceof ScoutUnlockRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;a.islock?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0)):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0)),t.datalist1.selectedIndex=-1}},t}(e.VM);e.BuildClubInfoView=t,__reflect(t.prototype,"vm.BuildClubInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.BuildFriendSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.buildscrol.bounces=!1,a.initAddEvent(),a.readPanelVO(),t&&(a.m_buildarr=[stafftype.type_player,stafftype.type_scout,stafftype.type_tactical,stafftype.type_tech],a.bouttxt0.text=Language.ins.build_tip32,a.bouttxt1.text=Language.ins.build_tip32,a.bouttxt2.text=Language.ins.build_tip32,a.bouttxt3.text=Language.ins.build_tip32,a.tiptxt0.text=Language.ins.build_tip40,a.tiptxt1.text=Language.ins.build_tip41,a.tiptxt2.text=Language.ins.build_tip42,a.tiptxt3.text=Language.ins.build_tip43,a.upbtn.label=Language.ins.btn_admission),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_build),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().playerProxy.NetInitFriend(),a.changeShow(),a.showBuildInfo(0,!1),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&(e.m_choosefid=e.panelVo.panelobj)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),a.m_choosefid=null,GlobalAllProxy.getInstance().playerProxy.friendBuilddata=null,utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.friendInvitData;t.m_builddata=GlobalAllProxy.getInstance().playerProxy.friendBuilddata;var i=t.m_builddata;if(a){var n=a.friendsDetails;if(i&&(t.m_choosefid=i.fid),t.m_choosefid||(t.m_choosefid=a.getonefid()),i&&parseInt(i.fid)==parseInt(t.m_choosefid)){t.nametxt.text=i.name,t.lvtxt.text=i.level,t.zhanlitxt.text=i.fighting,t.clublogoimg.source=ResName.club_sm_grade_arr[i.grade-1];var o=GlobalConfig.getClubgradeVO(i.grade);t.jitxt.text=o.clubname,t.logoimg.setLogoUrl(i.logo);for(var r,s=t.m_buildarr,l=0,p=s.length;p>l;l++)r=s[l],t.showStaff(r,l)}else t.m_choosefid&&t.visitFriend(t.m_choosefid);n.sort(utils.GameUtil.sortMatckFun(["level","fid"],[1,0]));var c,u=-1;if(t.m_choosefid)for(var m=0,g=n.length;g>m;m++)if(c=n[m],c.fid==t.m_choosefid){u=m;break}t.datalist.selectedIndex=u,t.showData(n,!1)}},t.prototype.showStaff=function(e,t){var a=this,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n=a.m_builddata,o=i.getDataForType(e);a["blogoG"+t].visible=!1;var r=n.getStationPlayer(e),s=n.getEnterBuildTime(r);if(1==e){var l=GlobalConfig.getClubgradeVO(n.grade);a["bnametxt"+t].text=l.clubname+Language.ins.title_club}else{var p=FormatString.format(Language.ins.tactics_tip_12,o.bname,r.level);a["bnametxt"+t].text=p}a["boutG"+t].visible=!1,a["blogoimg"+t].visible=!1,r&&s?(a["blogoimg"+t].setLogoUrl(r.logo),a["blogoimg"+t].visible=!0,a["blogoG"+t].visible=!0):(a["boutG"+t].visible=!0,a["blogoG"+t].visible=!1);var c=ResName.getBuildComVo(e,o.blevel);c&&(a["showawardG"+t].y=a["bimg"+t].y+c.shew)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SEE_FRIEND_BUILD,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.FRIEND_INVITE_CHANGE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.scrollchange=function(e){this.buildscrol.touchChildren=!1},t.prototype.scrollEndFun=function(e){this.buildscrol.touchChildren=!0},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SEE_FRIEND_BUILD,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.FRIEND_INVITE_CHANGE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.visitFriend=function(e){GlobalAllProxy.getInstance().playerProxy.NetSeeFriendsClub(e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;a&&a.fid&&t.visitFriend(a.fid)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SEE_FRIEND_BUILD:a.changeShow();break;case game.GameCommands.FRIEND_INVITE_CHANGE:a.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.m_toppanel.closebtn:t.close();break;case t.clubinfoG:t.m_builddata&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],this.m_builddata.fid);break;case t.bimg0:case t.boutG0:case t.blogoG0:return void t.showBuildInfo(0,!0);case t.bimg1:case t.boutG1:case t.blogoG1:return void t.showBuildInfo(1,!0);case t.bimg2:case t.boutG2:case t.blogoG2:return void t.showBuildInfo(2,!0);case t.bimg3:case t.boutG3:case t.blogoG3:return void t.showBuildInfo(3,!0);case t.upbtn:var i=t.m_builddata;t.m_chooseType&&i&&GlobalAllProxy.getInstance().playerProxy.NetFriendsBuild(i.fid,t.m_chooseType)}t.showBuildInfo(0,!1)},t.prototype.showBuildInfo=function(e,t){var a=this;if(t){var i=a.m_builddata,n=a.m_buildarr,o=n[e];a.m_chooseType=o;var r=GlobalAllProxy.getInstance().playerProxy.clubData;if(r){var s=i.getStationPlayer(o),l=i.getEnterBuildTime(s);if(s){var p=r.getDataForType(o),c=new game.ComItemGroupVo(p.bitemid,s.income);a.minicon.setData(c,!0,!0)}if(s&&l)a.chonametxt.visible=!0,a.logoimg0.visible=!0,a.upbtn.visible=!1,a.typeimg.source="tab_jy_h5",a.chonumtxt.text=utils.GameComUtil.getTimeNum(l),a.chonametxt.textFlow=utils.GameComUtil.getHtmlText(s.name+" "+FormatString.format(Language.ins.game_col,ColorUtil.tip_blue,Language.ins.game_lv_s+s.level)),a.logoimg0.setLogoUrl(s.logo);else{a.typeimg.source="tab_jy_c9",a.chonametxt.visible=!1,a.logoimg0.visible=!1,a.upbtn.visible=!0;var u=ParamLoader.instance.ServerFriendEnter;a.chonumtxt.text=utils.GameComUtil.getTimeNum(u)}}a.choG.visible=!0}else a.choG.visible=!1},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BuildFriendRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.BuildFriendView=t,__reflect(t.prototype,"vm.BuildFriendView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isupfriend=!1,t.percentWidth=t.percentHeight=100,t
}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.m_buildarr=[stafftype.type_player,stafftype.type_scout,stafftype.type_tactical,stafftype.type_tech],a.panel_bg.setImgBg(""),a.panel_bg.titlename.text="",a.tiptxt0.text=Language.ins.build_tip44,a.tiptxt4.text=Language.ins.build_tip45,a.tiptxt5.text=Language.ins.build_tip46,a.tiptxt6.text=Language.ins.build_tip48,a.chotip0.text=Language.ins.build_tip49,a.chotip1.text=Language.ins.build_tip50,a.chotip2.text=Language.ins.build_tip51,a.chotip3.text=Language.ins.build_tip52,a.chotip4.text=Language.ins.build_tip53,a.chotip5.text=Language.ins.build_tip54,a.exchangebtn.label=Language.ins.build_tip47),a.choG.visible=!1,a.readPanelVO(),a.changeShow(!0),a.showBuildInfo(0,!1)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.childtype;if(!isNaN(t)){var a=e.m_buildarr,i=a[t];e.m_chosetype=i}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist1)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=t.m_chosetype,i=GlobalAllProxy.getInstance().playerProxy.clubData,n=GlobalAllProxy.getInstance().gameProxy;t.showTipMcClubGrade(!1);var o=GlobalAllProxy.getInstance().friendProxy.friendList,r=!1;o&&o.length&&(r=!0),utils.GameComUtil.setVisibleHitPanel(t.clubinfoG1,t.comG,!1),t.clubinfoG0.visible=!1,t.addlvtxt.text=FormatString.format(Language.ins.build_tip27,0);var s=GlobalAllProxy.getInstance().playerProxy.coachdata;if(t.addcoachlvtxt.text=FormatString.format(Language.ins.build_tip27,0),s){var l;switch(a){case stafftype.type_player:l=coach_buff.club_coin;break;case stafftype.type_tactical:l=coach_buff.tactical_coin;break;case stafftype.type_tech:l=coach_buff.tech_coin;break;case stafftype.type_scout:l=coach_buff.scout_coin}var p=s.getAllBuffNum(l),c=.01*p;t.addcoachlvtxt.text=FormatString.format(Language.ins.build_tip27,c)}if(t.isupfriend=!1,i&&a){var u;u=i.getDataForType(a),t.numtxt0.text=u.bstaff+"/"+u.bmaxstaff;var m=game.SClubResponseVO.getTimeOutPut(a,u.blevel,u.bstaff),g=m.count.toFixed(1);t.numtxt1.text=FormatString.format(Language.ins.club_time_str,g),t.outimg.source=ResName.getMinItemIcon(m.itemid);var _=i.getSelfBuildPlayer(a);t.finfoG.visible=!1,t.yinfoG.visible=!1;var h=i.getEnterBuildTime(_);t.buildimg.source=ResName.getBuildImg(a,u.blevel,!0);var d,y,v="";switch(a){case stafftype.type_player:v="tab_jy_e7",d=174,y=95;break;case stafftype.type_tactical:v="tab_jy_e5",d=199,y=101;break;case stafftype.type_tech:v="tab_jy_e6",d=176,y=96;break;case stafftype.type_scout:v="tab_jy_e4",d=189,y=57}if(t.bgimg2.source=v,t.buildimg.x=d,t.buildimg.y=y,_&&h){t.finfoG.visible=!0,t.logoimg0.setLogoUrl(_.logo),t.ftimetxt1.text=FormatString.format(Language.ins.build_tip2,utils.GameComUtil.getTimeNum(h)),t.fnametxt.text=_.name;var f=Math.floor(.01*ParamLoader.instance.ServerFriendEnterAdd);t.addlvtxt.text=FormatString.format(Language.ins.build_tip27,f),t.isupfriend=!0}else t.yinfoG.visible=!0;var b=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,G=GlobalConfig.getVipVO(b),x=Math.floor(.01*G.getVipBuildAddLv(a));switch(t.addviplvtxt.text=x+"%",t.panel_bg.titlename.text=u.bname+" "+Language.ins.game_lv_s+u.blevel,utils.GameComUtil.setVisibleHitPanel(t.gobtnG,t.btnG,!1,0),t.upbtn.label=Language.ins.game_uplv_s,t.tipinfoG2.visible=!1,t.tipinfoG3.visible=!1,a){case stafftype.type_player:t.upbtn.label=Language.ins.game_upgrade_s,t.tiptxt2.text=Language.ins.build_tip9,t.tiptxt1.text=Language.ins.build_tip18,t.tiptxt3.text=Language.ins.build_tip10,t.showTipMcClubGrade(n.getTipForArr(null,[GlobalEnum.tipmc_clubgrade]));var C=i.grade+1,T=GlobalConfig.getClubgradeVO(C),P=GlobalConfig.getClubgradeVO(i.grade);if(T){var A,w=[],k=T.unlockplayer.split(",");for(var I in k)A=new ScoutUnlockRenderVO,A.vo=GlobalConfig.getPlayerPorpertyVO(+k[I]),w.push(A);t.showData(w,e),utils.GameComUtil.setVisibleHitPanel(t.clubinfoG1,t.comG,!0)}t.buildimg.source=ResName.getBuildImg(stafftype.type_player,P.clubgrade,!1,!1),t.logoimg.source=ResName.club_grade_arr[P.clubgrade-1];var S=P.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(t.titleBZG,ResName.fnt_title,S,ResName.spa_title_a),t.clubinfoG0.visible=!0;break;case stafftype.type_tactical:utils.GameComUtil.setVisibleHitPanel(t.gobtnG,t.btnG,!0,0),t.gobtn.label=Language.ins.build_tip8,t.tiptxt2.text=Language.ins.build_tip12,t.tiptxt3.text=Language.ins.build_tip13,t.tiptxt1.text=Language.ins.build_tip15;var E=GlobalConfig.getTacticsCenterVO(u.blevel);E&&(t.numtxt2.text=E.flvlimit,t.numtxt3.text=E.tlvlimit),t.showTipMcClubGrade(n.getTipForArr(null,[GlobalEnum.tipmc_builduptactics]));break;case stafftype.type_tech:utils.GameComUtil.setVisibleHitPanel(t.gobtnG,t.btnG,!0,0),t.gobtn.label=Language.ins.build_tip6,t.tiptxt2.text=Language.ins.build_tip11,t.tiptxt1.text=Language.ins.build_tip16;var R=GlobalConfig.getTechCenterVO(u.blevel);R&&(t.numtxt2.text=R.maxclass),t.showTipMcClubGrade(n.getTipForArr(null,[GlobalEnum.tipmc_builduptech]));break;case stafftype.type_scout:utils.GameComUtil.setVisibleHitPanel(t.gobtnG,t.btnG,!0,0),t.gobtn.label=Language.ins.build_tip7,t.tiptxt1.text=Language.ins.build_tip17,t.showTipMcClubGrade(n.getTipForArr(null,[GlobalEnum.tipmc_buildupscout]))}}},t.prototype.showBuildInfo=function(e,t){var a=this;if(t){var i=a.m_chosetype,n=GlobalAllProxy.getInstance().playerProxy.clubData;if(n&&i){var o=n.getDataForType(i);a.chonum2.text=o.bstaff;var r=game.SClubResponseVO.getTimeOutPut(i,o.blevel,o.bstaff),s=ResName.getMinItemIcon(r.itemid);a.choicon0.source=s,a.choicon1.source=s,a.choicon2.source=s;var l=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,p=GlobalConfig.getVipVO(l),c=Math.floor(.01*p.getVipBuildAddLv(i));a.chonum4.text=c+"%";var u=Math.floor(.01*ParamLoader.instance.ServerFriendEnterAdd);a.isupfriend?a.chonum5.text=u+"%":a.chonum5.text="0%";var m;m=i==stafftype.type_player?n.getbuildDataForType(i,n.grade):n.getbuildDataForType(i,o.blevel),a.chonum0.text=FormatString.format(Language.ins.club_time_str,m.getBaseNum());var g=m.getRateNum(),_=o.bstaff*g;a.chonum1.text=FormatString.format(Language.ins.club_time_str,m.getRateNum()),a.chonum3.text=FormatString.format(Language.ins.club_time_str,_)}a.choG.visible=!0}else a.choG.visible=!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist1.selectedItem;if(a instanceof ScoutUnlockRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;a.islock?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0)):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0)),t.datalist1.selectedIndex=-1}},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CLUBE_GRADE_UP:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.upbtn:t.goupwpanel();break;case t.gobtn:t.godatapanel();break;case t.yaoqingbtn:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_invite]);break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heromarket]);break;case t.lookbtn0:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_staff]);break;case t.lookbtn1:return void t.showBuildInfo(0,!0)}t.showBuildInfo(0,!1)},t.prototype.godatapanel=function(){var e=this,t=e.m_chosetype;if(!isNaN(t))switch(e.close(),t){case stafftype.type_player:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_info]);break;case stafftype.type_tactical:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamehero]);break;case stafftype.type_tech:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tech]);break;case stafftype.type_scout:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout])}},t.prototype.goupwpanel=function(){var e=this,t=e.m_chosetype;if(!isNaN(t))switch(e.close(),t){case stafftype.type_player:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_info]);break;case stafftype.type_tactical:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_uplevel,t]);break;case stafftype.type_tech:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_uplevel,t]);break;case stafftype.type_scout:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_uplevel,t])}},t.prototype.showTipMcClubGrade=function(e){var t=this,a=e,i=t.upbtn,n="tipmcupbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.upbtnG.addChild(t[n]),t[n].visible=a)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist1;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ScoutUnlockRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.BuildInfoView=t,__reflect(t.prototype,"vm.BuildInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildInviteSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_build_invite,a.tiptxt0.text=Language.ins.build_tip55,a.tiptxt1.text=Language.ins.build_tip58,a.invitebtn.label=Language.ins.build_tip56,a.onekeyinvitebtn.label=Language.ins.build_tip57),a.datalist.allowMultipleSelection=!0,this.m_inviteids=[],a.datalist.selectedIndices=[],a.changeShow(),GlobalAllProxy.getInstance().playerProxy.NetInviteFriend()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.inviteObject;t.noneG.visible=!1,t.datascrollA.visible=!1,a&&a.length?(a.sort(utils.GameUtil.sortMatckFun(["lastLoginTime"],[1])),t.showData(a,!1),t.datascrollA.visible=!0):t.noneG.visible=!0},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INVITE_LIST,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){for(var t,a=this,i=a.datalist.selectedItems,n=(a.datalist.selectedIndex,a.datalist.selectedIndices,i.length),o=[],r=0;n>r;r++)t=i[r],t&&o.push(t.fid);this.m_inviteids=o},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INVITE_LIST,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.MY_INVITE_LIST:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.invitebtn:this.m_inviteids&&this.m_inviteids.length?(GlobalAllProxy.getInstance().playerProxy.NetSendInviteFriend(t.m_inviteids),t.close()):FLOAT.NShowPutong([Language.ins.build_tip21]);break;case t.onekeyinvitebtn:var a=GlobalAllProxy.getInstance().playerProxy.inviteObject;if(a&&a.length){FLOAT.NShowPutong([Language.ins.build_tip21]),t.close();for(var i,n=[],o=0,r=a.length;r>o;o++)i=a[o],n.push(i.fid);GlobalAllProxy.getInstance().playerProxy.NetSendInviteFriend(n)}else FLOAT.NShowPutong([Language.ins.build_tip22])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BuildInviteRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.BuildInviteView=t,__reflect(t.prototype,"vm.BuildInviteView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_buildarr=[stafftype.type_player,stafftype.type_scout,stafftype.type_tactical,stafftype.type_tech],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.BuildManageSkinDR,t=ResName.getDragonFastArr(ResName.mc_flash),a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a)for(var i,n,o=this,r=o.m_buildarr,s=0,l=r.length;l>s;s++)i=r[s],n=a.getDataForType(i),n&&t.push(ResName.getBuildImg(i,n.blevel,!0));e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.buildscrol.bounces=!1,a.initAddEvent(),a.initScene(),a.readPanelVO(),t&&(a.tiptxt0.text=Language.ins.build_tip59,a.tiptxt1.text=Language.ins.build_tip60,a.tiptxt2.text=Language.ins.build_tip63,a.tiptxt3.text=Language.ins.build_tip64,a.ftimetip0.text=Language.ins.build_tip61,a.ftimetip1.text=Language.ins.build_tip61,a.ftimetip2.text=Language.ins.build_tip61,a.getbtn0.label=Language.ins.game_canling,a.getbtn1.label=Language.ins.game_canling,a.getbtn2.label=Language.ins.game_canling,a.foutgobtn0.label=Language.ins.build_tip62,a.foutgobtn1.label=Language.ins.build_tip62,a.foutgobtn2.label=Language.ins.build_tip62,a.addfriendBtn.label=Language.ins.build_tip65),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_build),a.addChild(a.m_toppanel),a.changeShow(),GlobalAllProxy.getInstance().playerProxy.inviteData||GlobalAllProxy.getInstance().playerProxy.NetFriendsInvite(),a.showThing(),a.resizefun()},t.prototype.initScene=function(){var e=this;e.showawardG0.visible=!1,e.showawardG1.visible=!1,e.showawardG2.visible=!1,e.showawardG3.visible=!1},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),egret.clearTimeout(a.m_timeN),egret.Tween.removeTweens(a.showawardG0),egret.Tween.removeTweens(a.showawardG1),egret.Tween.removeTweens(a.showawardG2),egret.Tween.removeTweens(a.showawardG3),utils.GameComUtil.removeAnimoSelf(a.mc_flash0),utils.GameComUtil.removeAnimoSelf(a.mc_flash1),utils.GameComUtil.removeAnimoSelf(a.mc_flash2),utils.GameComUtil.removeAnimoSelf(a.mc_flash3),egret.Tween.removeTweens(a.planeimg),egret.Tween.removeTweens(a.cloudimg1),egret.Tween.removeTweens(a.cloudimg0)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){for(var i,n=t.m_buildarr,o=0,r=n.length;r>o;o++)i=n[o],t.showStaff(i,o);var s=a.player_num+a.tactical_num+a.tech_num+a.scout_num,l=a.getAllStaffNum()-s;t.staffchangeGtxt.text=Language.ins.build_tip14,t.staffTipG.visible=!1,l&&l>0&&(t.staffnumtxt.text=l,t.staffTipG.visible=!0),t.showInviteData(),t.reshTime();for(var p,c,u=a.build,m=0;3>m;m++)p=u[m],p?(c=a.getEnterBuildTime(p),c?t.showGMc(t["finfoG"+m],!1):t.showGMc(t["finfoG"+m],!0)):t.showGMc(t["finfoG"+m],!1)}t.changeTipMC();var g=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_build_info,stafftype.type_tech]);g?(t.lockimg.visible=!1,utils.GameUtil.setColorGrey(t.bimg3,!1)):(t.bnametxt3.text=""+Language.ins.title_tech,t.lockimg.visible=!0,utils.GameUtil.setColorGrey(t.bimg3,!0))},t.prototype.showStaff=function(e,t){var a,i,n=this,o=GlobalAllProxy.getInstance().playerProxy.clubData;if(o){a=o.getAllStaffNum();var r,s=o.getDataForType(e);if(r=game.SClubResponseVO.getTimeOutPut(e,s.blevel,s.bstaff),0==t){var l=GlobalConfig.getClubgradeVO(o.grade);n["bnametxt"+t].text=l.clubname+Language.ins.game_club_s}else n["bnametxt"+t].text=s.bname+" Lv."+s.blevel;n["blogoimg"+t].visible=!1;var p=(Math.floor(r.count),r.itemid),c=o.getSelfBuildPlayer(e),u=o.getEnterBuildTime(c);c&&u?(n["blogoimg"+t].setLogoUrl(c.logo),n["blogoimg"+t].visible=!0,n["bkongG"+t].source="tab_jy_l6"):n["bkongG"+t].source="tab_jy_l3",n["bimg"+t].source=ResName.getBuildImg(e,s.blevel,!0),i=ResName.getBuildComVo(e,s.blevel),i&&(n["showawardG"+t].y=n["bimg"+t].y+i.shew,n["bawardmcG"+t].y=n["showawardG"+t].y-40),n["boutimg"+t].source=ResName.getItemIcon(p)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_CLUB_DATA,e.eventChange),e.addMessage(game.GameCommands.SET_STAFF_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TECH_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.CLUBE_GRADE_UP,e.eventChange),e.addMessage(game.GameCommands.GET_TACTICAL_CENTER_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.SCOUT_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.FRIEND_INVITE_CHANGE,e.eventChange),e.addMessage(game.GameCommands.BUILD_GET_AWARD,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.FRIEND_INVITE_LIST,e.eventChange),e.addMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.scrollchange=function(e){this.buildscrol.touchChildren=!1},t.prototype.scrollEndFun=function(e){this.buildscrol.touchChildren=!0},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_CLUB_DATA,e.eventChange),e.removeMessage(game.GameCommands.SET_STAFF_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TECH_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.CLUBE_GRADE_UP,e.eventChange),e.removeMessage(game.GameCommands.GET_TACTICAL_CENTER_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.FRIEND_INVITE_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.BUILD_GET_AWARD,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.FRIEND_INVITE_LIST,e.eventChange),e.removeMessage(game.GameCommands.ACHIEVE_DATA_CHANGE,e.eventChange),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_CLUB_DATA:a.changeShow();break;case game.GameCommands.FRIEND_INVITE_CHANGE:a.changeShow();break;case game.GameCommands.SET_STAFF_CHANGE:a.changeShow();break;case game.GameCommands.TECH_DATA_CHANGE:case game.GameCommands.CLUBE_GRADE_UP:case game.GameCommands.SCOUT_DATA_CHANGE:case game.GameCommands.GET_TACTICAL_CENTER_UPGRADE:case game.GameCommands.ACHIEVE_DATA_CHANGE:a.changeShow();break;case game.GameCommands.BUILD_GET_AWARD:a.changeTipMC(),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_buildgetitem);break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.FRIEND_INVITE_LIST:var i=GlobalAllProxy.getInstance().playerProxy.inviteData;i&&i.length>0?a.newsbtntipmc.visible=!0:a.newsbtntipmc.visible=!1;break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.reshTime=function(){for(var e,t=this,a=t.m_buildarr,i=0,n=a.length;n>i;i++)e=a[i],t.timeAward(e,i);t.showInviteData(),egret.clearTimeout(t.m_timeN),t.m_timeN=egret.setTimeout(t.reshTime,t,1e3)},t.prototype.timeAward=function(e,t){var a,i,n=this,o=0,r=ParamLoader.instance,s=n.m_buildarr,l=s.indexOf(e);switch(e){case stafftype.type_player:var p=GlobalAllProxy.getInstance().playerProxy.clubData;p&&(a=ParamLoader.instance.ServercClubMaxTime,o=p.getTimeOutNum(a),i=Math.floor(.001*(Global.systemTimeNum-parseFloat(p.start_time))),i>=r.ServerClubReceive&&o?n.showawardmc(l,!0):n.showawardmc(l,!1));break;case stafftype.type_tactical:var c=GlobalAllProxy.getInstance().playerProxy.tacticsData;c&&(a=ParamLoader.instance.ServercTacMaxTime,o=c.getTimeOutNum(a),i=Math.floor(.001*(Global.systemTimeNum-parseFloat(c.count_down))),i>=r.ServerTacticsReceive&&o?n.showawardmc(l,!0):n.showawardmc(l,!1));break;case stafftype.type_tech:var u=GlobalAllProxy.getInstance().playerProxy.scienceData;u&&(a=ParamLoader.instance.ServercResMaxTime,o=u.getTimeOutNum(a),i=Math.floor(.001*(Global.systemTimeNum-parseFloat(u.start_time))),i>=r.ServerLabReceive&&o?n.showawardmc(l,!0):n.showawardmc(l,!1));break;case stafftype.type_scout:var m=GlobalAllProxy.getInstance().playerProxy.scoutData;m&&(a=ParamLoader.instance.ServercScoutMaxTime,o=m.getTimeOutNum(a),i=Math.floor(.001*(Global.systemTimeNum-parseFloat(m.start_time))),i>=r.ServerScoutReceive&&o?n.showawardmc(l,!0):n.showawardmc(l,!1))}a?n["boutG"+t].visible=!0:n["boutG"+t].visible=!1},t.prototype.showawardmc=function(e,t){var a=this,i=a["showawardG"+e],n=i.visible,o=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_tech]);o||3!=e||(t=!1),n!=t&&(a.showawardFullMc(e,t),t?(i.rotation=0,i.visible=!0,egret.Tween.get(i,{loop:!0}).to({rotation:5},100).to({rotation:-5},100).to({rotation:5},100).to({rotation:-5},100).to({rotation:5},100).to({rotation:-5},100).to({rotation:0},50).wait(2e3)):(egret.Tween.removeTweens(i),i.visible=!1))},t.prototype.showawardFullMc=function(e,t){var a=this,i="mc_flash"+e,n=utils.GameComUtil.getArmature(ResName.mc_flash,i,a);n&&(t?n.animation.isPlaying||(n.animation.play("effect"),a["bawardmcG"+e].addChild(n)):utils.GameComUtil.removeAnimoSelf(n))},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.staffchangeG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_staff]);break;case t.newsbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_news]);break;case t.boutG0:t.receiveBuild(0);break;case t.boutG1:t.receiveBuild(1);break;case t.boutG2:t.receiveBuild(2);break;case t.boutG3:t.receiveBuild(3);break;case t.blogoG0:t.addbuildbtn(0);break;case t.blogoG1:t.addbuildbtn(1);break;case t.blogoG2:t.addbuildbtn(2);break;case t.blogoG3:t.addbuildbtn(3);break;case t.addfriendBtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_friend,1]);break;case t.finfoG0:t.inviteFun(0);break;case t.finfoG1:t.inviteFun(1);break;case t.finfoG2:t.inviteFun(2);break;case t.bimg0:return void t.showBuildInfo(0,!0);case t.bimg1:return void t.showBuildInfo(1,!0);case t.bimg2:return void t.showBuildInfo(2,!0);case t.bimg3:return void t.showBuildInfo(3,!0)}},t.prototype.addbuildbtn=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var i=t.m_buildarr,n=i[e],o=a.getSelfBuildPlayer(n),r=a.getEnterBuildTime(o);o&&r?t.showBuildInfo(e,!0):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_invite])}},t.prototype.showThing=function(){var e=this,t=e.planeimg,a=-(t.width/2),i=Global.stageWidth+t.width/2;egret.Tween.removeTweens(t),t.x=a,egret.Tween.get(t,{loop:!0}).to({x:i},6e4).call(function(){t.scaleX=-1}).to({x:a},6e4).call(function(){t.scaleX=1});var n=80,o=360;egret.Tween.get(e.cloudimg1,{loop:!0}).to({alpha:0,x:n}).to({x:n-30,alpha:1},4e3).to({x:n-60},4e3).to({x:n-90,alpha:0},4e3),egret.Tween.get(e.cloudimg0,{loop:!0}).to({alpha:0,x:o}).wait(2e3).to({x:o-20,alpha:1},4e3).to({x:o-40},4e3).to({x:o-60,alpha:0},4e3)},t.prototype.showBuildInfo=function(e,t){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_info,e]),GlobalAllProxy.getInstance().guideProxy.clickplayguide(game.GameCommands.guide_MsgGuideClickButtonTrigger)},t.prototype.receiveBuild=function(e){var t=this,a=t.m_buildarr,i=a[e];switch(i){case stafftype.type_player:GlobalAllProxy.getInstance().playerProxy.NetClubReceiveWages();break;case stafftype.type_tactical:GlobalAllProxy.getInstance().playerProxy.NetTacticsCenterRecReward();break;case stafftype.type_tech:GlobalAllProxy.getInstance().playerProxy.NetSciencegetpoints();break;case stafftype.type_scout:GlobalAllProxy.getInstance().playerProxy.NetScoutGetPoints()}GlobalAllProxy.getInstance().guideProxy.clickplayguide(game.GameCommands.guide_MsgGuideClickButtonTrigger)},t.prototype.showInviteData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.clubData,a=GlobalAllProxy.getInstance().friendProxy.friendList,i=!1;if(a&&a.length&&(i=!0),i?(e.friendsettledGp.visible=!0,e.addfriendGp.visible=!1):(e.friendsettledGp.visible=!1,e.addfriendGp.visible=!0),t)for(var n,o,r,s,l,p=t.build,c=p.length,u=0;3>u;u++)if(c>u){if(n=p[u],r=n.buildType,o=t.getDataForType(r),1==r){var m=GlobalConfig.getClubgradeVO(n.level);m?e["fnametxt"+u].text=m.clubname+Language.ins.title_club:e["fnametxt"+u].text=o.bname+" "+Language.ins.game_lv_s+n.level}else e["fnametxt"+u].text=o.bname+" "+Language.ins.game_lv_s+n.level;e["fclubtxt"+u].text=n.name,e["flogoimg"+u].setLogoUrl(n.logo),e["fenterG"+u].visible=!0,e["foutG"+u].visible=!1,s=t.getEnterBuildTime(n),s?(e["fbg"+u].source="tab_jy_b1",e["ftimeG"+u].visible=!0,e["getbtn"+u].visible=!1,e["ftimetxt"+u].text=utils.GameComUtil.getTimeNum(s),e["hongimg"+u].visible=!1):(e["ftimeG"+u].visible=!1,e["getbtn"+u].visible=!0,e["fbg"+u].source="tab_jy_b2",e["hongimg"+u].visible=!0),l=GlobalConfig.getItemVo(o.bitemid),e["fawardimg"+u].source=ResName.getMinItemIcon(l.icon),e["fawardtxt"+u].text=n.output}else e["fenterG"+u].visible=!1,e["foutG"+u].visible=!0,e["hongimg"+u].visible=!1},t.prototype.showGMc=function(e,t){egret.Tween.removeTweens(e),e&&t?(e.alpha=1,egret.Tween.get(e,{loop:!0}).to({alpha:.4},1e3).to({alpha:1},1e3)):e.alpha=1},t.prototype.inviteFun=function(e){var t=this,a=(t.m_buildarr,GlobalAllProxy.getInstance().playerProxy.clubData),i=a.build,n=i[e];if(a&&i.length>e){var o=a.getEnterBuildTime(n);return void(o?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_friend],n.fid):GlobalAllProxy.getInstance().playerProxy.NetReceiveBuild(n.fid,n.buildType))}n?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_friend],n.fid):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_build_friend])},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcClubGrade(t.getTipForArr(null,[GlobalEnum.tipmc_clubgrade])),e.showTipMcUpTech(t.getTipForArr(null,[GlobalEnum.tipmc_builduptech])),e.showTipMcUpTactics(t.getTipForArr(null,[GlobalEnum.tipmc_builduptactics])),e.showTipMcUpScout(t.getTipForArr(null,[GlobalEnum.tipmc_buildupscout]));var a=t.getTipForArr(null,[GlobalEnum.tipmc_friendInvite]);e.newsbtntipmc.visible=a},t.prototype.showTipMcEnter=function(e,t){var a=this,i=e,n=a["getbtn"+t],o="tipmcgetbtn"+t;null!=n&&(a[o]=utils.GameComUtil.getTipMcImg(a[o],n,!1,!0),a["getbtn"+t].addChild(a[o]),a[o].visible=i)},t.prototype.showTipMcBuildtech=function(e){var t=this;t.boutG3;t.showawardFullMc(3,e)},t.prototype.showTipMcBuildscout=function(e){var t=this;t.boutG1;t.showawardFullMc(1,e)},t.prototype.showTipMcBuildtactical=function(e){var t=this;t.boutG2;t.showawardFullMc(2,e)},t.prototype.showTipMcBuildplayer=function(e){var t=this;t.boutG0;t.showawardFullMc(0,e)},t.prototype.showTipMcClubGrade=function(e){var t=this,a=e,i=t.bimg0,n="tipmcbimg0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-70,90)),t.binfoG0.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcUpTech=function(e){var t=this,a=e,i=t.bimg3,n="tipmcbimg3";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-100,110)),t.binfoG3.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcUpTactics=function(e){var t=this,a=e,i=t.bimg2,n="tipmcbimg2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-100,120)),t.binfoG2.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcUpScout=function(e){var t=this,a=e,i=t.bimg1,n="tipmcbimg1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-120,160)),t.binfoG1.addChild(t[n]),t[n].visible=a)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.BuildManageView=t,__reflect(t.prototype,"vm.BuildManageView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildNewsSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_build_news,a.tiptxt0.text=Language.ins.build_tip66,a.tiptxt1.text=Language.ins.build_tip67,a.tiptxt2.text=Language.ins.build_tip68),a.changeShow(),GlobalAllProxy.getInstance().playerProxy.inviteData||GlobalAllProxy.getInstance().playerProxy.NetFriendsInvite(),GlobalAllProxy.getInstance().playerProxy.isnewInvite&&(GlobalAllProxy.getInstance().playerProxy.isnewInvite=!1,EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE))},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.inviteData;a&&(a.sort(utils.GameUtil.sortMatckFun(["level"],[1])),t.showData(a,!1),a.length<=0?t.tipG.visible=!0:t.tipG.visible=!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FRIEND_INVITE_LIST,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FRIEND_INVITE_LIST,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.FRIEND_INVITE_LIST:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BuildNewsRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.BuildNewsView=t,__reflect(t.prototype,"vm.BuildNewsView")}(vm||(vm={}));var StaffSeverVO=function(){function e(){}return e}();__reflect(StaffSeverVO.prototype,"StaffSeverVO");var ClubStaffRenderVO=function(){function e(e,t){this.type=e,this.name=t}return e}();__reflect(ClubStaffRenderVO.prototype,"ClubStaffRenderVO");var stafftype;!function(e){e[e.type_player=1]="type_player",e[e.type_tactical=2]="type_tactical",e[e.type_tech=3]="type_tech",e[e.type_scout=4]="type_scout"}(stafftype||(stafftype={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildStaffSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),a.readPanelVO(),a.m_canrecruit=0,t){a.tipinfoG1.visible=!1,a.tipinfoG0.visible=!1,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_build_staff,a.staffObj=new StaffSeverVO;var i=new ClubStaffRenderVO(stafftype.type_player,Language.ins.title_club),n=new ClubStaffRenderVO(stafftype.type_tactical,Language.ins.title_tacticsconter),o=new ClubStaffRenderVO(stafftype.type_tech,Language.ins.title_tech),r=new ClubStaffRenderVO(stafftype.type_scout,Language.ins.title_scout);
a.listdataArr=[i,n,o,r],a.tiptxt0.text=Language.ins.build_tip69,a.tiptxt1.text=Language.ins.build_tip70,a.tiptxt2.text=Language.ins.build_tip71,a.tiptxt3.textFlow=utils.GameComUtil.getHtmlText(Language.ins.build_tip75),a.getbtn.label=Language.ins.btn_save,a.onekeybtn.label=Language.ins.build_tip72}a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(e.staffObj.player_num=t.player_num,e.staffObj.tactical_num=t.tactical_num,e.staffObj.tech_num=t.tech_num,e.staffObj.scout_num=t.scout_num,e.changeShowStaff())},t.prototype.changeShowStaff=function(e,t){void 0===e&&(e=0/0),void 0===t&&(t=0/0);var a=this,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n=0,o=0;isNaN(e)||isNaN(t)||(o=t);var r=i.getAllStaffNum(),s=a.staffObj.player_num+a.staffObj.tactical_num+a.staffObj.tech_num+a.staffObj.scout_num,l=r-s;t>l&&(t=l,o=t),i&&(n=i.getAllStaffNum());for(var p,c,u=a.listdataArr,m=0,g=u.length;g>m;m++){switch(p=u[m],p.type){case stafftype.type_player:p.type==e&&(a.staffObj.player_num+=o),p.staff=a.staffObj.player_num,p.level=i.level;var _=i.grade,h=GlobalConfig.getClubgradeVO(_);p.allstaff=h.maxstaff;break;case stafftype.type_tactical:p.type==e&&(a.staffObj.tactical_num+=o),p.staff=a.staffObj.tactical_num,p.level=i.tatical_lv;var d=GlobalConfig.getTacticsCenterVO(p.level);p.allstaff=d.maxstaff;break;case stafftype.type_tech:p.type==e&&(a.staffObj.tech_num+=o),p.staff=a.staffObj.tech_num,p.level=i.tech_lv;var y=GlobalConfig.getTechCenterVO(p.level);p.allstaff=y.maxstaff;break;case stafftype.type_scout:p.type==e&&(a.staffObj.scout_num+=o),p.staff=a.staffObj.scout_num,p.level=i.scout_lv;var v=GlobalConfig.getScoutCenterVO(p.level);p.allstaff=v.maxstaff}c=game.SClubResponseVO.getTimeOutPut(p.type,p.level,p.staff),p.addnum=Math.floor(c.count),p.additemid=c.itemid}i&&(l-=o,a.numtxt2.text=l+""),a.m_canrecruit=l,a.showData(u,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CHANGE_STAFF_NUM,e.eventChange),e.addMessage(game.GameCommands.SET_STAFF_CHANGE,e.eventChange),e.addMessage(game.GameCommands.GET_CLUB_PERSON_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CHANGE_STAFF_NUM:var t=e.type,i=e.num;a.changeShowStaff(t,i);break;case game.GameCommands.SET_STAFF_CHANGE:case game.GameCommands.GET_CLUB_PERSON_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.getbtn:var a=t.staffObj;GlobalAllProxy.getInstance().playerProxy.NetClubAdjustNum(a.player_num,a.tactical_num,a.tech_num,a.scout_num);break;case t.onekeybtn:t.onekeyfun();break;case t.tiptxt3:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_monthcar])}},t.prototype.onekeyfun=function(){var e=this,t=e.m_canrecruit;if(t){var a=e.getfennums(t);e.staffObj.player_num+=a[0],e.staffObj.tactical_num+=a[1],e.staffObj.tech_num+=a[2],e.staffObj.scout_num+=a[3],e.changeShowStaff()}else FLOAT.NShowPutong([Language.ins.club_staff_tip2])},t.prototype.getfennums=function(e){var t,a,i=this,n=i.listdataArr,o=[0,0,0,0],r=e;if(r){for(var s,l=Math.floor(r/4),p=o.length,c=0;p>c;c++)a=n[c],t=a.allstaff-a.staff,s=l,s>t&&(s=t),o[c]+=s,r-=s;if(r)for(var c=0;p>c&&(a=n[c],t=a.allstaff-a.staff-o[c],s=r,s>t&&(s=t),o[c]+=s,r-=s,!(0>=r));c++);}return o},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CHANGE_STAFF_NUM,e.eventChange),e.removeMessage(game.GameCommands.SET_STAFF_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.GET_CLUB_PERSON_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BuildStaffRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.BuildStaffView=t,__reflect(t.prototype,"vm.BuildStaffView")}(vm||(vm={}));var BuildCCVO=function(){function e(e,t){var a=this;a.bg1=e,a.bg2=t}return e}();__reflect(BuildCCVO.prototype,"BuildCCVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildUpLevelSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),t){var i={};i[stafftype.type_player]=new BuildCCVO("tab_jy_i9","tab_jy_j1"),i[stafftype.type_tactical]=new BuildCCVO("tab_jy_j2","tab_jy_j3"),i[stafftype.type_tech]=new BuildCCVO("tab_jy_j6","tab_jy_j7"),i[stafftype.type_scout]=new BuildCCVO("tab_jy_j4","tab_jy_j5"),a.m_buildbgobj=i,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_club,a.maxtiptxt.text=Language.ins.build_tip23,a.starmaxG.visible=!1,a.tiptxt0.text=Language.ins.build_tip73,a.btiptxt0.text=Language.ins.build_tip74,a.btiptxt1.text=Language.ins.build_tip38,a.btiptxt2.text=Language.ins.build_tip52}a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.childtype;isNaN(t)||(e.m_chosetype=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=t.m_chosetype,i=t.m_buildbgobj,n=GlobalAllProxy.getInstance().playerProxy.clubData;GlobalAllProxy.getInstance().gameProxy;if(n&&a){var o,r,s=n.grade;GlobalConfig.getClubgradeVO(s);o=n.getDataForType(a);var l,p=o.blevel,c=p+1,u=game.SClubResponseVO.getTimeOutPut(a,p,1);t.starmaxG.visible=!1,t.datalist.visible=!1;var m=n.getbuildDataForType(a,p),g=n.getbuildDataForType(a,c),_=i[a];t.buildbgimg0.source=_.bg1,t.buildbgimg1.source=_.bg2,g?(t.blv1.text=FormatString.format(Language.ins.build_tip25,c),t.datalist.visible=!0,r=n.getDataForType(a,c),t.buptxt0.text=r.bmaxstaff,l=game.SClubResponseVO.getTimeOutPut(a,c,1),t.buptxt1.text=FormatString.format(Language.ins.club_time_str,g.getBaseNum()),t.buptxt2.text=FormatString.format(Language.ins.club_time_str,g.getRateNum()),t.buildimg1.source=ResName.getBuildImg(a,c,!1,!0),t.upbtn.visible=!0):(t.starmaxG.visible=!0,t.buptxt0.text=Language.ins.game_remax,t.buptxt1.text=Language.ins.game_remax,t.buptxt2.text=Language.ins.game_remax,t.blv1.text=Language.ins.game_remax,t.buildimg1.source=ResName.getBuildImg(a,p,!1,!0),t.upbtn.visible=!1),t.blv0.text=FormatString.format(Language.ins.build_tip24,p),t.bnumtxt0.text=o.bmaxstaff,t.bnumtxt1.text=FormatString.format(Language.ins.club_time_str,m.getBaseNum()),t.bnumtxt2.text=FormatString.format(Language.ins.club_time_str,m.getRateNum());var h=ResName.getMinItemIcon(u.itemid);if(t.boutimg1.source=h,t.boutimg2.source=h,t.panel_bg.titlename.text=FormatString.format(Language.ins.title_build_uplv,o.bname),t.upbtn.label=Language.ins.game_uplv_s,t.buildimg0.source=ResName.getBuildImg(a,p,!1,!0),g&&m){var d=m.getCostArr(!0),y=n.getBuildNeedLv(a,c);if(y){var v=new game.ComItemGroupVo(GlobalEnum.itemid_clubgrade,y);d.push(v)}t.setCostListA(d);var f=CostItemRender.getItemOkArr(d);t.upbtn.enabled=f?!0:!1}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_CENTER_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.TECH_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.SCOUT_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_CENTER_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.TECH_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_TACTICAL_CENTER_UPGRADE:case game.GameCommands.TECH_DATA_CHANGE:case game.GameCommands.SCOUT_DATA_CHANGE:case game.GameCommands.MY_INFO_CHANGW:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.upbtn:t.goupwpanel();break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heromarket])}},t.prototype.godatapanel=function(){var e=this,t=e.m_chosetype;if(!isNaN(t))switch(e.close(),t){case stafftype.type_player:break;case stafftype.type_tactical:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamehero]);break;case stafftype.type_tech:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tech]);break;case stafftype.type_scout:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout])}},t.prototype.goupwpanel=function(){var e=this;2==e.m_chosetype?GlobalAllProxy.getInstance().playerProxy.NetTacticsCenterUpgrade():3==e.m_chosetype?GlobalAllProxy.getInstance().playerProxy.NetScienceUpgrade():4==e.m_chosetype&&GlobalAllProxy.getInstance().playerProxy.NetScoutUpgrade()},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.BuildUpLevelView=t,__reflect(t.prototype,"vm.BuildUpLevelView")}(vm||(vm={}));var game;!function(e){var t=function(t){function a(){var a=t.call(this)||this;a.txt=new e.Text,a.ishit=!1,a._movewait=0,a._curx=0;var i=a;return i.txt.touchEnabled=!1,i.txt.textAlign=egret.HorizontalAlign.CENTER,i.txt.size=24,i.txt.textColor=7358770,i.addChild(i.txt),i.x=0,a}return __extends(a,t),a.prototype.getbmg=function(){var e=this;return e.m_bmp||(e.m_bmp=new egret.Bitmap(RES.getRes("tab_gj1_c8")),e.addChild(e.m_bmp),e.m_bmp.y=-6),e.m_bmp},a.prototype.onCheckout=function(){},a.prototype.onRemand=function(){},a.prototype.initFloatTxtPos=function(e,t,a,i,n){var o=this;o._movespeed=0,o._movewait=0,o.m_index=n;var r=16777215;t&&(r=16776705);o.txt.text=e,o.txt.textColor=r,o.x=a,o.y=i,o._curx=a,o.visible=!1,o.ishit=!1;var s;t?(s=o.getbmg(),s.visible=!0,o.txt.x=35):(o.txt.x=0,o.m_bmp&&(o.m_bmp.visible=!1))},a.prototype.moveX=function(e,t){void 0===t&&(t=0);var a=this,i=ParamLoader.instance.ClientMoveSpeed,n=i[0],o=i[1],r=i[2],s=Math.abs(e-a.x),l=a.txt.text,p=l.length,c=p-o;c>0&&(n+=c*r);var u=s/n;if(t>0){if(a._movewait=Math.floor(t/16),!a.ishit){a.visible=!0,a._movespeed=s/(1e3*u)}}else if(!a.ishit){a.visible=!0,a._movespeed=s/(1e3*u)}},a.prototype.Updata=function(e){var t=this;t._movewait>0?t._movewait-=1:t._movespeed&&(t._curx=t._curx-e*t._movespeed,t.x=parseFloat(t._curx.toFixed(1)),t.x+t.width<0&&t.dis())},a.prototype.dis=function(){var e=this;null!=e.parent&&e.parent.removeChild(e),MandPool.remand(e)},a.maxY=222,a.minY=90,a.txtLNum=26,a}(egret.Sprite);e.ChatBarrageItem=t,__reflect(t.prototype,"game.ChatBarrageItem",["IRemandObj"])}(game||(game={}));var ChatBarrageViewOpenVO=function(){function e(e,t){var a=this;a.m_inity=e,a.m_addy=t}return e}();__reflect(ChatBarrageViewOpenVO.prototype,"ChatBarrageViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_inity=150,t.m_addy=40,t.m_nochattime=0,t._lasttime=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.top},t.prototype.startLoadRes=function(){var e=new skins.ChatBarrageSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a._lasttime=0;for(var i=ParamLoader.instance.ClientMaxRow,n=[],o=0;i>o;o++)n.push(0);a.tiaonumArr=n,a.initAddEvent(),a.readPanelVO(),t&&(a.m_nochattime=0),a.touchChildren=!1,a.touchEnabled=!1,a.changeShow(),a.timeFun()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;if(t){var a=t;e.m_inity=a.m_inity,e.m_addy=a.m_addy}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),egret.clearTimeout(a.m_timenum);for(var i,n=a.numChildren,o=n-1;o>=0;o--)i=a.getChildAt(o),i&&i.dis()},t.prototype.changeShow=function(e){void 0===e&&(e=null)},t.prototype.showOneData=function(e,t){void 0===t&&(t=!1);var a=this,i=this.numChildren;if(i>=ParamLoader.instance.ClientMaxRow)return!1;for(var n,o=MandPool.getIns(game.ChatBarrageItem),r=a.tiaonumArr,s=0/0,l=[],p=0,c=r.length;c>p;p++)n=r[p],n||l.push(p);var u=l.length;if(l.length){var m=Math.floor(Math.random()*u);s=l[m],r[s]=ParamLoader.instance.ClientBarrigeTime}var g=!1;if(!isNaN(s)){var _=Global.initStageWidth+Math.floor(50*Math.random()),h=s*a.m_addy+a.m_inity;o.initFloatTxtPos(e,t,_,h,s),a.addChild(o);var d=Math.floor(2e3*Math.random());o.moveX(0-o.txt.width,d),g=!0}return g},t.prototype.timeFun=function(){var e=this;if(egret.clearTimeout(e.m_timenum),Global.isshowBarrage){for(var t=e.tiaonumArr,a=0,i=t.length;i>a;a++)t[a]&&(t[a]-=1);var n,o=GlobalAllProxy.getInstance().chatProxy.chatBarrageArr,r=o.length;if(r){var s,l,p=e.numChildren,c=GlobalAllProxy.getInstance().playerProxy.playerinfo;p>=ParamLoader.instance.ClientMaxRow||(s=o[0],l=s.sendData.uid==c?!0:!1,n=e.showOneData(s.msg,l),n&&o.splice(0,1)),e.m_nochattime=0}else{e.m_nochattime+=1;var u=ParamLoader.instance.ClientBarrigeFakeTime;if(e.m_nochattime>=u){var m=ParamLoader.instance.ClientFakeInterval,g=m[0],_=m[1];e.m_nochattime=u-BallUtils.RandInt(g,_);var h=GlobalConfig.getbarrageVo(GlobalAllProxy.getInstance().playerProxy.playerinfo.level);h?n=e.showOneData(h.text,!1):e.m_nochattime=0}}}e.m_timenum=egret.setTimeout(e.timeFun,e,1e3)},t.prototype.initAddEvent=function(){var e=this;e.addMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventChange),e.addEventListener(egret.Event.ENTER_FRAME,e.Updata,e)},t.prototype.removeEvent=function(){var e=this;e.removeMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventChange),e.removeEventListener(egret.Event.ENTER_FRAME,e.Updata,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.CHAT_DATA_CHANGE:this.changeShow(e)}},t.prototype.Updata=function(e){var t,a=this,i=a.numChildren,n=egret.getTimer(),o=0;if(a._lasttime&&(o=n-a._lasttime),a._lasttime=n,1e3>o)for(var r=i-1;r>=0;r--)t=a.getChildAt(r),t.Updata(o)},t}(e.VM);e.ChatBarrageView=t,__reflect(t.prototype,"vm.ChatBarrageView")}(vm||(vm={}));var ChatViewVO=function(){function e(e,t){this.uid=e,this.name=t}return e}();__reflect(ChatViewVO.prototype,"ChatViewVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.m_isbarrage=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.ChatSkinDR;e.runto(this,[])},a.prototype.onShow=function(a){t.prototype.onShow.call(this,a);var i=this;if(i.initAddEvent(),i.idtxt.text="",a){var n={};n[e.ChatView.type_com]=chatType.type_com,n[e.ChatView.type_club]=chatType.type_club,n[e.ChatView.type_self]=chatType.type_self,n[e.ChatView.type_sys]=chatType.type_sys,i.m_indexobj=n,i._touid=null,i.panel_bg.setImgBg(""),i.panel_bg.titlename.text=Language.ins.title_chat;var o=Math.floor(ParamLoader.instance.Serverchatmaxtext/2);i.idtxt.maxChars=o,i.idtxt.textDisplay.size=22,i.idtxt.textDisplay.textAlign=egret.HorizontalAlign.LEFT,i.idtxt.textDisplay.verticalAlign=egret.VerticalAlign.MIDDLE,i.showTar(),i.tiptxt0.text=Language.ins.chat_tip10,i.tiptxt1.text=Language.ins.chat_tip12,i.sendbtn.label=Language.ins.chat_tip11}i.readPanelVo(),i.changeShow(!0),i.m_isbarrage=Global.isshowBarrage?1:0,i.changebarrage(!1)},a.prototype.readPanelVo=function(){var t=this,a=t.panelVo;t._choosemode=0,null!=a&&a.childtype&&(t._choosemode=a.childtype),a&&a.panelobj&&(t.m_data=a.panelobj,t._choosemode==e.ChatView.type_self&&(t._touid=t.m_data.uid,t._touname=t.m_data.name)),t.tabGroup.setSelectIndex(t._choosemode)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),utils.GameComUtil.removeTextFlow(this.tiptxt),utils.GameComUtil.removeTextFlow(this.tiptxt2)},a.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_chat;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;e.tabGroup.setButtonWidth(112),a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.changeShow=function(t){void 0===t&&(t=!1);var a=this,i=a.m_indexobj,n=i[a._choosemode],o=GlobalAllProxy.getInstance().chatProxy.getChatArr(n);a._choosemode==e.ChatView.type_sys?(a.datascrollB.visible=!0,a.datascrollA.visible=!1,a.showDataB(o,t)):(a.datascrollB.visible=!1,a.datascrollA.visible=!0,a.showData(o,t)),a.changeTipMC(),a.changeSendTime(),a.tiptxt0.visible=!1,a.barragebtn.visible=!1,a.btnG.visible=!0,a.nonetxt.text=Language.ins.chat_tip5;var r,s=a.idtxt.text,l=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,p=ParamLoader.instance.ServerChatLv,c=FormatString.format(Language.ins.game_chat_init,p);switch((s==c||s==Language.ins.chat_tip4||""==s||s==Language.ins.game_chat_tip)&&(a._choosemode==e.ChatView.type_com?l>=p?a.idtxt.text=Language.ins.game_chat_tip:(r=c,a.idtxt.text=r):a._choosemode==e.ChatView.type_self?a.idtxt.text=Language.ins.chat_tip4:a._choosemode==e.ChatView.type_club&&(a.idtxt.text=Language.ins.game_chat_tip)),a.redbagdatalist.visible=!1,a._choosemode){case e.ChatView.type_com:if(!Global.isshowBarrage)return;a.tiptxt0.visible=!0,a.barragebtn.visible=!0;break;case e.ChatView.type_club:if(a.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.game_creat_tip4),GlobalAllProxy.getInstance().guildProxy.isjoinGuild()){var u=GlobalAllProxy.getInstance().guildProxy.Guild;u&&u.data&&(a.redbagdatalist.visible=!0,a.showDataC(u.data.redPacket,!1))}else a.btnG.visible=!1,a.nonetxt.text=Language.ins.guild_tip38;break;case e.ChatView.type_self:break;case e.ChatView.type_sys:a.btnG.visible=!1}},a.prototype.changeSendTime=function(){var t=this,a=t.m_indexobj,i=a[t._choosemode],n=GlobalAllProxy.getInstance().chatProxy.getChatArr(i);t.costG.visible=!1,t.tiptxt2.visible=!1,t.sendbtn.txticon="btn_common_4";var o=ParamLoader.instance.Serverchatnum+game.ComMonthCarVO.getNumExtrachat(),r=o-GlobalAllProxy.getInstance().playerProxy.freeChat;0>r&&(r=0);var s=o;if(t._choosemode==e.ChatView.type_com)t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.game_creat_tip3),s>1e4||(r>0?t.tiptxt2.visible=!0:(t.tiptxt3.text=ParamLoader.instance.Serverchatcost,t.costG.visible=!0,t.sendbtn.txticon="btn_common_3"));else if(t._choosemode==e.ChatView.type_self){if(n.length&&!t._touid){var l,p=n[0],c=p.sendData,u=p.toData;l=c.uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid?u:c,l&&(t._touid=l.uid,t._touname=l.name)}t._touid&&t._touname?t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.game_creat_tip2,t._touname)):t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.game_creat_tip1),t.tiptxt2.visible=!1}n.length<1?t.noneG.visible=!0:t.noneG.visible=!1,t.tiptxt2.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.chat_tip2,r,s))},a.prototype.changeSelfPlayer=function(){},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CHAT_SEND_DATA,e.eventChange),e.addMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.GUILD_QIANGREDBAG,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.redbagdatalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},a.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1;var a=ParamLoader.instance.ServerChatLv,i=FormatString.format(Language.ins.game_chat_init,a);(e.target.text==i||e.target.text==Language.ins.chat_tip4||e.target.text==Language.ins.game_chat_tip)&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getCharLenght())},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CHAT_SEND_DATA,e.eventChange),e.removeMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.GUILD_QIANGREDBAG,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.redbagdatalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},a.prototype.listchangeC=function(e){var t=this,a=t.redbagdatalist.selectedItem;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_redbag],a)},a.prototype.listchangeA=function(e){var t,a=this,i=a.datalist.selectedItem;if(t=i.chatType!=chatType.type_com?i.sendData:i.sendData.uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid?i.toData:i.sendData){var n=new PeopleInfoViewOpenVO;n.uid=t.uid,n.name=t.name,n.logo=t.logo,n.level=t.level,n.vipLevel=t.vipLevel,n.monthCard=t.monthCard,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_people_Info],n)}a.datalist.selectedIndex=-1},a.prototype.listchangeB=function(e){var t=this,a=t.datalist1.selectedItem;if(a&&a.postId){var i=GlobalConfig.getPostVO(a.postId);if(i&&i.jump&&"0"!=i.jump){var n=i.jump.split(";"),o=GlobalAllProxy.getInstance().activityProxy.iscanJump(n);o&&utils.GameComUtil.panelJump(i.jump,!0)}}t.datalist1.selectedIndex=-1},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CHAT_SEND_DATA:a.idtxt.text="",a.changeSendTime();break;case game.GameCommands.CHAT_DATA_CHANGE:a.changeShow(!0);break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.GUILD_QIANGREDBAG:var i=GlobalAllProxy.getInstance().guildProxy.Guild;i&&i.data&&a.showDataC(i.data.redPacket,!1)}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.sendbtn:t.SendChat();break;case t.barragebtn:t.changebarrage(!0)}},a.prototype.changebarrage=function(e){var t=this;e&&(t.m_isbarrage=t.m_isbarrage?0:1),t.m_isbarrage?(Global.isshowBarrage=!0,t.pimg.source="tab_lt_d2",t.ptxt.x=13,t.ptxt.textColor=3197807,t.ptxt.text=Language.ins.game_open_s):(Global.isshowBarrage=!1,t.pimg.source="tab_lt_d1",t.ptxt.x=33,t.ptxt.textColor=11191758,t.ptxt.text=Language.ins.game_close_s)},a.prototype.SendChat=function(){var t=this,a=t.idtxt.text,i=ParamLoader.instance.ServerChatLv,n=FormatString.format(Language.ins.game_chat_init,i);if(a==n||a==Language.ins.chat_tip4||""==a||a==Language.ins.game_chat_tip)return void FLOAT.NShowPutong([Language.ins.game_chat_tip]);var o=new RegExp(GlobalConfig.keyWordStr,"g"),r=a;if(r=r.toLowerCase(),r=r.replace(o,"*"),-1!=r.indexOf("*")&&(a=r),t._choosemode==e.ChatView.type_com){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,l=ParamLoader.instance.ServerChatLv;if(s>=l)GlobalAllProxy.getInstance().chatProxy.NetPublicChat(a,chatType.type_com);else{var p=FormatString.format(Language.ins.chat_tip3,l);FLOAT.NShowPutong([p])}}else t._choosemode==e.ChatView.type_club?GlobalAllProxy.getInstance().chatProxy.NetPublicChat(a,chatType.type_club):t._choosemode==e.ChatView.type_self&&(t._touid?GlobalAllProxy.getInstance().chatProxy.NetPrivateChat(t._touid,a):FLOAT.NShowPutong([Language.ins.game_creat_tip1]))},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ChatRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA,r=(i.length,function(){var e=o.viewport.contentHeight;if(o.height<e){var t=e-o.height,a=t;a>=t&&(a=t),0>a&&(a=0),o.viewport.scrollV=a+3}else o.stopAnimation(),o.viewport.scrollV=0});egret.setTimeout(r,a,100)}if(1==a._choosemode){var s=GlobalAllProxy.getInstance().guildProxy.Guild;s&&s.data&&s.data.redPacket&&s.data.redPacket.length>=1?a.datascrollA.bottom=250:a.datascrollA.bottom=108}else a.datascrollA.bottom=108},a.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist1;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ChatSystRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA,r=(i.length,function(){var e=o.viewport.contentHeight;if(o.height<e){var t=e-o.height,a=t;a>=t&&(a=t),0>a&&(a=0),o.viewport.scrollV=a+3}else o.stopAnimation(),o.viewport.scrollV=0});egret.setTimeout(r,a,100)}},a.prototype.showDataC=function(e,t){var a=this,i=e,n=a.redbagdatalist;n.itemRenderer||(n.itemRenderer=GuildRedBaoListRender),n.dataProvider=new eui.ArrayCollection(i)},a.prototype.changeTipMC=function(){var t=this,a=GlobalAllProxy.getInstance().chatProxy;t._choosemode==e.ChatView.type_com?a.bl_newchatCom=!1:t._choosemode==e.ChatView.type_self?a.bl_newchatself=!1:t._choosemode==e.ChatView.type_club?a.bl_newchatclub=!1:t._choosemode==e.ChatView.type_sys&&(a.bl_newchatsys=!1);var i=GlobalAllProxy.getInstance().gameProxy;t.showTipMcTalk(i.getTipForArr(null,[GlobalEnum.tipmc_chat],chatType.type_com)),t.showTipMcTalkSelf(i.getTipForArr(null,[GlobalEnum.tipmc_chat],chatType.type_self)),t.showTipMcTalkclub(i.getTipForArr(null,[GlobalEnum.tipmc_chat],chatType.type_club)),t.showTipMcTalksys(i.getTipForArr(null,[GlobalEnum.tipmc_chat],chatType.type_sys))},a.prototype.showTipMcTalksys=function(e){var t=this,a=e,i=t.kbuttontab5,n="tipchatsys";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1),t.tabG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcTalkclub=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipchatclub";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1),t.tabG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcTalk=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipchatcom";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1),t.tabG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcTalkSelf=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipchatself";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1),t.tabG.addChild(t[n]),t[n].visible=a)},a.type_com=0,a.type_club=1,a.type_self=2,a.type_sys=3,a}(e.VM);e.ChatView=t,__reflect(t.prototype,"vm.ChatView")}(vm||(vm={}));var PeopleInfoViewOpenVO=function(){function e(){}return e}();__reflect(PeopleInfoViewOpenVO.prototype,"PeopleInfoViewOpenVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.PeopleInfoSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.Binfobtn.label=Language.ins.chat_tip13,a.askbtn.label=Language.ins.chat_tip14,a.addfriendbtn.label=Language.ins.friend_tip1),a.changeShow()},a.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_data=t)}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.lvtxt),utils.GameComUtil.removeTextFlow(this.idtxt)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;if(t.m_data){var a=t.m_data;t.nametxt.text=a.name;var i=ColorUtil.tip_hui,n=ColorUtil.tip_blue,o=Language.ins.game_lv_s+a.level,r=FormatString.format(Language.ins.game_col,i,Language.ins.friend_tip3)+FormatString.format(Language.ins.game_col,n,o),s=FormatString.format(Language.ins.game_col,i,Language.ins.friend_tip4)+FormatString.format(Language.ins.game_col,n,a.uid);t.lvtxt.textFlow=utils.GameComUtil.getHtmlText(r),t.idtxt.textFlow=utils.GameComUtil.getHtmlText(s);var l=GlobalAllProxy.getInstance().friendProxy.getFriendVo(a.uid);utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.addfriendG,t.infobtnG,!1);var p=40;l?(utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!0),l.apply?(t.addfriendbtn.label=Language.ins.friend_tip2,t.addfriendbtn.enabled=!1):(t.addfriendbtn.label=Language.ins.friend_tip1,t.addfriendbtn.enabled=!0)):(utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.addfriendG,t.infobtnG,!0)),t.infobtnG.layout.gap=p,t.logoimg.setLogoUrl(a.logo)}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},a.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},a.prototype.touchTapFun=function(t){var a=this;switch(t.target){case a.closebtn:a.close();break;case a.itembg:a.close();break;case a.Binfobtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.m_data.uid);break;case a.askbtn:a.close();var i=new ChatViewVO(a.m_data.uid,a.m_data.name);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat,e.ChatView.type_self],i);break;case a.addfriendbtn:a.close(),GlobalAllProxy.getInstance().friendProxy.NetUserFriendAdd(a.m_data.uid)}},a}(e.VM);e.PeopleInfoView=t,__reflect(t.prototype,"vm.PeopleInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){for(var e=new skins.ClubDetailSkinDR,t=[],a=[ResName.mc_chengjiu1,ResName.mc_chengjiu2],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;if(a.m_isshowgroup=!1,a.initAddEvent(),a.readPanelVO(),a.showTar(),e){a.panel_bg.setImgBg(""),a.clubbar.ShowLabel=!0,a.panel_bg.titlename.text=Language.ins.title_club_detail;var i=GlobalConfig.getOffVO(Global.severNE);a.userbtn.visible=!1,a.userbtn.label="",i&&"0"!=i.group&&(a.userbtn.visible=!0,a.m_isshowgroup=!0,a.userbtn.label=i.group),a.namebtn.label=Language.ins.club_tip16,a.logobtn.label=Language.ins.club_tip10,a.changebtn.label=Language.ins.club_tip11,a.helpbtn.label=Language.ins.club_tip13,a.addfriendbtn.label=Language.ins.club_tip14,a.tiptxt0.text=Language.ins.club_tip15,a.ctiptxt0.text=Language.ins.club_tip17,a.ctiptxt2.text=Language.ins.club_tip18,a.ctiptxt3.text=Language.ins.club_tip19,a.ctiptxt4.text=Language.ins.club_tip20,a.ctiptxt5.text=Language.ins.club_tip21,a.ctiptxt6.text=Language.ins.club_tip22,a.needtxt1.text=Language.ins.club_tip23,a.needtxt0.text=Language.ins.club_tip24,a.atxt4.text=Language.ins.club_tip25,a.atxt0.text=Language.ins.club_tip26,a.atxt1.text=Language.ins.club_tip27,a.atxt2.text=Language.ins.club_tip28,a.ftiptxt1.text=Language.ins.club_tip29,a.destxt0.text=Language.ins.club_tip30,a.destxt1.text=Language.ins.club_tip30,a.tiptxt1.text=Language.ins.club_tip31,a.locktxt0.text=Language.ins.club_tip32,a.tiptxt.text=Language.ins.coach_tip10,a.tiptxt3.text=Language.ins.coach_tip9,a.tiptxt5.text=Language.ins.coach_tip14,a.wikihuiyou&&(a.wikihuiyou.visible=!1,Global.severNE_yahoo_wiki==PFAll.game_pf_channel&&(a.wikihuiyou.visible=!0))
}a.changeShow()},a.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;e.m_clubuid=null,t&&(e.m_clubuid=t);var a=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;e.m_clubuid||(e.m_clubuid=a),e.m_clubuid!=a?(e.m_ismyclub=!1,GlobalAllProxy.getInstance().playerProxy.NetVisitFriends(e.m_clubuid)):e.m_ismyclub=!0,e._choosemode=0,e.tabGroup.setSelectIndex(e._choosemode)}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),this.m_clubData=null,utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist2)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.changesound(),utils.GameComUtil.setVisibleHitPanel(t.achieveG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.playerG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.guildG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.coachG,null,!1),t.noneG.visible=!1;var i=t.m_clubData;t.richimg.visible=!1;var n=!1;if(t._choosemode==a.type_achieve){utils.GameComUtil.setVisibleHitPanel(t.achieveG,null,!0);var o,r=GlobalAllProxy.getInstance().playerProxy,s=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(t.m_clubuid==s.uid){utils.GameComUtil.setVisibleHitPanel(t.namebtn,t.namegp,!0),utils.GameComUtil.setVisibleHitPanel(t.logobtn,t.topgp,!0),t.m_isshowgroup&&utils.GameComUtil.setVisibleHitPanel(t.userbtn,t.topgp,!0);var l=PFAll.isIosTest();utils.GameComUtil.setVisibleHitPanel(t.changebtn,t.topgp,!l),utils.GameComUtil.setVisibleHitPanel(t.helpbtn,t.topgp,!0),utils.GameComUtil.setVisibleHitPanel(t.soundG,t.achieveG,!0),utils.GameComUtil.setVisibleHitPanel(t.effectG,t.achieveG,!0),t.vipG.visible=!1,t.nametxt.text=s.club_name;var p=utils.GameComUtil.getFightNum(s.fight);t.zhanlitxt.text=p;var c=1e3*s.createTime,u=utils.GameComUtil.getTimeYearStr(c);t.ctipnum5.text=u;var m=GlobalAllProxy.getInstance().playerProxy.clubData;m&&(o=GlobalConfig.getClubgradeVO(m.grade),t.ctipnum0.text=Language.ins.game_lv_s+s.level+"",t.showRankTxt(t.ctipnum2,m.gloryRank),t.showRankTxt(t.ctipnum4,s.uid),t.showRankTxt(t.achieveranktxt,m.achieveRank));var g=GlobalAllProxy.getInstance().gameProxy.achieveData;g&&(t.achievelvtxt.text=g.level);var _=GlobalAllProxy.getInstance().fightProxy.richdata;if(_){var h=_.grade,d=GlobalConfig.getMathConfigVO(h);t.ctipnum3.text=d.name+"",t.richimg.source=d.icon,t.richimg.visible=!0}else t.ctipnum3.text=Language.ins.club_tip53,t.richimg.visible=!1;t.logoimg.setLogoUrl(s.logo);var m=r.clubData,g=GlobalAllProxy.getInstance().gameProxy.achieveData;if(m){t.achievelvtxt.text=g.level;var y=m.achieveShow;t.showListDataA(y,!0)}var s=GlobalAllProxy.getInstance().playerProxy.playerinfo,v=s.exp,f=s.level,b=GlobalConfig.getClubVO(f);if(b){var G=v-b.minexp;t.clubbar.setValue(G,b.clubexp)}}else if(i){utils.GameComUtil.setVisibleHitPanel(t.namebtn,t.namegp,!1),utils.GameComUtil.setVisibleHitPanel(t.logobtn,t.topgp,!1),utils.GameComUtil.setVisibleHitPanel(t.userbtn,t.topgp,!1),utils.GameComUtil.setVisibleHitPanel(t.helpbtn,t.topgp,!1),utils.GameComUtil.setVisibleHitPanel(t.changebtn,t.topgp,!1),utils.GameComUtil.setVisibleHitPanel(t.soundG,t.achieveG,!1),utils.GameComUtil.setVisibleHitPanel(t.effectG,t.achieveG,!1);var x=GlobalAllProxy.getInstance().friendProxy.getFriendVo(i.fid);x?x.apply||(n=!0):n=!0,t.vipG.visible=!0,t.nametxt.text=i.name;var p=utils.GameComUtil.getFightNum(i.fight);t.zhanlitxt.text=p;var c=1e3*i.createTime,u=utils.GameComUtil.getTimeYearStr(c);t.ctipnum5.text=u,o=GlobalConfig.getClubgradeVO(i.grade),t.ctipnum0.text=Language.ins.game_lv_s+i.level+""+FormatString.format(Language.ins.clubdetail_tip0,o.clubname),t.showRankTxt(t.ctipnum2,i.gloryRank);var d=GlobalConfig.getMathConfigVO(i.peakRank);d&&(t.ctipnum3.text=d.name+"",t.richimg.source=d.icon),t.showRankTxt(t.ctipnum4,i.fid),t.showRankTxt(t.achieveranktxt,i.achieveRank),t.achievelvtxt.text=i.achieveLevel,t.logoimg.setLogoUrl(i.logo);var C=i.achieveShow;t.showListDataA(C,!1);var v=i.exp,f=i.level,b=GlobalConfig.getClubVO(f);if(b){var G=v-b.minexp;t.clubbar.setValue(G,b.clubexp)}var T=FormatString.format(Language.ins.vip_tip10,i.vipLevel);t.viptxt.text=T,t.viptxt0.text=i.vipLevel}}else if(t._choosemode==a.type_guild)if(i&&i.guild){utils.GameComUtil.setVisibleHitPanel(t.guildG,null,!0);var P=i.guild,A=GlobalConfig.getguildVO(P.level);if(t.nametxt1.text=P.name,t.lvtxt.text=FormatString.format(Language.ins.guild_tip7,P.level),t.daytxt.text=P.threeDaysContribution,t.zhanlitxt0.text=P.totalFighting,t.ranktxt.text=P.rankId,t.numtxt.text=FormatString.format(Language.ins.guild_tip6,P.memberCnt,A.num),0==P.authMethods?t.typetxt.text=Language.ins.guild_tip8:t.typetxt.text=Language.ins.guild_tip9,t.addtxt.text=FormatString.format(Language.ins.build_tip27,A.hangupreward/100),""==P.notice?t.gonggaotxt.text=Language.ins.guild_tip41:t.gonggaotxt.text=P.notice,t.nametxt2.text=FormatString.format(Language.ins.guild_tip10,P.chairmanName),A){var G=P.exp-A.minexp;t.clubbar.setValue(G,A.maxexp)}}else t.noneG.visible=!0,t.nonetxt.text=Language.ins.guild_tip38;else if(t._choosemode==a.type_coach){if(i&&i.visitCoach){utils.GameComUtil.setVisibleHitPanel(t.coachG,null,!0);var w,k=GlobalAllProxy.getInstance().playerProxy,I=i.visitCoach;if(I){for(var S,E,R,L,O,V,D,N,F,M,B,U=[],H=I.coach,j=GlobalConfig.coach_data,z=j.length,q=0,W=H.length,Y=I.getOthersAllCoachData(i.visitCoach.coach),K={},Q={},Z={},X=0;z>X;X++){for(w=new CoachBgRenderVO,S=j[X],w.itemvo=S,w.isopen=0,w.coachid=S.coachid,w.rank=S.rank,w.severvo=null,w.ischoose=0,L=0;W>L;L++)if(E=H[L],S.coachid==E.coachId){w.severvo=E,w.isopen=1;break}if(w.isopen){for(R=Math.floor(k.getOneCoachZhanli(w.severvo)),q+=R,K=I.getCoachDataLvToObj(w.coachid,w.severvo.level,w.severvo.star,w.severvo.coachClass,K),N=GlobalConfig.getCoachStarVO(S.coachid,w.severvo.star,w.severvo.coachClass),O=N.getbufftype(),V=N.getbuffvalue(),D=N.getbuffname(),F=0,M=O.length;M>F;F++)B=+O[F],Q[B]||(Q[B]=0),Z[B]=D[F],Q[B]+=+V[F];w.addstr=FormatString.format(Language.ins.guild_tip7,w.severvo.level),w.addcol=16515071}else R=0,q+=R,w.addstr=Language.ins.coach_tip15,w.addcol=ColorUtil.red;w.addname=S.name,U.push(w)}U.sort(utils.GameUtil.sortMatckFun(["isopen","rank"],[1,0]));for(var J=0,$=U.length;$>J;J++)w=U[J],t["caddzhan"+J].text=w.addstr,t["caddzhan"+J].textColor=w.addcol,t["caddtxt"+J].text=w.addname;var et,tt=[];for(var at in Q)et=new CoachLookRenderVO,et.tip=Z[at],et.bufnum=.01*Q[at],tt.push(et);t.showData(tt,!0);var it,nt,ot,rt="";for(var st in K)it=Language.ins["coach_add_"+st],nt=.01*+K[st],ot=GlobalEnum["coach_col_"+st],rt+=FormatString.format(Language.ins.coach_tip4,ot,it,nt,"")+"\n";t.baitxt.textFlow=utils.GameComUtil.getHtmlText(rt),t.zhanlitxt3.text=i.fight.coach,t.zhanlitxt4.text=i.fight.title,t.zhanlitxt5.text=i.fight.logo;var lt=GlobalEnum.porpernumall;M=lt.length;var pt,ct,R;for(F=0;M>F;F++)pt=lt[F],ct=GlobalConfig.getPorpertytypeVO(pt),t["addtxt"+F].text=ct.name,R=0,Y[pt]&&(R=Y[pt]),t["addnum"+F].text="+"+R}}}else if(utils.GameComUtil.setVisibleHitPanel(t.playerG,null,!0),i){var ut=i.playerCourt;ut.sort(utils.GameUtil.sortMatckFun(["position"],[1])),t.showDataB(ut,!1),t.zhanlitxt1.text="+"+i.fight.formation,t.zhanlitxt2.text="+"+i.fight.equip}utils.GameComUtil.setVisibleHitPanel(t.addfriendbtn,t.topgp,n)},a.prototype.showRankTxt=function(e,t){t?e.text=t:e.text=Language.ins.no_in_rank},a.prototype.showListDataA=function(e,t){var a,i,n,o,r=this,s=[];for(o=0;3>o;o++)r["editG"+o].visible=!1,a=new ClubAchieveRenderVO,a.index=o+1,a.ismy=t,n=e[o],i=n.achieveId,i?(a.vo=GlobalConfig.getAchieveVO(i),a.time=n.timestamp,t&&(r["editG"+o].visible=!0)):t&&(r["editG"+o].visible=!1),s.push(a);r.showDataA(s,!1)},a.prototype.getInGameTime=function(){var e="",t="";return e=FormatString.format(Language.ins.club_info_tip1,t)},a.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_clubdetail;e.m_clubuid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&(t=Language.ins.list_btn_clubmy),e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.removeAll(),e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.LOOK_CLUB_INFO,e.eventChange),e.addMessage(game.GameCommands.CHANGE_SHOW_ACHIEVE,e.eventChange),e.addMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},a.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem,i=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(a.vo){if(t.m_clubuid==i.uid&&a instanceof ClubAchieveRenderVO){var n=a,o=GlobalAllProxy.getInstance().gameProxy.achieveData;if(o)for(var r,s,l=o.achieve,p=0,c=l.length;c>p;p++)r=l[p],r.isNeedShowTip&&(s=GlobalConfig.getAchieveVO(r.achieveId),s&&s.achieveid==n.vo.achieveid&&(r.isNeedShowTip=!1));PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_list],n.vo.achieveid)}t.datalist.selectedIndex=-1}else t.m_clubuid==i.uid&&(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_change],t.datalist.selectedItem.index),t.datalist.selectedIndex=-1)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.LOOK_CLUB_INFO,e.eventChange),e.removeMessage(game.GameCommands.CHANGE_SHOW_ACHIEVE,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.removeMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.LOOK_CLUB_INFO:a.m_clubData=e,a.changeShow();break;case game.GameCommands.CHANGE_SHOW_ACHIEVE:a.m_ismyclub&&a.changeShow();break;case game.GameCommands.CLUB_LOGO_CHANGE:this.changeShow(e);break;case game.GameCommands.MY_INFO_CHANGW:this.changeShow(e)}},a.prototype.setSoundFun=function(e){var t=this;t.isSound=e,Global.setSoundBl(t.isSound),t.changesound()},a.prototype.changesound=function(){var e=this;e.isMusic="1"==Global.music_isopen?!0:!1,e.isSound="1"==Global.sound_isopen?!0:!1,e.isMusic?e.checksound.selected=!0:e.checksound.selected=!1,e.isSound?(SoundMgr.getInstance().SetEffectVolume(1),e.checkeffect.selected=!0):(SoundMgr.getInstance().SetEffectVolume(0),e.checkeffect.selected=!1)},a.prototype.touchTapFun=function(t){var a=this;switch(t.target){case a.closebtn:a.close();break;case a.panel_bg.closebtn:a.close();break;case a.namebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_name]);break;case a.logobtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_logo]);break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_exchange]);break;case a.helpbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_secretary,1]);break;case a.addfriendbtn:a.addfriendbtn.visible=!1;var i=a.m_clubData;i&&(i.apply=1,FLOAT.NShowPutong([Language.ins.club_tip7]),GlobalAllProxy.getInstance().friendProxy.NetUserFriendAdd(i.fid));break;case a.soundG:a.isMusic=!a.isMusic,Global.setMusicBl(a.isMusic),a.changesound();break;case a.effectG:a.isSound?a.setSoundFun(!1):(a.isSound=!1,a.setSoundFun(!0));break;case a.tipimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_change],1);break;case a.tipimg0:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_change],2);break;case a.tipimg1:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_achieve_change],3);break;case a.userbtn:JAlert.showinfostr(Language.ins.club_tip6,Language.ins.title_tishi,null,null,!1);break;case a.actieveRankG:a.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamerank,e.RankView.type_achieve]);break;case a.wikihuiyou:a.clickYaHooWikiHuiYouBtnHandler()}},a.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist2;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=ClubPlayerRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollB;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showDataA=function(e,t){for(var a=this,i=e,n=1;4>n;n++)i.length<n&&i.push("");var o=a.datalist;if(o.itemRenderer?i&&i.length?o.dataProvider.replaceAll(i):o.dataProvider=new eui.ArrayCollection(i):(o.itemRenderer=ClubAchieveRender,o.dataProvider=new eui.ArrayCollection(i)),t){var r=a.datascrollA;r&&(r.stopAnimation(),r.viewport.scrollV=0)}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist0;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=CoachLookRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.clickYaHooWikiHuiYouBtnHandler=function(){var e=document.createEvent("UIEvents");e.initEvent("recommendation",!0,!1),dispatchEvent(e),console.log("@点击回游装置")},a.type_achieve=0,a.type_player=1,a.type_guild=2,a.type_coach=3,a}(e.VM);e.ClubDetailView=t,__reflect(t.prototype,"vm.ClubDetailView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.fighttype=0,t.nandu=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ClubFightMapInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),a.readPanelVO(),t){a.m_initstar=["tab_jjsx_b4","tab_jjsx_b6","tab_jjsx_b8"],a.m_getstar=["tab_jjsx_b3","tab_jjsx_b5","tab_jjsx_b7"],a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_clubfightmap;for(var i,n,o=0;3>o;o++)i=new eui.VerticalLayout,i.gap=-6,a["iawardlist"+o].setImgWH(40,40),a["iawardlist"+o].layout=i,a["iawardlist"+o].setTextSize(18),n=a["randawardlist"+o],n.setGroupAlign(egret.HorizontalAlign.CENTER);a.igtiptxt0.text=Language.ins.club_tip33,a.igtiptxt1.text=Language.ins.club_tip33,a.igtiptxt2.text=Language.ins.club_tip33,a.iftiptxt0.text=Language.ins.club_tip34,a.iftiptxt1.text=Language.ins.club_tip34,a.iftiptxt2.text=Language.ins.club_tip34,a.ifightbtn0.label=Language.ins.club_tip35,a.ifightbtn1.label=Language.ins.club_tip35,a.ifightbtn2.label=Language.ins.club_tip35,a.sweepbtn0.label=Language.ins.club_tip36,a.sweepbtn1.label=Language.ins.club_tip36,a.sweepbtn2.label=Language.ins.club_tip36,a.outtip0.text=Language.ins.club_tip37,a.outtip1.text=Language.ins.club_tip38,a.otiptxt0.text=Language.ins.club_tip39,a.otiptxt1.text=Language.ins.club_tip39,a.otiptxt2.text=Language.ins.club_tip40}a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_rendervo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_rendervo;if(a){t.logoimg.setLogoUrl(a.logo);for(var i,n,o,r,s=(a.mapid,a.mapstar),l=t.m_initstar,p=t.m_getstar,c=!1,u=0;3>u;u++)i=u+1,n=GlobalConfig.getCopyclubgradeVO(a.mapid,i),a.isover?(s>=i?(o=utils.GameComUtil.getItemVoArr(n.winreward,null),r="tab_jjsx_e1",t["istarimg"+u].source=p[u],c=!0):(t["istarimg"+u].source=l[u],o=utils.GameComUtil.getItemVoArr(n.winfreward,null),r="tab_jjsx_e2",c=!1),t["starimg"+u].source=s>=i?"tab_jjsx_b3":"tab_jjsx_b4"):(t["starimg"+u].source=s>i?"tab_jjsx_b3":"tab_jjsx_b4",s>i?(o=utils.GameComUtil.getItemVoArr(n.winreward,null),r="tab_jjsx_e1",t["istarimg"+u].source=p[u],c=!0):(t["istarimg"+u].source=l[u],o=utils.GameComUtil.getItemVoArr(n.winfreward,null),r="tab_jjsx_e2",c=!1)),t["itipimg"+u].source=r,t["itiptxt"+u].text=n.power,t["iawardlist"+u].setDataArr(o),t["sweepbtn"+u].visible=!1,t["ifightbtn"+u].visible=!1,c?(t["iawardlist"+u].y=146,t["randitemG"+u].visible=!0,o=utils.GameComUtil.getItemVoArr(n.getRandAwardStr(),null),t["randawardlist"+u].setDataArr(o,"",!1,!1,!0)):(t["randitemG"+u].visible=!1,t["iawardlist"+u].y=126),s>=i?(t["ifightbtn"+u].enabled=!0,c?t["sweepbtn"+u].visible=!0:t["ifightbtn"+u].visible=!0):t["ifightbtn"+u].enabled=!1,s>i?(utils.GameUtil.setColorGrey(t["infoG"+u],!1),t["opentiptxt"+u].visible=!1):s==i?(utils.GameUtil.setColorGrey(t["infoG"+u],!1),t["opentiptxt"+u].visible=!1):(utils.GameUtil.setColorGrey(t["infoG"+u],!0),t["opentiptxt"+u].visible=!0);GlobalConfig.getCopyClubGradeCescribeVO(n.level);t.panel_bg.titlename.text=Language.ins.dekaron_tip26,t.nametxt.text=FormatString.format(Language.ins.dekaron_tip1,n.copynum)+"-"+n.name}n&&(t.outimg.source=n.getClubIconStr(),t.outtip1.text=n.getClubIconTip())},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CLUB_FIGHT_BUYTIME,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CLUB_FIGHT_BUYTIME,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CLUB_FIGHT_BUYTIME:0!=a.fighttype&&0!=a.nandu&&(1==a.fighttype?a.gofight(a.nandu):a.sweepfight(a.nandu)),a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.ifightbtn0:t.gofight(1),t.fighttype=1,t.nandu=1;break;case t.ifightbtn1:t.gofight(2),t.fighttype=1,t.nandu=2;break;case t.ifightbtn2:t.gofight(3),t.fighttype=1,t.nandu=3;break;case t.sweepbtn0:t.sweepfight(1),t.fighttype=2,t.nandu=1;break;case t.sweepbtn1:t.sweepfight(2),t.fighttype=2,t.nandu=2;break;case t.sweepbtn2:t.sweepfight(3),t.fighttype=2,t.nandu=3}},t.prototype.sweepfight=function(e){var t=this,a=t.m_rendervo,i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=i.challenges;if(0==n){var o=GlobalConfig.getVipVO(i.vipLevel),r=o.gradelimit+game.ComMonthCarVO.getNumGradelimit();i.buyChallenges>=r?FLOAT.NShowPutong([Language.ins.fight_tip23]):t.buytimefun()}else if(a){t.close();var s=a.mapid,l=GlobalConfig.getCopyclubgradeVO(s,e);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_sweep],new SBattleRequest(FightEnum.type_pvc,s,!0,e,l.level))}},t.prototype.buytimefun=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=ParamLoader.instance,i=(t.challenges,a.ServerUpgradeLimit,GlobalConfig.getVipVO(t.vipLevel)),n=t.buyChallenges,o=i.gradelimit+game.ComMonthCarVO.getNumGradelimit();o>n?e.fightfastbuf():FLOAT.NShowPutong([Language.ins.fight_tip23])},t.prototype.fightfastbuf=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(t){var a=GlobalConfig.getVipVO(t.vipLevel),i=t.buyChallenges,n=a.gradelimit+game.ComMonthCarVO.getNumGradelimit(),o=n-i,r=new AlertBuyTimeViewVO,s=FormatString.format(Language.ins.club_map_tip8,o,n);r.tipstr=s,r.title=Language.ins.club_map_tip7,r.costitemid=GlobalEnum.itemid_ug,r.costtype=alert_buy.type_club,r.curbuynum=i,r.maxnum=o,r.callFun=e.clickfastbuy,r.callself=e,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_buttime],r)}},t.prototype.getbuycost=function(){var e=0,t=GlobalAllProxy.getInstance().playerProxy.playerinfo.buyChallenges,a=t+1,i=GlobalConfig.getPriceVO(a);return i&&(e=i.gradetimes),e},t.prototype.clickfastbuy=function(e){GlobalAllProxy.getInstance().fightProxy.NetBBuyGoods(1,e)},t.prototype.gofight=function(e){var t=this,a=t.m_rendervo,i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=i.challenges;if(0==n){var o=GlobalConfig.getVipVO(i.vipLevel),r=o.gradelimit+game.ComMonthCarVO.getNumGradelimit();i.buyChallenges>=r?FLOAT.NShowPutong([Language.ins.fight_tip23]):t.buytimefun()}else if(a){t.close();var s=a.mapid,e=e,l=GlobalConfig.getCopyclubgradeVO(s,e),p=!1,c=GlobalAllProxy.getInstance().playerProxy.clubData;if(p=c.level<l.unlock?!1:!0,!p&&l){var u=FormatString.format(Language.ins.club_time_tip_5,l.unlock);FLOAT.NShowPutong([u])}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvc,s,!0,e,l.level))}},t}(e.VM);e.ClubFightMapInfoView=t,__reflect(t.prototype,"vm.ClubFightMapInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.chooseMapStar=1,t.m_moveindex=0,t.m_firstgonew=!1,t.m_mapmin=0,t.m_mapmax=0,t.m_initlevel=0/0,t.m_mapnames=["tab_jjsx_a4","tab_jjsx_a6","tab_jjsx_a5","tab_jjsx_a3","tab_jjsx_a7","tab_jjsx_d1"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ClubFightMapSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu),a=ResName.getDragonFastArr(ResName.mc_jingjisai),i=t.concat(a);e.runto(this,i)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.readPanelVO(),a.initData(),a.initAddEvent(),t){a.gifbar.ShowLabel=!1,a.m_imgurlarr=["icon_101","icon_102","icon_104","icon_105"];var a=this;a.mappanelarr=[],a.m_mapmax=GlobalConfig.copyclubgradedescribe_DATA.length,a.m_mapmin=1,a.maptip.text=Language.ins.club_tip41}a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_clubfightmap),a.addChild(a.m_toppanel),a.changeShow(a.m_firstgonew),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;if(e.m_initlevel=0/0,e.panelVo){var t=e.panelVo.childtype;t&&(e.m_initlevel=t)}},t.prototype.initData=function(){var e=this,t=0,a=Manifest.getIns(FightDM),i=a.getFightData(FightEnum.type_pvc);if(i){e.m_firstgonew=!1;var n=i.isWin(),o=Math.floor(i.nowid),r=parseInt(i.custom),s=GlobalConfig.getCopyclubgradeVO(o,r);if(n){var l,p,c=GlobalConfig.COPYCLUBGRADE_DATA;for(var u in c)l=c[u],l.fid==o&&(p=l);p?(e.chooseMapN=p.level,e.chooseMapID=p.id):(e.chooseMapN=s.level,e.chooseMapID=s.id)}else e.chooseMapN=s.level,e.chooseMapID=o}else{var m=GlobalAllProxy.getInstance().playerProxy.clubData;if(e.m_firstgonew=!0,m&&m.mapRecord&&m.mapRecord.length){for(var g,_,h,d=m.mapRecord,y=0,v=0,f=d.length;f>v;v++)g=d[v],g.mapId>y&&(y=g.mapId,_=g);if(_){h=GlobalConfig.getCopyclubgradeVOArr(y);var b=0,G=_.customs;if(h&&G){for(var x,C=0,T=G.length;T>C;C++)x=G[C],x.degree&&(b+=1);if(h&&h.length<=b){var P=_.mapId+1;GlobalConfig.getCopyClubGradeCescribeVO(P)&&(y=P)}}}t=GlobalConfig.firstClubGradeid,e.chooseMapID=t,e.chooseMapN=y}else{t=GlobalConfig.firstClubGradeid,e.chooseMapID=t;var A=GlobalConfig.getCopyclubgradeVO(e.chooseMapID,e.chooseMapStar);e.chooseMapN=A.level}}isNaN(e.m_initlevel)||(e.chooseMapN=e.m_initlevel,e.m_initlevel=0/0)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;egret.clearTimeout(a.m_buytime),utils.GameComUtil.removeAnimoSelf(a.gifmc0),utils.GameComUtil.removeAnimoSelf(a.gifmc1),utils.GameComUtil.removeAnimoSelf(a.gifmc2),utils.GameComUtil.removeAnimoSelf(a.gifmc3),this.removeEvent(),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_jingjisai])},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var i=(a.mapRecord,a.getSMapRecord(t.chooseMapN)),n=[];i&&(n=i.customs);var o,r=Manifest.getIns(FightDM),s=r.getFightData(FightEnum.type_pvc);s&&!s.a_isplaymc&&s.isWin()&&(s.a_isplaymc=!0,o=s.nowid);var l=this.chooseMapID,p=0;if(l){for(var c,u,m,g,_,h,d,y=GlobalConfig.getCopyclubgradeVOArr(this.chooseMapN),v=[],f=-1,b=0,G=y.length,x=t.mappanelarr,C=x.length,T=0;G>T;T++){for(c=y[T],u=new ClubFightIconPanelVO,u.level=c.level,u.mapid=c.id,u.guanid=T+1,u.logo=c.logo,u.anchor=c.anchor,u.mapstar=1,u.isopen=!1,u.isover=!1,u.isplaymc=parseInt(o)==c.id?!0:!1,m=0,g=n.length;g>m;m++)_=n[m],_.missionId==c.id&&(u.isopen=_.degree>0?!0:!1,3==_.degree?(u.mapstar=_.degree,u.isover=!0):(u.mapstar=_.degree+1,u.isover=!1));l==u.mapid&&(p=T),u.isopen?(f=T,b=T,h=u.mapid):f+1==T&&(u.isopen=!0,b=T,h=u.mapid),v.push(u),C>T?d=x[T]:(d=new ClubFightIconPanel,x.push(d),t["fighticon"+T]=d),d.setChoose(!1),d.setData(u),t.mapG.addChild(d)}e?(t.chooseMapID=v[b].mapid,p=b>0?b-1:b,0>p&&(p=0),p>=G-4&&(p=G-4),this.m_moveindex=p):(p>0&&(p-=1),0>p&&(p=0),p>=G-4&&(p=G-4),this.m_moveindex=p);var P=(GlobalAllProxy.getInstance().playerProxy.playerinfo,a.getSMapCustoms(h));P&&P.degree||(d=x[b],d&&d.setChoose(!0)),this.chooseArr=v,t.changechoose(),this.showMapNum()}t.changeshowGif();var A=t.m_mapmin,w=t.m_mapmax,k=t.chooseMapN;t.leftbtn.visible=k>A?!0:!1,t.rightbtn.visible=w>k?!0:!1;var I=t.m_mapnames,S=k-1;t.mapimgbg.source=I[S],t.reshtimefun(),t.getTipblClubfightfull_reward()}},t.prototype.getTipblClubfightfull_reward=function(e){var t,a=this,i=[],n=GlobalAllProxy.getInstance().playerProxy.clubData;if(a.righthimg.visible=!1,a.lefthimg.visible=!1,n&&n.mapRecord&&n.mapRecord.length){for(var o,r,s,l=n.mapRecord,p=0,c=0,u=l.length;u>c;c++)o=l[c],o.mapId>p&&(p=o.mapId,r=o);if(r){s=GlobalConfig.getCopyclubgradeVOArr(p);var m=0,g=r.customs;if(s&&g){for(var _,h=0,d=g.length;d>h;h++)_=g[h],_.degree&&(m+=1);if(s&&s.length<=m){var y=r.mapId+1;GlobalConfig.getCopyClubGradeCescribeVO(y)&&(p=y)}}t=p;for(var v=1;t>=v;v++){var f=v,b=n.getSMapRecord(f),G=GlobalConfig.getCopyclubgradestarForLevel(f),x=0;b&&b.star&&(x=b.star);for(var C,T,P,d=G.length,h=0;d>h;h++)if(T=G[h],C=!1,b&&-1!=b.gift.indexOf(T.id)&&(C=!0),P=T.getnum(),x>=P&&!C){i.push(v);break}}for(var A=0,w=i.length;w>A;A++)+i[A]>+a.chooseMapN&&(a.righthimg.visible=!0),+i[A]<+a.chooseMapN&&(a.lefthimg.visible=!0)}}},t.prototype.reshtimefun=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=ParamLoader.instance,i=t.challenges,n=a.ServerUpgradeLimit;if(n>i){var o=Math.floor(.001*Global.systemTimeNum),r=a.ServerUpgradeRec,s=t.restoreTime,l=r-(o-s);0>l&&(l=0),l>r&&(l=r);var p=utils.GameComUtil.getTimeNum(l);e.timetip.text=FormatString.format(Language.ins.fight_tip22,p)}else e.timetip.text="";e.timetxt.text=i+"/"+n,egret.clearTimeout(e.m_buytime),e.m_buytime=egret.setTimeout(e.reshtimefun,e,1e3)},t.prototype.changeshowGif=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.clubData;if(t){var a=(gif_type.type_clubmap,e.chooseMapN),i=t.getSMapRecord(a),n=GlobalConfig.getCopyclubgradestarForLevel(a),o=0;i&&i.star&&(o=i.star);for(var r,s,l,p,c,u,m=n.length,g=0,_=e.gifbar.x,h=e.gifbar.width,d=0,y=100,v=0,f=[],b=[],G=0;m>G&&(s=n[G],g=G,e["gifG"+g]);G++)r=!1,u=e.m_imgurlarr[g],i&&-1!=i.gift.indexOf(s.id)&&(r=!0),l=s.getnum(),c=e["gifG"+g].x+e["gifxian"+g].x-_+3,b.push(c/h),f.push(l),e["gifstartxt"+g].text=o+"/"+l,utils.GameUtil.setColorGrey(e["gifimg"+g],!1),o>=l?r?(utils.GameUtil.playGifMc(g,!1,e,u),utils.GameUtil.setColorGrey(e["gifimg"+g],!0)):utils.GameUtil.playGifMc(g,!0,e,u):utils.GameUtil.playGifMc(g,!1,e,u),e["gifling"+g].visible=r?!0:!1,r||p||(p=s),o>l&&(v=G+1);var x;if(v>=f.length)d=y;else{var C=f[v],T=b[v];if(v>0){var P=f[v-1],A=b[v-1];x=(o-P)/(f[v]-P),d=100*(A+(T-A)*x)}else x=o/C,d=T*x*100}e.gifbar.setValue(d,y)}},t.prototype.showMapNum=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.clubData;if(t)for(var a,i,n,o,r,s,l=e.chooseMapN,p=(GlobalConfig.copyclubgradedescribe_DATA,1);6>=p;p++)r=p-1,i=GlobalConfig.getCopyClubGradeCescribeVO(p),a=t.getSMapRecord(p),n=0,a&&a.star&&(n=a.star),o=t.getSMapIsOpen(i.unlock),p==l&&(e.curmapimg.source=i.icon,e.curmapdes.text=i.des,e.curmapname.text=i.name,e.m_playerid=i.rewardplayer,s=GlobalConfig.getPlayerPorpertyVO(i.rewardplayer),e.heroicon.setData(s),e.curmapA.source=i.pic,2==i.display?PFAll.isNowPF([Global.severNE_russia,Global.severNE_english])?e.partnerG.x=Global.stageWidth-e.partnerG.width-50:e.partnerG.x=540:e.partnerG.x=40,e.infoG.verticalCenter=i.move)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_PVC_HIS_DATA,e.eventChange),e.addMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.addMessage(game.GameCommands.CLUB_FIGHT_BUYTIME,e.eventChange),e.addMessage(game.GameCommands.GET_CLUB_SWEEP,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_PVC_HIS_DATA,e.eventChange),e.removeMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.removeMessage(game.GameCommands.CLUB_FIGHT_BUYTIME,e.eventChange),e.removeMessage(game.GameCommands.GET_CLUB_SWEEP,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_PVC_HIS_DATA:a.changeShow();break;case game.GameCommands.GET_CLUB_SWEEP:a.changeShow();break;case game.GameCommands.CLUB_FIGHT_BUYTIME:a.changeShow();break;case game.GameCommands.FIGHT_PLAY_OVER:e==FightEnum.type_pvc&&a.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.changechoose=function(e){void 0===e&&(e=0/0);for(var t,a=this,i=a.chooseArr,n=0/0,o=i.length,r=!1,s=0;o>s;s++)if(t=i[s],t.mapid==a.chooseMapID){n=s,a.chooseMapStar=t.mapstar,r=t.isover;break}isNaN(n)&&(n=0,o&&(a.chooseMapID=i[0].mapid,a.chooseMapStar=i[0].mapstar,r=i[0].isover));var a=this,l=GlobalConfig.getCopyclubgradeVO(a.chooseMapID,a.chooseMapStar);if(l){GlobalConfig.getCopyClubGradeCescribeVO(l.level),utils.GameComUtil.getItemVoArr(l.winfreward,null);a.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target.name,i="fighticon",n=e.target;if(a==i){var o=n.parent;if(o&&n.parent instanceof ClubFightIconPanel){var r=o._data;r.isopen?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_clubmap_info],r):FLOAT.NShowPutong([Language.ins.club_map_tip1])}return void(game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick))}switch(n){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close();break;case t.leftbtn:t.listMove(1);break;case t.rightbtn:t.listMove(-1);break;case t.addbtn:t.buytimefun();break;case t.gifrct0:t.getGiffun(0,t.gifimg0);break;case t.gifrct1:t.getGiffun(1,t.gifimg1);break;case t.gifrct2:t.getGiffun(2,t.gifimg2);break;case t.gifrct3:t.getGiffun(3,t.gifimg3);break;case t.heroicon:if(t.m_playerid){var s=GlobalConfig.getPlayerPorpertyVO(t.m_playerid),l=s.playerid,p=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(p,l,s,!0))}}},t.prototype.getchoosemc=function(){var e=this,t=ResName.mc_jingjisai,a=utils.GameComUtil.getArmature(t,t,e,!0);return a&&(a.touchChildren=!1,a.touchEnabled=!1),a},t.prototype.fightfastbuf=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(t){var a=GlobalConfig.getVipVO(t.vipLevel),i=t.buyChallenges,n=a.gradelimit+game.ComMonthCarVO.getNumGradelimit(),o=n-i,r=new AlertBuyTimeViewVO,s=FormatString.format(Language.ins.club_map_tip8,o,n);r.tipstr=s,r.title=Language.ins.club_map_tip7,r.costitemid=GlobalEnum.itemid_ug,r.costtype=alert_buy.type_club,r.curbuynum=i,r.maxnum=o,r.callFun=e.clickfastbuy,r.callself=e,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_buttime],r)}},t.prototype.getbuycost=function(){var e=0,t=GlobalAllProxy.getInstance().playerProxy.playerinfo.buyChallenges,a=t+1,i=GlobalConfig.getPriceVO(a);return i&&(e=i.gradetimes),e},t.prototype.clickfastbuy=function(e){GlobalAllProxy.getInstance().fightProxy.NetBBuyGoods(1,e)},t.prototype.buytimefun=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=ParamLoader.instance,i=(t.challenges,a.ServerUpgradeLimit,GlobalConfig.getVipVO(t.vipLevel)),n=t.buyChallenges,o=i.gradelimit+game.ComMonthCarVO.getNumGradelimit();o>n?e.fightfastbuf():FLOAT.NShowPutong([Language.ins.fight_tip23])},t.prototype.listMove=function(e){void 0===e&&(e=0/0);var t=this,a=t.chooseMapN;isNaN(e)||(1==e?a-=1:a+=1);var i=GlobalAllProxy.getInstance().playerProxy.clubData;
if(i){var n;n=GlobalConfig.getCopyClubGradeCescribeVO(a);var o=i.getSMapIsOpen(n.unlock);o?(t.chooseMapN=a,t.chooseMapNumFun(t.chooseMapN)):FLOAT.NShowPutong([Language.ins.fight_tip28])}},t.prototype.chooseMapNumFun=function(e){var t=this;t.chooseMapN=e,t.m_moveindex=0,t.changeShow(!0)},t.prototype.changeTipMC=function(){var e=this,t=(GlobalAllProxy.getInstance().gameProxy,!1),e=this,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(a)for(var i,n,o,r,s,l,p,c=0,u=GlobalConfig.copyclubgrade_min_level,m=GlobalConfig.copyclubgrade_max_level,g=u;m>=g;g++){if(n=g,i=GlobalConfig.getCopyclubgradestarForLevel(n),p=a.getSMapRecord(n),c=0,t=!1,p&&p.star)for(c=p.star,o=i.length,l=0;o>l;l++)if(s=i[l],r=!1,p&&-1!=p.gift.indexOf(s.id)&&(r=!0),s.starnum<=c&&!t&&!r){t=!0;break}e.showTipMcMap(t,g-1)}},t.prototype.showTipMcMap=function(e,t){var a=this,i=e,n=a["mmapimg"+t],o="tipmcmmapimg"+t;null!=n&&(a[o]=utils.GameComUtil.getTipMcImg(a[o],n,!1),a["minfoG"+t].addChild(a[o]),a[o].visible=i)},t.prototype.receiveRewardGif=function(e,t){GlobalAllProxy.getInstance().playerProxy.NetClubGameRecord(t)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.getGiffun=function(e,t){var a=this,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(i){var n=gif_type.type_clubmap,o=0,r=a.chooseMapN,s=i.getSMapRecord(r),l=GlobalConfig.getCopyclubgradestarForLevel(r);s&&s.star&&(o=s.star);for(var p,c,u,m,g,_,h=[],d=l.length,y=0/0,v=0;d>v;v++)u=l[v],c=!1,s&&-1!=s.gift.indexOf(u.id)&&(c=!0),m=u.getnum(),p=new AlertRewardGifVO(n,u.id,o,m,c),v==e&&((c||m>o&&!c)&&(g=u),_=u.id),h.push(p);if(g){var f=utils.GameComUtil.getItemVoArr(g.getAwardStr());utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,f)}else _&&a.receiveRewardGif(y,_)}},t}(e.VM);e.ClubFightMapView=t,__reflect(t.prototype,"vm.ClubFightMapView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ClubGradeInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_club_gradeinfo,a.exchangebtn.label=Language.ins.btn_goto,a.upgradebtn.label=Language.ins.game_upgrade_s),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}var t=GlobalAllProxy.getInstance().playerProxy.clubData;t&&(e.m_choosetype=t.grade)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.showbuilddata()},t.prototype.showbuilddata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.clubData;if(e.playimg.visible=!1,e.leftbtn.visible=!1,e.rightbtn.visible=!1,e.locktipG.visible=!1,e.exchangebtn.visible=!1,e.lockimg.visible=!1,utils.GameUtil.setColorGrey(e.buildimg,!1),t){var a=t.grade,i=e.m_choosetype,n=i-1;e.logoimg.source=ResName.club_grade_arr[n];var o=GlobalConfig.getClubgradeVO(i);if(o){if(o.copyid){var r=GlobalConfig.getCopyclubgradeVO(o.copyid,3),s=GlobalConfig.getCopyClubGradeCescribeVO(r.level),l=(s.name+"-"+FormatString.format(Language.ins.dekaron_tip1,r.copynum)+"-"+r.name,t.getSMapCustoms(o.copyid));l&&3==l.degree?(e.locktxt.textColor=ColorUtil.green,e.lockstate.source="tab_kjzx_g9"):(e.lockstate.source="tab_jy_g5",e.locktxt.textColor=ColorUtil.red)}i>a&&(e.locktipG.visible=!0,e.exchangebtn.visible=!0),i>a&&(e.lockimg.visible=!0,utils.GameUtil.setColorGrey(e.buildimg,!0)),1!=i?e.locktxt.text=GlobalConfig.getClubgradeVO(i-1).gradedes:e.locktxt.text=o.gradedes,e.buildimg.source=ResName.getBuildImg(stafftype.type_player,i,!1,!1),a==i&&(e.playimg.visible=!0);var p=o.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(e.titleBZG,ResName.fnt_title,p,ResName.spa_title_a),e.ctiptxt0.text=Language.ins.club_tip0,e.ctiptxt1.text=Language.ins.club_tip1,e.ctiptxt2.text=Language.ins.club_tip2,e.ctiptxt3.text=Language.ins.club_tip3;for(var c,u,m,g=[GlobalEnum.itemid_coin,GlobalEnum.itemid_techdian,GlobalEnum.itemid_study,GlobalEnum.itemid_qiutan],_=["clubrate","researchrate","tacticsrate","scoutrate"],h=0,d=g.length;d>h;h++)c=g[h],u=GlobalConfig.getItemVo(c),e["ctipnum"+h].text=u.name,e["ctipicon"+h].source=ResName.getMinItemIcon(c),m=parseFloat(o[_[h]])-1,e["ctipadd"+h].text="+"+Math.round(100*m)+"%";GlobalConfig.getClubgradeVO(i-1)&&(e.leftbtn.visible=!0),GlobalConfig.getClubgradeVO(i+1)&&(e.rightbtn.visible=!0)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.leftbtn:t.m_choosetype-=1,t.showbuilddata();break;case t.rightbtn:t.m_choosetype+=1,t.showbuilddata();break;case t.upgradebtn:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_info]);break;case t.exchangebtn:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_clubfightmap])}},t}(e.VM);e.ClubGradeInfoView=t,__reflect(t.prototype,"vm.ClubGradeInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.recruitnum=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ClubRecruitStaffSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.recruitnum=0,t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_club_recruitstaff,a.recruitbtn.label=Language.ins.scout_tip5,a.cancelbtn.label=Language.ins.game_cancel,a.cancelbtn.label=Language.ins.game_cancel,a.synCtxt.text=Language.ins.alert_tip1),a.changeShow();var i=GlobalEnum.itemid_coin;a.synimg.source=ResName.getMinItemIcon(i)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=(t.level,GlobalAllProxy.getInstance().playerProxy.clubData);if(a){var i=GlobalConfig.getClubgradeVO(a.grade),n=a.getAllStaffNum(),o=i.maxstaff,r=o-n,s=t.gold,l=GlobalConfig.getStaffCost(n,r,s);if(l&&l.length){var p=l[0];r=p.addnum}r>0?e.synchange.setdata(0,r,1):e.synchange.setdata(0,r,0),e.synchange.addEventFun(),e.synnumchange()}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_CLUB_PERSON_CHANGE,e.eventChange),e.synchange.addEventListener(egret.Event.CHANGE,e.synnumchange,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_CLUB_PERSON_CHANGE,e.eventChange),e.synchange.removeEventListener(egret.Event.CHANGE,e.synnumchange,e),e.synchange.removeEventFun()},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_CLUB_PERSON_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.cancelbtn:t.close();break;case t.recruitbtn:t.recruitnum||FLOAT.NShowPutong([Language.ins.club_staff_tip1]);break;case t.panel_bg.closebtn:t.close()}},t.prototype.synnumchange=function(e){void 0===e&&(e=null);var t=this;t.synchange.getValue();t.recruitnum=t.synchange.getValue();var t=this,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=(a.level,GlobalAllProxy.getInstance().playerProxy.clubData),n=GlobalConfig.getClubgradeVO(i.grade),o=i.getAllStaffNum(),r=t.recruitnum;if(0>r&&(r=0),n){var s=n.allstaff;o+r>s&&(r=s-o);a.gold;if(t.costArr=GlobalConfig.getStaffCost(o,r,0/0),t.recruitnum=r,t.costArr&&t.costArr.length){var l=t.costArr[0];t.synCnumtxt.text=l.count+""}}var p=FormatString.format(Language.ins.club_tip54,o,n.allstaff);t.tiptxt3.text=p},t}(e.VM);e.ClubRecruitStaffView=t,__reflect(t.prototype,"vm.ClubRecruitStaffView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.ClubSweepSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_clubsweep,a.tiptxt1.text=Language.ins.club_tip42,a.tiptxt3.text=Language.ins.club_tip43,a.tipt0.text=Language.ins.club_tip44,a.tipt1.text=Language.ins.club_tip45,a.tiptxt2.text=Language.ins.club_tip46,a.tiptxt7.text=Language.ins.club_tip48,a.sweepbtn.label=Language.ins.club_tip47,a.okbtn.label=Language.ins.btn_ok),a.changeShow(null,!0)},a.prototype.readPanelVO=function(){var e=this;if(e.m_type=a.type_sweep,e.panelVo){var t=e.panelVo.panelobj;t&&(e.mapvo=t)}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;a.showsweepfun(),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(t,a){void 0===t&&(t=null);var i=this,n=i.m_type;i.m_sweepdata=t,i.choitemG.visible=!1,i.resultG.visible=!1;var o=i.mapvo,r=GlobalConfig.getCopyclubgradeVO(o.enemy,o.custom);if(n==e.ClubSweepView.type_sweep){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo,l=s.challenges;if(i.usechange.setdata(0,l,1,!0),i.usechange.addEventFun(),i.choitemG.visible=!0,r){var p=r.winreward,c=utils.GameComUtil.getItemVoArr(p);i.winawardlist.setDataArr(c,"x"),c=utils.GameComUtil.getItemVoArr(r.getRandAwardStr()),i.randawardlist.setDataArr(c,"",!1,!1,!0)}}else{var u=t;i.resultG.visible=!0;var m,g=[],_=u.item,h=game.ComItemGroupVo.getUserItemArr(_),d=u.showItem;h&&i.mapAwardListG.setDataArr(h,"",!0,!1,!0);for(var y,v,f,b=utils.GameComUtil.getItemVoArr(r.winreward),G=0,x=d.length;x>G;G++)y=d[G],v=utils.GameComUtil.getItemVoArr(y),f=b.concat(v),m=new ClubSweepRenderVO,m.itemarr=f,m.time=G+1,g.push(m);i.showData(g,!0)}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_CLUB_SWEEP,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_CLUB_SWEEP,e.eventChange),e.usechange.removeEventFun()},a.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.GET_CLUB_SWEEP:this.m_type=a.type_result;var i=e;this.changeShow(i,!0)}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.sweepbtn:t.sweepFun();break;case t.okbtn:t.close();break;case t.panel_bg.closebtn:t.close()}},a.prototype.showsweepfun=function(){var e=this;if(e.m_sweepdata){var t=e.m_sweepdata;GlobalAllProxy.getInstance().backpackProxy.addServerItem(t.item),e.m_sweepdata=null}},a.prototype.sweepFun=function(){var e=this,t=e.mapvo;if(t){var a=e.usechange.getValue();GlobalAllProxy.getInstance().fightProxy.NetBMoppingUp(t.mapId,t.enemy,t.custom,a)}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ClubSweepRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.type_sweep=0,a.type_result=1,a}(e.VM);e.ClubSweepView=t,__reflect(t.prototype,"vm.ClubSweepView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.panelArr=["vm.CoachInfoPanel","vm.CoachTrainPanel","vm.CoachExcitaPanel","vm.CoachUpgradePanel"],e.m_chooseN=0,e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.CoachBgSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var a=this;t.prototype.onShow.call(this,e),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_coach),a.addChild(a.m_toppanel),e&&(a.backbtn.setSwitchImg("tab_jl_b7","tab_jl_h8"),a.trainbtn.setSwitchImg("tab_jl_b6","tab_jl_i3"),a.excitationbtn.setSwitchImg("tab_jl_b8","tab_jl_i2"),a.advanbtn.setSwitchImg("tab_jl_b9","tab_jl_h9"),a.activabtn.label=Language.ins.btn_activation),a.resizefun(),a.removeGetNew()},a.prototype.readPanelVo=function(){var e=this;e._chooseid=GlobalAllProxy.getInstance().playerProxy.getCoachPlay();var t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},a.prototype.changeChoose=function(e){var t=this;t._choosemode=e,t.changeshow(),t.removeGetNew()},a.prototype.removeGetNew=function(){var e=GlobalAllProxy.getInstance().playerProxy.getCoachPlay(),t=GlobalAllProxy.getInstance().playerProxy.coachdata;t&&e&&t.removeNewPlayid(e)},a.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.coachdata;if(a){for(var i,n,o,r,s=[],l=a.coach,p=GlobalConfig.coach_data,c=p.length,u=l.length,m=0;c>m;m++){for(o=new CoachBgRenderVO,i=p[m],o.itemvo=i,o.isopen=0,o.coachid=i.coachid,o.severvo=null,o.ischoose=0,o.rank=i.rank,r=0;u>r;r++)if(n=l[r],i.coachid==n.coachId){o.severvo=n,o.isopen=1;break}e._chooseid==i.coachid&&(o.ischoose=1),s.push(o)}s.sort(utils.GameUtil.sortMatckFun(["isopen","rank"],[1,0])),this.m_dparr=s,e.changeCoachData(),e.changeTypeList()}},a.prototype.changeCoachData=function(){var t=this;t.btnG.visible=!1,t.btnG1.visible=!1,t.zhanliG.visible=!1;var a,i=GlobalAllProxy.getInstance().playerProxy,n=i.coachdata;if(n&&t._chooseid){var o=1;a=GlobalConfig.getCoachVO(t._chooseid);var r=i.getCoachPlayerVO(t._chooseid);if(a&&(t.headimg.source=a.bigicon),r){o=r.coachClass,t.btnG.visible=!0,t.backbtn.selected=t._choosemode==e.CoachBgView.type_info?!0:!1,t.trainbtn.selected=t._choosemode==e.CoachBgView.type_train?!0:!1,t.excitationbtn.selected=t._choosemode==e.CoachBgView.type_excita?!0:!1,t.advanbtn.selected=t._choosemode==e.CoachBgView.type_upgrade?!0:!1,t.zhanliG.visible=!0;var s=new SCoachInfo(r.coachId,r.level,r.star,r.coachClass),l=Math.floor(i.getOneCoachZhanli(s));t.zhanlitxt.text=l}else t.btnG1.visible=!0,t.tiptxt3.text=a.unlockdes;t.headbg.source=ResName.coach_class_arr[o-1]}t.changeTipMC(),t.changeTypeList()},a.prototype.changeTypeList=function(){var e=this,t=this.m_dparr;if(t){var a=t.length,i=e.m_chooseN;e.leftbtn.visible=!1,e.rightbtn.visible=!1,i+4>=a?i=a-4:e.rightbtn.visible=!0,0>=i?i=0:e.leftbtn.visible=!0;for(var n,o,r=[],s=t.length,l=0;4>l;l++)n=i+l,o=t[n],s>n?r.push(o):r.push(null);e.showData(r,!0)}},a.prototype.changeshow=function(){var t=this;t.hitalllist();var a=t.panelArr[t._choosemode],i=t[a];t.contgroup.visible=!0,t._choosemode==e.CoachBgView.type_train&&(t.contgroup.visible=!1),null==i?(i=Manifest.getIns(egret.getDefinitionByName(a)),t.contentGroup.addChild(i),i.visible=!0,t[a]=i,t.reshTop()):(!i.isNeedLoad(!0)&&i._isSubCreated&&i.onShow(!1),i.visible=!0,t.contentGroup.addChild(i)),t.changedata()},a.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},a.prototype.reshTop=function(){},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.hitalllist(),this.removeAddEvent(),this.m_dparr=null},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.COACH_GET_NEW,e.eventchange),e.addMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventchange),e.datalist.addEventListener(egret.Event.CHANGE,e.listchange,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.COACH_GET_NEW,e.eventchange),e.removeMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventchange),e.datalist.removeEventListener(egret.Event.CHANGE,e.listchange,e)},a.prototype.listchange=function(t){var a=this,i=a.datalist.selectedItem;a._chooseid=i.coachid,GlobalAllProxy.getInstance().playerProxy.setCoachPlay(a._chooseid);var n=GlobalAllProxy.getInstance().playerProxy.getCoachPlayerVO(a._chooseid);n?(a.changedata(),a.changeTipMC()):a.changeChoose(e.CoachBgView.type_info),a.datalist.selectedIndex=-1,EventBus.getIns().sendMessage(game.GameCommands.COACH_CHOOSE_CHANGE)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.COACH_GET_NEW:a.changeshow();break;case game.GameCommands.COACH_DATA_CHANGE:a.changeCoachData()}},a.prototype.touchTapFun=function(t){var a=this,i=t.target,n=PanelDM.getIns(),o=GlobalAllProxy.getInstance().playerProxy;switch(i){case a.m_toppanel.closebtn:a.close();break;case a.closebtn:a.close();break;case a.pandectbtn:n.goWindow([GlobalViewIDEnum.pType_coach_look]);break;case a.trainbtn:a.changeChoose(e.CoachBgView.type_train);break;case a.excitationbtn:a.changeChoose(e.CoachBgView.type_excita);break;case a.advanbtn:a.changeChoose(e.CoachBgView.type_upgrade);break;case a.backbtn:a.changeChoose(e.CoachBgView.type_info);break;case a.transferbtn:FLOAT.NShowPutong([Language.ins.no_open]);break;case a.leftbtn:a.m_chooseN--,a.changeTypeList();break;case a.rightbtn:a.m_chooseN++,a.changeTypeList();break;case a.activabtn:var r=GlobalAllProxy.getInstance().playerProxy.getCoachPlay();if(r){var s=GlobalConfig.getCoachVO(r);if(s){var l,p=Math.floor((.001*Global.systemTimeNum-o.playerinfo.createTime)/3600/24);if(s.cost&&s.time&&p>=s.time)l=FormatString.format(Language.ins.coach_tip11,s.cost),2006==r&&(l=FormatString.format(Language.ins.coach_tip13,s.cost)),JAlert.showinfostr(l,Language.ins.title_tishi,a.buyCoach,a,!0);else if(s.jump&&"0"!=s.jump){var c=utils.GameComUtil.panelJump(s.jump);!c&&s.cost&&(l=FormatString.format(Language.ins.coach_tip11,s.cost),2006==r&&(l=FormatString.format(Language.ins.coach_tip13,s.cost)),JAlert.showinfostr(l,Language.ins.title_tishi,a.buyCoach,a,!0))}}}}},a.prototype.buyCoach=function(){var e=GlobalAllProxy.getInstance().playerProxy.getCoachPlay();e&&GlobalAllProxy.getInstance().playerProxy.NetBCoachUnlock(1,e)},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcCoachTrain(t.getTipForArr(null,[GlobalEnum.tipmc_coach_trainover])),e._chooseid?e.showTipMcCoachExcita(t.getTipForArr(null,[GlobalEnum.tipmc_coach_upexcita],e._chooseid)):e.showTipMcCoachExcita(t.getTipForArr(null,[GlobalEnum.tipmc_coach_upexcita]));var a=GlobalAllProxy.getInstance().playerProxy.getCoachPlay();e.showTipMcCoachUpgrade(t.getTipForArr(null,[GlobalEnum.tipmc_coach_upgrade],a))},a.prototype.showTipMcCoachUpgrade=function(e){var t=this,a=e,i=t.advanbtn,n="tipmcadvanbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.btnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcCoachExcita=function(e){var t=this,a=e,i=t.excitationbtn,n="tipmcexcitationbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.btnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcCoachTrain=function(e){var t=this,a=e,i=t.trainbtn,n="tipmctrainbtn1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.btnG.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=CoachBgRender,n.dataProvider=new eui.ArrayCollection(i))},a.type_info=0,a.type_train=1,a.type_excita=2,a.type_upgrade=3,a}(e.VM);e.CoachBgView=t,__reflect(t.prototype,"vm.CoachBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.CoachExcitaPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.expbar.ShowLabel=!0,t.tiptxt0.text=Language.ins.coach_tip18,t.excitbtn0.label=Language.ins.coach_tip19,t.excitbtn1.label=Language.ins.coach_tip19,t.excitbtn2.label=Language.ins.coach_tip19,t.excitbtn3.label=Language.ins.coach_tip19),t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent()},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.coachdata;if(a){var i=t.getCoachPlay();if(i){var n=(GlobalConfig.getCoachVO(i),t.getCoachPlayerVO(i)),o=0,r=1,s=0;n&&(r=n.level,s=n.star,o=n.exp);var l=GlobalConfig.getCoachLevelVO(i,r);e.lvnumtxt.text=Language.ins.game_lv_s+r;var p=o-l.minexp,c=l.exp;e.expbar.setValue(p,c);var u=100,m=a.getCoachData(i,r,s,1),g=null,_=r+1;e.tiptxt4.text="",u>=_&&(g=a.getCoachData(i,_,s,1),l.clublv&&(e.tiptxt4.text=FormatString.format(Language.ins.coach_tip6,l.clublv)));for(var h,d,y,v,f=GlobalEnum.porpernumall,b=f.length,G=0;b>G;G++)h=f[G],d=GlobalConfig.getPorpertytypeVO(h),e["addtxt"+G].text=d.name,y=0,v=0,m[h]&&(y=m[h]),e["addnum"+G].text="+"+y,g?(v=g[h]-m[h],e["addc"+G].text="+"+v):e["addc"+G].text="";var x,C,T,P,A=GlobalConfig.coachimspire_data,w=0;n&&n.count&&(w=n.count);for(var k,I,S=GlobalEnum.itemid_coachshengcar,E=0,R=A.length;R>E;E++)x=A[E],0!=x.limit&&(e["shengyutxt"+E].text=x.limit-n.count),e["excitimg"+E].source=ResName.getMinItemIcon(x.objectid),C=x.costnum.split(","),T=C.length,T>1?(P=w>=T?C[T-1]:C[w],I="x"+utils.GameUtil.getNumToStr(P),e["enum"+E].text="x"+utils.GameUtil.getNumToStr(P)):S==x.objectid?(k=GlobalAllProxy.getInstance().backpackProxy.getItemCount(S),k>999&&(k=999),I="x"+utils.GameUtil.getNumToStr(C[0])+"("+k+")"):I="x"+utils.GameUtil.getNumToStr(C[0]),e["enum"+E].textFlow=utils.GameComUtil.getHtmlText(I),e["etip"+E].text=FormatString.format(Language.ins.coach_tip2,x.exp)}}e.changeTipMC()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange)},t.prototype.onMouseUp=function(e){var t=this;t.tipG0.visible=!1},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.COACH_DATA_CHANGE:case game.GameCommands.COACH_CHOOSE_CHANGE:a.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.excitbtn0:t.startTrainFun(0);break;case t.excitbtn1:t.startTrainFun(1);break;case t.excitbtn2:t.startTrainFun(2);break;case t.excitbtn3:t.startTrainFun(3)}},t.prototype.startTrainFun=function(e){var t=GlobalConfig.coachimspire_data,a=t[e];if(a){var i=GlobalAllProxy.getInstance().playerProxy,n=i.getCoachPlay();n&&GlobalAllProxy.getInstance().playerProxy.NetBStimulate(a.id,n)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange)},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,a=GlobalAllProxy.getInstance().playerProxy.getCoachPlay();e.showTipMcCoachExcita(t.getTipForArr(null,[GlobalEnum.tipmc_coach_upexcita],a))},t.prototype.showTipMcCoachExcita=function(e){var t=this,a=e,i=t.excitbtn0,n="tipmcexcitbtn0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.eaddG0.addChild(t[n]),t[n].visible=a)},t}(e.InnerVM);e.CoachExcitaPanel=t,__reflect(t.prototype,"vm.CoachExcitaPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.CoachInfoPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.expbar.ShowLabel=!0,t.atxt0.text=Language.ins.coach_tip20,t.atxt1.text=Language.ins.coach_tip21,t.atxt2.text=Language.ins.coach_tip22,t.atxt3.text=Language.ins.coach_tip23,t.etip0.text=Language.ins.coach_tip24,t.etip1.text=Language.ins.coach_tip25,t.tiptxt0.text=Language.ins.coach_tip18),t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent()},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.coachdata;if(a){var i=t.getCoachPlay();if(i){var n=GlobalConfig.getCoachVO(i),o=t.getCoachPlayerVO(i),r=0,s=1,l=0,p=1;n&&(e.ntxt0.text=n.name,e.ntxt1.text=n.country,e.careertxt.text=n.des1,e.spetxt.text=n.des2),o&&(s=o.level,l=o.star,r=o.exp,p=o.coachClass);for(var c=GlobalEnum.coachmaxstar,u=GlobalConfig.coachClaMaxObj,m=u[i],g=0;c>g;g++)l>g?e["starimg"+g].source="tab_jl_e2":e["starimg"+g].source="tab_jl_e3";e.ntxt2.text=Language.ins.game_lv_s+s,e.lvnumtxt.text=Language.ins.game_lv_s+s;var _=GlobalConfig.getCoachLevelVO(i,s),h=r-_.minexp,d=_.exp;e.expbar.setValue(h,d);for(var y,v,f,b=a.getCoachData(i,s,l,1),G=GlobalEnum.porpernumall,x=G.length,C=0;x>C;C++)y=G[C],v=GlobalConfig.getPorpertytypeVO(y),e["addtxt"+C].text=v.name,f=0,b[y]&&(f=b[y]),e["addnum"+C].text="+"+f;var T=GlobalConfig.getCoachStarVO(i,l,p);T&&(e.ntxt3.text=T.classname);var P,A,w,k=GlobalConfig.getCoachStarVO(i,GlobalEnum.coachmaxstar,m),I=T.obj.split(","),S=T.value.split(","),E=(k.obj.split(","),k.value.split(","));e.barG0.visible=!1,e.barG1.visible=!1,e.tiptxt2.text="",e.tiptxt1.text="";var R,L,O;I.length>=1&&(e.barG0.visible=!0,A=+S[0],w=+E[0],e.barimgG0.width=e.barimg0.width*A/w,P=0,A&&(P=A/100),R=Language.ins["coach_add_"+I[0]],L=GlobalEnum["coach_col_"+I[0]],e.bartxt0.text=FormatString.format(Language.ins.coach_tip3,P),O=FormatString.format(Language.ins.coach_tip4,L,R,P,""),e.tiptxt2.textFlow=utils.GameComUtil.getHtmlText(O)),I.length>=2&&(e.barG1.visible=!0,A=+S[1],w=+E[1],e.barimgG1.width=e.barimg1.width*A/w,P=0,A&&(P=A/100),R=Language.ins["coach_add_"+I[1]],L=GlobalEnum["coach_col_"+I[1]],e.bartxt1.text=FormatString.format(Language.ins.coach_tip3,P),O=FormatString.format(Language.ins.coach_tip4,L,R,P,""),e.tiptxt1.textFlow=utils.GameComUtil.getHtmlText(O)),e.gaiG0.visible=!1,e.gaiG1.visible=!1;var V,D,N;if(T){V=T.getbufftype(),D=T.getbuffvalue(),N=T.getbuffname();var F;V.length>0&&(e.gaiG0.visible=!0,e.gaitiptxt0.text=N[0],F=.01*+D[0],e.gainumtxt0.text=F+"%"),V.length>1&&(e.gaitiptxt1.text=N[1],e.gaiG1.visible=!0,F=.01*+D[1],e.gainumtxt1.text=F+"%")}}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.addMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange)},t.prototype.onMouseUp=function(e){var t=this;t.tipG0.visible=!1},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.COACH_CHOOSE_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){e.target},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange)},t}(e.InnerVM);e.CoachInfoPanel=t,__reflect(t.prototype,"vm.CoachInfoPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.CoachLookSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.tiptxt0.text=Language.ins.coach_tip9,a.tiptxt1.text=Language.ins.coach_tip10,a.tiptxt2.text=Language.ins.coach_tip14),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t,a=this,i=GlobalAllProxy.getInstance().playerProxy,n=i.coachdata;if(n){for(var o,r,s,l,p,c,u,m,g,_,h,d=[],y=n.coach,v=GlobalConfig.coach_data,f=v.length,b=0,G=y.length,x=n.getAllCoachData(),C={},T={},P={},A=0;f>A;A++){for(t=new CoachBgRenderVO,o=v[A],t.itemvo=o,t.isopen=0,t.coachid=o.coachid,t.rank=o.rank,t.severvo=null,t.ischoose=0,l=0;G>l;l++)if(r=y[l],o.coachid==r.coachId){t.severvo=r,t.isopen=1;break}if(t.isopen){for(s=Math.floor(i.getOneCoachZhanli(t.severvo)),b+=s,C=n.getCoachDataLvToObj(t.coachid,t.severvo.level,t.severvo.star,t.severvo.coachClass,C),m=GlobalConfig.getCoachStarVO(o.coachid,t.severvo.star,t.severvo.coachClass),p=m.getbufftype(),c=m.getbuffvalue(),u=m.getbuffname(),g=0,_=p.length;_>g;g++)h=+p[g],T[h]||(T[h]=0),P[h]=u[g],T[h]+=+c[g];t.addstr=FormatString.format(Language.ins.coach_tip16,s),t.addcol=16515071}else s=0,b+=s,t.addstr=Language.ins.coach_tip15,t.addcol=ColorUtil.red;t.addname=o.name,d.push(t)}d.sort(utils.GameUtil.sortMatckFun(["isopen","rank"],[1,0]));for(var w=0,k=d.length;k>w;w++)t=d[w],a["caddzhan"+w].text=t.addstr,a["caddzhan"+w].textColor=t.addcol,a["caddtxt"+w].text=t.addname;var I,S=[];for(var E in T)I=new CoachLookRenderVO,I.tip=P[E],I.bufnum=.01*T[E],S.push(I);a.showData(S,!0);var R,L,O,V="";for(var D in C)R=Language.ins["coach_add_"+D],L=.01*+C[D],O=GlobalEnum["coach_col_"+D],V+=FormatString.format(Language.ins.coach_tip4,O,R,L,"")+"\n";a.baitxt.textFlow=utils.GameComUtil.getHtmlText(V),a.zhanlitxt.text=b;var N=GlobalEnum.porpernumall;_=N.length;var F,M,s;for(g=0;_>g;g++)F=N[g],M=GlobalConfig.getPorpertytypeVO(F),a["addtxt"+g].text=M.name,s=0,x[F]&&(s=x[F]),a["addnum"+g].text="+"+s}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.bgimg:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=CoachLookRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.CoachLookView=t,__reflect(t.prototype,"vm.CoachLookView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.CoachTrainSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.ta0.text=Language.ins.coach_tip26,t.ta1.text=Language.ins.coach_tip26,t.ta2.text=Language.ins.coach_tip26,t.ta3.text=Language.ins.coach_tip26,t.ta4.text=Language.ins.coach_tip26,t.ta5.text=Language.ins.coach_tip26,t.tb0.text=Language.ins.coach_tip27,t.tb1.text=Language.ins.coach_tip27,t.tb2.text=Language.ins.coach_tip27,t.tb3.text=Language.ins.coach_tip27,t.tb4.text=Language.ins.coach_tip27,t.tb5.text=Language.ins.coach_tip27,t.tiptxt0.text=Language.ins.coach_tip36,t.getbtn.label=Language.ins.game_canling_p),t.initAddEvent(),t.changeShow()
},t.prototype.onHide=function(e){this.removeEvent(),this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this),this.timer.stop(),this.timer=null)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.coachdata;if(e.trainlistG.visible=!1,e.trainplayG.visible=!1,e.trainoverG.visible=!1,a){var i,n,o,r,s,l,p=GlobalConfig.coachtrain_data;if(a.type){var c=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,u=GlobalConfig.getVipVO(c),m=0;a.time>0?(e.trainplayG.visible=!0,e.tplaytime.text=utils.GameComUtil.getTimeNum(a.time),e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.timer.start()):(e.trainoverG.visible=!0,e.myviptxt0.text=FormatString.format(Language.ins.vip_tip10,c),e.myviptxt1.text=FormatString.format(Language.ins.vip_tip10,c),u&&(m=u.coachtrain*GlobalEnum.wan_num));var g,_,h=4,d=[4,5],y=d.length;for(s=0,l=p.length;l>s;s++)if(i=p[s],i.id==a.type)for(g=0;y>g;g++)h=d[g],e["tna"+h].text=i.coachexp,5==h&&(_=Math.floor(i.coachexp*m),e["tvipexp"+h].text="+"+_),o=utils.GameComUtil.getItemVoArr(i.reward),e["tb"+h].text="",e["tnb"+h].text="",o.length&&(r=GlobalConfig.getItemVo(o[0].itemid),r&&(e["tb"+h].text=r.name+":",e["tnb"+h].text=o[0].count,5==h&&(_=Math.floor(o[0].count*m),e["tvipstar"+h].text="+"+_)))}else for(e.trainlistG.visible=!0,s=0,l=p.length;l>s;s++)i=p[s],e["time"+s].text=i.getTimeHour(),e["tna"+s].text=i.coachexp,e["desG"+s]&&(i.des&&"0"!=i.des?(e.tadd2.text=i.des,e["desG"+s].visible=!0):e["desG"+s].visible=!1),n=utils.GameComUtil.getItemVoArr(i.cost),n.length&&(e["tcost"+s].text=utils.GameUtil.getNumToStr(n[0].count)),o=utils.GameComUtil.getItemVoArr(i.reward),e["tb"+s].text="",e["tnb"+s].text="",o.length&&(r=GlobalConfig.getItemVo(o[0].itemid),r&&(e["tb"+s].text=r.name+":",e["tnb"+s].text=o[0].count))}},t.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.coachdata;return i&&i.time>0?i.time<=0?(t.timer.stop(),void t.changeShow()):void(t.tplaytime.text=utils.GameComUtil.getTimeNum(i.time)):(t.timer.stop(),void t.changeShow())},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.addMessage(game.GameCommands.COACH_START_TRAIN,e.eventChange),e.addMessage(game.GameCommands.COACH_OVER_TRAIN,e.eventChange),e.addMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.COACH_CHOOSE_CHANGE:a.changeShow();break;case game.GameCommands.COACH_START_TRAIN:case game.GameCommands.COACH_OVER_TRAIN:case game.GameCommands.COACH_DATA_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.trainG0:t.startTrainFun(0);break;case t.trainG1:t.startTrainFun(1);break;case t.trainG2:t.startTrainFun(2);break;case t.trainG3:t.startTrainFun(3);break;case t.getbtn:var a=GlobalAllProxy.getInstance().playerProxy.coachdata;GlobalAllProxy.getInstance().playerProxy.NetBCoachReward(a.type,1)}},t.prototype.startTrainFun=function(e){var t=this,a=GlobalConfig.coachtrain_data,i=a[e];if(this._choindex=e,i){var n,o,r=utils.GameComUtil.getItemVoArr(i.cost),s="";if(r.length){var l=r[0].itemid;o=r[0].count,n=GlobalConfig.getItemVo(l),n&&(s=n.name)}var p=i.getTimeHour(),c=FormatString.format(Language.ins.coach_tip17,s,o,p,i.coachexp);JAlert.showinfostr(c,Language.ins.title_tishi,t.sendTrain,t)}},t.prototype.sendTrain=function(){var e=this._choindex,t=GlobalConfig.coachtrain_data,a=t[e];a&&GlobalAllProxy.getInstance().playerProxy.NetBCoachTrain(a.id,1)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.COACH_START_TRAIN,e.eventChange),e.removeMessage(game.GameCommands.COACH_OVER_TRAIN,e.eventChange),e.removeMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange)},t}(e.InnerVM);e.CoachTrainPanel=t,__reflect(t.prototype,"vm.CoachTrainPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.CoachUpgradeSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.expbar.ShowLabel=!0,t.tiptxt0.text=Language.ins.coach_tip18,t.uptxt0.text=Language.ins.coach_tip28,t.costtip.text=Language.ins.coach_tip29,t.upstarbtn.label=Language.ins.coach_tip30,t.upclabtn.label=Language.ins.coach_tip31),t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent()},t.prototype.changeShow=function(){var e=this,e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.getCoachPlay();if(a){var i=(GlobalConfig.getCoachVO(a),t.getCoachPlayerVO(a)),n=1,o=0,r=0,s=1;i&&(n=i.level,o=i.star,r=i.exp,s=i.coachClass);for(var l=GlobalEnum.coachmaxstar,p=0;l>p;p++)o>p?e["starimg"+p].source="tab_jl_e2":e["starimg"+p].source="tab_jl_e3";e.lvnumtxt.text=Language.ins.game_lv_s+n;var c=GlobalConfig.getCoachLevelVO(a,n),u=r-c.minexp,m=c.exp;e.expbar.setValue(u,m);var g=o+1,_=s+1,h=GlobalConfig.coachClaMaxObj,d=h[a],y=!1,v=!1;l>=g?(y=!0,_=s,g=o+1):d>=_?(v=!0,_=s+1,g=0):(_=s,g=o),e.upclaG.visible=v,v?e.upstarG.visible=!1:e.upstarG.visible=!0;var f;g>l&&_>d||(f=GlobalConfig.getCoachStarVO(a,g,_),e.uptxt1.text="x"+g);var b,G=GlobalConfig.getCoachStarVO(a,o,s),x=GlobalConfig.getCoachStarVO(a,GlobalEnum.coachmaxstar,d),C=G.obj.split(","),T=G.value.split(",");if(G&&f&&(b=f.value.split(","),v)){var P,A=G.getbufftype(),w=G.getbuffvalue(),k=G.getbuffname();A.length>0&&(e.gaitiptxt0.text=k[0],P=.01*+w[0],e.gainumtxt0.text=P+"%"),A=f.getbufftype(),w=f.getbuffvalue(),k=f.getbuffname(),A.length>0&&(e.gaitiptxt1.text=k[0],P=.01*+w[0],e.gainumtxt1.text=P+"%"),e.uptxt2.text=FormatString.format(Language.ins.coach_tip12,f.classname)}var I,S,E,R=(x.obj.split(","),x.value.split(","));e.barG0.visible=!1,e.barG1.visible=!1,e.tiptxt2.text="",e.tiptxt1.text="";var L,O,V,D,N="";C.length>=1&&(e.barG0.visible=!0,S=+T[0],E=+R[0],e.barimgG0.width=e.barimg0.width*S/E,I=0,S&&(I=S/100),L=Language.ins["coach_add_"+C[0]],f&&(V=0,+b[0]&&(V=+b[0]/100-I),N=FormatString.format(Language.ins.coach_tip3,V)),D=GlobalEnum["coach_col_"+C[0]],e.bartxt0.text=FormatString.format(Language.ins.coach_tip3,I),O=FormatString.format(Language.ins.coach_tip8,D,L,I,N),e.tiptxt2.textFlow=utils.GameComUtil.getHtmlText(O)),C.length>=2&&(e.barG1.visible=!0,S=+T[1],E=+R[1],e.barimgG1.width=e.barimg1.width*S/E,I=0,S&&(I=S/100),L=Language.ins["coach_add_"+C[1]],f&&(V=0,+b[1]&&(V=+b[1]/100-I),N=FormatString.format(Language.ins.coach_tip3,V)),D=GlobalEnum["coach_col_"+C[1]],e.bartxt1.text=FormatString.format(Language.ins.coach_tip3,I),O=FormatString.format(Language.ins.coach_tip8,D,L,I,N),e.tiptxt1.textFlow=utils.GameComUtil.getHtmlText(O));var F=new SCoachInfo(a,n,o,s),M=Math.floor(t.getOneCoachZhanli(F));if(e.zhanliadd.text="",g>l);else{var B=new SCoachInfo(a,n,g,_),U=t.getOneCoachZhanli(B),H=Math.floor(U-M);H>0&&(e.zhanliadd.text="+"+H)}e.zhanlitxt.text=M}e.showCostList()},t.prototype.showCostList=function(){var e=this,e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.getCoachPlay();if(a){var i=(GlobalConfig.getCoachVO(a),t.getCoachPlayerVO(a)),n=1,o=0,r=0,s=1;i&&(n=i.level,o=i.star,r=i.exp,s=i.coachClass);var l=GlobalEnum.coachmaxstar,p=GlobalConfig.getCoachLevelVO(a,n),c=r-p.minexp,u=p.exp;e.expbar.setValue(c,u),e.starmaxG.visible=!1,e.upstarbtn.visible=!1,e.upclabtn.visible=!1,e.costimg.visible=!1,e.costtip.visible=!1,e.datalist.visible=!1;var m=o+1,g=s+1,_=GlobalConfig.coachClaMaxObj,h=_[a],d=!1,y=!1;if(l>=m?(d=!0,g=s,m=o+1):h>=g?(y=!0,g=s+1,m=0):(g=s,m=o),m>=l&&g>=h)e.maxtiptxt.text=Language.ins.coach_tip0,e.starmaxG.visible=!0,e.uptxt1.text=Language.ins.game_remax;else{e.uptxt1.text="x"+m,e.upstarbtn.visible=d,e.upclabtn.visible=y,e.costimg.visible=!0,e.costtip.visible=!0,e.datalist.visible=!0;var v=GlobalConfig.getCoachStarVO(a,o,s);if(v){var f=utils.GameComUtil.getItemVoArr(v.cost,null);if(y&&v.clubclass){var b=new game.ComItemGroupVo(GlobalEnum.itemid_clubgrade,v.clubclass);f.push(b)}e.setCostListA(f)}}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.addMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.onMouseUp=function(e){var t=this;t.tipG0.visible=!1},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.COACH_CHOOSE_CHANGE:case game.GameCommands.COACH_DATA_CHANGE:a.changeShow();break;case game.GameCommands.BACKPACK_DATACHANGE:a.showCostList()}},t.prototype.touchTapFun=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.getCoachPlay();switch(e.target){case t.upstarbtn:i&&a.NetBCoaUpgrade(1,i);break;case t.upclabtn:i&&a.NetBCoaUpgrade(2,i);break;case t.lookbtn:var n=new CoachUpInfoViewOpenVO;n.coachid=i,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_coach_upstarinfo],n)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.COACH_CHOOSE_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.COACH_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.InnerVM);e.CoachUpgradePanel=t,__reflect(t.prototype,"vm.CoachUpgradePanel")}(vm||(vm={}));var CoachUpInfoViewOpenVO=function(){function e(){}return e}();__reflect(CoachUpInfoViewOpenVO.prototype,"CoachUpInfoViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.CoachUpInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.titlename.text=Language.ins.title_coach_upstarinfo),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openvo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.getstarnum=function(e,t,a,i){var n=0;return n=i?t[a]?t[a]:0:e[a]?e[a]:0},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.getCoachPlay(),n=a.coachdata;if(n&&i){var o=0,r=1,s=1,l=a.getCoachPlayerVO(i),p=GlobalEnum.coachmaxstar;l&&(o=l.star,r=l.level,s=l.coachClass);var c,u=n.getCoachDataForstar(i,r,o,s),m=o+1,g=s+1,_=GlobalConfig.coachClaMaxObj,h=_[i],d=!1,y=!1;p>=m?(d=!0,g=s,m=o+1):h>=g?(y=!0,g=s+1,m=0):(m=o,g=s),c=n.getCoachDataForstar(i,r,m,g);var v=[],f=new TrainUpStarInfoRenderVO;f.iconurl="tab_qy_c3",f.num0=t.getstarnum(u,c,porpertyType.num_shoot,!1),f.addnum0=t.getstarnum(u,c,porpertyType.num_shoot,!0),f.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_shoot).name,f.num1=t.getstarnum(u,c,porpertyType.num_break_through,!1),f.addnum1=t.getstarnum(u,c,porpertyType.num_break_through,!0),f.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_break_through).name,v.push(f);var f=new TrainUpStarInfoRenderVO;f.iconurl="tab_qy_c4",f.num0=t.getstarnum(u,c,porpertyType.num_steal,!1),f.addnum0=t.getstarnum(u,c,porpertyType.num_steal,!0),f.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_steal).name,f.num1=t.getstarnum(u,c,porpertyType.num_marking,!1),f.addnum1=t.getstarnum(u,c,porpertyType.num_marking,!0),f.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_marking).name,v.push(f);var f=new TrainUpStarInfoRenderVO;f.iconurl="tab_qy_c6",f.num0=t.getstarnum(u,c,porpertyType.num_pass,!1),f.addnum0=t.getstarnum(u,c,porpertyType.num_pass,!0),f.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_pass).name,f.num1=t.getstarnum(u,c,porpertyType.num_trap,!1),f.addnum1=t.getstarnum(u,c,porpertyType.num_trap,!0),f.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_trap).name,v.push(f);var f=new TrainUpStarInfoRenderVO;f.iconurl="tab_qy_c5",f.num0=t.getstarnum(u,c,porpertyType.num_speed,!1),f.addnum0=t.getstarnum(u,c,porpertyType.num_speed,!0),f.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_speed).name,f.num1=t.getstarnum(u,c,porpertyType.num_strong,!1),f.addnum1=t.getstarnum(u,c,porpertyType.num_strong,!0),f.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_strong).name,v.push(f);var f=new TrainUpStarInfoRenderVO;f.iconurl="tab_qy_c7",f.num0=t.getstarnum(u,c,porpertyType.num_response,!1),f.addnum0=t.getstarnum(u,c,porpertyType.num_response,!0),f.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_response).name,f.num1=t.getstarnum(u,c,porpertyType.num_one_to_one,!1),f.addnum1=t.getstarnum(u,c,porpertyType.num_one_to_one,!0),f.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_one_to_one).name,v.push(f),t.showData(v,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=TrainUpStarInfoRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.CoachUpInfoView=t,__reflect(t.prototype,"vm.CoachUpInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._ismove=!1,t.itemId=0,t.g=3,t.dx=.98,t.vy=0,t.vx=0,t._movetype=0,t.canRelease=!1,t.touchEnabled=!1,t.touchChildren=!1,t}return __extends(t,e),t.prototype.onCheckout=function(){},t.prototype.onRemand=function(){},t.prototype.Init=function(e){},t.prototype.show=function(e,t,a){var i=this;i._movePlayer=e,i._movetopot=t,egret.setTimeout(i.move,i,a,i._movetopot)},t.prototype.setData=function(e){var t=this;if(t._imgairtxt&&e){var a="+"+e.air;t._imgairtxt.text=a,t._imgairtxt.x=.5*(this.width-16*a.length)}},t.prototype.move=function(e){var t=this;if(t._movePlayer=null,!t._ismove){t._ismove=!0,null!=t.timer&&(t.timer.stop(),t.timer.reset()),egret.Tween.removeTweens(t),t.touchEnabled=!1;var a=new egret.Point;a=e;var i=utils.GameComUtil.getGlobalToLocal(t.parent,a.x,a.y);t.scaleX=1.2,t.scaleY=1.2;var n={};n.x=i.x,n.y=i.y,n.scaleX=.5,n.scaleY=.5,n.alpha=.5,egret.Tween.get(t).to(n,600,egret.Ease.circOut).call(t.onTweenComplete,t)}},t.prototype.movetospr=function(e){var a=this;a.vy=-30,a.g=3,a._movetype=t.movetype_move,a._movespr=e},t.prototype.Update=function(){var e=this,a=this,i=e._movespr;switch(e._movetype){case t.movetype_init:break;case t.movetype_move:if(a.vy>0){if(i){var n=a.scaleX;n-=.1,.3>n&&(n=.3),a.scaleX=a.scaleY=n;var o=Math.floor(a.width*n*.5),r=Math.floor(a.height*n*.5)+10,s=i.x-o-a.x,l=i.y-r-a.y;a.x+=.3*s,a.y+=.3*l;var p=20;Math.abs(s)<p&&Math.abs(l)<p&&(e._movetype=t.movetype_down,e.canRelease=!0)}}else a.vy+=e.g,a.y+=a.vy;break;case t.movetype_down:}},t.prototype.Release=function(){var e=this;e.parent&&e.parent.removeChild(e),e._movespr=null,MandPool.remand(e)},t.getAwardPoing=function(e){var t=new egret.Point;if(null!=e&&null!=e.parent){var a=utils.GameComUtil.getLocalToGlobal(e.parent,e.x,e.y);t.x=a.x+30,t.y=a.y}else t.x=20,t.y=20;return t},t.prototype.onTweenComplete=function(){this.clear()},t.prototype.clear=function(){var e=this;e.touchEnabled=!0,null!=e.timer&&(e.timer.stop(),e.timer.reset()),null!=e.parent&&e.parent.removeChild(e),e.alpha=1},t.movetype_init=0,t.movetype_move=1,t.movetype_down=2,t}(egret.Sprite);e.AwardMoveItem=t,__reflect(t.prototype,"vm.AwardMoveItem",["IRemandObj"])}(vm||(vm={}));var Base64=function(){function e(){}return e.encode=function(t){var a,i,n,o,r,s,l,p="",c=0;t=e._utf8_encode(t);for(var u=e._keyStr;c<t.length;)a=t.charCodeAt(c++),i=t.charCodeAt(c++),n=t.charCodeAt(c++),o=a>>2,r=(3&a)<<4|i>>4,s=(15&i)<<2|n>>6,l=63&n,isNaN(i)?s=l=64:isNaN(n)&&(l=64),p=p+u.charAt(o)+u.charAt(r)+u.charAt(s)+u.charAt(l);return p},e.decode=function(t){var a,i,n,o,r,s,l,p="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=e._keyStr;c<t.length;)o=u.indexOf(t.charAt(c++)),r=u.indexOf(t.charAt(c++)),s=u.indexOf(t.charAt(c++)),l=u.indexOf(t.charAt(c++)),a=o<<2|r>>4,i=(15&r)<<4|s>>2,n=(3&s)<<6|l,p+=String.fromCharCode(a),64!=s&&(p+=String.fromCharCode(i)),64!=l&&(p+=String.fromCharCode(n));return p=e._utf8_decode(p)},e._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var i=e.charCodeAt(a);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},e._utf8_decode=function(e){var t,a,i,n,o="",r=0;for(t=a=i=0;r<e.length;)t=e.charCodeAt(r),128>t?(o+=String.fromCharCode(t),r++):t>191&&224>t?(i=e.charCodeAt(r+1),o+=String.fromCharCode((31&t)<<6|63&i),r+=2):(i=e.charCodeAt(r+1),n=e.charCodeAt(r+2),o+=String.fromCharCode((15&t)<<12|(63&i)<<6|63&n),r+=3);return o},e._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}();__reflect(Base64.prototype,"Base64");var RESUtil=function(){function e(){}return e.getIconToFout=function(e){var t;switch(e){case match_type.type_shoot:t="syls_26";break;case match_type.type_injured:t="syls_31";break;case match_type.type_yellowcard:t="syls_29";break;case match_type.type_redcard:t="syls_28";break;case match_type.type_yellowredcard:t="syls_30"}return t},e}();__reflect(RESUtil.prototype,"RESUtil");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronRankSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_dekaron_rank,a.tiptxt2.text=Language.ins.coach_tip32,a.tiptxt3.text=Language.ins.coach_tip33,a.tiptxt4.text=Language.ins.coach_tip34,a.tiptxt5.text=Language.ins.coach_tip35,a.tiptxt6.text=Language.ins.rank_tip5);var i=GlobalAllProxy.getInstance().fightProxy.dekaronRankData;i||GlobalAllProxy.getInstance().fightProxy.NetbabelrankRequest(),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronRankData,i=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a&&i){var n=i.getcurMaxStarNum(),o=i.max_level,r=GlobalAllProxy.getInstance().playerProxy.playerinfo,s=a.rankid;t.tiptxt1.text=s,t.tiptxt1.visible=!1,s>1e3&&(t.tiptxt1.text="1000+"),1==s?t.rankicon1.source="tab_jjsn_d7":2==s?t.rankicon1.source="tab_jjsn_d8":3==s?t.rankicon1.source="tab_jjsn_d9":(t.rankicon1.visible=!1,t.tiptxt1.visible=!0),t.logoimg1.setLogoUrl(r.logo),t.nametxt1.text=r.club_name,t.startxt1.text=n,t.maxtxt1.text=o;var l;for(var p in a.babelRank)a.babelRank[p].rank==a.rankid&&(l=a.babelRank[p],t.startxt1.text=l.star,t.maxtxt1.text=l.max_id);var c=a.babelRank;t.showData(c,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.DEKERON_RANK_DATA,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.DEKERON_RANK_DATA,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.listchange=function(e){var t=this,a=e.target.selectedItem;a&&(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.fid),t.datalist.selectedIndex=-1)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.DEKERON_RANK_DATA:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.onkeyfun=function(){},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=DekaronRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.FightDekaronRankView=t,__reflect(t.prototype,"vm.FightDekaronRankView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronResultSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.awardlist.setGroupAlign(egret.HorizontalAlign.CENTER),a.panel_bg.titlename.text=Language.ins.title_dekaron_result,a.tiptxt0.text=Language.ins.dekaron_tip36,a.tiptxt1.text=Language.ins.dekaron_tip37,a.tiptxt2.text=Language.ins.dekaron_tip38,a.changebtn.label=Language.ins.btn_ok),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){var i=a.getcurMaxNum();t.numtxt.text=FormatString.format(Language.ins.dekaron_tip11,i),t.startxt.text=a.maxstar;var n=[];if(i>=GlobalConfig.towerMinNum){var o=GlobalConfig.getTowerRewardVO(i);n=utils.GameComUtil.getItemVoArr(o.reward,null)}t.awardlist.setDataArr(n,"",!0,!1,!0,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.changebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.onkeyfun=function(){},t}(e.VM);e.FightDekaronResultView=t,__reflect(t.prototype,"vm.FightDekaronResultView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_dekaron_reward,a.rewardlist0.setGroupAlign(egret.HorizontalAlign.CENTER),a.rewardlist1.setGroupAlign(egret.HorizontalAlign.CENTER),a.okbtn.label=Language.ins.btn_ok),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){var i=a.getcurMaxNum(),n=[],o=[],r=GlobalConfig.towerMinNum;GlobalConfig.towerMaxNum;(!i||r>i)&&(i=r);var s=i+1,l=GlobalConfig.getTowerRewardVO(i);l&&(n=utils.GameComUtil.getItemVoArr(l.reward,null));var p=GlobalConfig.getTowerRewardVO(s);p&&(o=utils.GameComUtil.getItemVoArr(p.reward,null)),n.length?t.tiptxt0.text=FormatString.format(Language.ins.dekaron_tip17,i):t.tiptxt0.text="",o.length?t.tiptxt1.text=FormatString.format(Language.ins.dekaron_tip18,s):t.tiptxt1.text="",t.rewardlist0.setDataArr(n,"",!0,!1),t.rewardlist1.setDataArr(o,"",!0,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.okbtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.FightDekaronRewardView=t,__reflect(t.prototype,"vm.FightDekaronRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var a=e.call(this)||this;return a.m_choosetype=t.type_C,a.allup=0,a.percentWidth=a.percentHeight=100,a}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){for(var e,t=new skins.FightDekaronRoadSkinDR,a=[ResName.mc_rongyao_lan,ResName.mc_rongyao_huang,ResName.mc_lingqujiangli],i=[],n=0,o=a.length;o>n;n++)e=a[n],i=i.concat(ResName.getDragonFastArr(e));t.runto(this,i)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),t){a.demoicon.visible=!1,a.demoxian.visible=!1,a.m_iconarr=[],a.m_linearr=[],a.m_maxNum=10,a.btnG.visible=!0,a.awardlist.setGroupAlign(egret.HorizontalAlign.CENTER);a.anametxt0.text=Language.ins.dekaron_tip3,a.anametxt1.text=Language.ins.dekaron_tip4,a.anametxt2.text=Language.ins.dekaron_tip5,a.awardlist0.setGroupAlign(egret.HorizontalAlign.CENTER);var i;i=new eui.VerticalLayout,i.gap=5,a.awardlist1.setImgWH(40,40),a.awardlist1.layout=i,a.awardlist1.setTextSize(18);var i,n;i=new eui.VerticalLayout,i.gap=0;var n=a.awardlist;n.setImgWH(40,40),n.layout=i,n.setTextSize(18),n.setHorizontal(!1),n.setGroupAlign(egret.HorizontalAlign.LEFT,egret.VerticalAlign.TOP);var o=GlobalAllProxy.getInstance().fightProxy.dekaronData;o&&0==utils.GameUtil.dekaronroadStarNum&&(utils.GameUtil.dekaronroadStarNum=o.star_num),a.tiptxt1.text=Language.ins.dekaron_tip39,a.ftiptxt0.text=Language.ins.dekaron_tip40,a.ftiptxt1.text=Language.ins.dekaron_tip41,a.ftiptxt2.text=Language.ins.dekaron_tip46,a.ftiptxt3.text=Language.ins.dekaron_tip52,a.ftiptxt4.text=Language.ins.dekaron_tip53,a.ftiptxt5.text=Language.ins.dekaron_tip54,a.ftiptxt6.text=Language.ins.dekaron_tip56,a.reshtiptxt.text=Language.ins.dekaron_tip47,a.chotip0.text=Language.ins.dekaron_tip42,a.chotip1.text=Language.ins.dekaron_tip43,a.chotip2.text=Language.ins.dekaron_tip44,a.chotip3.text=Language.ins.dekaron_tip44,a.overstartip.text=Language.ins.dekaron_tip45,a.chotiptxt.text=Language.ins.secretary_tip2,a.choawardtxt.text=Language.ins.secretary_tip2,a.reshbtn.label=Language.ins.btn_reset,a.getAwardbtn.label=Language.ins.game_canling_p,a.keysweepbtn.label=Language.ins.dekaron_tip48,a.startbtn.label=Language.ins.dekaron_tip49,a.sweepbtn.label=Language.ins.club_tip36,a.rankimg.label=Language.ins.dekaron_tip50,a.shoimg.label=Language.ins.dekaron_tip51,a.stopbtn.label=Language.ins.dekaron_tip55}GlobalAllProxy.getInstance().playerProxy.reshPlayerZhanli(),a.m_chooseawardnum=0,a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_dekaronroad),a.addChild(a.m_toppanel),a.changeShow(),GlobalAllProxy.getInstance().fightProxy.dekaronData||GlobalAllProxy.getInstance().fightProxy.NetbabelinitRequest(),utils.GameComUtil.setVisibleHitPanel(a.startawardimg1,null,!1),utils.GameComUtil.setVisibleHitPanel(a.startawardimg2,null,!1),utils.GameComUtil.setVisibleHitPanel(a.startawardimg3,null,!1),utils.GameComUtil.setVisibleHitPanel(a.uptipG,null,!1,5),a.resizefun()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeEvent();for(var i=0;3>i;i++)a.showArrowMc(a["checkjian"+i],!1);utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_lan]),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_huang]),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_lingqujiangli])},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){t.stopbtn.visible=!1,t.reshbtn.visible=!1,t.reshbtn.label=FormatString.format(Language.ins.dekaron_tip16,a.reset_num),t.timeTxt.text=FormatString.format(Language.ins.dekaron_tip29,a.reset_num),a.finish?(t.reshbtn.visible=!0,a.finishRwd==game.SBabelInitResponse.awardtype_can&&GlobalAllProxy.getInstance().fightProxy.NetBabelInitiativeEnd()):t.stopbtn.visible=!0;var i=a.storey,n=a.lobby,o=ParamLoader.instance.ServerTowerFail,r=o+game.ComMonthCarVO.getNumRoadfail();t.tiptxt.text=FormatString.format(Language.ins.dekaron_tip27,r),t.tiptxt2.text=Language.ins.dekaron_tip0;var s;s=n?t.getshownumArr(i-1):t.getshownumArr(i);for(var l,p,c,u,m,g=[],_=t.m_maxNum,h=0,d=s.length;d>h;h++)p=s[h],l=new DekaronGuanRenderVO,l.isafter=!1,l.id=p,l.curnum=i,l.isRest=!1,n?l.isfight=!1:l.isfight=p==i,l.isRest||(u=GlobalConfig.getTowerCopyVO(p,1),u&&(l.logo=u.logo,l.name=u.name,l["float"]=u["float"])),m=!1,i>=p&&(m=!0),l.fighttype=a.getFightType(p),g.push(l),c=GlobalConfig.getTowerRestVOForcid(p),c&&(l=new DekaronGuanRenderVO,l.id=c.id,l.isfight=n?!0:!1,l.isafter=!1,l.isRest=!0,l.fighttype=0,m?l.curnum=c.id:l.curnum=0,l["float"]=c["float"],g.push(l));g.length>_&&(i>GlobalConfig.towerMinNum?g.splice(0,1):g.splice(_,1));for(var y=0,v=g.length;v>y;y++){if(g[y].isfight){g[y].isRest&&(g[y].isafter=!0);break}g[y].isRest&&(g[y].isafter=!0)}t.showData(g,!1),t.changeShowType(),t.changeAddData(),t.changerankdata(),this.tipShopMc()}},t.prototype.changerankdata=function(){var e=GlobalAllProxy.getInstance().fightProxy.dekaronRankData,t=0;e&&(t=e.rankid)},t.prototype.changeAddData=function(){var e=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(e){var t,a,i,n,o,r=this,s=e.teamAdded;r.curstartxt.text=e.star_num;for(var l,p,c,u=[Language.ins.dekaron_tip3,Language.ins.dekaron_tip4,Language.ins.dekaron_tip5],m=GlobalAllProxy.getInstance().playerProxy.getUpPlayer(),g=0,_={},h=0,d=s.length;d>h;h++)t=s[h],i=t.type,a=i-1,o=GlobalConfig.getTowerStrengThenVO(i),c=Math.floor(o.getAddNum(t.level+t.extra)),l=Math.floor(.01*c),p=Math.floor(.01*o.value),n=o.getcostnum(t.level),r["astartxt"+a].text=n,r["anametxt"+a].text=u[h]+"+"+l+"%",r["anumtxt"+a].text=FormatString.format(Language.ins.dekaron_tip15,p),_[i]=c,g+=l;for(var y,v,f,i,b=0,G=0,x=m.length;x>G;G++)y=m[G],v=y.fighting,f=y.position,i=0,f>=40?i=1:40>f&&f>20?i=2:20>f&&(i=3),b+=i&&_[i]?v*(1+_[i]/1e4):v;r.allup=g,this.m_zhanli=Math.floor(b),r.zhanlitxt0.text=this.m_zhanli}},t.prototype.changeShowType=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.dekaronData,a=!1;if(t){var i=t.storey,n=e.m_choosetype,o=n-1,r=GlobalConfig.getTowerCopyVO(i,n);e.checkPointId=r.id,utils.GameComUtil.setVisibleHitPanel(e.fightG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.loungeG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.overG,null,!1),utils.GameComUtil.setVisibleHitPanel(e.mapG,null,!1),e.topG.visible=!1,e.topG0.visible=!1,e.tipG.visible=!1,e.topG1.visible=!1,e.startbtn.visible=!1,e.sweepbtn.visible=!1,e.addSkillG.visible=!1,e.keysweepbtn.visible=!1,e.getAwardbtn.visible=!1;var s=ParamLoader.instance.ServerTowerFail,l=s+game.ComMonthCarVO.getNumRoadfail();if(e.tiptxt3.text=FormatString.format(Language.ins.btn_dekaron_fight,l-t.challengeFailureCnt,l),t.finish){utils.GameComUtil.setVisibleHitPanel(e.overG,null,!0),e.topG0.visible=!0;var p=t.getcurMaxNum(),c=[];if(p>=GlobalConfig.towerMinNum){var u=GlobalConfig.getTowerRewardVO(p);
c=utils.GameComUtil.getItemVoArr(u.reward,null)}e.curmaxnum.text=FormatString.format(Language.ins.dekaron_tip11,p),e.awardlist0.setDataArr(c,"",!0,!1);t.getcurMaxStarNum();e.overstarnum.text=t.maxstar}else{utils.GameComUtil.setVisibleHitPanel(e.mapG,null,!0),e.addSkillG.visible=!0,e.tipG.visible=!0;var m=t.lobby,g=GlobalConfig.getTowerRestVO(m);if(m&&g){var _=e.m_chooseawardnum;e.getAwardbtn.visible=!0,e.choawardtxt.text=Language.ins.dekaron_tip22;var h=utils.GameComUtil.getItemVoArr(g.reward1,null);if(e.awardlist1.setDataArr(h,"",!1,!0),e.chooseAwardimg.visible=!1,!isNaN(_)&&_){e.chooseAwardimg.visible=!0;var o=_-1;switch(e.chooseAwardimg.x=e["choG"+o].x-10,_){case 1:e.choawardtxt.text="";break;case 2:e.choawardtxt.text=Language.ins.dekaron_tip20;break;case 3:e.choawardtxt.text=Language.ins.dekaron_tip21}}var d,y,v,f,b,G,x,C=Math.floor(m)-1,T=t.getlobbyAward(C);if(T){var P=T.pid-1,A=(T.num,["tab_tzzl_d9","tab_tzzl_d7","tab_tzzl_d8"]),w=Language.ins.dekaron_tip31;e.chobg2.source=A[P],v=T.pid,d=w[v-1],x=GlobalConfig.getTowerRestVO(v),G=x.getRestAddLv(v),f=GlobalConfig.getTowerStrengThenVO(v),y=.01*f.value*G,b=FormatString.format(d,y),e.chotip3.text=b}utils.GameComUtil.setVisibleHitPanel(e.loungeG,null,!0),e.topG1.visible=!0,a=!0}else{e.topG.visible=!0,e.m_chooseawardnum=0,utils.GameComUtil.setVisibleHitPanel(e.fightG,null,!0),e.zhanlitxt.text=Math.floor(r.power).toString(),e.logoimg.setLogoUrl(r.logo),e.nametxt.text=FormatString.format(Language.ins.dekaron_tip1,r.id)+" "+r.name;for(var k,I=r.star-1,S=0;3>S;S++)k=S==I?!0:!1,e.showArrowMc(e["checkjian"+S],k),e.showGMc(e["checkG"+S],k),e["checkcho"+S].visible=k,e["checkjian"+S].visible=k,k&&(e.guanbgimg.source="tab_ryzl1_i"+(S+1));var E=utils.GameComUtil.getItemVoArr(r.reward,null);e.awardlist.setDataArr(E,"",!1,!0);var R=t.getRecordVo(i),L=t.getRecordVo(i+1);R?3==R.type&&L&&3==L.type?(e.keysweepbtn.visible=!0,e.sweepbtn.visible=!1,e.startbtn.visible=!1):R.type>=e.m_choosetype?(e.keysweepbtn.visible=!1,e.sweepbtn.visible=!0,e.startbtn.visible=!1):(e.keysweepbtn.visible=!1,e.sweepbtn.visible=!1,e.startbtn.visible=!0):e.startbtn.visible=!0}}}e.showawardmc(a)},t.prototype.getshownumArr=function(e){var t=this.m_maxNum,a=Math.floor(.5*t),i=[],n=GlobalConfig.towerMinNum,o=GlobalConfig.towerMaxNum,r=e-a;n>r&&(r=n),r>o-t+1&&(r=o-t+1);for(var s,l=0,p=0;t>p;p++)s=GlobalConfig.getTowerRestVOForcid(r+l),s&&p++,i.push(r+l),l++;return i},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.DEKERON_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.DEKERON_ADDTEAM_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.DEKERON_RANK_DATA,e.eventChange),e.addMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA,e.eventChange),e.addMessage(game.GameCommands.DEKERON_SWEEP_DATA,e.eventChange),e.addMessage(game.GameCommands.DEKERON_SHOP_DATA,e.eventChange),e.addMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.addMessage(game.GameCommands.DEKERON_FIGHT_STOP_DATA,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.DEKERON_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_ADDTEAM_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_RANK_DATA,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_SWEEP_DATA,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_SHOP_DATA,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_FIGHT_STOP_DATA,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),TweenLite.killTweensOf(e.uptipG,!0)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.DEKERON_DATA_CHANGE:this.changeShow();break;case game.GameCommands.DEKERON_SWEEP_DATA:this.changeShow();break;case game.GameCommands.DEKERON_ADDTEAM_DATA_CHANGE:this.changeAddData();break;case game.GameCommands.DEKERON_RANK_DATA:this.changerankdata();break;case game.GameCommands.DEKERON_SHOP_DATA:this.tipShopMc();break;case game.GameCommands.DEKERON_FIGHT_AWARD_DATA:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaronresult]),this.changeShow();break;case game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP:this.showpveupTip();break;case game.GameCommands.DEKERON_FIGHT_STOP_DATA:this.stoproadFun();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.showpveupTip=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(t){var a=t.star_num-utils.GameUtil.dekaronroadStarNum;if(utils.GameUtil.dekaronroadStarNum=t.star_num,0!=a){utils.GameComUtil.setVisibleHitPanel(e.uptipG,null,!0);for(var i=1;a>=i;i++)utils.GameComUtil.setVisibleHitPanel(e["startawardimg"+i],null,!0);TweenLite.killTweensOf(e.uptipG,!0),e.uptipG.alpha=0,e.uptipG.visible=!0,TweenLite.to(e.uptipG,.4,{alpha:1}),TweenLite.to(e.uptipG,.4,{alpha:0,delay:1,onComplete:e.showpveupTipOver.bind(e)})}}},t.prototype.showpveupTipOver=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.uptipG,null,!1,5),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_recruitgoback)},t.prototype.touchTapFun=function(e){var a=this,i=e.target;switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.checkrect0:a.changeType(t.type_A);break;case a.checkrect1:a.changeType(t.type_B);break;case a.checkrect2:a.changeType(t.type_C);break;case a.choG0:a.changeAwardType(1);break;case a.choG1:a.changeAwardType(2);break;case a.choG2:a.changeAwardType(3);break;case a.getAwardbtn:!isNaN(a.m_chooseawardnum)&&a.m_chooseawardnum?a.chooseAward(a.m_chooseawardnum):FLOAT.NShowPutong([Language.ins.dekaron_tip19]);break;case a.aupbtn0:case a.abgimg0:a.upgradefun(1);break;case a.abgimg1:case a.aupbtn1:a.upgradefun(2);break;case a.abgimg2:case a.aupbtn2:a.upgradefun(3);break;case a.startbtn:a.startfun();break;case a.stopbtn:a.showGive();break;case a.reshbtn:GlobalAllProxy.getInstance().fightProxy.NetbabelresetRequest();break;case a.keysweepbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaronsweep]);break;case a.sweepbtn:a.sweepfun();break;case a.shoimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaronshop]);break;case a.rankimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaronrank])}},t.prototype.showGive=function(){var e=this;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaron_stop],e.checkPointId)},t.prototype.stoproadFun=function(){GlobalAllProxy.getInstance().fightProxy.NetBabelInitiativeEnd()},t.prototype.changeAwardType=function(e){var t=this;t.m_chooseawardnum=e,t.changeShowType()},t.prototype.sweepfun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(t){var a=t.storey;GlobalAllProxy.getInstance().fightProxy.NetbabelmopupRequest(e.m_choosetype,a,!1,0)}},t.prototype.chooseAward=function(e){var t=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(t){var a=t.lobby;a&&GlobalAllProxy.getInstance().fightProxy.NetBabelLoungeReward(a,e)}},t.prototype.upgradefun=function(e){GlobalAllProxy.getInstance().fightProxy.NetbabeladdedupgradeRequest(e)},t.prototype.startfun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(t&&e.m_zhanli){var a=e.m_zhanli;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvd,t.storey,!0,this.m_choosetype,0,a))}},t.prototype.tipShopMc=function(){var e,t,a,i,n,o=this,r=GlobalConfig.towershop_DATA,s=!1,l=GlobalAllProxy.getInstance().fightProxy.dekaronData,p=GlobalAllProxy.getInstance().backpackProxy;if(l)for(var c=0,u=r.length;u>c;c++){e=r[c],a=!0;var m=l.getStoreBuyRecordNum(e.id),g=GlobalConfig.getTowerCopyVOForCid(e.copyid);if(e.copyid){var g=GlobalConfig.getTowerCopyVOForCid(e.copyid);t=l.getRecordStar(g.id),t<g.star&&(a=!1)}if(m>=e.num);else if(a){n=e.cost.split(","),i=p.getItemCount(parseInt(n[0])),i>=parseInt(n[1])&&(s=!0);break}}o.showTipMcShow(s)},t.prototype.showTipMcShow=function(e){var t=this,a=e,i=t.shoimg,n="tipmcshoimg";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.shoimgG.addChild(t[n]),t[n].visible=a)},t.prototype.changeType=function(e){var t=this;t.m_choosetype=e,t.changeShowType()},t.prototype.getchoosemc=function(e){var t,a=this;t=e?ResName.mc_rongyao_lan:ResName.mc_rongyao_huang;var i=utils.GameComUtil.getArmature(t,t,a,!0);return i&&(i.touchChildren=!1,i.touchEnabled=!1),i},t.prototype.showawardmc=function(e){var t=this,a=ResName.mc_lingqujiangli,i=utils.GameComUtil.getArmature(a,a,t,!0);i&&(e?(i.isPlaying||i.animation.play("effect"),t.awardmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t.prototype.getAngle=function(e,t,a,i){var n=a-e,o=i-t,r=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),s=n/r,l=Math.acos(s),p=180/(Math.PI/l);return 0>o?p=-p:0==o&&0>n&&(p=180),p},t.prototype.showArrowMc=function(e,t){void 0===t&&(t=!0);if(egret.Tween.removeTweens(e),t?e.visible=!0:e.visible=!1,e){var a=186;e.x=a,egret.Tween.get(e,{loop:!0}).to({x:a+10},400).to({x:a},400)}},t.prototype.showGMc=function(e,t){egret.Tween.removeTweens(e),e&&t?(e.alpha=1,egret.Tween.get(e,{loop:!0}).to({alpha:.4},1e3).to({alpha:1},1e3)):e.alpha=1},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.mapG,o=a.m_maxNum,r=a.m_iconarr,s=a.m_linearr;if(utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_lan]),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_huang]),i)for(var l,p,c,u,m=i.length,g=new Vector2D(0,0),_=new Vector2D(0,0),h=61,d=25,y=17,v=0;o>v;v++)m>v&&(u=null,l=i[v],m>v+1&&(u=i[v+1]),r[v]?p=r[v]:(p=new DekaronIcon,r[v]=p),g.x=d+v*h,g.y=y+l["float"],u&&(_.x=d+(v+1)*h,_.y=y+u["float"],s[v]?c=s[v]:(c=new eui.Image,c.fillMode="repeat",s[v]=c),c.source="tab_ryzl1_h9",c.width=Vector2D.Vec2DDistance(g,_),c.rotation=a.getAngle(g.x,g.y,_.x,_.y),c.x=g.x,c.y=g.y,n.addChildAt(c,0)),p.x=g.x,p.y=g.y,p.setData(l),n.addChild(p))},t.type_A=1,t.type_B=2,t.type_C=3,t}(e.VM);e.FightDekaronRoadView=t,__reflect(t.prototype,"vm.FightDekaronRoadView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronShopSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_dekaron_shop),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){for(var i=a.buyRecord,n=GlobalConfig.towershop_DATA,o=n.length,r=i.length,s=0;o>s;s++){n[s].buytime=0;for(var l=0;r>l;l++)if(n[s].id==i[l].id){n[s].buytime=i[l].times;break}n[s].buytime>=n[s].num?n[s].buyover=1:n[s].buyover=0}n.sort(utils.GameUtil.sortMatckFun(["buyover","id"],[0,0])),t.showData(n,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.DEKERON_SHOP_DATA,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.DEKERON_SHOP_DATA,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.DEKERON_SHOP_DATA:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.onkeyfun=function(){},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=DekaronShopRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.FightDekaronShopView=t,__reflect(t.prototype,"vm.FightDekaronShopView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronStopSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_dekaron_shop,a.listGroup.setGroupGap(16),a.listGroup.setGroupAlign(egret.HorizontalAlign.CENTER),a.tiptxt0.text=Language.ins.dekaron_tip57,a.closebtn.label=Language.ins.game_cancel,a.okbtn.label=Language.ins.game_ok),a.changeShow()},t.prototype.readPanelVO=function(){var e=this,t=e.panelVo.panelobj;t&&(e.checkPointId=t)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.getTowerRewardVO(t.checkPointId-1);if(t.tiptxt.text=FormatString.format(Language.ins.dekaron_tip30,t.checkPointId),a){var i=utils.GameComUtil.getItemVoArr(a.reward);t.listGroup.setDataArr(i,"",!0,!1,!0,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:EventBus.sendMessage(game.GameCommands.DEKERON_FIGHT_STOP_DATA),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=DekaronShopRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.FightDekaronStopView=t,__reflect(t.prototype,"vm.FightDekaronStopView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isshow=!1,t.indexarr=[4,210,420],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightDekaronSweepSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.m_chooseType=0,a.m_startnum=0,a.m_endnum=0,a.initAddEvent(),a.readPanelVO(),a.chooseAwardimg.visible=!1,t){var i=40;a.choaward0.setTip(!0),a.choaward1.setTip(!0),a.choaward0.setImgWH(i,i),a.choaward1.setImgWH(i,i),a.panel_bg.titlename.text=Language.ins.title_dekaron_sweep,a.tiptxt1.text=Language.ins.dekaron_tip58,a.ctiptxt0.text=Language.ins.dekaron_tip42,a.ctiptxt1.text=Language.ins.dekaron_tip59,a.ctiptxt2.text=Language.ins.dekaron_tip60,a.chobtn0.label=Language.ins.dekaron_tip61,a.chobtn1.label=Language.ins.dekaron_tip61,a.chobtn2.label=Language.ins.dekaron_tip61,a.tiptxt7.text=Language.ins.dekaron_tip62,a.sweepbtn.label=Language.ins.club_tip47,a.okbtn.label=Language.ins.game_ok}a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),this.showsweepfun()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(a){var i,n=a.storey,o=a.record,r=0,s=3;o.sort(utils.GameUtil.sortMatckFun(["storey"],[0]));var l,p;i=n;for(var c,u=!1,m=GlobalConfig.towerrestCidArr,g=1,_=0,h=o.length;h>_;_++){if(l=o[_],p=i+1,c=parseInt(l.storey),n==c){if(l.type!=s)break;r=n,-1!=m.indexOf(r)&&(u=!0,g=GlobalConfig.getTowerRestVOForcid(n).id)}if(p==c){if(l.type!=s)break;i=c,-1!=m.indexOf(i)&&(u=!0,g=GlobalConfig.getTowerRestVOForcid(i).id)}}if(utils.GameComUtil.setVisibleHitPanel(t.choitemG,t.comG,!1,2),t.resultG.visible=!1,t.sweepbtn.visible=!0,t.okbtn.visible=!1,t.comG.height=445,r){if(t.isshow=!0,t.m_startnum=r,t.m_endnum=i,u&&!t.m_chooseType){utils.GameComUtil.setVisibleHitPanel(t.choitemG,t.comG,!0,2);var d=GlobalConfig.getTowerRestVO(g),y=utils.GameComUtil.getItemVoArr(d.reward1,null);y.length&&t.choaward0.setIdAndText(y[0].itemid,y[0].count),y.length>1&&t.choaward1.setIdAndText(y[1].itemid,y[1].count)}else t.isshow=!1;t.tiptxt0.text=FormatString.format(Language.ins.dekaron_tip13,r,i)}else t.resultG.visible=!0,t.tiptxt0.text=Language.ins.dekaron_tip12;utils.GameComUtil.removeListData(this.datalist)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.DEKERON_SWEEP_DATA,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.DEKERON_SWEEP_DATA,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.DEKERON_SWEEP_DATA:this.showSweepData(e)}},t.prototype.showSweepData=function(e){var t=this;t.m_sweepdata=e;var a=e.one_key,i=e.storeyArr,n=e.totalReward,o=e.lobby,r=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(r){if(n){var s=game.ComItemGroupVo.getUserItemArr(n);t.mapAwardListG.setDataArr(s,"",!0,!1,!0)}var l,p=[];if(a){var c,u,m,g,_,h,d,y,v,f,b,G=o.length,x=(GlobalAllProxy.getInstance().backpackProxy,i.length);if(x){var C,T,P,A,w;for(C=0;x>C;C++)if(T=parseInt(i[C].storey),l=new DekaronSweepRenderVO,l.id=T,l.isrest=!1,P=GlobalConfig.getTowerCopyVO(T,3),w=utils.GameComUtil.getItemVoArr(P.reward),l.reward=w,p.push(l),P.rid&&G){var k=Language.ins.dekaron_tip31;for(c=0;G>c;c++)u=o[c],m=u.several,m==P.rid&&(g=u.item,_=u.addition,l=new DekaronSweepRenderVO,l.id=m,u.addition&&u.addition[0]&&(y=u.addition[0].type,h=k[y-1],A=GlobalConfig.getTowerRestVO(y),b=A.getRestAddLv(y),v=GlobalConfig.getTowerStrengThenVO(y),d=.01*v.value*b,f=FormatString.format(h,d),l.typename=f),l.isrest=!0,l.reward=game.SeverItemVO.setseverdata(g),p.push(l))}}}t.showData(p,!1),t.choitemG.visible=!1,t.resultG.visible=!0,t.sweepbtn.visible=!1,t.okbtn.visible=!0,t.comG.height=542}},t.prototype.calculation=function(e){for(var t=e.length,a=[],i=0;t>i;i++)for(var n in e[i].reward){var o=!1;for(var r in a)a[r].itemid==e[i].reward[n].itemid&&(o=!0,a[r].number+=e[i].reward[n].number);o||a.push(e[i][n])}},t.prototype.showsweepfun=function(){var e=this;if(e.m_sweepdata){var t=e.m_sweepdata,a=t.totalReward;a&&GlobalAllProxy.getInstance().backpackProxy.addServerItem(a),e.m_sweepdata=null}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.sweepbtn:if(0==t.m_chooseType&&t.isshow)return void FLOAT.NShowPutong([Language.ins.fight_tip59]);t.keysweepfun();break;case t.panel_bg.closebtn:t.close();break;case t.choG0:case t.choaward0:case t.choaward1:t.chooseAward(1);break;case t.choG1:case t.suijiimg:t.chooseAward(2);break;case t.choG2:case t.strengimg:t.chooseAward(3);break;case t.okbtn:t.close()}},t.prototype.keysweepfun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(t){var a=t.storey;GlobalAllProxy.getInstance().fightProxy.NetbabelmopupRequest(3,a,!0,e.m_chooseType)}},t.prototype.chooseAward=function(e){var t=this;t.m_chooseType=e,t.chooseAwardimg.visible=!0,t.chooseAwardimg.x=t.indexarr[e-1]},t.prototype.onkeyfun=function(){},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=DekaronSweepRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.FightDekaronSweepView=t,__reflect(t.prototype,"vm.FightDekaronSweepView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_richtimebl=!1,t.m_panelstrArr=[GlobalViewIDEnum.pType_friendship,GlobalViewIDEnum.pType_clubfightmap,GlobalViewIDEnum.pType_richfight,GlobalViewIDEnum.pType_dekaronroad,GlobalViewIDEnum.pType_qualifying,GlobalViewIDEnum.pType_league],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){for(var e,t=new skins.FightEnterSkinDR,a=[ResName.mc_center3],i=[],n=0,o=a.length;o>n;n++)e=a[n],i=i.concat(ResName.getDragonFastArr(e));t.runto(this,i)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.outtxt0.text=Language.ins.fight_enter_tip0,a.outtxt1.text=Language.ins.fight_enter_tip1,a.outtxt2.text=Language.ins.fight_enter_tip2,a.outtxt3.text=Language.ins.fight_enter_tip3,a.outtxt4.text=Language.ins.fight_enter_tip11,a.outtxt5.text=Language.ins.fight_enter_tip12,a.timetxt.text="",FntUtil.showFntLeft(a.nameBZG0,ResName.fnt_fight,Language.ins.title_friendship,ResName.spa_fight_a),FntUtil.showFntLeft(a.nameBZG1,ResName.fnt_fight,Language.ins.title_clubfightmap,ResName.spa_fight_a),FntUtil.showFntLeft(a.nameBZG2,ResName.fnt_fight,Language.ins.title_richfight,ResName.spa_fight_a),FntUtil.showFntLeft(a.nameBZG3,ResName.fnt_fight,Language.ins.title_dekaronroad,ResName.spa_fight_a),FntUtil.showFntLeft(a.nameBZG4,ResName.fnt_fight,Language.ins.title_qualifying,ResName.spa_fight_a),"wanba_ceshi_ts"!=Global.html_severNE&&"ceshi_tanwan"!=Global.html_severNE&&PFAll.isNowPF([Global.severNE_japan,Global.severNE_english,Global.severNE_russia,Global.servrNE_tanwantest,Global.severNE_dujiaoshou,Global.severNE_tanwan])&&utils.GameComUtil.setVisibleHitPanel(a.enterG5,a.scrollG,!1)),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_fightenter),a.addChild(a.m_toppanel),a.changeShow();var i=GlobalAllProxy.getInstance().guideProxy;if(i.isPlayGuide()){var n,o=i.playerGuideId,r=GuideSyncData.TransTOGuideID(o),s=GuideSyncData.TransTOStepID(o),l=GlobalConfig.getGuideVo(r),p=l.getStepItem(s),c=l.getNextStepItemByStepId(s);if(n=p&&"vm.FightEnterView"==p.window?p:c&&"vm.FightEnterView"==c.window?c:p,n&&"vm.FightEnterView"==n.window){var u=n.focuswidget,m=0;switch(u){case"enterG0":case"enterG1":case"enterG4":m=0;break;case"enterG3":case"enterG2":case"enterG5":m=a[u].y}var g=a.datascrollA;if(m){var _=function(){g.stopAnimation();var e=g.viewport.contentHeight,t=e-g.height,i=t;i>=t&&(i=t),0>i&&(i=0),g.viewport.scrollV=i+3,a.changeScrollData()};egret.setTimeout(_,a,100)}else 0>m&&(m=0),a.datascrollA.viewport.scrollV=m}}a.changeTipMC(),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;egret.clearTimeout(a.mc_hangup_time),egret.clearTimeout(a.open_rich_time),this.removeEvent(),a.showcenterMc(!1,0),a.showcenterMc(!1,1),a.showcenterMc(!1,2),a.showcenterMc(!1,3),a.showcenterMc(!1,4),utils.GameComUtil.removeTextFlow(this.numtxt0),utils.GameComUtil.removeTextFlow(this.numtxt1),utils.GameComUtil.removeTextFlow(this.numtxt2),utils.GameComUtil.removeTextFlow(this.numtxt3),utils.GameComUtil.removeTextFlow(this.numtxt5),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a=this,i=GlobalAllProxy.getInstance().playerProxy.playerinfo;a.timeG0.visible=!1,a.timeG1.visible=!1,a.timeG2.visible=!1,a.timeG3.visible=!1;var n,o,r=GlobalAllProxy.getInstance().fightProxy.friendshipData,s="0x19ff66",l="";r?(a.timeG0.visible=!0,n=FormatString.format(Language.ins.game_col,s,r.reset_num),o=FormatString.format(Language.ins.fight_enter_tip4,n),a.numtxt0.textFlow=utils.GameComUtil.getHtmlText(o)):a.numtxt0.textFlow=utils.GameComUtil.getHtmlText(l);var p=GlobalAllProxy.getInstance().fightProxy.dekaronData;p?(a.timeG3.visible=!0,n=FormatString.format(Language.ins.game_col,s,p.reset_num),o=FormatString.format(Language.ins.fight_enter_tip4,n),a.numtxt3.textFlow=utils.GameComUtil.getHtmlText(o)):a.numtxt3.textFlow=utils.GameComUtil.getHtmlText(l);var c=GlobalAllProxy.getInstance().fightProxy.richdata;if(c){a.timeG2.visible=!0;for(var u,m=c.player,g=0,_=0,h=m.length;h>_;_++)u=m[_],u.uid==i.uid||u.result||g++;n=FormatString.format(Language.ins.game_col,s,g),o=FormatString.format(Language.ins.fight_enter_tip6,n),a.numtxt2.textFlow=utils.GameComUtil.getHtmlText(o)}else a.numtxt2.textFlow=utils.GameComUtil.getHtmlText(l);var d=i.challenges;a.timeG1.visible=!0,n=FormatString.format(Language.ins.game_col,s,d),o=FormatString.format(Language.ins.fight_enter_tip7,n),a.numtxt1.textFlow=utils.GameComUtil.getHtmlText(o);for(var y,v,f=a.m_panelstrArr,b=(GlobalAllProxy.getInstance().playerProxy.playerinfo.level,0),G=f.length;G>b;b++)y=f[b],v=utils.GameComUtil.getUnLockTip([y]),v?(a["locktxt"+b].text=v,a["lockG"+b].visible=!0,a["timeG"+b].visible=!1,a["hitimg"+b].visible=!0):(a["lockG"+b].visible=!1,a["hitimg"+b].visible=!1);var x=2;if(!a["lockG"+x].visible){var C=ParamLoader.instance,T=C.ServerPeakStart,P=C.ServerPeakEnd;a["lockTtxt"+x].text=FormatString.format(Language.ins.fight_enter_tip8,T,P)}a.timelockfun(),a.timeshowhangup();var A=GlobalAllProxy.getInstance().fightProxy.qualifyingData;A?a.numtxt4.text=FormatString.format(Language.ins.fight_enter_tip7,A.challenge):a.numtxt4.text=l;var w=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(w)if(0==w.success)a.numtxt5.text=FormatString.format(Language.ins.fight_enter_tip13);else if(1==w.success){var k="",I="",S=parseInt(Global.systemTimeNum/1e3+"");if(a.richinfo=w.battleTime-S,a.richinfo>0)a.timer||(a.timer=new egret.Timer(1e3),a.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),I=utils.GameComUtil.getTimeNum(a.richinfo,!0),a.timetxt.text="("+I+")",a.timer.start();else{var E,R=GlobalAllProxy.getInstance().fightProxy;E=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_league]),E&&R.NetUserCrossInitRequest(),I="00:00:00"}0==w.eventType&&(k=FormatString.format(Language.ins.fight_enter_tip14)),3==w.eventType&&(k=FormatString.format(Language.ins.fight_enter_tip20),a.timetxt.text="("+I+")"),5==w.eventType?(k=FormatString.format(Language.ins.fight_enter_tip21),a.timetxt.text="("+I+")"):(w.gameStage==t.gameStage_type1?k=FormatString.format(Language.ins.fight_enter_tip15,w.rounds+1):w.gameStage==t.gameStage_type2?k=Language.ins.fight_enter_tip16:w.gameStage==t.gameStage_type3?k=Language.ins.fight_enter_tip17:w.gameStage==t.gameStage_type4?k=Language.ins.fight_enter_tip18:w.gameStage==t.gameStage_type5&&(k=Language.ins.fight_enter_tip19),a.timetxt.text="("+I+")"),a.numtxt5.text=k}},t.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(a&&0!=a.success){if(t.richinfo--,t.richinfo<=0){t.timetxt.text="(00:00:00)";var i,n=GlobalAllProxy.getInstance().fightProxy;return i=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_league]),i&&n.NetUserCrossInitRequest(),void(t.timer&&t.timer.stop())}t.timetxt.text="("+utils.GameComUtil.getTimeNum(t.richinfo,!0)+")"}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.datascrollA.addEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.datascrollA.addEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.scrollchange=function(e){this.scrollG.touchChildren=!1},t.prototype.scrollEndFun=function(e){this.scrollG.touchChildren=!0,this.changeScrollData()},t.prototype.changeScrollData=function(){var e=this.datascrollA,t=e.viewport.contentHeight,a=t-e.height,i=e.viewport.scrollV;a>i+10?this.xiaimg.visible=!0:this.xiaimg.visible=!1},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.datascrollA.removeEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.datascrollA.removeEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.FIGHT_PLAY_OVER:this.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.enterG1:t.goFightFun(1);break;case t.enterG2:t.goFightFun(2);break;case t.enterG0:t.goFightFun(0);break;case t.enterG4:t.goFightFun(4);break;case t.enterG3:t.goFightFun(3);break;case t.enterG5:t.goFightFun(5)}},t.prototype.goFightFun=function(e){var t=this;if(t.m_richtimebl&&2==e)GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&GlobalAllProxy.getInstance().guideProxy.closeGuide(),FLOAT.NShowPutong([Language.ins.fight_enter_tip9]);else{var a=t.m_panelstrArr,i=a[e];PanelDM.getIns().goWindow([i]),GlobalAllProxy.getInstance().guideProxy.clickplayguide(game.GameCommands.guide_MsgGuideClickButtonTrigger)}},t.prototype.timelockfun=function(){var e=this,t=2;if(e.m_richtimebl=!1,egret.clearTimeout(e.open_rich_time),e["lockG"+t].visible)e["lockTG"+t].visible=!1;else{var a=ParamLoader.instance,i=a.ServerPeakStart,n=a.ServerPeakEnd,o=i.split(":"),r=n.split(":"),s=new Date;if(s.setTime(Global.systemTimeNum),o.length&&3==r.length){var l=3600,p=60,c=s.getHours()*l+s.getMinutes()*p+s.getSeconds(),u=parseInt(o[0])*l+parseInt(o[1])*p+parseInt(o[2]),m=parseInt(r[0])*l+parseInt(r[1])*p+parseInt(r[2]);c>u&&m>c?(e.m_richtimebl=!0,e["hitimg"+t].visible=!0,e["lockTG"+t].visible=!0):e["lockTG"+t].visible=!1}else e["lockTG"+t].visible=!0}e.open_rich_time=egret.setTimeout(e.timelockfun,e,3e3)},t.prototype.timeshowhangup=function(){var e=this;egret.clearTimeout(e.mc_hangup_time);var t=!1,a=Manifest.getIns(FightDM),i=a.isFight(FightEnum.type_pvp),n=t=a.isFight(FightEnum.type_pvc),o=t=a.isFight(FightEnum.type_pvf),r=t=a.isFight(FightEnum.type_pvd),s=t=a.isFight(FightEnum.type_pvs);e.showcenterMc(o,0),e.showcenterMc(n,1),e.showcenterMc(i,2),e.showcenterMc(s,4),e.showcenterMc(r,3),t&&(e.mc_hangup_time=egret.setTimeout(e.timeshowhangup,e,6e3))},t.prototype.showcenterMc=function(e,t){var a=this,i=ResName.mc_center3,n=i+t,o=utils.GameComUtil.getArmature(i,n,a);if(o){var r=o.isPlaying;e!=r&&(e?(o.animation.play("effect"),a["bmcG"+t].addChild(o)):utils.GameComUtil.removeAnimoSelf(o))}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.tipmcclubfightfull(t.getTipForArr(null,[GlobalEnum.tipmc_clubfightfull_reward,GlobalEnum.tipmc_clubfightfull])),e.tipmcqualifyingday(t.getTipForArr(null,[GlobalEnum.tipmc_qualifyingday])),e.tipmcfriendship(t.getTipForArr(null,[GlobalEnum.tipmc_friendship_jifen,GlobalEnum.tipmc_friendship_liansheng])),e.tipmcchengjiu(t.getTipForArr(null,[GlobalEnum.tipmc_league_chengjiu]))},t.prototype.tipmcchengjiu=function(e){var t=this,a=e,i=t.enterG5,n="tipmcenterG5";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,0)),t.enterG5.addChild(t[n]),t[n].visible=a)},t.prototype.tipmcfriendship=function(e){var t=this,a=e,i=t.enterG0,n="tipmcenterG0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,10)),t.enterG0.addChild(t[n]),t[n].visible=a)},t.prototype.tipmcclubfightfull=function(e){var t=this,a=e,i=t.enterG1,n="tipmcenterG1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,10)),t.enterG1.addChild(t[n]),t[n].visible=a)},t.prototype.tipmcqualifyingday=function(e){var t=this,a=e,i=t.enterG4,n="tipmcenterG4";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,10)),t.enterG4.addChild(t[n]),t[n].visible=a)
},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.gameStage_type1=1,t.gameStage_type2=2,t.gameStage_type3=3,t.gameStage_type4=4,t.gameStage_type5=5,t}(e.VM);e.FightEnterView=t,__reflect(t.prototype,"vm.FightEnterView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightFastSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_fight_fast,a.awardcoachtiptxt.text=Language.ins.fight_tip66,a.tiptxt0.text=Language.ins.fight_tip73,a.tiptxt1.text=Language.ins.fight_tip75,a.tipnametxt.text=Language.ins.fight_tip74,a.fightbtn.label=Language.ins.game_shopbuy),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=Manifest.getIns(FightDM),i=a.getFightData(FightEnum.type_pve);if(i.nowid){var n=GlobalConfig.getPveMapVO(i.nowid);if(n){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel;t.awardtiptxt.text=FormatString.format(Language.ins.fight_tip20,o);var r,s,l,p,c,u,m,g=ParamLoader.instance.ServerSwapTime,_=n.getHoutAwardNoArr(g),h=GlobalEnum,d=GlobalConfig.getVipVO(o),y=h.wan_num,v=(Math.round(g/ParamLoader.instance.ServerRound),GlobalAllProxy.getInstance().playerProxy.coachdata),f=0;for(s=0,l=_.length;l>s;s++)r=_[s],c=d.getVipAddLv(r.itemid),p=Math.ceil(r.count*c*y),r.addnum=p,f=0,v&&(u=0,r.itemid==GlobalEnum.itemid_coin?u=coach_buff.guaji_coin:r.itemid==GlobalEnum.itemid_playerexp&&(u=coach_buff.guaji_teshun),u&&(f=v.getAllBuffNum(u))),m=Math.ceil(r.count*f*y),r.addnum2=m;t.showpveData(_,!1);var b=GlobalAllProxy.getInstance().playerProxy.getLastFastFight(),G=[],x=t.getbuycost(),C=new game.ComItemGroupVo(GlobalEnum.itemid_ug,x);G.push(C),C=new game.ComItemGroupVo(GlobalEnum.itemid_fastfight_time,1),C.addnum=b,G.push(C),t.setCostListA(G),b?t.fightbtn.enabled=!0:t.fightbtn.enabled=!1}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BUF_FAST_PVE_FIGHT,e.eventchange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BUF_FAST_PVE_FIGHT,e.eventchange)},t.prototype.eventchange=function(e,t){switch(t){case game.GameCommands.BUF_FAST_PVE_FIGHT:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.fightbtn:t.fightfastbuf()}},t.prototype.fightfastbuf=function(){var e=this,t=new AlertVO;t.showCancel=!0,t.okLabel=Language.ins.fight_tip3,t.info=Language.ins.fight_tip36,t.tipbl=!0,t.tipstr=Language.ins.fight_tip4,t.tipitemid=GlobalEnum.itemid_ug,t.tipcostid=ug_cost_type.fight_fast,t.tipitemnum=e.getbuycost(),JAlert.show(t,Language.ins.title_buy,e.clickfastbuy,e)},t.prototype.getbuycost=function(){var e=0,t=GlobalAllProxy.getInstance().playerProxy.playerinfo.instantPlay,a=t+1,i=GlobalConfig.getPriceVO(a);return i&&(e=i.sweep),e},t.prototype.clickfastbuy=function(){var e=Manifest.getIns(FightDM),t=e.getFightData(FightEnum.type_pve);if(t.nowid){var a=2;GlobalAllProxy.getInstance().fightProxy.NetInstantPlay(Math.floor(t.nowid),a)}},t.prototype.showpveData=function(e,t){var a=this,i=e,n=a.pveawardlist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightOffLineRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.FightFastView=t,__reflect(t.prototype,"vm.FightFastView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightNextSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_fight_fast,a.tipnametxt1.text=Language.ins.fight_tip76,a.fightbtn.label=Language.ins.club_tip35),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.pveawardlistA)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=Manifest.getIns(FightDM),i=a.getFightData(FightEnum.type_pve),n=0;i&&(n=i.nowid);var o,r;if(n)o=GlobalConfig.getPveMapVO(n),o&&(r=GlobalConfig.getPveMapVO(o.nextid));else{var s=GlobalConfig.copyRewardMinId;s&&(r=GlobalConfig.getPveMapVO(s))}if(r){t.showMapPos(r);var l=ParamLoader.instance.ServerLeagueLv,p=l.split(",");t.panel_bg.titlename.text=FormatString.format(Language.ins.fight_tip7,p[r.gamelv-1]),t.nametxt.text=r.name,t.logoimg.setLogoUrl(r.logo);var c=utils.GameComUtil.getItemVoArr(r.fwreward);t.showpveDataA(c,!1),t.zhanlitxt.text=r.power}else utils.GameComUtil.removeListData(this.pveawardlistA)},t.prototype.showMapPos=function(e){var t=this,a=e.getMapPos();if(t.dianG.x=a.x,t.dianG.y=a.y,!t.m_shap){t.m_shap=new egret.Shape;var i=t.mapG.getChildIndex(t.mapinfoG);t.mapG.addChildAt(t.m_shap,i)}var n,o,r,s,l,p,c,u,m=t.mapinfoG,g=t.mapimg,_=g.width,h=Math.floor(.5*g.width),d=Math.floor(.5*g.height),y=a.x,v=a.y,f=m.width,b=m.height;y>.35*_&&.65*_>y?(l=Math.floor(.5*f),p=Math.floor(.5*b),u=y>h?-60:60,v>d?(m.x=y-l+u,m.y=v-b-50,r=m.x+l,c=m.y+b,s=v+.6*(c-v),n=r,o=c):(m.x=y-.5*f+u,m.y=v+50,r=m.x+l,c=m.y,s=v+.6*(c-v),n=r,o=c)):h>y?(v>d?(m.x=y+86,m.y=v-50):(m.x=y+86,m.y=v),r=y+.4*(m.x-y),s=m.y+.5*b,n=m.x,o=s):(v>d?(m.x=y-86-f,m.y=v-50):(m.x=y-86-f,m.y=v),r=y+.4*(m.x+f-y),s=m.y+.5*b,n=m.x+f,o=s);var G=16777215;t.m_shap.graphics.clear(),t.m_shap.graphics.lineStyle(2,G),t.m_shap.graphics.moveTo(a.x,a.y),t.m_shap.graphics.lineTo(r,s),t.m_shap.graphics.lineTo(n,o),t.m_shap.graphics.endFill()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.fightbtn:t.close();var a=Manifest.getIns(FightDM);a.pveNextFight()}},t.prototype.showpveDataA=function(e,t){var a=this,i=e,n=a.pveawardlistA;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=ItemMinIconRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.FightNextView=t,__reflect(t.prototype,"vm.FightNextView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightOffLineListSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.panel_bg.titlename.text=Language.ins.title_offline_hero,a.tiptxt0.text=Language.ins.fight_tip77),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_playerdata=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),this.m_playerdata=null,utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_playerdata;if(a){for(var i,n,o,r,s,l=a.upgrade,p=[],c=GlobalAllProxy.getInstance().playerProxy.getUpPlayer(),u=l.length,m=0,g=c.length;g>m;m++){for(n=c[m],r=GlobalConfig.getPlayerStarVO(n.card_trait,n.stars),i=new FightOffLineListRenderVO(n),i.maxlv=r.bookgrade,s=0;u>s;s++)if(o=l[s],o.playerId==n.playerid){i.oldlv=o.originalLevel,i.nowlv=o.newLevel;break}p.push(i)}t.showDataA(p,!0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalistA.selectedItem;if(a){var i=a.playerid,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(n,i)),t.close()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;a.name;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showDataA=function(e,t){var a=this,i=e;a.datalistA.selectedIndex=-1;var n=a.datalistA;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=FightOffLineListRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.FightOffLineListView=t,__reflect(t.prototype,"vm.FightOffLineListView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightOffLineSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(Language.ins.fight_tip18),a.tiptxt1.textFlow=utils.GameComUtil.getHtmlText(Language.ins.fight_tip19),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_fight_offline,a.awardcoachtiptxt.text=Language.ins.fight_tip66,a.ftiptxt0.text=Language.ins.fight_tip78,a.ftiptxt1.text=Language.ins.fight_tip80,a.tipnametxt0.text=Language.ins.fight_tip79,a.okbtn.label=Language.ins.btn_ok),a.changeShow()},t.prototype.readPanelVO=function(){var e=this,a=this.panelVo;if(a){e.m_curtype=a.childtype;var i=this.panelVo.panelobj;i&&(e.m_data=i)}isNaN(e.m_curtype)&&(e.m_curtype=t.type_offline)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.m_data=null,this.removeEvent(),a.m_playerdata=null,a.m_addskillarr=null,utils.GameComUtil.removeListData(this.pveawardlistA),utils.GameComUtil.removeListData(this.pveawardlistB),utils.GameComUtil.removeTextFlow(this.tiptxt0),utils.GameComUtil.removeTextFlow(this.tiptxt1),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t,a=this,i=(a.m_curtype,GlobalAllProxy.getInstance().playerProxy.playerinfo);if(t=GlobalAllProxy.getInstance().gameProxy.offlineData){t.time>=ParamLoader.instance.TrainRedDot&&(GlobalAllProxy.getInstance().gameProxy.check_offline=!0),GlobalAllProxy.getInstance().gameProxy.offlineData=null;var n=utils.GameComUtil.getTimeNum(t.time);a.tiptxt.textFlow=utils.GameComUtil.getHtmlText(n);var o=i.getZhanliNum(),r=t.originalFighting,s=o-r;a.zhanlitxtA.text=o,0>s?a.zhangchangetxt.text="":a.zhangchangetxt.text="+"+s,a.m_playerdata=t}var l,p,c=GlobalAllProxy.getInstance().playerProxy.coachdata,u=0;if(t){GlobalAllProxy.getInstance().gameProxy.offlineData=null;var m=i.vipLevel;a.awardtiptxt0.text=FormatString.format(Language.ins.fight_tip20,m);var g,_,h,d,y,v=GlobalConfig.getVipVO(m),f=[];t.totalGold&&(g=t.totalGold,_=v.vgold,u=0,c&&(l=coach_buff.guaji_coin,u=c.getAllBuffNum(l)),h=Math.round(g/(1+(_+u)*GlobalEnum.wan_num)),d=Math.ceil(h*_*GlobalEnum.wan_num),y=new game.ComItemGroupVo,y.itemid=GlobalEnum.itemid_coin,y.count=h,f.push(y),d&&(y.addnum=d),p=Math.ceil(y.count*u*GlobalEnum.wan_num),y.addnum2=p),t.expPool&&(g=t.expPool,_=v.pexp,u=0,c&&(l=coach_buff.guaji_coin,u=c.getAllBuffNum(l)),h=Math.round(g/(1+(_+u)*GlobalEnum.wan_num)),d=Math.ceil(h*_*GlobalEnum.wan_num),y=new game.ComItemGroupVo,y.itemid=GlobalEnum.itemid_playerexp,y.count=h,f.push(y),d&&(y.addnum=d),p=Math.ceil(y.count*u*GlobalEnum.wan_num),y.addnum2=p),t.clubExp&&(g=t.clubExp,_=v.cexp,h=Math.round(g/(1+_*GlobalEnum.wan_num)),d=g-h,y=new game.ComItemGroupVo,y.itemid=GlobalEnum.itemid_exp,y.count=h,f.push(y),d&&(y.addnum=d),y.addnum2=0),a.showpveDataA(f,!1);var b=t.reward,G=game.ComItemGroupVo.getUserItemArr(b);a.showpveDataB(G,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.okbtn:t.close();break;case t.lookzhanbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_offline_list],t.m_playerdata);break;case t.panel_bg.closebtn:t.close()}},t.prototype.showpveDataA=function(e,t){var a=this,i=e,n=a.pveawardlistA;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightOffLineRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showpveDataB=function(e,t){var a=this,i=e,n=a.pveawardlistB;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=ItemMinIconRender,n.dataProvider=new eui.ArrayCollection(i))},t.type_offline=1,t.type_usercar=2,t}(e.VM);e.FightOffLineView=t,__reflect(t.prototype,"vm.FightOffLineView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.sortnumarr=[],t.sortnamearr=[],t.attackupnum=0,t.defenkupnum=0,t.upzhanli=0,t.chooseactid=0,t.choosedefid=0,t._choosemode=0;var a=t;return a.myformeIconArr=[],a.oppformeIconArr=[],a.percentWidth=t.percentHeight=100,a.sortnumarr=[2,0,0],a.sortnamearr=["position","exp","rankzhanli"],t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FightPrewarSkinDR,t=ResName.getDragonFastArr(ResName.mc_ball_fire);e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_fight_prewar,a.fightbtn.label=Language.ins.club_tip35,a.backbtn.label=Language.ins.fight_tip81,a.ftiptxt0.text=Language.ins.fight_tip82,a.ftiptxt1.text=Language.ins.fight_tip83,a.ftiptxt2.text=Language.ins.fight_tip84,a.ftiptxt3.text=Language.ins.fight_tip85,a.ftiptxt4.text=Language.ins.fight_tip91,a.ftiptxt5.text=Language.ins.fight_tip92,a.ftiptxt6.text=Language.ins.fight_tip94,a.ftiptxt7.text=Language.ins.fight_tip95,a.tiptxt0.text=Language.ins.fight_tip93,a.nametxt0.text=Language.ins.fight_tip86,a.nametxt1.text=Language.ins.fight_tip87,a.nametxt2.text=Language.ins.fight_tip88,a.nametxt3.text=Language.ins.fight_tip89,a.nametxt4.text=Language.ins.fight_tip86,a.nametxt5.text=Language.ins.fight_tip87,a.nametxt6.text=Language.ins.fight_tip88,a.nametxt7.text=Language.ins.fight_tip89,a.sorttxt4.text=Language.ins.club_tip25,a.sorttxt0.text=Language.ins.club_tip26,a.sorttxt1.text=Language.ins.fight_tip90),a.changeShow(),a.fight_prewar_tip0.text="";var i=a.m_data;if(i){var n=i.type==FightEnum.type_pve||i.type==FightEnum.type_pvc||i.type==FightEnum.type_pvd;n&&(a.fight_prewar_tip0.text=FormatString.format(Language.ins.fight_prewar_tip0,ParamLoader.instance.TacticsAutoChoose))}},t.prototype.readPanelVO=function(){var e=this,t=this.panelVo;if(e._choosemode=0,e.tabGroup.setSelectIndex(e._choosemode),t&&t.panelobj){e.m_data=t.panelobj;var a=e.m_data,i=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id;GlobalAllProxy.getInstance().fightProxy.NetStartBeforeGame(a.type,a.enemy,a.isshowPanel,a.custom,a.mapId),e.waittimetxt.text="",a.type==FightEnum.type_pve&&i==parseInt(a.enemy)&&(e.pveNinfo=3,e.waittimetxt.text=e.pveNinfo,e.pvetimenum=egret.setTimeout(e.pveTimeFun,e,1e3))}e.showTar()},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_fightprewarA,a=e.m_data;a&&a.type!=FightEnum.type_pvp&&a.type!=FightEnum.type_pvf&&a.type!=FightEnum.type_pvs&&(t=Language.ins.list_btn_fightprewarB),e.tabGroup.m_class=TableBraButton6;var i=new game.KLayoutInfo;i.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(i),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.m_fightdata=null,utils.GameComUtil.removeAnimoSelf(a[ResName.mc_ball_fire]),egret.clearTimeout(a.pvetimenum),this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeListData(this.datalistT0),utils.GameComUtil.removeListData(this.datalistT1),utils.GameComUtil.removeTextFlow(this.studyalltxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a=this,i=a._choosemode;utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!1,2),utils.GameComUtil.setVisibleHitPanel(a.infoG1,null,!1,2),utils.GameComUtil.setVisibleHitPanel(a.infoG2,null,!1,2);var n=a.m_fightdata;if(n)switch(i){case t.type_infodata:utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!0,2),a.showinfoData();break;case t.type_myteam:utils.GameComUtil.setVisibleHitPanel(a.infoG1,null,!0,2),a.showTeamData(!0);break;case t.type_oppteam:utils.GameComUtil.setVisibleHitPanel(a.infoG1,null,!0,2),a.showTeamData(!1);break;case t.type_study:utils.GameComUtil.setVisibleHitPanel(a.infoG2,null,!0,2),a.showStudyData()}},t.prototype.showinfoData=function(){var e=this,t=e.m_fightdata;if(e.opplvG.visible=!1,t){e.logoimgB.setLogoUrl(t.logo),e.m_oppzhanli=t.fighting,e.nameBtxt.text=t.name;var a=GlobalAllProxy.getInstance().playerProxy;e.nameAtxt.text=a.playerinfo.club_name,e.mylvtxt.text=a.playerinfo.level;var i=utils.GameComUtil.getFightNum(a.playerinfo.fight),n=t.level;n&&(e.opplvG.visible=!0,e.opplvtxt.text=n),0!=e.m_data.upzhanli?e.m_myzhanli=Math.round(e.m_data.upzhanli):e.m_myzhanli=i,e.logoimgA.setLogoUrl(a.playerinfo.logo);var o=Math.floor(t.fighting)+i;e.fightbar.setValue(i,o,0);var r=ResName.mc_ball_fire,s=utils.GameComUtil.getArmature(r,r,e);s&&s.animation.play("effect"),s.x=e.fightbar.barmc.x,s.y=e.fightbar.barmc.y,e.fightbar.addChild(s);var l,p,c,u,m,g,_,h=Manifest.getIns(FightDM),d=(h._fightData,ParamLoader.instance);l=GlobalAllProxy.getInstance().playerProxy.getUpPlayer(),c=team_color.blue,m=0==d.blRedIsLeft;var y,v=45,f=76,b=0,G=e.playericonG.height;for(b=0,y=l.length;y>b;b++)p=l[b],g=p.number_tag,u=p.position,e.myformeIconArr[b]?(_=e.myformeIconArr[b],_.setColor(c),_.setId(g)):(_=new PlayerIcon(c,g,!0),e.myformeIconArr.push(_)),_.y=G-Math.floor(.1*u)*v-.5*v,_.x=-12+Math.floor(u%10-1)*f+.5*f-8,e.playericonG.addChild(_);v=40,f=76,l=t.playerCourt;var x;for(c=team_color.red,b=0,y=l.length;y>b;b++)x=l[b],g=x.numberTag,u=x.position,e.oppformeIconArr[b]?(_=e.oppformeIconArr[b],_.setColor(c),_.setId(g)):(_=new PlayerIcon(c,g,!0),e.oppformeIconArr.push(_)),_.y=Math.floor(.1*u)*v+.5*v-20,_.x=-12+Math.floor(u%10-1)*f+.5*f-8,e.playericonG.addChild(_)}e.panelinit()},t.prototype.autoSelectOptimalTactics=function(){var e=this,t=e.m_fightdata,a=t.attack,i=t.defend,n=0/0;if(a&&a.length>0)for(var o=0;o<a.length;o++){var r=a[o];(isNaN(n)||n<r.added)&&(n=r.added,e.chooseactid=r.tactical)}var s=0/0;if(i&&i.length>0)for(var o=0;o<i.length;o++){var r=i[o];(isNaN(s)||s>r.added)&&(s=r.added,e.choosedefid=r.tactical)}},t.prototype.panelinit=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){e.chooseactid=t.att_tactical,e.choosedefid=t.def_tacical;var a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=e.m_data;if(i){var n=i.type==FightEnum.type_pve||i.type==FightEnum.type_pvc||i.type==FightEnum.type_pvd;n&&a.vipLevel>=ParamLoader.instance.TacticsAutoChoose&&e.autoSelectOptimalTactics()}}e.selectchange(e.chooseactid),e.selectchange(e.choosedefid);var o;1==e.m_data.type?(o=GlobalConfig.getPveMapVO(e.m_data.enemy),e.jingong0.visible=!0,e.fangshou0.visible=!0,e.jingong0.setData(null,o.attacktac),e.fangshou0.setData(null,o.defendtac)):3==e.m_data.type?(o=GlobalConfig.getCopyclubgradeVO(e.m_data.enemy,e.m_data.custom),e.jingong0.visible=!0,e.fangshou0.visible=!0,e.jingong0.setData(null,o.attacktac),e.fangshou0.setData(null,o.defendtac)):5==e.m_data.type?(o=GlobalConfig.getTowerCopyVO(e.m_data.enemy,e.m_data.custom),e.jingong0.visible=!0,e.fangshou0.visible=!0,e.jingong0.setData(null,o.attacktac),e.fangshou0.setData(null,o.defendtac)):(e.jingong0.visible=!1,e.fangshou0.visible=!1)},t.prototype.showTeamData=function(e){var t=this,a=t.m_fightdata;if(a){var i,n,o=[];if(e){var r=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(r){var s=(r.formid,GlobalAllProxy.getInstance().playerProxy.getUpPlayer());for(i=0,n=s.length;n>i;i++)o.push(s[i]);t.showDataA(o,!0)}}else{var l=a.playerCourt;for(i=0,n=l.length;n>i;i++)o.push(l[i]);t.showDataA(o,!0)}}},t.prototype.showStudyData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i,n,o=t.att_tactical,r=t.def_tacical,s=[],l=GlobalConfig.getTacticsPorPertyArrVO(!0),p=!1;for(var c in l)i=l[c],p=i.tid==o?!0:!1,n=t.getStudyLevel(i.tid),a=new TacticsStudyRenderVO(i,n,p),s.push(a);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),e.showStudyDataA(s,!1),s=[],l=GlobalConfig.getTacticsPorPertyArrVO(!1);for(var c in l)i=l[c],n=t.getStudyLevel(i.tid),p=i.tid==r?!0:!1,a=new TacticsStudyRenderVO(i,n,p),s.push(a);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),e.showStudyDataB(s,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_FIGHT_PREWAR_DATA,e.eventChange),e.addMessage(game.GameCommands.GET_CHANGE_CHOOSE_STUDY,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalistT0.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistT1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_FIGHT_PREWAR_DATA,e.eventChange),e.removeMessage(game.GameCommands.GET_CHANGE_CHOOSE_STUDY,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalistT0.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistT1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalistT0.selectedItem;t.chooseactid=a.id;var i=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i){var n=i.att_tactical,o=i.def_tacical;t.chooseactid&&n!=t.chooseactid&&GlobalAllProxy.getInstance().playerProxy.NetTEAMUSETACTICS(t.chooseactid,o)}},t.prototype.listchangeB=function(e){var t=this,a=t.datalistT1.selectedItem;t.choosedefid=a.id;var i=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i){var n=i.att_tactical;i.def_tacical;t.choosedefid&&n!=t.choosedefid&&GlobalAllProxy.getInstance().playerProxy.NetTEAMUSETACTICS(n,t.choosedefid)}},t.prototype.onBarItemClick=function(e){var a=this;a._choosemode=e.itemIndex;var i=a.m_data;i&&i.type!=FightEnum.type_pvp&&i.type!=FightEnum.type_pvf&&i.type!=FightEnum.type_pvs&&a._choosemode==t.type_oppteam&&(a._choosemode=t.type_study),a.changeShow()},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.GET_FIGHT_PREWAR_DATA:this.m_fightdata=e,this.changeShow();break;case game.GameCommands.GET_CHANGE_CHOOSE_STUDY:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.closeSelf();break;case t.panel_bg.closebtn:t.closeSelf();break;case t.backbtn:t.closeSelf();break;case t.fightbtn:t.goFightFun();break;case t.zhanshurt0:t.selectchange(20101);break;case t.zhanshurt1:t.selectchange(20102);break;case t.zhanshurt2:t.selectchange(20103,!0);break;case t.zhanshurt3:t.selectchange(20104,!0);break;case t.zhanshurt4:t.selectchange(20201,!0);break;case t.zhanshurt5:t.selectchange(20202,!0);break;case t.zhanshurt6:t.selectchange(20203,!0);break;case t.zhanshurt7:t.selectchange(20204,!0)}},t.prototype.selectchange=function(e,t){void 0===t&&(t=!1);var a=this,i=0,n=0,o=0;if(20101==e||20102==e||20103==e||20104==e){a.chooseactid=e;var i=0,n=e%20100-1,o=e%20100-1;a.jingong.setData(null,e)}else{a.choosedefid=e;var i=1,n=e%20200-1,o=e%20200+3;a.fangshou.setData(null,e)}var r=[18,90,164,244],s=[18,90,164,244];0==i?(a.fbbest0.visible=!1,a.fb0.x=r[n]):(a.fbbest1.visible=!1,a.fb1.x=s[n]);var l,p,c=4062976,u=ColorUtil,m=GlobalAllProxy.getInstance().playerProxy.tacticsData,g=m.tactical;for(p=0;8>p;p++)a["lvtxt"+p].text=Language.ins.game_lv_s+g[p].level,o>3&&p>3?o==p?(a["nametxt"+p].textColor=c,a["lvtxt"+p].textColor=c):(a["nametxt"+p].textColor=u.white,a["lvtxt"+p].textColor=u.white):3>=o&&3>=p&&(o==p?(a["nametxt"+p].textColor=c,a["lvtxt"+p].textColor=c):(a["nametxt"+p].textColor=u.white,a["lvtxt"+p].textColor=u.white));var _=a.m_fightdata,h=_.attack,d=_.defend,y=12;if(a.besticon.visible=!1,1==a.m_data.type||3==a.m_data.type||5==a.m_data.type){var v,f,b,G,x,C=0,T=0/0,P=0,A=0/0;for(p=0,v=h.length;v>p;p++)f=h[p],b=f.added,f.tactical==e&&(a.attackupnum=b),(isNaN(T)||b>T)&&(T=b,C=p,G=f.tactical);for(A=0/0,p=0,v=d.length;v>p;p++)f=d[p],b=-1*Math.floor(f.added),f.tactical==e&&(a.defenkupnum=b),(isNaN(A)||b>A)&&(A=b,P=p,x=f.tactical);0==i?(a.fbbest0.x=r[C]-y,a.fbbest0.visible=!0):(a.fbbest1.x=s[P]-y,a.fbbest1.visible=!0),a.chooseactid==G&&a.choosedefid==x&&(a.besticon.visible=!0);var w;a.attackupnum>=0?(w=+a.attackupnum,a.myzhanlitxt.text=Language.ins.game_zhanli_s+"+"+w,a.myzhanlitxt.textColor=c):(w=+a.attackupnum,a.myzhanlitxt.text=Language.ins.game_zhanli_s+w+"",a.myzhanlitxt.textColor=u.red),a.zhanlitxtA.text=Math.floor(a.m_myzhanli+w)+"";var k;a.defenkupnum>=0?(k=+a.defenkupnum,a.dizhanlitxt.text=""+Language.ins.game_zhanli_s+"+"+k,a.dizhanlitxt.textColor=c):(k=+a.defenkupnum,a.dizhanlitxt.text=""+Language.ins.game_zhanli_s+k,a.dizhanlitxt.textColor=u.red),a.zhanlitxtB.text=Math.floor(a.m_oppzhanli-k)+"";var I=Math.floor(a.attackupnum)+Math.floor(a.defenkupnum);I>=0?(l=FormatString.format(Language.ins.game_col,c,"+"+I),a.studyalltxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.tactics_up,l))):(l=FormatString.format(Language.ins.game_col,u.red,I),a.studyalltxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.tactics_up,l))),a.upzhanli=I}else a.zhanlitxtA.text=Math.floor(a.m_myzhanli)+"",a.zhanlitxtB.text=Math.floor(a.m_oppzhanli)+"",a.myzhanlitxt.text=Language.ins.game_zhanli_s+"+"+Language.ins.tactics_old,a.myzhanlitxt.textColor=u.white,a.dizhanlitxt.text=Language.ins.game_zhanli_s+"+"+Language.ins.tactics_old,a.dizhanlitxt.textColor=u.white,a.studyalltxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.tactics_up,"+"+Language.ins.tactics_old));t&&(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick))},t.prototype.closeSelf=function(){var e=this;if(e){var t=e.m_data,a=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id;if(t.type==FightEnum.type_pve&&a==parseInt(t.enemy))return void e.goFightFun()}e.close()},t.prototype.goFightFun=function(){var e=this;if(1==e.m_data.type||3==e.m_data.type||5==e.m_data.type){var t=+e.zhanlitxtA.text-+e.zhanlitxtB.text;t>=0?e.sendFightRequest():JAlert.showinfostr(Language.ins.fight_enter_tip10,Language.ins.title_tishi,e.sendFightRequest,e,!0)}else e.sendFightRequest()},t.prototype.sendFightRequest=function(){var e=this;if(0!=e.chooseactid&&0!=e.choosedefid&&GlobalAllProxy.getInstance().playerProxy.NetTEAMUSETACTICS(e.chooseactid,e.choosedefid),e.m_data){e.close();var t=e.m_data;GlobalAllProxy.getInstance().fightProxy.NetBattleRequest(t.type,t.enemy,t.isshowPanel,t.custom,t.mapId)}},t.prototype.showDataA=function(e,t){var a=this,i=e;i.sort(utils.GameUtil.sortMatckFun(["position"],[1]));var n=a.datalistA;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightHeroListRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showStudyDataA=function(e,t){var a=this,i=e,n=a.datalistT0;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightPrewarStudyRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showStudyDataB=function(e,t){var a=this,i=e,n=a.datalistT1;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightPrewarStudyRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.pveTimeFun=function(){var e=this;return e.pveNinfo-=1,e.waittimetxt.text=e.pveNinfo,e.pveNinfo<=0?void e.goFightFun():(egret.clearTimeout(e.pvetimenum),void(e.pvetimenum=egret.setTimeout(e.pveTimeFun,e,1e3)))},t.type_infodata=0,t.type_myteam=1,t.type_oppteam=2,t.type_study=3,t}(e.VM);e.FightPrewarView=t,__reflect(t.prototype,"vm.FightPrewarView")}(vm||(vm={}));var FightResultVO=function(){function e(){}return e}();__reflect(FightResultVO.prototype,"FightResultVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_addwait=!1,t.m_issendfight=!1,t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e=new skins.FightResultSkinDR,t=[],a=[ResName.mc_win,ResName.mc_fight_lose,ResName.mc_draw],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.m_addwait=!1,a.m_issendfight=!1,a.readPanelVO(),a.initAddEvent(),a.m_fristplaymc=!0,t&&(a.showTar(),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_fight_result,a.mapAwardListG.setGroupAlign(egret.HorizontalAlign.CENTER),a.resultguangG.visible=!1,a.resultbgimg.visible=!1,a.resulticon.visible=!1,a.sorttxt4.text=Language.ins.club_tip25,a.ftiptxt0.text=Language.ins.club_tip27,a.sorttxt0.text=Language.ins.club_tip26,a.sorttxt1.text=Language.ins.fight_tip9,a.sorttxt2.text=Language.ins.fight_tip96,a.okbtn.label=Language.ins.btn_ok),a._choosemode=0,a.tabGroup.setSelectIndex(0);var i=a.m_fightdata;if(a.shibaiG.touchChildren=!0,egret.clearTimeout(a.pvetimenum),i){a.waittimetxt.text="";var n=i.fightdata;n.type==FightEnum.type_pve&&(a.shibaiG.touchChildren=!1,a.pveNinfo=ParamLoader.instance.ServerResultTime,a.pveNlist=a.pveNinfo,a.waittimetxt.text=FormatString.format(Language.ins.fight_tip53,a.pveNinfo),a.pvetimenum=egret.setTimeout(a.pveTimeFun,a,1e3))}a.changeShow()},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_fightresult,a=e.m_fightdata,i=300;if(a){var n=a.fightdata;n&&n.isWin()&&(n.type==FightEnum.type_pve||n.type==FightEnum.type_pvc)&&(t=Language.ins.list_btn_fightresultB,i=200)}e.tabGroup.visible=!0,e.tabGroup.m_class=TableBraButton6;var o=new game.KLayoutInfo;e.tabGroup.setButtonWidth(i),o.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(o),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVO=function(){var e=this;e.m_soundfirst=!0,e._choosemode=t.type_result,e.panelVo&&e.panelVo.panelobj&&(e.m_fightdata=e.panelVo.panelobj)
},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;egret.clearTimeout(a.pvetimenum),a.removeEvent(),egret.Tween.removeTweens(a.scoreG),egret.Tween.removeTweens(a.resultguangG);var i=a.mc_win;i&&(i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,a.playermc1,a),i.removeEventListener(dragonBones.EventObject.COMPLETE,a.playermc3,a));var i=a.mc_lost;i&&(i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,a.playermc1,a),i.removeEventListener(dragonBones.EventObject.COMPLETE,a.playermc3,a));var i=a.mc_draw;i&&(i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,a.playermc1,a),i.removeEventListener(dragonBones.EventObject.COMPLETE,a.playermc3,a)),utils.GameComUtil.removeAnimoSelf(a.mc_win),utils.GameComUtil.removeAnimoSelf(a.mc_lost),utils.GameComUtil.removeAnimoSelf(a.mc_draw),utils.GameComUtil.removeListData(this.datalistA)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a=this,i=a.m_fightdata;if(utils.GameComUtil.setVisibleHitPanel(a.infoG0,a.contentG,!1,2),utils.GameComUtil.setVisibleHitPanel(a.infoG1,a.contentG,!1,2),utils.GameComUtil.setVisibleHitPanel(a.infoG2,a.contentG,!1,2),i){var n=a._choosemode;switch(n){case t.type_result:if(utils.GameComUtil.setVisibleHitPanel(a.infoG0,a.contentG,!0,2),a.showresultdata(i),a.m_soundfirst){a.m_soundfirst=!1;var o=i.fightdata;o.myScore>o.oppScore?SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_fightwin):SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_fightlost)}break;case t.type_overview:utils.GameComUtil.setVisibleHitPanel(a.infoG1,a.contentG,!0,2),a.showoverviewdata(i);break;case t.type_list:utils.GameComUtil.setVisibleHitPanel(a.infoG2,a.contentG,!0,2),a.showlistdata(i)}}},t.prototype.showresultdata=function(e){var t=this,a=e.fightdata;if(t.scoreAtxt.text=a.myScore,t.scoreBtxt.text=a.oppScore,t.nameAtxt.text=a.myServerVo.name,t.nameBtxt.text=a.oppServerVo.name,t.logoimgA.setLogoUrl(a.myServerVo.logo),t.logoimgB.setLogoUrl(a.oppServerVo.logo),t.shibaiG.visible=!1,t.mapAwardListG.visible=!1,t.paihangG.visible=!1,a.myScore>a.oppScore){t.resultbgimg.source="tab_bsks_b4",t.resulticon.source="tab_jjsn_c7";var i=a.rewardArr,n=i;if(a.expPool){var o=new game.ComItemGroupVo(GlobalEnum.itemid_playerexp,a.expPool);n=n.concat([o])}if(a.clubExp){var r=new game.ComItemGroupVo(GlobalEnum.itemid_exp,a.clubExp);n=n.concat([r])}if(t.mapAwardListG.setDataArr(n,"",!0,!1,!0,!1),t.tiptxt.text=Language.ins.fight_tip9,t.resultebgimg.source="tab_bsks_b1",utils.GameUtil.setColorGrey(t.scoreG,!1),t.showrecruitmc(!0,!1),a.type==FightEnum.type_pvs){t.paiitem.visible=!1;var s=GlobalAllProxy.getInstance().fightProxy.qualifyingData;if(s&&s.topRank&&(s.topRank<utils.GameUtil.qualifyold_rank||!utils.GameUtil.qualifyold_rank)){for(var l,p=GlobalEnum.itemid_ug,c=0,u=n.length;u>c;c++)l=n[c],l.itemid==p&&(t.paiitem.setIdAndNum(l.itemid,l.count,!0,0,!1,!1,!1,!1),t.paiitem.visible=!0);t.pairanktxt.text=FormatString.format(Language.ins.qualifying_tip14,s.topRank),t.paihangG.visible=!0}else t.mapAwardListG.visible=!0}else t.mapAwardListG.visible=!0}else{var m=a.myScore==a.oppScore?!0:!1;t.showrecruitmc(!1,m),utils.GameUtil.setColorGrey(t.scoreG,!0),t.tiptxt.text=Language.ins.fight_tip10,t.resulticon.source="tab_jjsn_c8",t.resultbgimg.source="tab_bsks_b3",t.shibaiG.visible=!0,t.resultebgimg.source="tab_bsks_a9"}var g=t.summaryscrollA;g&&(g.stopAnimation(),g.viewport.scrollV=0)},t.prototype.showrecruitmc=function(e,t){var a,i,n=this;n.m_fristplaymc&&(n.m_fristplaymc=!1,t?(a="mc_draw",i=utils.GameComUtil.getArmature(ResName.mc_draw,a,n),i&&(n.resultbgimg.visible=!1,n.resultguangG.visible=!1,n.resulticon.visible=!1,n.scoreG.visible=!1,i.animation.play("effect",1),n.resultmcG.addChild(i),i.addEventListener(dragonBones.EventObject.FRAME_EVENT,n.playermc2,n),i.addEventListener(dragonBones.EventObject.COMPLETE,n.playermc3,n))):e?(a="mc_win",i=utils.GameComUtil.getArmature(ResName.mc_win,a,n),i&&(n.resultbgimg.visible=!1,n.resultguangG.visible=!1,n.resulticon.visible=!1,n.scoreG.visible=!1,i.animation.play("effect",1),n.resultmcG.addChild(i),i.addEventListener(dragonBones.EventObject.FRAME_EVENT,n.playermc1,n),i.addEventListener(dragonBones.EventObject.COMPLETE,n.playermc3,n))):(a="mc_lost",i=utils.GameComUtil.getArmature(ResName.mc_fight_lose,a,n),i&&(n.resultbgimg.visible=!1,n.resultguangG.visible=!1,n.resulticon.visible=!1,n.scoreG.visible=!1,i.animation.play("effect",1),n.resultmcG.addChild(i),i.addEventListener(dragonBones.EventObject.FRAME_EVENT,n.playermc2,n),i.addEventListener(dragonBones.EventObject.COMPLETE,n.playermc3,n))))},t.prototype.playermc1=function(e){var t=this,a=e,i=a.name;if(a.frameLabel&&(i=a.frameLabel),"mc_words"==i){var n=t.scoreG;n.visible=!0,n.alpha=0,n.scaleX=0,n.scaleY=0,egret.Tween.get(n).to({alpha:0,scaleX:0,scaleY:0}).to({alpha:1,scaleX:1,scaleY:1},300);var o=t.resultguangG;o.visible=!0,o.alpha=0,o.rotation=0,egret.Tween.get(o).to({alpha:1},600),egret.Tween.get(o,{loop:!0}).to({rotation:0}).to({rotation:360},6e3)}},t.prototype.playermc2=function(e){var t=this,a=e,i="";if(a.frameLabel&&(i=a.frameLabel),"mc_words"==i){var n=t.scoreG;n.visible=!0,n.alpha=0,n.scaleX=0,n.scaleY=0,egret.Tween.get(n).to({alpha:0,scaleX:0,scaleY:0}).to({alpha:1,scaleX:1,scaleY:1},300)}},t.prototype.playermc3=function(e){},t.prototype.showoverviewdata=function(e){var t=this,a=e.fightdata;t.summaryPanel||(t.summaryPanel=new GameSummaryPanel(t)),t.summaryPanel.showSummary(a)},t.prototype.showlistdata=function(e){var t=this,a=e.fightdata,i=a.myServerVo.player;t.showDataA(i,!0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.m_addwait||(t.m_addwait=!0,t.pveNlist=ParamLoader.instance.CopyRewardTime),t.changeShow()},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.closeSelf();break;case t.okbtn:t.closeSelf();break;case t.panel_bg.closebtn:t.closeSelf();break;case t.tacticsbtn:t.closeSelf(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_gamehero]);break;case t.techbtn:t.closeSelf(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tech]);break;case t.trainbtn:t.closeSelf(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainenter]);break;case t.scoutbtn:t.closeSelf(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout])}},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalistA;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightResultRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t.prototype.closeSelf=function(){var e=this;if(e){var t=e.m_fightdata;if(t){var a=t.fightdata;if(a){if(a.type==FightEnum.type_pve)return void e.goPrewarFun();var i=Manifest.getIns(FightDM);i.overReturnPanel(a.type)}}}e.close()},t.prototype.pveTimeFun=function(){var e=this;return egret.clearTimeout(e.pvetimenum),e.pveNlist-=1,e.waittimetxt.text=FormatString.format(Language.ins.fight_tip53,e.pveNlist),e.pveNlist<=0?(e.waittimetxt.text="",void e.goPrewarFun()):void(e.pvetimenum=egret.setTimeout(e.pveTimeFun,e,1e3))},t.prototype.goPrewarFun=function(){var e=this;if(e.close(),egret.clearTimeout(e.pvetimenum),!e.m_issendfight){e.m_issendfight=!0;var t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=(FightEnum.type_pve,t.mission_id,Manifest.getIns(FightDM));a&&a.playNextPve(!0)}},t.type_result=0,t.type_overview=1,t.type_list=2,t}(e.VM);e.FightResultView=t,__reflect(t.prototype,"vm.FightResultView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.FriendAskSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt0.text=Language.ins.friend_tip17,t.tiptxt.text=Language.ins.friend_tip24),t.noneG.visible=!1,t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent();utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().friendProxy.askList;e.noneG.visible=!1,t&&(e.showData(t,!1),t.length||(e.noneG.visible=!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.FRIEND_DATA_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FriendAskRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.FriendAskPanel=t,__reflect(t.prototype,"vm.FriendAskPanel")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.panelArr=["vm.FriendListPanel","vm.FriendLookUpPanel","vm.FriendAskPanel"],e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.FriendBgSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var a=this;if(t.prototype.onShow.call(this,e),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_friend),a.addChild(a.m_toppanel),e){a.showTar();var i=GlobalEnum.itemid_love;a.itemimg.source=ResName.getMinItemIcon(i),a.changeG.label=Language.ins.btn_exchange,a.delbtn.label=Language.ins.btn_delete,a.Binfobtn.label=Language.ins.chat_tip13,a.askbtn.label=Language.ins.chat_tip14,a.addbtn.label=Language.ins.btn_add_friend}utils.GameComUtil.setVisibleHitPanel(a.friendG,a.contentGroup,!1);var n=GlobalAllProxy.getInstance().friendProxy;n.friendList||n.NetUserFriendList(),n.findList||n.NetUserFriendFind(),a.changeTipMC(),a.resizefun()},a.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo;t&&(e.numtxt.text=t.lovestar)},a.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_friend;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},a.prototype.changeshow=function(){var e=this;e.hitalllist();var t=e.panelArr[e._choosemode],a=e[t];null==a?(a=Manifest.getIns(egret.getDefinitionByName(t)),e.contentGroup.addChild(a),a.visible=!0,e[t]=a,e.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,e.contentGroup.addChild(a))},a.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},a.prototype.reshTop=function(){},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.hitalllist(),this.removeAddEvent(),utils.GameComUtil.removeTextFlow(this.lvtxt),utils.GameComUtil.removeTextFlow(this.idtxt)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.FRIEND_CLICK_INFO,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.FRIEND_CLICK_INFO,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changedata();break;case game.GameCommands.FRIEND_CLICK_INFO:a.showClickInfo(e);break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.FRIEND_DATA_CHANGE:a.m_chooseinfo&&a.friendG.visible&&a.showClickInfo(a.m_chooseinfo)}},a.prototype.showClickInfo=function(e){var t=this;t.m_chooseinfo=e,utils.GameComUtil.setVisibleHitPanel(t.friendG,t.contentGroup,!0),t.logoimg.setLogoUrl(e.logo);var i=ColorUtil.tip_hui,n=ColorUtil.tip_blue,o=Language.ins.game_lv_s+e.level,r=FormatString.format(Language.ins.game_col,i,Language.ins.friend_tip3)+FormatString.format(Language.ins.game_col,n,o),s=FormatString.format(Language.ins.game_col,i,Language.ins.friend_tip4)+FormatString.format(Language.ins.game_col,n,e.fid);t.lvtxt.textFlow=utils.GameComUtil.getHtmlText(r),t.idtxt.textFlow=utils.GameComUtil.getHtmlText(s),t.nametxt.text=e.name;var l=!1,p=GlobalAllProxy.getInstance().friendProxy.getFriendVo(e.fid);p&&(l=!0),utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!1),t.delbtn.visible=!1;var c=40;t.askbtn.visible=!1,t.addbtn.visible=!1,t._choosemode==a.type_list?(t.delbtn.visible=!0,utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!0),c=10):t._choosemode==a.type_look?(utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!0)):t._choosemode==a.type_ask&&(utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!0)),l?t.askbtn.visible=!0:(t.addbtn.visible=!0,e.apply?(t.addbtn.label=Language.ins.friend_tip2,t.addbtn.enabled=!1):(t.addbtn.label=Language.ins.friend_tip1,t.addbtn.enabled=!0)),t.infobtnG.layout.gap=c},a.prototype.touchTapFun=function(t){var a=this,i=t.target;PanelDM.getIns();switch(i){case a.m_toppanel.closebtn:a.close();break;case a.closebtn:a.close();break;case a.delbtn:utils.GameComUtil.setVisibleHitPanel(a.friendG,a.contentGroup,!1),a.m_chooseinfo&&GlobalAllProxy.getInstance().friendProxy.NetUserFriendDel(a.m_chooseinfo.fid);break;case a.askbtn:if(a.m_chooseinfo){var n=new ChatViewVO(a.m_chooseinfo.fid,a.m_chooseinfo.name);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat,e.ChatView.type_self],n)}utils.GameComUtil.setVisibleHitPanel(a.friendG,a.contentGroup,!1);break;case a.addbtn:a.m_chooseinfo&&GlobalAllProxy.getInstance().friendProxy.NetUserFriendAdd(a.m_chooseinfo.fid),utils.GameComUtil.setVisibleHitPanel(a.friendG,a.contentGroup,!1);break;case a.friendRct:utils.GameComUtil.setVisibleHitPanel(a.friendG,a.contentGroup,!1);break;case a.changeG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop,e.ShopBgView.type_friend]);break;case a.itemG:var o=game.TipSimpleObject.type_item,r=GlobalEnum.itemid_love,s=new game.ComItemGroupVo(r,0);utils.GameComUtil.ShowTip(a.itemG,r,o,s);break;case a.Binfobtn:a.m_chooseinfo&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.m_chooseinfo.fid)}},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcFriendask(t.getTipForArr(null,[GlobalEnum.tipmc_friendask])),e.showTipMcFriendlove(t.getTipForArr(null,[GlobalEnum.tipmc_friendlove]))},a.prototype.showTipMcFriendlove=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!0),t.contentGroup.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcFriendask=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!0),t.contentGroup.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.type_list=0,a.type_look=1,a.type_ask=2,a}(e.VM);e.FriendBgView=t,__reflect(t.prototype,"vm.FriendBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.FriendListSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt0.text=Language.ins.friend_tip18,t.onegetbtn.label=Language.ins.friend_tip19,t.onesetbtn.label=Language.ins.friend_tip20),t.noneG.visible=!1,t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent();utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().friendProxy.friendList;e.noneG.visible=!1,t&&(e.showData(t,!1),e.numtxt.text=t.length+"/"+ParamLoader.instance.ServerMaxFriend,t.length||(e.noneG.visible=!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MAIN_TOPBTN_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.MAIN_TOPBTN_CHANGE:case game.GameCommands.FRIEND_DATA_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.onegetbtn:GlobalAllProxy.getInstance().friendProxy.NetUserOneKeyLove(2);break;case t.onesetbtn:GlobalAllProxy.getInstance().friendProxy.NetUserOneKeyLove(1)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MAIN_TOPBTN_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FriendListRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.FriendListPanel=t,__reflect(t.prototype,"vm.FriendListPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.FriendLookUpSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;if(e){var a=t.infotxt;a.visible=!1,null==t.comtxt&&(t.comtxt=new egret.TextField,t.comtxt.type=egret.TextFieldType.INPUT,t.comtxt.textAlign=egret.HorizontalAlign.LEFT,t.comtxt.x=a.x,t.comtxt.y=a.y,t.comtxt.text=Language.ins.friend_info_string,t.comtxt.width=a.width,t.comtxt.height=a.height,t.comtxt.size=a.size,t.comtxt.maxChars=20,t.comtxt.textColor=a.textColor,t.comtxt.bold=!0,t.comtxt.fontFamily=Language.ins.sever_font,t.infoG.addChild(t.comtxt)),t.lookbtn.label=Language.ins.friend_tip21,t.reshbtn.label=Language.ins.friend_tip22,t.tiptxt0.text=Language.ins.friend_tip23}t.comtxt&&(t.comtxt.text=Language.ins.friend_info_string,t.comtxt.addEventListener(egret.TouchEvent.TOUCH_TAP,t.changeComtxt,t),t.comtxt.addEventListener(egret.TextEvent.CHANGE,t.selectComtxt,t)),t.initAddEvent(),t.changeShow()},t.prototype.selectComtxt=function(e){var t=this;t.temptxt=e.target.text},t.prototype.changeComtxt=function(e){var t=this;t.comtxt.text="",t.temptxt=""},t.prototype.onHide=function(e){this.removeEvent();utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().friendProxy.findList;t&&e.showData(t,!1)},t.prototype.showidlist=function(){var e=this,t=GlobalAllProxy.getInstance().friendProxy.idifno;t&&e.showData([t],!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.FRIEND_FOND_ID_DATA,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.FRIEND_DATA_CHANGE:a.changeShow();break;case game.GameCommands.FRIEND_FOND_ID_DATA:a.showidlist()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.reshbtn:GlobalAllProxy.getInstance().friendProxy.NetUserFriendFind();break;case t.lookbtn:""!=t.comtxt.text&&t.comtxt.text!=Language.ins.friend_info_string?GlobalAllProxy.getInstance().friendProxy.NetUserFriendFindByFid(t.comtxt.text):FLOAT.NShowPutong([Language.ins.friend_info_string])}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FRIEND_DATA_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=FriendLookUpRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.FriendLookUpPanel=t,__reflect(t.prototype,"vm.FriendLookUpPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_showgif=!1,t.m_gifs=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.FriendShipRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&a.panel_bg.setImgBg(""),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openobj=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent();for(var a,i=this,n=i.m_gifs,o=0,r=n.length;r>o;o++)a=n[o],a&&a.onHide()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openobj;if(a){t.showGifFun(!0,a);var i=a.title?a.title:"";t.panel_bg.titlename.text=i;var n=GlobalAllProxy.getInstance().fightProxy.friendshipData;n&&(t.tiptxt0.text=FormatString.format(Language.ins.friend_ship_tip15,n.success_max_num),t.tiptxt1.text=FormatString.format(Language.ins.friend_ship_tip16,n.success_num))}},t.prototype.showGifFun=function(e,t){var a=this;if(a.gifG.visible=e,e){var i,n=t.voarr,o=a.m_gifs;a.gifitemG.removeChildren();for(var r,s=o.length,l=n.length,p=0;l>p;p++)r=n[p],s>p?i=o[p]:(i=new AlertRewardGif,o.push(i)),i.setData(r),a.gifitemG.addChild(i)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;if(a instanceof AlertRewardGif){var i=a,n=i._data;if((n.curnum<n.neednum||n.isget)&&n.reward&&""!=n.reward){var o=utils.GameComUtil.getItemVoArr(n.reward);return void utils.GameComUtil.ShowTip(a,null,game.TipSimpleObject.type_awardarr,o)}var r=t.m_openobj;if(r){var s=r.callFun,l=r.callself;s&&l&&s.call(l,n.type,n.index)}}else switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.FriendShipRewardView=t,__reflect(t.prototype,"vm.FriendShipRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isclick=!1,t.oldpvpid=0,t.m_players=[],t.m_imgurlarr=["icon_101","icon_102","icon_103","icon_104","icon_106"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.FriendShipSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.m_chooseplayer=null,t&&(a.demoplayer.visible=!1,a.tiptxt.text=Language.ins.friend_ship_tip17,a.inspirebtn.label=Language.ins.friend_ship_tip18,a.fightbtn.label=Language.ins.btn_challenge,a.tiptxt0.text=Language.ins.friend_ship_tip19,a.tiptxt1.text=Language.ins.friend_ship_tip20,a.tiptxt2.text=Language.ins.friend_ship_tip21,a.tiptxt3.text=Language.ins.friend_ship_tip22,a.tiptxt4.text=Language.ins.friend_ship_tip23,a.tiptxt5.text=Language.ins.friend_ship_tip27,a.maxtxt.text=Language.ins.friend_ship_tip28,a.nowGradetxt.text="",a.nexttiptxt.text="",a.needlvtxt.text=""),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_friendship),a.addChild(a.m_toppanel),a.showliansheng();var i=GlobalAllProxy.getInstance().fightProxy.friendshipData;i||GlobalAllProxy.getInstance().fightProxy.NetfriendinitRequest(),i&&(-1==utils.GameUtil.friendshipsoldgoal_num&&(utils.GameUtil.friendshipsoldgoal_num=i.goal_num),-1==utils.GameUtil.friendshipsscore&&(utils.GameUtil.friendshipsscore=i.score),-1==utils.GameUtil.friendshipssuccess_num&&(utils.GameUtil.friendshipssuccess_num=i.success_num)),utils.GameComUtil.setVisibleHitPanel(a.uptipG,a,!1,5),a.resizefun(),GlobalAllProxy.getInstance().fightProxy.NetfriendinitRequest()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.changeChoosePlayer(),a.removeEvent(),utils.GameComUtil.removeAnimoSelf(a.gifmc0),utils.GameComUtil.removeAnimoSelf(a.gifmc1),utils.GameComUtil.removeAnimoSelf(a.gifmc2),utils.GameComUtil.removeAnimoSelf(a.jigifmc0),utils.GameComUtil.removeAnimoSelf(a.jigifmc1),utils.GameComUtil.removeAnimoSelf(a.jigifmc2),utils.GameComUtil.removeAnimoSelf(a.jigifmc3),utils.GameComUtil.removeAnimoSelf(a.jigifmc4);for(var i=0,n=a.m_players.length;n>i;i++)a.m_players[i].onHide()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a,i=this,n=!1,o=e;o&&o.type&&(n=1==o.type?!0:!1,2==o.type&&(a=o.indexN));var r=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(r){i.changeshowGif(FriendShipGifVO.type_integral),i.changeshowGif(FriendShipGifVO.type_win),i.resetbtn.label=FormatString.format(Language.ins.btn_ship_resh,r.reset_num);var s=(GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_linewin),t.getaddnum(r.inspire_num,!1,!0));i.addfighttxt.text=s+"%";var l,p,c,u,m,g,_,h,d=r.fids,y=i.m_players,v=y.length,f=6,b=198+f,G=Global.initStageWidth,x={},C=d.length,T=Manifest.getIns(FightDM),P=T.getFightData(FightEnum.type_pvf);P&&!P.a_isplaymc&&(P.a_isplaymc=!0,h=P.nowid);for(var A,w=0;C>w;w++)m=d[w],v>w?l=y[w]:(l=new FriendShipPlayer,y.push(l),i["playshif"+w]=l),i.playerG.addChild(l),p=i.suanfun(w),l.x=p.x*b,x[p.y]?c=x[p.y]:(g=p.y+1,g>=3&&(g=3),c=G/(g*b),c=parseFloat(c.toFixed(2)),x[p.y]=c),c>1?l.scaleY=l.scaleX=1:l.scaleY=l.scaleX=c,_=parseInt(h)==m.fid?!0:!1,u=new FriendShipPlayerVO(p.x,p.y,m,_),a&&a==u.frienddata.positon?l.setData(u,!0):l.setData(u,n),i.m_chooseplayer&&i.m_chooseplayer.indexY==p.y&&i.m_chooseplayer.indexX==p.x&&(i.m_chooseplayer=u),i["playerG"+p.y]&&i["playerG"+p.y].addChild(l),A||(A=u),-1==m.result&&(A=u);!i.m_chooseplayer&&A&&(i.m_chooseplayer=A),i.showjifenfun()}i.changeChoosePlayer(),i.showtip()},t.prototype.showtip=function(){var e,t=this,a=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,i=GlobalConfig.friendscorerewardForLevel(a);if(i.length>0&&(e=i[0]),e){t.isclick?(t.tipG.visible=!0,t.clickimg.visible=!1,t.clickedimg.visible=!0):(t.tipG.visible=!1,t.clickimg.visible=!0,t.clickedimg.visible=!1),t.nowGradetxt.text=FormatString.format(Language.ins.friend_ship_tip24,e.grade);var n=GlobalConfig.friendscorerewardForGrade(e.grade+1);n?(t.showG.visible=!0,t.maxtxt.visible=!1,t.nexttiptxt.text=FormatString.format(Language.ins.friend_ship_tip26,n.grade),t.needlvtxt.text=FormatString.format(Language.ins.friend_ship_tip25,a,n.minlv)):(t.showG.visible=!1,t.maxtxt.visible=!0)}},t.prototype.showjifenfun=function(){},t.prototype.showliansheng=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(t){GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_linewin);if(t.isshowLastTip()){var a=ParamLoader.instance.Serverwincard,i=new AlertVO;i.showCancel=!0,i.info=FormatString.format(Language.ins.friend_ship_tip8,t.success_last_num),i.tipbl=!0,i.tipstr=Language.ins.fight_tip4,i.tipitemid=GlobalEnum.itemid_ug,i.tipcostid=ug_cost_type.fight_buy_win,i.tipitemnum=a,JAlert.show(i,Language.ins.title_usewin,e.buyAndUseLineWin,e)}}},t.prototype.nouserLineWin=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.friendshipData;t&&(t.onuseline(),t.success_num=0,e.changeshowGif(FriendShipGifVO.type_win))},t.prototype.buyAndUseLineWin=function(){GlobalAllProxy.getInstance().fightProxy.NetfriendbuycardRequest(1,!0)},t.getaddnum=function(e,t,a){var i=ParamLoader.instance.Serverfriendinspire,n=0;if(e){var o=i.length;if(o>=e){var r;if(a)for(var s=0;e>s;s++)r=i[s],n+=t?parseInt(r[1]):.01*parseInt(r[0]);else r=i[e-1],n=t?parseInt(r[1]):.01*parseInt(r[0])}}return n},t.prototype.suanfun=function(e){for(var t,a=0/0,i=0/0,n=0,o=0;isNaN(a)&&isNaN(i);)t=n+1,t>=3&&(t=3),o+=t,o>e&&(a=n,i=t-(o-e)),n++;return new egret.Point(i,a)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.FRIEND_SHIP_DATA,e.eventChange),e.addMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.addMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.addMessage(game.GameCommands.FRIEND_SHIP_BUY,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.FRIEND_SHIP_DATA,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.FIGHT_PLAY_OVER,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.removeMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.removeMessage(game.GameCommands.FRIEND_SHIP_BUY,e.eventChange),TweenLite.killTweensOf(e.uptipG,!0)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.FRIEND_SHIP_DATA:this.m_chooseplayer=null,this.initfriendships(),this.changeShow(e);break;case game.GameCommands.FIGHT_PLAY_OVER:e==FightEnum.type_pvf&&this.changeShow();break;case game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP:this.showpveupTip();break;case game.GameCommands.FRIEND_SHIP_BUY:a.clickChallenge();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.initfriendships=function(){var e=GlobalAllProxy.getInstance().fightProxy.friendshipData;e&&(utils.GameUtil.friendshipsoldgoal_num=e.goal_num,utils.GameUtil.friendshipsscore=e.score,utils.GameUtil.friendshipssuccess_num=e.success_num)
},t.prototype.showpveupTip=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(t){var a=t.score-utils.GameUtil.friendshipsscore,i=t.success_num-utils.GameUtil.friendshipssuccess_num;0>i&&(i=0),utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!0),e.addjifentxt0.text="+"+(t.goal_num-utils.GameUtil.friendshipsoldgoal_num),0==a?(e.deficon.source="tab_yys_b3",e.addjifentxt1.text=""+a,e.addjifentxt1.textColor="0xFF0000"):(e.deficon.source="tab_yys_b2",e.addjifentxt1.text="+"+a,e.addjifentxt1.textColor="0x2DFF00"),0==i?(e.addjifentxt2.textColor="0xFF0000",e.addjifentxt2.text=""+i):(e.addjifentxt2.textColor="0x2DFF00",e.addjifentxt2.text="+"+i),utils.GameUtil.friendshipsoldgoal_num=t.goal_num,utils.GameUtil.friendshipsscore=t.score,utils.GameUtil.friendshipssuccess_num=t.success_num,TweenLite.killTweensOf(e.uptipG,!0),e.uptipG.alpha=0,e.uptipG.visible=!0,TweenLite.to(e.uptipG,.4,{alpha:1}),TweenLite.to(e.uptipG,.4,{alpha:0,delay:2,onComplete:e.showpveupTipOver.bind(e)})}},t.prototype.showpveupTipOver=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!1,5)},t.prototype.hitPlayers=function(){for(var e,t=this,a=t.m_players,i=0,n=a.length;n>i;i++)e=a[i],e.setChoose(!1)},t.prototype.changeChoosePlayer=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.friendshipData,a=e.m_chooseplayer;if(e.hitPlayers(),t&&a){t.free_threat?e.fightbtn.label=FormatString.format(Language.ins.btn_ship_fight,t.free_threat):a.frienddata.result==SFriendOpponents.state_def?e.fightbtn.label=Language.ins.rich_btn_3:e.fightbtn.label=Language.ins.rich_btn_1,e.changebtn.label=FormatString.format(Language.ins.btn_ship_change,t.free_refresh),e.fightbtn.enabled=!1,e.changebtn.enabled=!1,a.frienddata.result==SFriendOpponents.state_init?(e.changebtn.enabled=!0,e.fightbtn.enabled=!0):a.frienddata.result==SFriendOpponents.state_def&&(e.fightbtn.enabled=!0,e.changebtn.enabled=!0);for(var i,n=e.m_players,o=0,r=n.length;r>o;o++)if(i=n[o],i._data==a){i.setChoose(!0);break}}else e.fightbtn.enabled=!1,e.changebtn.enabled=!1},t.prototype.touchTapFun=function(e){var a=this,i=e.target,n=i.name;if("friendplayerRect"==n||i instanceof FriendShipPlayer){var o;return o="friendplayerRect"==n?i.parent:i,a.m_chooseplayer=o._data,void a.changeChoosePlayer()}switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.initewinRect:a.showRewardGif(FriendShipGifVO.type_win,a.gifimg2);break;case a.inspirebtn:var r=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(r){var s=r.inspire_num,l=ParamLoader.instance.Serverfriendinspire;if(s>=l.length)FLOAT.NShowPutong([Language.ins.friend_ship_tip1]);else{var p=t.getaddnum(s+1,!1,!1)+"%",c=t.getaddnum(s+1,!0,!1),u=new AlertVO;u.showCancel=!0,u.info=FormatString.format(Language.ins.friend_ship_tip0,p),u.tipbl=!0,u.tipstr=Language.ins.fight_tip4,u.tipitemid=GlobalEnum.itemid_ug,u.tipcostid=ug_cost_type.fight_ship_guwu,u.tipitemnum=c,JAlert.show(u,Language.ins.title_inspire,a.inspireFun,a)}}break;case a.resetbtn:GlobalAllProxy.getInstance().fightProxy.NetfriendresetRequest();break;case a.fightbtn:a.clickChallenge();break;case a.changebtn:var m=a.m_chooseplayer;if(!m)return void FLOAT.NShowPutong([Language.ins.friend_ship_tip11]);var r=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(r)if(r.free_refresh)GlobalAllProxy.getInstance().fightProxy.NetfriendchangeRequest(m.frienddata.fid,0);else{var g=ParamLoader.instance.Serverfriendrefresh,_=g.length;if(r.refresh<_){var h=g[r.refresh],u=new AlertVO;u.showCancel=!0,u.info=Language.ins.friend_ship_tip3,u.tipbl=!0,u.tipstr=Language.ins.fight_tip4,u.tipitemid=GlobalEnum.itemid_ug,u.tipcostid=ug_cost_type.fight_ship_change,u.tipitemnum=h,JAlert.show(u,Language.ins.title_reshopp,a.reshOpp,a)}else FLOAT.NShowPutong([Language.ins.friend_ship_tip4])}break;case a.jigifrct0:a.showRewardGif(FriendShipGifVO.type_integral,a.jigifimg0,0);break;case a.jigifrct1:a.showRewardGif(FriendShipGifVO.type_integral,a.jigifimg1,1);break;case a.jigifrct2:a.showRewardGif(FriendShipGifVO.type_integral,a.jigifimg2,2);break;case a.jigifrct3:a.showRewardGif(FriendShipGifVO.type_integral,a.jigifimg3,3);break;case a.jigifrct4:a.showRewardGif(FriendShipGifVO.type_integral,a.jigifimg4,4);break;case a.isshowtipG:a.isclick=!a.isclick,a.showtip()}},t.prototype.clickChallenge=function(){var e=this,a=e.m_chooseplayer;if(!a)return void FLOAT.NShowPutong([Language.ins.friend_ship_tip10]);var i=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(i){var n=t.getaddnum(i.inspire_num,!1,!0)/100,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.getZhanliNum();if(-1==a.frienddata.result)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvf,a.frienddata.fid,!0,"",0,o*(1+n)));else if(0==a.frienddata.result)if(i.free_threat)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvf,a.frienddata.fid,!0,"",0,o*(1+n)));else{var r=ParamLoader.instance.Serverfriendchallenge,s=r.length;if(i.buy_chance_num<s){var l=r[i.buy_chance_num],p=new AlertVO;p.showCancel=!0,p.info=Language.ins.friend_ship_tip5,p.tipbl=!0,p.tipstr=Language.ins.fight_tip4,p.tipitemid=GlobalEnum.itemid_ug,p.tipcostid=ug_cost_type.fight_ship_again,p.tipitemnum=l,JAlert.show(p,Language.ins.title_buyshiptime,e.buyshipFightTime,e)}else FLOAT.NShowPutong([Language.ins.friend_ship_tip6])}}},t.prototype.reshOpp=function(){var e=this,t=e.m_chooseplayer;GlobalAllProxy.getInstance().fightProxy.NetfriendchangeRequest(t.frienddata.fid,1)},t.prototype.buyshipFightTime=function(){var e=this,t=e.m_chooseplayer;GlobalAllProxy.getInstance().fightProxy.NetfriendbuychanceRequest(t.frienddata.fid)},t.prototype.inspireFun=function(){GlobalAllProxy.getInstance().fightProxy.NetfriendinspireRequest()},t.prototype.receiveRewardGif=function(e,t){GlobalAllProxy.getInstance().fightProxy.NetfriendrewardRequest(e,t)},t.prototype.changeshowGif=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(a){var i,n,o,r,s=GlobalAllProxy.getInstance().playerProxy.getLevel(),l=!1;switch(e){case FriendShipGifVO.type_integral:l=!0,n=GlobalConfig.friendscorerewardForLevel(s),i=a.score,r=GlobalConfig.friendscorereward_max;break;case FriendShipGifVO.type_win:n=GlobalConfig.friendstraightwinForLevel(s),i=a.success_max_num,o="liantxt",r=GlobalConfig.friendstraightwin_max}var p,c,u,m,g,_,h=n.length,d=0/0;for(_=0;h>_;_++)if(c=n[_],p=0,p=a.getRewardState(e,_),u=c.getnum(),p||g||(g=c),i>=u&&!p){d=e,m=_;break}if(l){var y,v,f=t.m_imgurlarr,b="jigif";for(_=0;h>_;_++)v=_,c=n[_],p=0,p=a.getRewardState(e,_),u=c.getnum(),p||g||(g=c),y=f[_],t["jigifstartxt"+v].text=FormatString.format(Language.ins.friend_ship_tip14,u),utils.GameUtil.setColorGrey(t["jigifimg"+v],!1),i>=u?(t["jigifstartxt"+v].textColor=185338,p?(utils.GameUtil.playGifMc(v,!1,t,y,b),utils.GameUtil.setColorGrey(t["jigifimg"+v],!0)):utils.GameUtil.playGifMc(v,!0,t,y,b)):(t["jigifstartxt"+v].textColor=10987944,utils.GameUtil.playGifMc(v,!1,t,y,b)),t["jigifling"+v].visible=p?!0:!1;t.graltxt.text=FormatString.format(Language.ins.friend_ship_tip13,i)}else{var G="tab_baitu";isNaN(d)?utils.GameUtil.playGifMc(e,!1,t,G,b):utils.GameUtil.playGifMc(e,!0,t,G,b),g?(r=g.getnum(),t[o].text=i):(isNaN(d),t[o].text=i)}}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.showRewardGif=function(e,t,a){void 0===a&&(a=0/0);var i=this,n=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(n){var o=new AlertRewardViewOpenVO;o.type=e;var r,s,l,p=GlobalAllProxy.getInstance().playerProxy.getLevel(),c="",u=!1;switch(e){case FriendShipGifVO.type_integral:u=!0,s=GlobalConfig.friendscorerewardForLevel(p),r=n.score,c=Language.ins.friend_award_tip1;break;case FriendShipGifVO.type_win:s=GlobalConfig.friendstraightwinForLevel(p),r=n.success_max_num,c=Language.ins.friend_award_tip2}o.title=c,o.tipstr=l;var m,g,_,h,d,y,v,f,b=[],G=s.length,x=0/0,C=i.m_imgurlarr;for(v=0;G>v;v++){if(f=C[v],_=s[v],g=0,g=n.getRewardState(e,v),h=_.getnum(),m=new AlertRewardGifVO(e,v,r,h,g,_.getAwardStr(),f),g||y||(y=_),r>=h&&!g){x=e,d=v;break}b.push(m)}if(u)if(_=s[a],g=n.getRewardState(e,a),r<_.getnum()||g){var T=utils.GameComUtil.getItemVoArr(_.getAwardStr());utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,T)}else isNaN(x)||(d=a,i.receiveRewardGif(x,d));else isNaN(x)?(o.callself=i,o.callFun=i.receiveRewardGif,o.voarr=b,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_friendship_reward],o)):i.receiveRewardGif(x,d)}},t}(e.VM);e.FriendShipView=t,__reflect(t.prototype,"vm.FriendShipView")}(vm||(vm={}));var FriendShipGifVO=function(){function e(){}return e.type_integral=0,e.type_win=2,e}();__reflect(FriendShipGifVO.prototype,"FriendShipGifVO");var FightDM=function(){function e(){this._pveUpMapId=0/0,this.isPveFightNext=!1}return e.prototype.runBackFight=function(e,t){void 0===t&&(t=null);var a=this;a.backdata=e,t&&t()},e.prototype.runPVE=function(e,t){void 0===t&&(t=null);var a=this;egret.clearTimeout(a.waittimeN),a.pvedata&&!a.pvedata.isPlayerOver&&e.nowid!=a.pvedata.nowid&&a.fightOverAddData(a.pvedata,!1),a.pvedata=e,t&&t(),PanelDM.getIns().isOpend(vm.GameMainView)&&(a.playerFightType&&a.playerFightType!=FightEnum.type_pve||a.changeShowType(FightEnum.type_pve,e))},e.prototype.runPVP=function(e,t){void 0===t&&(t=null);var a=this;a.pvpdata=e,t&&t()},e.prototype.runPVC=function(e,t){void 0===t&&(t=null);var a=this;a.pvcdata=e,t&&t()},e.prototype.runPVF=function(e,t){void 0===t&&(t=null);var a=this;a.pvfdata=e,t&&t()},e.prototype.runPVD=function(e,t){void 0===t&&(t=null);var a=this;a.pvddata=e,t&&t()},e.prototype.runPVS=function(e,t){void 0===t&&(t=null);var a=this;a.pvsdata=e,t&&t()},e.prototype.changeShowType=function(e,t){void 0===t&&(t=null);var a,i=this,n=!1;i.playerFightType!=e?(n=!0,i.playerFightType=e,a=t?t:i.getFightData(e)):t!=i._fightData&&(a=t,n=!0),e==FightEnum.type_backplay&&(a.startTime=Global.systemTimeNum,a.a_isplayprewar=!1),e==FightEnum.type_backplay_league&&(a.startTime=Global.systemTimeNum,a.a_isplayprewar=!1),a&&i.startFightLoad(a,a.type),n&&a&&(i.clearFight(),i._fightData=a,i._fightData.relinkData(),i._runFight(a),EventBus.sendMessage(game.GameCommands.FIGHT_STATE_CAHNGE))},e.prototype.startFightLoad=function(e,t){Manifest.getIns(FightResDM).loadFightRes(e,t)},e.prototype.FightLoadOver=function(e,t){},e.prototype.getFightData=function(e){var t,a=this;switch(e){case FightEnum.type_pve:t=a.pvedata;break;case FightEnum.type_pvp:t=a.pvpdata;break;case FightEnum.type_pvc:t=a.pvcdata;break;case FightEnum.type_pvf:t=a.pvfdata;break;case FightEnum.type_pvd:t=a.pvddata;break;case FightEnum.type_pvs:t=a.pvsdata;break;case FightEnum.type_backplay:case FightEnum.type_backplay_league:t=a.backdata}return t},e.prototype.clearFight=function(){var e=this;e.playerFightType=0,e.fightPanel&&e.fightPanel.pitchOver()},e.prototype._runFight=function(e,t){void 0===t&&(t=300);var a=this;utils.GameComUtil.log("@开始一次新的战斗"),a.playerFightType=e.type;a.getFightPanel();a.fightPanel.init(),a._runFightStart&&(a._runFightStart(),a._runFightStart=null),EventBus.sendMessage(game.GameCommands.FIGHT_NEW_START)},e.prototype.getFightPanel=function(){var e=this;return e.fightPanel||(e.fightPanel=new GameMainPanel),e.fightPanel},e.prototype.overFight=function(e){void 0===e&&(e=null);var t,a=this;if(t=e?e:a._fightData){var i=!1,n=(GlobalAllProxy.getInstance().playerProxy,PanelDM.getIns().isOpend(vm.GameMainView));if(!t.isPlayerOver){var o=!1,r=t.myScore>t.oppScore;if(a.fightOverAddData(t,!1),t.type==a.playerFightType&&(o=!0,a.clearFight()),utils.GameComUtil.log("fightover:"+t.type),n&&t.playOver(),t.type==FightEnum.type_pve){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(t.nowid&&s.mission_id!=t.nowid){var l=+t.nowid;TDGATool.onMissionBegin(GlobalEnum.talk_copy+l),r?(a._pveUpMapId=s.mission_id,s.mission_id=l,TDGATool.onMissionCompleted(GlobalEnum.talk_copy+l)):(Global.fightpve_auto&&(Global.setFightAutoBl(!1),FLOAT.NShowPutong([Language.ins.fight_tip58])),EventBus.getIns().sendMessage(game.GameCommands.FIGHT_AUTO_CAHNGE),TDGATool.onMissionFailed(GlobalEnum.talk_copy+l)),a.isPveFightNext=!1,EventBus.getIns().sendMessage(game.GameCommands.SECRETARY_DATA_CHANGE)}i=PanelDM.getIns().isOpend(vm.FightNextView),i||(i=PanelDM.getIns().isOpend(vm.FightPrewarView)),i||(i=PanelDM.getIns().isOpend(vm.FightFastView)),(!n||i)&&a.playNextPve(!1,3e3)}else if(t.type==FightEnum.type_pvp);else if(t.type==FightEnum.type_pvc){var p=GlobalAllProxy.getInstance().playerProxy.clubData;if(p){p.fightOverClub(r,Math.floor(t.nowid),parseInt(t.custom));var l=100*+t.nowid+parseInt(t.custom);TDGATool.onMissionBegin(GlobalEnum.talk_grad+l),r?TDGATool.onMissionCompleted(GlobalEnum.talk_grad+l):TDGATool.onMissionFailed(GlobalEnum.talk_grad+l)}}else if(t.type==FightEnum.type_pvf){var c=GlobalAllProxy.getInstance().fightProxy.friendshipData;if(c){var u=t.nowid,m=t.getRuleGoal();if(c.addgoal(m),r){var g=c.getintegral(u);c.addintegral(g)}c.fightover(u,r)}}else if(t.type==FightEnum.type_pvd){var _=GlobalAllProxy.getInstance().fightProxy.dekaronData;if(_){_.fightOver(t.nowid,parseInt(t.custom),r);var h=GlobalConfig.getTowerCopyVO(t.nowid,parseInt(t.custom));if(h){var l=10*+h.cid+h.star;TDGATool.onMissionBegin(GlobalEnum.talk_tow+l),r?TDGATool.onMissionCompleted(GlobalEnum.talk_tow+l):TDGATool.onMissionFailed(GlobalEnum.talk_tow+l)}}}else if(t.type==FightEnum.type_pvs){var d=GlobalAllProxy.getInstance().fightProxy.qualifyingData;if(d){var y=t.enemyId;r&&y&&(utils.GameUtil.qualifyold_rank=d.topRank,d.buyChallenge?d.buyChallenge=Math.min(d.buyChallenge,y):d.buyChallenge=y,d.topRank?d.topRank=Math.min(d.topRank,y):d.topRank=y)}}else t.type==FightEnum.type_backplay;if(EventBus.sendMessage(game.GameCommands.FIGHT_PLAY_OVER,t.type),n&&o&&!i){GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideJumpTrigger);var v=new FightResultVO;v.fightdata=t,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fightresult],v)}}(t.myScore!=t.myPitchScore||t.oppScore!=t.oppPitchScore)&&utils.GameComUtil.log("@前端比分和后端比分不一样:type:"+t.type+"@ 应该:"+t.myScore+":"+t.oppScore+"@ 实际:"+t.myPitchScore+":"+t.oppPitchScore)}},e.prototype.fightOverAddData=function(e,t){if(!e.isplayback){var a=GlobalAllProxy.getInstance().playerProxy;if(t||(e.isPlayerOver=!0),!e.isreport){var i=e.type,n=GlobalAllProxy.getInstance().backpackProxy,o=null;if(t){if(e.m_isgetawardStart)return;e.m_isgetawardStart=!0,e.expPool&&n.addBagItemNum(GlobalEnum.itemid_playerexp,e.expPool,!1,!1);var r,s,l=e.myServerVo,p=l.player,c=!1;(i==FightEnum.type_pvp||i==FightEnum.type_pvf)&&(c=!0);for(var u=0,m=p.length;m>u;u++)r=p[u],s=a.getSeverPlayerVO(r.playerId),s&&r.addExp&&s.addPlayerExp(r.addExp,m-1==u);for(var g,_=e.rewardArr,h=[],d=0,y=_.length;y>d;d++)g=_[d],g.itemid==GlobalEnum.itemid_playerexp&&h.push(g);n.addBagItemToArr(h,!1,!1,null,o),(y||m)&&EventBus.sendMessage(game.GameCommands.MY_INFO_CHANGW)}else{if(e.m_isgetawardEnd)return;e.m_isgetawardEnd=!0;for(var g,_=e.rewardArr,h=[],d=0,y=_.length;y>d;d++)g=_[d],g.itemid!=GlobalEnum.itemid_playerexp&&h.push(g);n.addBagItemToArr(h,!1,!1,null,o),n.addBagItemNum(GlobalEnum.itemid_exp,e.clubExp,!1,!1)}}}},e.prototype.playNextPve=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=0/0);var a=this;if(!this.pvedata||this.pvedata.isPlayerOver){var i=a.pvePlaynextTime();egret.clearTimeout(a.waittimeN),isNaN(t)||(i=t),a.waittimeN=egret.setTimeout(a.setPlayPVE,a,i,e)}},e.prototype.isPlayPveNext=function(){var e=this,t=!1,a=e.pvedata;if(a&&a.type==FightEnum.type_pve){var i=GlobalAllProxy.getInstance().playerProxy.playerinfo;a.nowid&&i.mission_id!=a.nowid&&(t=!0)}return t},e.prototype.pvePlaynextTime=function(){var e=this,t=0,a=e.pvedata;if(a&&a.type==FightEnum.type_pve){var i=a.overTime+3e3-Global.systemTimeNum;a.isPlayerOver&&(i=0),i>=0&&(t=i)}return t},e.prototype.timeToFight=function(){var e=this,t=e.playerFightType,a=e.pvedata,i=e.pvpdata,n=e.pvcdata,o=e.pvfdata,r=e.pvddata,s=e.pvsdata;t!=FightEnum.type_pve&&a&&Global.systemTimeNum>a.overTime+3e3&&!a.isPlayerOver&&e.overFight(a),t!=FightEnum.type_pvp&&i&&Global.systemTimeNum>i.overTime&&!i.isPlayerOver&&e.overFight(i),t!=FightEnum.type_pvc&&n&&Global.systemTimeNum>n.overTime&&!n.isPlayerOver&&e.overFight(n),t!=FightEnum.type_pvf&&o&&Global.systemTimeNum>o.overTime&&!o.isPlayerOver&&e.overFight(o),t!=FightEnum.type_pvd&&r&&Global.systemTimeNum>r.overTime&&!r.isPlayerOver&&e.overFight(r),t!=FightEnum.type_pvs&&s&&Global.systemTimeNum>s.overTime&&!s.isPlayerOver&&e.overFight(s),t!=FightEnum.type_pve&&Global.fightpve_auto&&e.autoSkipFight()},e.prototype.autoSkipFight=function(){var e=this,t=(e.playerFightType,e.pvedata),a=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(a.vipLevel>=ParamLoader.instance.AutoJump&&Global.fightpve_auto&&t&&t.type==FightEnum.type_pve){var i=GlobalConfig.getVipVO(a.vipLevel),n=i.skiptime+game.ComMonthCarVO.getNumExtraskiptime(),o=a.freeTimes,r=n-o;0>=r&&(r=0);var s=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_fightskipcar),l=r+s;0>=l&&(l=0);var p=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();!p&&!t.isPlayerOver&&Global.systemTimeNum>+t.startTime+6e3&&l>0&&e.overFight(t)}},e.prototype.refreshGame=function(){var e=this;e.clearFight(),egret.clearTimeout(e.waittimeN),e.pvedata=null,e.pvpdata=null,e.pvcdata=null,e.pvfdata=null,e.pvddata=null,e._fightData=null},e.prototype.setPlayPVE=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var a=this;Global.fightpve_auto&&(t=!0),egret.clearTimeout(a.waittimeN);var i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=FightEnum.type_pve,o=i.mission_id,r="",s=0;if(a.isPveFightNext||t){var l=GlobalConfig.getPveMapVO(o);if(l&&l.nextid){var p=l.nextid;o=p,r=FightDataVO.bossstr,Global.fightpve_auto&&(s=1)}}if(o){var c=o.toString();a.playNextFight(n,c,e,r,s)}},e.prototype.removeSeverid=function(e){var t=this;t.isFight()&&t.fightPanel&&t.fightPanel.g_SoccerPitch.ChangePlayer(e)},e.prototype.playNextFight=function(e,t,a,i,n){void 0===a&&(a=!1),void 0===i&&(i=""),void 0===n&&(n=0);var o=this;egret.clearTimeout(o.waittimeN),o.isFight()||GlobalAllProxy.getInstance().fightProxy.NetBattleRequest(e,t,a,i,n)},e.prototype.pveNextFight=function(){var e=GlobalAllProxy.getInstance().playerProxy.playerinfo,t=FightEnum.type_pve,a=e.mission_id,i=0;if(a){var n=GlobalConfig.getPveMapVO(a);n&&(i=n.nextid)}else i=GlobalConfig.copyRewardMinId;var o=GlobalConfig.getPveMapVO(i);if(o){var r=i,s=this.pvedata;if(!s||s.nowid!=r||s.isPlayerOver){var t=FightEnum.type_pve;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(t,r,!0,"isboss"))}}},e.prototype.isFight=function(e){void 0===e&&(e=FightEnum.type_pve);var t=this,a=!1,i=(GlobalAllProxy.getInstance().playerProxy.fightLogArr,t.islogFight(e));if(i)a=i;else if(t._fightData&&t._fightData.type==e)a=!t._fightData.isPlayerOver;else{var n=t.getFightData(e);n&&(a=!n.isPlayerOver)}return a},e.prototype.islogFight=function(e){var t=!1;if(e!=FightEnum.type_pve){var a=GlobalAllProxy.getInstance().playerProxy.fightLogArr;if(a)for(var i,n=.001*Global.systemTimeNum,o=a.length-1;o>=0;o--)i=a[o],i.endTime>n?i.type==e&&(t=!0):a.splice(o,1)}return t},e.prototype.skipFight=function(e){var t=this,a=t.getFightData(e);a&&t.overFight(a)},e.prototype.overReturnPanel=function(t){var a=this,i=Manifest.getIns(e),t=t;if(t==FightEnum.type_pvp)i.isFight(FightEnum.type_pvp)?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richfight]),this.clearFight();else if(t==FightEnum.type_pvc)i.isFight(FightEnum.type_pvc)?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_clubfightmap]),this.clearFight();else if(t==FightEnum.type_pvf)i.isFight(FightEnum.type_pvf)?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]):(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_friendship]),EventBus.sendMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP)),this.clearFight();else if(t==FightEnum.type_pvd)i.isFight(FightEnum.type_pvd)?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]):(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_dekaronroad]),EventBus.sendMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP)),this.clearFight();else if(t==FightEnum.type_pvs)i.isFight(FightEnum.type_pvs)?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]):(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying]),EventBus.sendMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP)),this.clearFight();else if(t==FightEnum.type_backplay){var n=a.backdata;if(n)if(GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id){var o=n.playbackType;switch(o){case FightEnum.type_pvs:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying],1)}}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]);this.clearFight()}else if(t==FightEnum.type_backplay_league){var n=a.backdata;n&&PanelDM.getIns().goWindow([GlobalAllProxy.getInstance().fightProxy.UserCrossJump]),this.clearFight()}else this.clearFight(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main])},e.prototype.clearpveupTip=function(){var e=this;e._pveUpMapId;e._pveUpMapId=0/0},e.prototype.addEveVO=function(e,t){var a=Manifest.getIns(vm.GameMainView);a&&a.isOpend()&&a.isTimeIndexType(vm.GameMainView.type_game)?EventBus.sendMessage(game.GameCommands.FIGHT_SHOW_SHOOT,e):t.m_eveArr.push(e)},e.prototype.relinkGame=function(){for(var e,t=this,a=[FightEnum.type_pve,FightEnum.type_pvp,FightEnum.type_pvc,FightEnum.type_pvf,FightEnum.type_pvd,FightEnum.type_pvs],i=0,n=a.length;n>i;i++)e=t.getFightData(a[i]),e&&e.relinkGame();this.isFight(FightEnum.type_pve)||(egret.clearTimeout(t.waittimeN),t.playNextPve(!1,3e3))},e}();__reflect(FightDM.prototype,"FightDM");var FightResDM=function(){function e(){}return e.prototype.loadFightRes=function(e,t){var a=[],i=this;i.removeEvent(),i._strFightType=t,i._responseData=e,i.addskillres(a,e),a.length&&(RES.createGroup(GameEnum.DYNAMIC_FIGHT_RES_GROUP,a,!0),RES.loadGroup(GameEnum.DYNAMIC_FIGHT_RES_GROUP))},e.prototype.addskillres=function(e,t){var a,i,n,o,r,s,l,p,c,u=t.fragmentArr,m=[],g=GlobalEnum,_=GlobalConfig;for(a=0,i=u.length;i>a;a++){for(r=u[a],s=r.release,n=0,o=s.length;o>n;n++)l=s[n],-1==m.indexOf(l.nPosition)&&(m.push(l.nPosition),c=_.getSkillVO(l.nSkill),p=g.getSkillIconName(c.icon),RES.getRes(p)||e.push(p));var h,d,y,v,f;for(h=t.myServerVo.player,d=0,y=h.length;y>d;d++)v=h[d],v.head&&(f=ResName.getPlayerIcon(v.head),f&&e.push(f));for(h=t.oppServerVo.player,d=0,y=h.length;y>d;d++)v=h[d],v.head&&(f=ResName.getPlayerIcon(v.head),f&&e.push(f))}},e.prototype.addplayerheadres=function(e,t,a){if(e&&e.length)for(var i,n,o=0,r=e.length;r>o;o++)n=a.getPlayerForId(e[o]),n&&n.head&&(i=ResName.getPlayerIcon(n.head),i&&t.push(i))},e.prototype.groupComplete_res=function(e){var t=this;if(!e||GameEnum.DYNAMIC_FIGHT_RES_GROUP==e.groupName){t.removeEvent();var a=Manifest.getIns(FightDM);a.FightLoadOver(t._strFightType,t._responseData)}},e.prototype.removeEvent=function(){var e=this;RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.groupComplete_res,e)},e}();__reflect(FightResDM.prototype,"FightResDM");var GameMainPanel=function(e){function t(t){void 0===t&&(t=null);var a=e.call(this)||this;a.isnarrow=!1,a.playtype=0,a.isstop=!1,a.renderN=1;var i=a;return i.m_pithcSpr||(i.m_pithcSpr=new egret.Sprite),i.m_pithcPlaySpr||(i.m_pithcPlaySpr=new egret.Sprite),Cgdi.instance.setBgSpr(i.m_pithcSpr),Cgdi.instance.setSpr(i.m_pithcPlaySpr),i.touchChildren=!1,i.touchEnabled=!1,a}return __extends(t,e),t.prototype.init=function(){var e=this;e.showPitch(),e.addEnterEvent()},t.prototype.setIsNarrow=function(e){var t=this;t.isnarrow=e,t.resizefun()},t.prototype.addEnterEvent=function(){var e=this;e.addEventListener(egret.Event.ENTER_FRAME,e.Update,e)},t.prototype.removeEnterEvent=function(){var e=this;e.removeEventListener(egret.Event.ENTER_FRAME,e.Update,e)},t.prototype.showlogPanel=function(e){this.isstop=e},t.prototype.showPitch=function(){var e=this,a=[],i=ParamLoader.instance;i.blSeverFight&&(Global.isrest||(a=e.creatFightCFG(t.initItemid)),i.ViewDistance=0);var n=i.pitchWidth,o=i.GetLvNUM(i.pitchHLv);i.GoalWidth=i.GetLvNUM(i.GoalLv);var r=i.GetLvNUM(i.pitchMarginWidthLv),s=i.GetLvNUM(i.pitchMarginHeightLv);n+=2*r,o+=2*s,i.pitchAllW=n,i.pitchAllH=o,e.m_pPlayingArea||(e.m_pPlayingArea=new Region(r,s,n-r,o-s)),e.g_SoccerPitch?e.g_SoccerPitch.reshInitData(a):e.g_SoccerPitch=new SoccerPitch(e,n,o,r,s,a),i.islandscape||(e.m_pithcSpr.rotation=90,e.m_pithcSpr.x=o+.5*(Global.stageWidth-o),e.m_pithcSpr.y=.5*(Global.stageHeight-n)),e.addChild(e.m_pithcSpr),e.m_pithcSpr.addChild(e.m_pithcPlaySpr),e.resizefun(),e.g_SoccerPitch.showStart()},t.prototype.resizefun=function(){var e=this,t=130,a=40,i=232+t;if(e.m_pithcSpr){var n=ParamLoader.instance,o=Global.stageHeight-i,r=o/n.pitchAllW,s=r;r>1&&(r=s=1),e.isnarrow&&(s=r=.12);var l=n.pitchAllH*s,p=n.pitchAllW*r;e.m_pithcSpr.scaleX=s,e.m_pithcSpr.scaleY=r,e.isnarrow?(e.m_pithcSpr.x=82,e.m_pithcSpr.y=13):(e.m_pithcSpr.x=Math.floor(l+.5*(Global.stageWidth-l)),e.m_pithcSpr.y=Math.floor(.5*(Global.stageHeight-p))-a)}e.RenderBG()},t.prototype.creatFightCFG=function(e){var t;return t=GlobalConfig.getPitchVo(e),[t]},t.prototype.Update=function(){var e=this,t=e.g_SoccerPitch;t&&!e.isstop&&(t.Update(),e.Render())},t.prototype.Render=function(e){void 0===e&&(e=!1);var t=this,a=t.g_SoccerPitch;if(a&&!t.isstop){var i=ParamLoader.instance;if(i.blImgRender||Cgdi.instance.StartDrawing(t.m_pithcSpr.graphics),!t.parent||!t.isnarrow&&t.playtype||a.Render(t.isnarrow),i.blImgRender||Cgdi.instance.StopDrawing(t.m_pithcSpr.graphics),i.islandscape){var n=a.Ball().Pos(),o=i.pitchAllW-Global.stageWidth,r=n.x-.5*Global.stageWidth;0>r&&(r=0),r>o&&(r=o),t.m_pithcSpr.x=-r}}},t.prototype.RenderBG=function(){var e=ParamLoader.instance,t=Cgdi.instance,a=this;if(a.parent){if(!a.bgimg2){a.bgimg2=new egret.Bitmap(RES.getRes("syls_11"));var i=e.GetLvNUM(e.pitchMarginWidthLv);e.GetLvNUM(e.pitchMarginHeightLv)}a.bgimg2.x=.5*(e.pitchAllW-a.bgimg2.width),a.bgimg2.y=.5*(e.pitchAllH-a.bgimg2.height),a.bgimg2.scaleX=a.bgimg2.scaleY=e.pitchWidth/800,a.bgimg2.touchEnabled=!1;var n=0,o=0,r=e.GetLvNUM(e.GoalHLv);a.bluegoalimg||(a.bluegoalimg=new egret.Bitmap(RES.getRes("syls_10")),a.bluegoalimg.width=r+n,a.bluegoalimg.height=e.GoalWidth+o);var i=e.GetLvNUM(e.pitchMarginWidthLv),s=e.pitchAllW-i;a.bluegoalimg.x=s+r+.5*n-2,a.bluegoalimg.y=(e.pitchAllH-e.GoalWidth)/2-.5*o,a.bluegoalimg.scaleX=-1,a.redgoalimg||(a.redgoalimg=new egret.Bitmap(RES.getRes("syls_10")),a.redgoalimg.width=r+n,a.redgoalimg.height=e.GoalWidth+o);var l=i;a.redgoalimg.x=l-r-.5*n+2,a.redgoalimg.y=(e.pitchAllH-e.GoalWidth)/2-.5*o,a.isnarrow?(utils.GameComUtil.removeSelf(a.bgimg2),utils.GameComUtil.removeSelf(a.bluegoalimg),utils.GameComUtil.removeSelf(a.redgoalimg)):(t.getBgSpr().addChildAt(a.bgimg2,0),t.getBgSpr().addChild(a.bluegoalimg),t.getBgSpr().addChild(a.redgoalimg))}},t.prototype.setPlayType=function(e){var t=this,a=t.playtype;a!=e&&(t.playtype=e,0==e?(t.Render(!0),t.m_pithcSpr.addChildAt(t.m_pithcPlaySpr,1)):utils.GameComUtil.removeSelf(t.m_pithcPlaySpr))},t.prototype.showForme=function(e,t){var a=this;if(a.m_pPlayingArea)if(a.m_formaSpr||(a.formeIconArr=[],a.m_formaSpr=new egret.Sprite),e){var i,n,o,r,s,l,p,c=ParamLoader.instance,u=a.m_pPlayingArea.Left(),m=a.m_pPlayingArea.Top(),g=a.m_pPlayingArea.Width(),_=a.m_pPlayingArea.Height(),h=a.m_pPlayingArea.Right(),d=_/c.NumRegionsVertical,y=g/c.NumRegionsHorizontal,v=Manifest.getIns(FightDM),f=v._fightData;t?(n=f.myServerVo.player,r=team_color.blue,l=0==c.blRedIsLeft):(n=f.oppServerVo.player,r=team_color.red,l=1==c.blRedIsLeft);for(var b=0,G=n.length;G>b;b++)o=n[b],p=o.numberTag,s=o.location,a.formeIconArr[b]?(i=a.formeIconArr[b],i.setColor(r),i.setId(p)):(i=new PlayerIcon(r,p,c.islandscape),a.formeIconArr.push(i)),l?(i.x=u+Math.floor(.1*s)*y+.5*y-20,i.y=m+Math.floor(s%10-1)*d+.5*d-8):(i.x=h-Math.floor(.1*s)*y-.5*y,i.y=m+Math.floor(s%10-1)*d+.5*d-8),a.m_formaSpr.addChild(i);a.m_pithcSpr.addChildAt(a.m_formaSpr,1)}else a.m_formaSpr.removeChildren(),utils.GameComUtil.removeSelf(a.m_formaSpr)},t.prototype.pitchOver=function(){var e=this,t=e.g_SoccerPitch;e.removeEnterEvent(),e.m_pithcPlaySpr.removeChildren(),t&&t.dispose()},t.prototype.dispose=function(){var e=this;e.g_SoccerPitch;e.removeEnterEvent(),e.m_pithcSpr.removeChildren(),e.m_pithcPlaySpr.removeChildren()},t.initItemid=100001,t}(egret.Sprite);__reflect(GameMainPanel.prototype,"GameMainPanel");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e.itemIndex=0,e.m_ispve=!1,e.m_isfirstPve=!1,e.isnewlogin=GlobalEnum.isnewlogin,e.mc_istimetype=!1,e.isShowbtn=!1,e.pveaotuinit=6,e.m_fightstop=0,e.m_waitall=24,e.isMyTeam=!0;var a=e;return a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e,t,a=new skins.GameMainSkinDR,i=["fight_ui_zu","syls_11"],n=[ResName.mc_zidongbisai,ResName.mc_biao,ResName.mc_enter];for(e=0,t=n.length;t>e;e++)i=i.concat(ResName.getDragonFastArr(n[e]));var o=[ResName.mc_zhanshu];for(e=0,t=o.length;t>e;e++)i=i.concat(ResName.getDragonArr(o[e]));var r=[ResName.mc_guajikapai];for(e=0,t=r.length;t>e;e++)i=i.concat(ResName.getSYMovieArr(r[e]));a.runto(this,i)},a.prototype.getAdvanceDRArr=function(){return[skins.FightResultSkinDR,skins.FightNextSkinDR,skins.FightPrewarSkinDR]},a.prototype.loadneedmc=function(){var e,t,a=[],i=[ResName.mc_fight_dianqiu,ResName.mc_fight_jiashisai,ResName.mc_zidongbisai];for(e=0,t=i.length;t>e;e++)a=a.concat(ResName.getDragonFastArr(i[e]));var n=[ResName.mc_fight_goal,ResName.mc_fight_yellowcard,ResName.mc_fight_redcard,ResName.mc_fight_qiangduan,ResName.mc_fight_fail,ResName.mc_fight_renyiqiu_fail,ResName.mc_fight_dianqiu_fail,ResName.mc_fight_renyiqiu,ResName.mc_fight_dianqiu_suc,ResName.mc_fight_jiewei,ResName.mc_fight_jiaoqiu,ResName.mc_main_tanchutiao_new];for(e=0,t=n.length;t>e;e++)a=a.concat(ResName.getDragonArr(n[e]));if(ResName.DecideLoadArr(a),a.length){var o=ResName.animo_fight_all;RES.createGroup(o,a,!0),RES.loadGroup(o)}},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var i=this;egret.clearTimeout(i.m_timeskip),i.showG.alpha=0,utils.GameComUtil.setVisibleHitPanel(i.showG,null,!1,3),utils.GameComUtil.setVisibleHitPanel(i.teamG,null,!1,3),utils.GameComUtil.setVisibleHitPanel(i.summaryG,null,!1,3),utils.GameComUtil.setVisibleHitPanel(i.dataG,null,!1,3),utils.GameComUtil.setVisibleHitPanel(i.btnG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.downG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.headdataG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.eveG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.evelistG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.skillG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.studyG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.startmcG,null,!1,4);var n=i.zhanlimask0,o=i.zhanlimask1;if(n.visible=!1,o.visible=!1,egret.Tween.removeTweens(n),egret.Tween.removeTweens(o),e){i.btnherobar.ShowLabel=!0,i.m_sumimgArr=[],i.m_beforBIX=i.beforBInfoG.x,i.m_beforBIY=i.beforBInfoG.y,i.m_evetypearr=[match_type.type_skill,match_type.type_steals,match_type.type_shoot,match_type.type_event];var r=i.m_evetypearr;utils.GameComUtil.setVisibleHitPanel(i.beforG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.prewarG,null,!1,4),i.loadneedmc(),i.broadG.visible=!1;for(var s,l,p,c,u=Language.ins.fight_infoarr,m={},g={},_=0,h=u.length;h>_;_++)s=u[_],l=r[_],p=new FightEveIconVO(l,0,null),c=new FightEveIconVO(l,0,null),m[l]=p,g[l]=c,i["eveIconA"+_].seteveName(s,l,!0),i["eveIconB"+_].seteveName(s,l,!1),i["eveIconA"+_].setData(p),i["eveIconB"+_].setData(c);i.m_myEveObj=m,i.m_oppEveObj=g,i.stepwaittxt.text=Language.ins.fight_tip100,i.ftiptxt0.text=Language.ins.fight_tip91,i.ftiptxt1.text=Language.ins.fight_tip101,i.ftiptxt2.text=Language.ins.club_tip26,i.ftiptxt3.text=Language.ins.fight_tip96,i.ftiptxt4.text=Language.ins.fight_tip91,i.ftiptxt5.text=Language.ins.fight_tip101,i.ftiptxt6.text=Language.ins.club_tip26,i.ftiptxt7.text=Language.ins.fight_tip96,i.ftiptxt8.text=Language.ins.fight_tip102,i.ftiptxt9.text=Language.ins.fight_tip119,i.ftiptxt10.text=Language.ins.fight_tip120,i.ftiptxt11.text=Language.ins.fight_tip82,i.ftiptxt12.text=Language.ins.fight_tip123,i.skillmytip0.text=Language.ins.fight_tip103,i.skillopptip0.text=Language.ins.fight_tip104,i.skillmytip1.text=Language.ins.fight_tip105,i.skillopptip1.text=Language.ins.fight_tip105,i.studymytip.text=Language.ins.fight_tip106,i.studyopptip.text=Language.ins.fight_tip107,i.btnherobtn.label=Language.ins.game_canling_p,i.skipbtn.label=Language.ins.fight_btn_3,i.databtn.label=Language.ins.fight_tip113,i.labelDisplay.text=Language.ins.fight_tip115,i.needtxt.text=Language.ins.fight_tip116,i.needtxt0.text=Language.ins.fight_tip117,i.uptitlename.text=Language.ins.fight_tip118,i.evetip.text=Language.ins.fight_tip121,i.evenonetip.text=Language.ins.fight_tip122,FntUtil.showFnt(i.closeBZG,ResName.fnt_title,Language.ins.game_back,ResName.spa_title_a),i.labelDisplay0.text="",i.pvetiptxt0.text="",i.pvetiptxt.text="",i.showpveData([],!0),i.studytxt0.text="",i.pvetiptxt.text="",i.zhanlitxt0.text="0",i.zhanlitxt1.text="0",i.lvtxtA.text="0",i.lvtxtB.text="0",i.tiametxt.text="00:00",i.studytxt1.text="",i.nameAtxt.text="",i.nameBtxt.text=""
}var d=i.panelVo.childtype;d&&Manifest.getIns(FightDM).changeShowType(d),i.initPanel(),i.summaryPanel||(i.summaryPanel=new GameSummaryPanel(i)),i.dataPanel||(i.dataPanel=new GameDataPanel(i));var y=Manifest.getIns(FightDM),v=y.playerFightType;i.m_isfirstPve=!1,i.game_pve_auto_tip0.text=v==FightEnum.type_pve&&Global.fightpve_auto?FormatString.format(Language.ins.game_pve_auto_tip0,ParamLoader.instance.AutoJump):"",v?(i.m_type=v,i.m_ispve=v==FightEnum.type_pve?!0:!1):(i.m_isfirstPve=!0,i.m_type=FightEnum.type_pve,i.m_ispve=!0);var f,b="syls",G="tab_gjjq_e5",x="",C=GlobalEnum.panelIconEnum,T=!1;if(v==FightEnum.type_backplay||v==FightEnum.type_backplay_league){var P=y.getFightData(v);P&&(v=P.playbackType,T=P.isguidenew)}switch(v){case FightEnum.type_pve:b="syls",f=GlobalViewIDEnum.pType_hangup;break;case FightEnum.type_pvc:b="fight_ditu_0",f=GlobalViewIDEnum.pType_clubfightmap;break;case FightEnum.type_pvd:b="fight_ditu_0",f=GlobalViewIDEnum.pType_dekaronroad;break;case FightEnum.type_pvp:f=GlobalViewIDEnum.pType_richfight,b="fight_ditu_1";break;case FightEnum.type_pvf:f=GlobalViewIDEnum.pType_friendship,b="fight_ditu_1";break;case FightEnum.type_pvs:f=GlobalViewIDEnum.pType_qualifying,b="fight_ditu_1"}if(f){i.m_help_type=f;var A=C[f];A&&(G=A[1],x=A[0])}T&&(b="syls",G="",x="",f=GlobalViewIDEnum.pType_hangup),i.bgimg.source=b,i.pveimg.source=G,FntUtil.showFnt(i.titleBZG,ResName.fnt_title,x,ResName.spa_title_a),i.showSkipBtn(),SoundMgr.getInstance().SetSoundVolume(.4),SoundMgr.getInstance().PlaySound(GlobalSoundEffect.sound_fightbg),i.initAddEvent(),i.changeshow(),i.showbtnPanle(!1),i.fightstop(!1),i.touchEnabled=!1,e&&(i.btnA.label=Language.ins.fight_tip108,i.btnH.label=Language.ins.fight_tip109,i.btnB.label=Language.ins.fight_tip110,i.btnC.label=Language.ins.fight_tip111,i.btnD.label=Language.ins.fight_tip112,i.btnF.label=Language.ins.fight_tip113,i.btnArr=[i.btnA,i.btnH,i.btnB,i.btnC,i.btnD,i.btnF],i.btnA.setSwitchImg("tab_gj1_b2","tab_gj1_b6"),i.btnB.setSwitchImg("tab_gj1_b3","tab_gj1_b7"),i.btnC.setSwitchImg("tab_gj1_b4","tab_gj1_b8"),i.btnD.setSwitchImg("tab_gj1_c7","tab_gj1_b9"),i.btnF.setSwitchImg("tab_gj1_b5","tab_gj1_c1"),i.btnH.setSwitchImg("tab_gj1_d2","tab_gj1_d3"),i.needtxt1.text=Language.ins.fight_tip114);for(var w,_=i.btnArr.length-1;_>=0;_--)w=i.btnArr[_],w.isSelectEnabled=!1;if(i.chooseBtn(a.type_game),i.resizefun(),y.playerFightType==FightEnum.type_backplay||y.playerFightType==FightEnum.type_backplay_league){var k=GlobalAllProxy.getInstance().guideProxy;k.isPlayGuide()&&k.isCache&&k.cacheGuide()}PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat_barrage],new ChatBarrageViewOpenVO(150,40)),i.changeTipMC(),i.showStepWaitMcFalse(),i.showdowntip(!1),i.tipstudyG.visible=!1,i.m_ispve&&(GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id||y.pveNextFight()),PFAll.isNowPF([Global.severNE_japan])&&(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()||PFAll.showyouketip())},a.prototype.initPanel=function(){var e=this;e.broadtxt.text="",e.broadG.visible=!1,e.studyguang.visible=!1;var t=e.studyguang;egret.Tween.removeTweens(t)},a.prototype.changeshow=function(){var e=this,t=Manifest.getIns(FightDM);e.m_mainPanel=t.getFightPanel(),e.m_mainPanel&&(e.m_mainPanel.setIsNarrow(!1),e.addChildAt(e.m_mainPanel,1),e.changeInfo(!0)),Global.isrest||e.shownowid(),e.changeauto(!1),e.rewardZhuTask()},a.prototype.rewardZhuTask=function(e){void 0===e&&(e=!1);var t=this;if(t.m_ispve){t.zhuTaskG.visible=!0;var a,i,n,o=GlobalAllProxy.getInstance().gameProxy.secretaryData,r=GlobalAllProxy.getInstance().playerProxy.clubData;if(o&&r){var s,l,p,c,u,m=(GlobalConfig.secretarytask_DATA,r.level,o.task),g=m.length,_=(GlobalConfig.getClubVO(r.level),utils.GameComUtil,GlobalConfig);for(l=0,g=m.length;g>l;l++)if(u=m[l],s=_.getSecretaryTaskVO(u.taskId),s&&s.tasktype==secretarytask_type.type_zhu){c=0,p=0,c=u.progress,p=2==u.isReward?1:0,n=c>=s.schedule?1:0,n&&s.getIsNeedWait()&&(n=0),a=s,i=p;break}}t.zhuTaskG.visible=!0,e?(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick),a?n?GlobalAllProxy.getInstance().gameProxy.NetCommitTask(a.taskid):a.jump&&"0"!=a.jump&&(+a.jump==GlobalViewIDEnum.pType_trainupstar&&t.checkJump(),utils.GameComUtil.panelJump(a.jump,!0),GlobalAllProxy.getInstance().guideProxy.goTaskFollow(a.getTaskFollow())):t.zhuTaskG.visible=!1):a?(t.zhuTasktxt.textFlow=utils.GameComUtil.getHtmlText(a.des),n?(t.showtaskMc(!0),t.shownewtaskMc(!1),t.zhuTaskimg.source="",t.zhuTaskbg.source="tab_zjm_o4"):(t.showtaskMc(!1),t.isnewlogin?t.zhuTaskimg.source="tab_zjm_e9":(t.shownewtaskMc(!0),t.zhuTaskimg.source=""),t.zhuTaskbg.source="tab_zjm_f2")):(t.showtaskMc(!1),t.zhuTaskG.visible=!1)}else t.zhuTaskG.visible=!1},a.prototype.checkJump=function(){for(var e=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer(),t=GlobalAllProxy.getInstance().playerProxy.playerArr,a=[],i=0,n=t.length;n>i;i++)0!=t[i].position&&a.push(t[i]);a.sort(utils.GameUtil.sortMatckFun(["card_trait"],[1]));var o,r,s,l,p,c=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e),u=GlobalConfig.getPlayerExpVO(c.card_trait,c.stars,c.level),m=GlobalConfig.getPlayerStarVO(c.card_trait,c.stars),g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_playerexp),_=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,h=utils.GameComUtil.getItemVoArr(m.cost),d=CostItemRender.getItemOkArr(h);if(g<=u.prate||u.plv==GlobalEnum.hero_maxlv||m.bookgrade==c.level&&m.limitlv>_||m.bookgrade==c.level&&!d)for(var y=0,v=a.length;v>y;y++)if(o=a[y],r=GlobalConfig.getPlayerExpVO(o.card_trait,o.stars,o.level),g>=r.prate&&r.plv!=GlobalEnum.hero_maxlv&&(s=GlobalConfig.getPlayerStarVO(o.card_trait,o.stars),l=utils.GameComUtil.getItemVoArr(s.cost),p=CostItemRender.getItemOkArr(l),s.bookgrade!=o.level||s.limitlv<=_&&p)){GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(o.playerid);break}},a.prototype.shownewtaskMc=function(e){var t=this,a="mc_newawardtiao",i=utils.GameComUtil.getArmature(ResName.mc_main_tanchutiao_new,a,t);i&&(e?(i.animation.play("effect"),t.zhuNewTaskmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showtaskMc=function(e){var t=this;e&&(t.isnewlogin=!1,GlobalEnum.setIsnewlogin(!1));var a="mc_awardtiao",i=utils.GameComUtil.getArmature(ResName.mc_main_tanchutiao,a,t);i&&(e?(i.animation.play("effect"),t.zhuTaskmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.onHide=function(e){var i=this;egret.clearTimeout(i.m_timeskip),egret.clearTimeout(i.m_startmctim),egret.clearTimeout(i.m_evewaitTime),egret.clearTimeout(i.m_waitTnum),i.chooseBtn(a.type_game),t.prototype.onHide.call(this,e),i.m_mainPanel&&i.parent==i&&utils.GameComUtil.removeSelf(i.m_mainPanel),i.m_mainPanel=null;var n=i.studyguang;egret.Tween.removeTweens(n),i.removeAddEvent();for(var o,r,s=[ResName.mc_enter,ResName.mc_biao,ResName.mc_zidongbisai,ResName.mc_fight_dianqiu,ResName.mc_fight_goal,ResName.mc_fight_jiashisai,ResName.mc_fight_yellowcard,ResName.mc_fight_redcard,ResName.mc_fight_qiangduan,ResName.mc_fight_fail,ResName.mc_fight_renyiqiu_fail,ResName.mc_fight_dianqiu_fail,ResName.mc_fight_renyiqiu,ResName.mc_fight_dianqiu_suc,ResName.mc_fight_jiewei,ResName.mc_fight_jiaoqiu],l=0,p=s.length;p>l;l++)o=s[l],r=i[o],r&&(r.removeEventListener(dragonBones.EventObject.COMPLETE,i.playermc3,i),utils.GameComUtil.removeAnimoSelf(r));utils.GameComUtil.removeAnimoSelf(i.mc_zhanshu_my),utils.GameComUtil.removeAnimoSelf(i.mc_zhanshu_opp),utils.GameComUtil.setVisibleHitPanel(i.prewarG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.beforG,null,!1,4),i.m_showSummVO&&(i.showSummaryMc(i.m_showSummVO,null),i.addEveVOFun(i.m_showSummVO),i.m_showSummVO=null),utils.GameComUtil.removeListData(i.downtiplist),utils.GameComUtil.removeListData(i.skilldatalist0),utils.GameComUtil.removeListData(i.skilldatalist1),utils.GameComUtil.removeListData(i.pveawardlist),utils.GameComUtil.removeListData(i.teamlist),utils.GameComUtil.removeListData(i.oppteamlist),utils.GameComUtil.removeListData(i.evedatalist),i.m_heroawardmc&&i.m_heroawardmc.stopAndRemove(),utils.GameComUtil.removeTextFlow(this.showCtxt),utils.GameComUtil.removeTextFlow(this.broadtxt);for(var c=[GlobalEnum.itemid_coin,GlobalEnum.itemid_playerexp,GlobalEnum.itemid_exp],l=0,p=c.length;p>l;l++)utils.GameComUtil.removeTextFlow(this["uptiptxt"+l]);var u,m=i.m_evetypearr;for(l=0,p=m.length;p>l;l++)u=i["eveIconA"+l],u.onHide(),u=i["eveIconB"+l],u.onHide();var g=i.zhanlimask0,_=i.zhanlimask1;g.visible=!1,_.visible=!1,egret.Tween.removeTweens(g),egret.Tween.removeTweens(_)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.GET_FIGHT_DATA,e.eventchange),e.addMessage(game.GameCommands.FIGHT_PITCH_CHANGE,e.eventchange),e.addMessage(game.GameCommands.FIGHT_OVER,e.eventchange),e.addMessage(game.GameCommands.FIGHT_BROAD_ADD,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.FIGHT_SHOW_SHOOT,e.eventchange),e.addMessage(game.GameCommands.FIGHT_TIME_ADD,e.eventchange),e.addMessage(game.GameCommands.BUF_FAST_PVE_FIGHT,e.eventchange),e.addMessage(game.GameCommands.FIGHT_FRAG_NEXT,e.eventchange),e.addMessage(game.GameCommands.FIGHT_SKIP_DATA,e.eventchange),e.addMessage(game.GameCommands.FIGHT_NEW_START,e.eventchange),e.addMessage(game.GameCommands.FIGHT_AUTO_CAHNGE,e.eventchange),e.addMessage(game.GameCommands.FIGHT_GET_HEROAWARD,e.eventchange),e.addMessage(game.GameCommands.GUIDE_PLAY_OVER,e.eventchange),e.addMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventchange),e.pveawardlist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.pveawardclick,e)},a.prototype.pveawardclick=function(e){var t=this,a=e.target,i=t.pveawardlist.selectedIndex,n=t.pveawardlist.selectedItem,a=t.pveawardlist.getVirtualElementAt(i);if(a&&n){var o=game.TipSimpleObject.type_item;utils.GameComUtil.ShowTip(a,n.itemid,o,n)}},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.GET_FIGHT_DATA,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_PITCH_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_OVER,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_BROAD_ADD,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_SHOW_SHOOT,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_TIME_ADD,e.eventchange),e.removeMessage(game.GameCommands.BUF_FAST_PVE_FIGHT,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_FRAG_NEXT,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_SKIP_DATA,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_NEW_START,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_AUTO_CAHNGE,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_GET_HEROAWARD,e.eventchange),e.pveawardlist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.pveawardclick,e),TweenLite.killTweensOf(e.showG,!0),TweenLite.killTweensOf(e.prewarG,!0),TweenLite.killTweensOf(e.beforG,!0),TweenLite.killTweensOf(e.stepwaitG,!0),e.stepwaitG.visible=!1,egret.clearTimeout(e.BroadTime);for(var t,a=e.btnArr.length-1;a>=0;a--)t=e.btnArr[a]},a.prototype.showstartMc=function(t){void 0===t&&(t=0);var a=this;if(egret.clearTimeout(a.m_startmctim),t)return void(a.m_startmctim=egret.setTimeout(a.showstartMc,a,t));var i=Manifest.getIns(FightDM),n=i._fightData;if(a.isTimeIndexType(e.GameMainView.type_game)&&n){a.prewarGhidover();var o=n.getFragmentVo();if(o){var r=ParamLoader.instance;utils.GameComUtil.setVisibleHitPanel(a.startmcG,null,!0,4);var s,l,p,c,u=r.blRedIsLeft,m=1,g=.5*a.startmcinfoG.height,_=200;u?(p=g+_,c=g-_):(p=g-_,c=g+_);var h=a.startimgG;r.blBuleFirst?(s=p,l=c,m=u?1:-1):(s=c,l=p,m=u?-1:1),h.y=s,h.scaleY=m,h.alpha=0,TweenLite.to(h,.8,{y:l,delay:.1}),TweenLite.to(h,.2,{alpha:.5,delay:.1}),TweenLite.to(h,.2,{alpha:0,delay:.6})}}},a.prototype.showstartMcOver=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.startmcG,null,!1,4)},a.prototype.showPrewarG=function(){var e=this,t=e.prewarG,a=1.8,i=Manifest.getIns(FightDM),n=i._fightData;if(n){utils.GameComUtil.setVisibleHitPanel(e.prewarG,null,!0,4),t.alpha=0;var o,r,s,l,p,c=n.oppServerVo.player,u=60,m=100,g=e.studyplayG.height;for(o=0,r=c.length;r>o;o++)s=c[o],l=e["redPG"+o],e["redPtxt"+o].text=s.numberTag,o?e["redPimg"+o].source="syls_12":e["redPimg"+o].source="syls_51",p=s.location,l.y=g-Math.floor(.1*p)*u-.5*u,l.x=-12+Math.floor(p%10-1)*m+.5*m-0;for(c=n.myServerVo.player,o=0,r=c.length;r>o;o++)s=c[o],l=e["bluePG"+o],e["bluePtxt"+o].text=s.numberTag,o?e["bluePimg"+o].source="syls_13":e["bluePimg"+o].source="syls_50",p=s.location,l.y=Math.floor(.1*p)*u+.5*u-20,l.x=-12+Math.floor(p%10-1)*m+.5*m-0;TweenLite.killTweensOf(e.prewarG,!0),TweenLite.to(e.prewarG,.1,{alpha:1}),TweenLite.to(e.prewarG,.1,{alpha:0,delay:a,onComplete:e.prewarGhidover.bind(e)});var _=n.myServerVo,h=n.oppServerVo,d=1;e.m_mainPanel&&(d=e.m_mainPanel.m_pithcSpr.scaleX),e.prewarinfoG.scaleX=e.prewarinfoG.scaleY=d,e.showPrewarStudymc(!0,_.attackTactics,_.defendTactics),e.showPrewarStudyOppmc(!0,h.attackTactics,h.defendTactics);var y=GlobalAllProxy.getInstance().guideProxy;y.isPlayGuide()&&y.isCache&&y.cacheGuide()}},a.prototype.showPrewarStudymc=function(e,t,a){var i=this,n=ResName.mc_zhanshu,o=utils.GameComUtil.getArmature(n,"mc_zhanshu_my",i,!1);o&&(e?(o.disableBatch(),o.animation.play("effect",1),i.studymcG.addChild(o),i.showstudyChange(o,t,a,!0)):utils.GameComUtil.removeAnimoSelf(o))},a.prototype.showPrewarStudyOppmc=function(e,t,a){var i=this,n=ResName.mc_zhanshu,o=utils.GameComUtil.getArmature(n,"mc_zhanshu_opp",i,!1);o&&(e?(o.disableBatch(),o.animation.play("effect",1),i.studyoppmcG.addChild(o),i.showstudyChange(o,t,a,!1)):utils.GameComUtil.removeAnimoSelf(o))},a.prototype.showstudyChange=function(e,t,a,i){var n,o,r,s=t%10,l=a%10,p=[[2],[3],[1],[2,3]],c=[[6],[5],[4],[5,6]];o=p[s-1],r=c[l-1];for(var u=1;6>=u;u++)n="bone"+u,-1!=o.indexOf(u)||-1!=r.indexOf(u)?e.armature.getBone(n).visible=!0:e.armature.getBone(n).visible=!1},a.prototype.prewarGhidover=function(){var e=this;if(e.prewarG.visible){utils.GameComUtil.setVisibleHitPanel(e.prewarG,null,!1,4),e.showPrewarStudymc(!1,0,0),e.showPrewarStudyOppmc(!1,0,0);var t=e.studyguang;t.visible=!0,t.alpha=0;var a=100,i=200;egret.Tween.removeTweens(t),egret.Tween.get(t).to({alpha:1},a).to({alpha:0},i).to({alpha:1},a).to({alpha:0},i).to({alpha:1},a).to({alpha:0},i).call(e.hitStudyGuange,e)}},a.prototype.hitStudyGuange=function(){this.studyguang.visible=!1},a.prototype.showBeforG=function(){var e=this,t=e.beforG,a=2,i=Manifest.getIns(FightDM),n=i._fightData;n&&(utils.GameComUtil.setVisibleHitPanel(e.beforG,null,!0,4),t.alpha=0,e.beforlogoimgA.setLogoUrl(n.myServerVo.logo),e.beforlogoimgB.setLogoUrl(n.oppServerVo.logo),e.beforzhanlitxtA.text=n.myServerVo.fighting,e.beforzhanlitxtB.text=n.oppServerVo.fighting,e.befornameA.text=utils.GameComUtil.getName(n.myServerVo.name,GlobalEnum.namelenN,!0),e.befornameB.text=utils.GameComUtil.getName(n.oppServerVo.name,GlobalEnum.namelenN,!0),TweenLite.killTweensOf(e.beforG,!0),TweenLite.to(e.beforG,.1,{alpha:1}),TweenLite.to(e.beforG,.1,{alpha:0,delay:a,onComplete:e.beforGhidover.bind(e)}),e.showbeformc(!0))},a.prototype.beforGhidover=function(){var t=this;utils.GameComUtil.setVisibleHitPanel(t.beforG,null,!1,4),t.isTimeIndexType(e.GameMainView.type_game)&&t.showPrewarG()},a.prototype.showbeformc=function(e){var t=this,a=ResName.mc_enter,i=utils.GameComUtil.getArmature(a,a,t);if(i)if(e){t.beforBlue.addChild(t.beforBInfoG),t.beforRed.addChild(t.beforRInfoG),t.beforBInfoG.x=t.m_beforBIX,t.beforBInfoG.y=t.m_beforBIY,t.beforRInfoG.x=t.m_beforBIX,t.beforRInfoG.y=t.m_beforBIY,t.beforBInfoG.scaleX=t.beforBInfoG.scaleY=1,t.beforRInfoG.scaleX=t.beforRInfoG.scaleY=1,t.beforBInfoG.visible=!0,t.beforRInfoG.visible=!0,t.headAG.visible=!1,t.headBG.visible=!1;var n=t.beforBlue.width;t.beforBlue.x=0-n,t.beforRed.x=640+n,i.animation.play("effect",1),t.beformcG.addChild(i),i.addEventListener(dragonBones.EventObject.FRAME_EVENT,t.beforplayermc,t)}else i.removeEventListener(dragonBones.EventObject.FRAME_EVENT,t.beforplayermc,t),utils.GameComUtil.removeAnimoSelf(i)},a.prototype.beforplayermc=function(e){var t=e,a=this,i=(t.target,t.name);if(t.frameLabel&&(i=t.frameLabel),i){var n=a.beforBlue.width,o=0-n,r=640+n;if("start"==i){var s=19,l=432,p=10,c=10;o=0-n,a.beforBlue.x=o,a.beforRed.x=r,egret.Tween.get(a.beforBlue).to({x:s+c},100).to({x:s-p},700),egret.Tween.get(a.beforRed).to({x:l-c},100).to({x:l+p},700)}if("move"==i){var u=a.m_beforBIX,m=a.m_beforBIY,g=utils.GameComUtil.getLocalToGlobal(a.beforBlue,u,m),_=utils.GameComUtil.getLocalToGlobal(a.beforRed,u,m),h=a.headAG,d=h.x,y=h.y,v=utils.GameComUtil.getLocalToGlobal(h.parent,d,y);h=a.headBG,d=h.x,y=h.y;var f=utils.GameComUtil.getLocalToGlobal(h.parent,d,y);a.addChild(a.beforBInfoG),a.addChild(a.beforRInfoG),a.beforBInfoG.x=g.x,a.beforBInfoG.y=g.y,a.beforBInfoG.scaleX=a.beforBInfoG.scaleY=1,a.beforRInfoG.x=_.x,a.beforRInfoG.y=_.y,a.beforRInfoG.scaleX=a.beforRInfoG.scaleY=1;var b=1.3,G=.6,x=1,C=.52;egret.Tween.get(a.beforBInfoG).to({scaleX:b,scaleY:b},300).to({x:v.x,y:v.y,scaleX:G,scaleY:G},300).to({scaleX:x,scaleY:x},100).to({scaleX:C,scaleY:C},200).to({visible:!1}).call(a.beformcoverfun,a),egret.Tween.get(a.beforRInfoG).to({scaleX:b,scaleY:b},300).to({x:f.x,y:f.y,scaleX:G,scaleY:G},300).to({scaleX:x,scaleY:x},100).to({scaleX:C,scaleY:C},200).to({visible:!1})}"end"==i&&(egret.Tween.get(a.beforBlue).to({x:o},400),egret.Tween.get(a.beforRed).to({x:r},400))}},a.prototype.beformcoverfun=function(){var e=this;e.headAG.visible=!0,e.headBG.visible=!0},a.prototype.eventchange=function(e,t){var i=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:break;case game.GameCommands.TIP_MC_CHANGE:i.changeTipMC();break;case game.GameCommands.GET_FIGHT_DATA:break;case game.GameCommands.FIGHT_NEW_START:i.chooseBtn(i.itemIndex),i.showSkipBtn();break;case game.GameCommands.FIGHT_PITCH_CHANGE:i.changeInfo(e);break;case game.GameCommands.FIGHT_BROAD_ADD:i.showBroadInfo(e);break;case game.GameCommands.STAGE_RESIZE:i.resizefun();break;case game.GameCommands.FIGHT_SHOW_SHOOT:i.showShoot(e);break;case game.GameCommands.FIGHT_OVER:SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_fightover),i.fightOver();break;case game.GameCommands.FIGHT_TIME_ADD:i.showTime();break;case game.GameCommands.FIGHT_SKIP_DATA:i.showSkipBtn();break;case game.GameCommands.BUF_FAST_PVE_FIGHT:GlobalAllProxy.getInstance().playerProxy.getLastFastFight();break;case game.GameCommands.FIGHT_AUTO_CAHNGE:i.changeauto(!1);break;case game.GameCommands.FIGHT_GET_HEROAWARD:i.changeHeroAward();break;case game.GameCommands.FIGHT_FRAG_NEXT:Global.isrest||i.shownowid(),i.itemIndex==a.type_myteam||i.itemIndex==a.type_oppteam?i.showTeamData(i.isMyTeam):i.itemIndex==a.type_info?i.summaryPanel.showSummary():i.itemIndex==a.type_data?i.dataPanel.show(!1):i.itemIndex==a.type_skill&&i.showSkillData(!1),i.showEveData();break;case game.GameCommands.GUIDE_PLAY_OVER:case game.GameCommands.SECRETARY_DATA_CHANGE:i.rewardZhuTask()}},a.prototype.changeHeroAward=function(){var e=this;if(e.btnpveHeroInfoG.visible=!1,e.btnpveHeroG.visible=!1,e.m_ispve&&e.itemIndex==a.type_game){for(var t,i,n=GlobalAllProxy.getInstance().playerProxy.customsClearance,o=GlobalConfig.copyplayerrewardInit_data,r=0,s=o.length;s>r;r++)if(t=o[r],-1==n.indexOf(t.id)){i=t;break}if(i){e.m_btnheroid=i.id;var l=GlobalConfig.getItemVo(i.itemid);if(l){var p=Manifest.getIns(FightDM)._fightData;if(p){var c=GlobalConfig.copyRewardMinId-1,u=GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id,m=0;u&&(m=u-c);var g=i.copyid-c;e.btnherobar.setValue(m,g),m>=g?(e.getheroG.visible=!0,e.btnherobarG.visible=!1):(e.btnherobarG.visible=!0,e.getheroG.visible=!1);var _="0"==i.des1?"":i.des1,h="0"==i.des2?"":i.des2;e.btnherotxt1.text=_,e.btnherotxt.text=h;var d;d=GlobalConfig.getPlayerPorpertyVO(+l.parameter),e.heroicon.setData(d,!1),e.btnpveHeroG.visible=!0,e.btnpveHeroInfoG.visible=!0,p.m_ispveboss?(e.btnpveHeroG.addChild(e.btnpveHeroInfoG),e.btnpveHeroInfoG.x=1,e.btnpveHeroInfoG.y=-1):(e.downinfoG.addChild(e.btnpveHeroInfoG),e.btnpveHeroInfoG.x=17,e.btnpveHeroInfoG.y=45),e.m_heroawardmc||(e.m_heroawardmc=utils.GameComUtil.getSYMovieClip(ResName.mc_guajikapai,ResName.mc_guajikapai)),e.m_heroawardmc.isPlaying||e.m_heroawardmc.playLoop("effect"),e.btnHeroMcG.addChild(e.m_heroawardmc)}}}}else e.m_heroawardmc&&e.m_heroawardmc.stopAndRemove()},a.prototype.shownowid=function(){var e=GameMainPanel.initItemid+"";this.pvetiptxt.text=e,this.pvetiptxt0.text=""},a.prototype.fightOver=function(){},a.prototype.showShoot=function(t){var a=Manifest.getIns(FightDM)._fightData;if(a){var i,n,o=this,r=t.id,s=t.name,l=t.type,p=(BallUtils.severidIsBlue(r),o.isTimeIndexType(e.GameMainView.type_game));if(t instanceof SummaryPlayVO){o.m_showSummVO=t,n=t,r=n.idA,s=n.nameA,l=n.evetype,i=n.infotype;var c,u,m,g="",_=!1,h=null,d=!1,y=null,v=!1,f=a.getPlayerForId(r);if(f){switch(v=!0,s=f.name,f.head&&(u=ResName.getPlayerIcon(f.head)),l){case match_type.type_shoot:switch(i){case match_type.type_eveshootOut:g=" "+Language.ins.fight_foul8,c=ResName.mc_fight_fail,h=GlobalSoundEffect.sound_shootlost;break;case match_type.type_eveshootOutFree:g=" "+Language.ins.fight_foul9,c=ResName.mc_fight_renyiqiu_fail,h=GlobalSoundEffect.sound_shootlost;break;case match_type.type_eveshootOutPenalty:g=" "+Language.ins.fight_foul10,c=ResName.mc_fight_dianqiu_fail,h=GlobalSoundEffect.sound_shootlost;break;case match_type.type_shoot:g=" "+Language.ins.fight_foul1,c=ResName.mc_fight_goal,h=GlobalSoundEffect.sound_shootup;break;case match_type.type_eveshootFree:g=" "+Language.ins.fight_foul6,c=ResName.mc_fight_renyiqiu,h=GlobalSoundEffect.sound_shootup;break;case match_type.type_eveshootPenalty:g=" "+Language.ins.fight_foul7,c=ResName.mc_fight_dianqiu_suc,h=GlobalSoundEffect.sound_shootup}d=!0,y=u;break;case match_type.type_event:switch(d=!0,y=u,i){case match_type.type_yellowcard:g=" "+Language.ins.fight_foul3,_=!0,c=ResName.mc_fight_yellowcard,h=GlobalSoundEffect.sound_whistling;break;case match_type.type_redcard:g=" "+Language.ins.fight_foul4,_=!0,c=ResName.mc_fight_redcard,h=GlobalSoundEffect.sound_whistling;break;case match_type.type_yellowredcard:g=" "+Language.ins.fight_foul5,_=!0,c=ResName.mc_fight_yellowcard,h=GlobalSoundEffect.sound_whistling;break;case match_type.type_eventRescue:g=" "+Language.ins.fight_foul12,c=ResName.mc_fight_jiewei,h=GlobalSoundEffect.sound_whistling;break;case match_type.type_eventCorner:g=" "+Language.ins.fight_foul13,c=ResName.mc_fight_jiaoqiu,h=GlobalSoundEffect.sound_whistling}break;case match_type.type_steals:switch(i){case match_type.type_steals:c=ResName.mc_fight_qiangduan,m=ColorUtil.getPlayerNameCol(n.qualityB),g=" "+Language.ins.fight_foul11+" "+FormatString.format(Language.ins.game_col,m,n.nameB)}d=!0,y=u}if(!c)return void(o.m_showSummVO&&(o.showSummaryMc(o.m_showSummVO,null),o.m_showSummVO=null));if(c){var b=d?ResName.getDragonArr(c):ResName.getDragonFastArr(c),G=ResName.DecideLoadArr(b);if(!G)return void(o.m_showSummVO&&(o.showSummaryMc(o.m_showSummVO,null),o.m_showSummVO=null))}if(_=!1,h&&SoundMgr.getInstance().PlayEffect(h),c&&p){utils.GameComUtil.setVisibleHitPanel(o.showG,null,!0,5),o.showmcG.visible=!1,o.showCtxtG.visible=!1,o.showCG.visible=!1,o.showCG0.visible=!1,_&&(o.m_mainPanel.g_SoccerPitch.m_bShowPaused=!0),m=ColorUtil.getPlayerNameCol(n.qualityA);var x=FormatString.format(Language.ins.game_col,m,s)+g;o.showCtxt.textFlow=utils.GameComUtil.getHtmlText(x),o.showG.alpha=1,o.showmcG.visible=!0,o.clearfightmc(),o.mc_istimetype=!1,v&&y&&(RES.getRes(y)?o.showCimg.source=y:o.showCimg.source="player_icon_a",o.showCidtxt.text=n.tagnumA,o.showCbg.source=n.isleft?"syls_13":"syls_12",n.infotype==match_type.type_steals&&(RES.getRes(n.headpathB)?o.showCimg0.source=n.headpathB:o.showCimg0.source="player_icon_a",o.showCidtxt0.text=n.tagnumB,o.showCbg0.source=n.isleft?"syls_12":"syls_13")),egret.clearTimeout(o.m_evewaitTime),d?o.m_evewaitTime=egret.setTimeout(o.showFightBoneMc,o,50,c,!0,0,y,v,t):o.showFightMc(c,!0)}}}}},a.prototype.isTimeIndexType=function(e){var t=this,a=!1;return t.itemIndex==e&&(a=!0),a},a.prototype.showChangeTimeType=function(e){var t,a=this,i=-22;switch(e){case time_type.time_normaldown:t=ResName.mc_fight_rest;break;case time_type.time_addup:t=ResName.mc_fight_jiashisai;break;case time_type.time_PenaltyShow:t=ResName.mc_fight_dianqiu}if(t){var n=ResName.getDragonFastArr(t),o=ResName.DecideLoadArr(n);if(!o)return}t&&(a.showmcG.visible=!1,t&&(a.showG.alpha=1,a.showmcG.visible=!0,a.clearfightmc(),a.mc_istimetype=!0,a.showFightMc(t,!0,i)))},a.prototype.clearfightmc=function(){for(var e,t=this,a=t.showmcG,i=a.numChildren,n=i-1;n>=0;n--)e=a.getChildAt(n),utils.GameComUtil.removeAnimoSelf(e)},a.prototype.showFightMc=function(e,t,a){void 0===a&&(a=0);var i=this,n=utils.GameComUtil.getArmature(e,e,i);n&&(t?(n.animation.play("effect",1),n.y=a,i.showmcG.addChild(n),n.addEventListener(dragonBones.EventObject.COMPLETE,i.playermc3,i)):utils.GameComUtil.removeAnimoSelf(n))},a.prototype.showFightBoneMc=function(e,t,a,i,n,o){void 0===a&&(a=0),void 0===i&&(i=null),void 0===n&&(n=!1),void 0===o&&(o=null);var r=this,s=utils.GameComUtil.getArmature(e,e,r,!1);if(s)if(t){s.y=a;var l=i,p="building",c=s.armature.getSlot(p);if(c){var u,m;l&&(m=new egret.Bitmap,u=n?r.getTxtCopy(r.showCG):RES.getRes(l),u&&(m.texture=u,m.anchorOffsetX=Math.floor(.5*u.textureWidth),m.anchorOffsetY=Math.floor(.5*u.textureHeight))),c.display=m,n&&(m=new egret.Bitmap,p="zi",c=s.armature.getSlot(p),u=r.getTxtCopy(r.showCtxtG),u&&(m.texture=u,m.anchorOffsetX=Math.floor(.5*u.textureWidth),m.anchorOffsetY=Math.floor(.5*u.textureHeight)),c.display=m,r.showCtxtG.visible=!1),r.otherShootMc(s,n,o)}s.animation.play("effect",1),r.showmcG.addChild(s),s.addEventListener(dragonBones.EventObject.COMPLETE,r.playermc3,r)}else utils.GameComUtil.removeAnimoSelf(s)},a.prototype.otherShootMc=function(e,t,a){void 0===a&&(a=null);var i,n,o,r,s=this;a.infotype==match_type.type_steals&&(i=new egret.Bitmap,n="building2",o=e.armature.getSlot(n),o&&(t&&(r=s.getTxtCopy(s.showCG0)),o.display=i),r&&(i.texture=r,i.anchorOffsetX=Math.floor(.5*r.textureWidth),i.anchorOffsetY=Math.floor(.5*r.textureHeight)));var l;a.infotype==match_type.type_yellowredcard?(l=e.armature.getBone("bone7"),l&&(l.visible=!0)):a.infotype==match_type.type_yellowcard&&(l=e.armature.getBone("bone7"),l&&(l.visible=!1))},a.prototype.getTxtCopy=function(e){var t,a,i=new egret.RenderTexture;return t=e.width,a=e.height,i.drawToTexture(e,new egret.Rectangle(0,0,t,a)),i},a.prototype.playermc3=function(e){var t=this,a=e,i=a.target;t.m_showSummVO&&(t.showSummaryMc(t.m_showSummVO,null),t.m_showSummVO=null),t.m_mainPanel&&t.m_mainPanel.g_SoccerPitch&&(t.m_mainPanel.g_SoccerPitch.m_bShowPaused=!1,t.mc_istimetype&&t.m_mainPanel.g_SoccerPitch.nextPitchPlay()),i.removeEventListener(dragonBones.EventObject.COMPLETE,t.playermc3,t),utils.GameComUtil.removeAnimoSelf(i)},a.prototype.showSummaryMc=function(e,t){var a=this;if(e){var i,n,o=a.m_sumimgArr;i=o&&o.length?o.pop():new eui.Image,n=RES.getRes("syls_32"),i.texture=n;var r,s;if(t){var l=t.parent;if(l){var p=utils.GameComUtil.getLocalToGlobal(l,t.x,t.y);r=p.x-.5*n.textureWidth,s=p.y-.5*n.textureHeight}}r||(r=a.showG.x+.5*a.showG.width-.5*n.textureWidth,s=a.showG.y+.5*a.showG.height-.5*n.textureHeight);for(var c,u,m,g=a.m_evetypearr,_=0,h=g.length;h>_;_++)if(u=g[_],u==e.evetype){e.isleft?(m=a["eveIconA"+_],c=utils.GameComUtil.getLocalToGlobal(m.parent,m.x,m.y)):(m=a["eveIconB"+_],c=utils.GameComUtil.getLocalToGlobal(m.parent,m.x,m.y));break}if(c){a.eveimgG.addChild(i);var d=a.eveG.x,y=a.eveG.y;i.x=r-d,i.y=s-y;var v=c.x-d,f=c.y-y;TweenLite.to(i,.5,{x:v,y:f,onComplete:a.showSummaryMcOver.bind(a),onCompleteParams:[e,i]})}}},a.prototype.showSummaryMcOver=function(e,t){var a=this;t.parent&&t.parent.removeChild(t),a.m_sumimgArr.push(t),a.addEveVOFun(e)},a.prototype.addEveVOFun=function(e,t){void 0===t&&(t=!0);var a=this,i=Manifest.getIns(FightDM),n=i._fightData;if(n){n.m_eveArr.push(e);for(var o,r,s=a.m_evetypearr,l=0,p=s.length;p>l;l++)if(o=s[l],o==e.evetype){r=e.isleft?a["eveIconA"+l]:a["eveIconB"+l];break}r&&r.showGetOne(e,t);var o=a.m_listtype,c=a.m_listismy;a.evelistG.visible&&o==e.evetype&&c==e.isleft&&a.changeEveList();var u=n.getFragmentVo();u&&match_type.type_skill==e.evetype&&a.showSkillFight(u,n,!0)}},a.prototype.showSkillFight=function(e,t,a){void 0===a&&(a=!1);var i,n,o=this;if(a){if(o.m_showskillindex==e.ind)return;o.m_showskillindex=e.ind}t.myServerVo.troops==e.attacker?(i=e.blueFighting,n=e.redFighting):(n=e.blueFighting,i=e.redFighting);var r=o.zhanlitxt0,s=o.zhanlitxt1,l=!1,p=!1;if(r.text!=i&&(l=!0,r.text=i),s.text!=n&&(p=!0,s.text=n),a){var c=o.getSkillAddObj(t,e),u=c.myalladd,m=(c.myallfanadd,c.oppalladd);c.oppallfanadd;u&&o.eveIconA0.showAddTxtMc(u.toFixed(1)),m&&o.eveIconB0.showAddTxtMc(m.toFixed(1));var g=o.zhanlimask0,_=o.zhanlimask1;l&&(g.visible=!0,egret.Tween.removeTweens(g),egret.Tween.get(g).wait(80).to({visible:!1}).wait(80).to({visible:!0}).wait(80).to({visible:!1})),p&&(_.visible=!0,egret.Tween.removeTweens(_),egret.Tween.get(_).wait(80).to({visible:!1}).wait(80).to({visible:!0}).wait(80).to({visible:!1}))}},a.prototype.hitShoot=function(e){var t=this;utils.GameComUtil.setVisibleHitPanel(t.showG,null,!1,3),e&&t.m_mainPanel&&t.m_mainPanel.g_SoccerPitch&&(t.m_mainPanel.g_SoccerPitch.m_bShowPaused=!1)},a.prototype.showBroadInfo=function(e){void 0===e&&(e=null);var t=this;if(t.itemIndex==a.type_game&&e){var i=e.type,n=e.str;n&&""!=n&&(t.broadtxt.textFlow=utils.GameComUtil.getHtmlText(n),t.broadG.visible=!0),egret.clearTimeout(t.BroadTime),i!=match_type.type_gameover&&(t.BroadTime=egret.setTimeout(t.hitBroadInfo,t,2e3))}},a.prototype.hitBroadInfo=function(){var e=this;e.broadG.visible=!1},a.prototype.changeInfo=function(e){var t=this,a=Manifest.getIns(FightDM),i=a._fightData;if(i){var n=i.getFragmentVo();utils.GameComUtil.setVisibleHitPanel(t.infoG,null,!0,2);var o,r,s,l;if(n){var p=BallUtils.getTimeType(n.startTime),c=Language.ins.fight_timeArr[p];s=i.myPitchScore,l=i.oppPitchScore,o=Language.ins.fight_infi_1;var u=n.startTime+"("+c+")";r=FormatString.format(o,u,i.myServerVo.name,s,l,i.oppServerVo.name);var m=n.startTime.split(":");m.length;t.showTime()}else if(s=i.myPitchScore,l=i.oppPitchScore,o=Language.ins.fight_infi_2,r=FormatString.format(o,i.myServerVo.name,s,l,i.oppServerVo.name),n=i.getLastFragmentVo()){var g=BallUtils.getTimeType(n.startTime,!0);t.tiametxt.text=g+":00"}if(t.logoimgA.setLogoUrl(i.myServerVo.logo),t.logoimgB.setLogoUrl(i.oppServerVo.logo),e){var _=i.getFrontFragmentVo();_?t.showSkillFight(_,i):(t.zhanlitxt0.text=i.myServerVo.fighting,t.zhanlitxt1.text=i.oppServerVo.fighting,t.m_showskillindex=-1)}t.lvtxtA.text=i.myServerVo.level,t.lvBG.visible=!1,i.oppServerVo.level&&(t.lvBG.visible=!0,t.lvtxtB.text=i.oppServerVo.level);var h=i.myServerVo,d=i.oppServerVo,y=GlobalConfig.getTcticalVO(h.attackTactics,d.defendTactics),v=GlobalConfig.getTcticalVO(h.defendTactics,d.attackTactics),f=65280,b=16711680,G=GlobalConfig.getTcticalVO(d.defendTactics,h.attackTactics),x=GlobalConfig.getTcticalVO(d.attackTactics,h.defendTactics),C=GlobalConfig.getTacticstoPorPertyVO(h.attackTactics,1),T=GlobalConfig.getTacticstoPorPertyVO(h.defendTactics,1),P=GlobalConfig.getTacticstoPorPertyVO(d.attackTactics,1),A=GlobalConfig.getTacticstoPorPertyVO(d.defendTactics,1);
t.mysttxt0.text=C.tname+"("+Math.floor(.01*y.effect)+"%)",t.mysttxt1.text=T.tname+"("+Math.floor(.01*v.effect)+"%)",t.oppsttxt0.text=A.tname+"("+Math.floor(.01*G.effect)+"%)",t.oppsttxt1.text=P.tname+"("+Math.floor(.01*x.effect)+"%)";var w,k,I,S,E,R;y&&1e4==y.effect?(w="tab_gjjq_e7",k=f,I=b,S=!0,t.studyitip0.text=Language.ins.fight_tip61):(w="tab_gjjq_e8",k=b,I=f,S=!1,R=GlobalConfig.getBestTcticalID(d.defendTactics),E=GlobalConfig.getTacticstoPorPertyVO(R,1),E&&(t.studyitip0.text=FormatString.format(Language.ins.fight_tip60,E.tname))),t.myattimg.source=w,t.oppstimg0.source=w,t.studyiimg0.source=w,t.studyitxt0.textColor=k,t.studytxt0.textColor=k,t.mysttxt0.textColor=k,t.oppsttxt0.textColor=I,t.besticon0.visible=S,v&&1e4==v.effect?(w="tab_gjjq_e7",k=f,I=b,S=!0,t.studyitip1.text=Language.ins.fight_tip61):(w="tab_gjjq_e8",k=b,I=f,S=!1,R=GlobalConfig.getBestTcticalID(d.attackTactics),E=GlobalConfig.getTacticstoPorPertyVO(R,1),E&&(t.studyitip1.text=FormatString.format(Language.ins.fight_tip60,E.tname))),t.mydefenimg.source=w,t.studytxt1.textColor=k,t.oppstimg1.source=w,t.mysttxt1.textColor=k,t.oppsttxt1.textColor=I,t.studyiimg1.source=w,t.studyitxt1.textColor=k,t.besticon1.visible=S;var L;L=GlobalConfig.getFormationVO(h.formation),L&&(t.studyfmyimg.source="tab_zs_e"+L.icon,t.studyfmytxt.text=L.name),L=GlobalConfig.getFormationVO(d.formation),L&&(t.studyfoppimg.source="tab_zs_e"+L.icon,t.studyfopptxt.text=L.name),t.studysmyFo.setData(0,h.attackTactics,!0,h.defendTactics),t.studysoppFo.setData(0,d.attackTactics,!0,d.defendTactics);var O,V=h.attackLevel,D=h.defendLevel,N=d.attackLevel,F=d.defendLevel;C&&(t.studytxt0.text=C.tname,O=FormatString.format(Language.ins.tactics_tip_14,C.tname,V),t.studysmyA.text=O,t.studyitxt0.text=FormatString.format(Language.ins.fight_tip62,C.tname)),P&&(O=FormatString.format(Language.ins.tactics_tip_14,P.tname,N),t.studysoppA.text=O),A&&(O=FormatString.format(Language.ins.tactics_tip_14,A.tname,F),t.studysoppB.text=O),T&&(O=FormatString.format(Language.ins.tactics_tip_14,T.tname,D),t.studyitxt1.text=FormatString.format(Language.ins.fight_tip63,T.tname),t.studytxt1.text=T.tname,t.studysmyB.text=O),t.nameAtxt.text=utils.GameComUtil.getName(h.name,GlobalEnum.newnamelenN,!0),FormatString.ASCLengthNew(h.name)>6?(t.nameAtxt.x=-40,t.nameAtxt.textAlign="left"):(t.nameAtxt.x=-64.5,t.nameAtxt.textAlign="center"),t.nameBtxt.text=i.oppServerVo.name,t.scoreAtxt.text=s,t.scoreBtxt.text=l}},a.prototype.showTime=function(){var e=this,t=0,a=0;e.m_mainPanel&&e.m_mainPanel.g_SoccerPitch&&(t=e.m_mainPanel.g_SoccerPitch.time_mi,a=e.m_mainPanel.g_SoccerPitch.time_sc);var i=10>a?"0"+a:a.toString(),n=t.toString()+":"+i;e.tiametxt.text=n},a.prototype.maioTimeFun=function(){var e=this,t=Manifest.getIns(FightDM),a=t._fightData;if(egret.clearTimeout(e.m_timeskip),a){var i=a.m_jumptime;isNaN(i)||(e.waitskiptxt.text=a.m_jumptime,i-=1,a.m_jumptime=i,0>i?(i=0/0,a.m_jumptime=i,e.showSkipBtn(),egret.setTimeout(e.autoSkipFight,e,300)):(e.skipbtn.visible=!1,e.m_timeskip=egret.setTimeout(e.maioTimeFun,e,1e3)))}},a.prototype.autoSkipFight=function(){var e=this,t=Manifest.getIns(FightDM),a=t._fightData;if(a){var i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=GlobalConfig.getVipVO(i.vipLevel),o=n.skiptime+game.ComMonthCarVO.getNumExtraskiptime(),r=i.freeTimes,s=o-r;0>=s&&(s=0);var l=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_fightskipcar),p=s+l;0>=p&&(p=0);var c=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();if(!e.skipbtn.visible||1!=e.skipbtn.alpha||c)return;Global.fightpve_auto&&a.type==FightEnum.type_pve&&i.vipLevel>=ParamLoader.instance.AutoJump&&p>0&&GlobalAllProxy.getInstance().fightProxy.NetSkipCombat(e.m_type,"11")}},a.prototype.showbtnPanle=function(e){var t=this;t.isShowbtn=e},a.prototype.touchBeginFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.btnA:case t.btnB:case t.btnC:case t.btnD:case t.btnF:case t.btnH:t.btnG.addChild(a)}},a.prototype.touchTapFun=function(e){var t=this,i=!1,n=e.target,o=PanelDM.getIns(),r=Manifest.getIns(FightDM);if(n instanceof FightEveIcon){var s=n,l=s._evetype,p=s._ismy;return t.showEveList(!0,l,p,!0),void(i!=t.downtipG.visible&&t.showdowntip(i))}var c=!1;switch(n){case t.closebtn:t.close();break;case t.outbtn:var r=Manifest.getIns(FightDM);r.overReturnPanel(r.playerFightType),SoundMgr.getInstance().SetSoundVolume(1),SoundMgr.getInstance().PlaySound(GlobalSoundEffect.sound_bg);break;case t.btnA:t.chooseBtn(a.type_game);break;case t.btnB:t.showTeamData(!0),t.showTeamData(!1),t.chooseBtn(a.type_myteam);break;case t.btnC:t.chooseBtn(a.type_oppteam);break;case t.btnD:t.chooseBtn(a.type_info);break;case t.btnF:t.chooseBtn(a.type_data);break;case t.btnH:t.chooseBtn(a.type_skill);break;case t.btnherobtn:t.m_btnheroid&&GlobalAllProxy.getInstance().fightProxy.NetBCustomsReward(t.m_btnheroid);break;case t.pvefastbtn:Global.isrest||t.fightstop(!0);var u=+GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_pvefastcar);u>0?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpackinfo],new BackPackInfoViewOpenVO(GlobalEnum.itemid_pvefastcar,!1)):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_fast]);break;case t.pvenextbtn:var r=Manifest.getIns(FightDM);r.pveNextFight();break;case t.databtn:t.chooseBtn(a.type_data);break;case t.chatbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat]);break;case t.skipbtn:if(t.m_type==FightEnum.type_backplay){var r=Manifest.getIns(FightDM);r.skipFight(FightEnum.type_backplay),t.showSkipBtn()}else GlobalAllProxy.getInstance().fightProxy.NetSkipCombat(t.m_type,"11");break;case t.costboxRect:t.changeauto(!0);break;case t.pveaotoNG:t.changeauto(!0),FLOAT.NShowPutong([Language.ins.fight_tip55]);break;case t.randombtn:i=!0;break;case t.heroicon:var m=t.heroicon.getHeroID();if(m){var g=GlobalConfig.getPlayerPorpertyVO(m),_=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(_,m,g,!0))}break;case t.helpbtn:t.m_help_type&&o.goWindow([GlobalViewIDEnum.pType_help,t.m_help_type]);break;case t.headdataG:c=!0,t.tipstudyG.visible=!0;break;case t.zhuTaskbtn:t.rewardZhuTask(!0)}if(!c&&t.tipstudyG.visible&&(t.tipstudyG.visible=!1),t.evelistG.visible){var h=!0,d=n,y=Global.stage;if(n!=t.evenRect)for(;null!=d&&d!=y;)d=d.parent,d==t.evelistG&&(h=!1);h&&t.showEveList(!1,0,!1)}i!=t.downtipG.visible&&t.showdowntip(i)},a.prototype.changeauto=function(e){var t=this,i=Global.fightpve_auto,n=Manifest.getIns(FightDM);t.pveaotoNG.visible=!1,t.checkug.visible=!1,t.needtxt.visible=!1,t.costboxRect.visible=!1,t.timeaototxt.visible=!1,t.game_pve_auto_tip0.text=n.playerFightType==FightEnum.type_pve&&Global.fightpve_auto?FormatString.format(Language.ins.game_pve_auto_tip0,ParamLoader.instance.AutoJump):"";var o=!0;if(t.itemIndex!=a.type_game&&(o=!1),e&&o){if(egret.clearTimeout(t.pveaotuTnum),i=i?!1:!0){var r=n.getFightData(FightEnum.type_pve);if(!r||!r.m_ispveboss){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo,l=(FightEnum.type_pve,s.mission_id),p=GlobalConfig.getPveMapVO(l);if(p&&p.nextid){var c=p.nextid;l=c;var u=0;i&&(u=1),t.pveaotutime=t.pveaotuinit,t.pveTimeFun()}}}Global.setFightAutoBl(i)}o&&(i?(t.pvenextbtn.enabled=!1,t.m_ispve&&(t.pveaotoNG.visible=!0),t.timeaototxt.visible=!0):(t.checkug.visible=!0,t.needtxt.visible=!0,t.costboxRect.visible=!0,t.pvenextbtn.enabled=!0)),t.checkug.selected=i},a.prototype.pveTimeFun=function(){var e=this;if(e.pveaotutime-=1,e.pveaotutime<=0){var t=Global.fightpve_auto;if(t){var a=Manifest.getIns(FightDM),i=a.getFightData(FightEnum.type_pve);if(!i||!i.m_ispveboss){var n=GlobalAllProxy.getInstance().playerProxy.playerinfo,o=(FightEnum.type_pve,n.mission_id),r=GlobalConfig.getPveMapVO(o);if(r&&r.nextid){var s=r.nextid;o=s;var l=0;t&&(l=1),GlobalAllProxy.getInstance().fightProxy.NetBattleRequest(FightEnum.type_pve,o,!1,FightDataVO.bossstr,l)}}}}else e.timeaototxt.text=FormatString.format(Language.ins.fight_tip54,e.pveaotutime),egret.clearTimeout(e.pveaotuTnum),e.pveaotuTnum=egret.setTimeout(e.pveTimeFun,e,1e3)},a.prototype.chooseBtn=function(t){var i=this;i.itemIndex=t;for(var n,o=i.btnArr,r=o.length-1;r>=0;r--)n=o[r],r==t?n.selected=!0:n.selected=!1;if(i.m_mainPanel&&i.m_mainPanel.setPlayType(i.itemIndex),i.chatG.visible=!1,i.zhuTaskG.visible=!1,i.itemIndex==a.type_game&&(i.chatG.visible=!0,i.m_ispve&&(i.zhuTaskG.visible=!0),utils.GameComUtil.setVisibleHitPanel(i.headdataG,null,!0,4),utils.GameComUtil.setVisibleHitPanel(i.eveG,null,!0,4),i.showEveData()),i.m_ispve){var s=!1,l=GlobalAllProxy.getInstance().playerProxy.playerinfo,p=l.mission_id,c=Manifest.getIns(FightDM),u=c.getFightData(FightEnum.type_pve);if(u&&(s=u.m_ispveboss),!GlobalAllProxy.getInstance().guideProxy.isPlayGuide()){var m=GlobalAllProxy.getInstance().gameProxy.offlineData;m&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_offline,e.FightOffLineView.type_offline])}if(p||s){i.databtn.visible=!0;GlobalAllProxy.getInstance().playerProxy.getLastFastFight();if(i.itemIndex!=a.type_game||s)utils.GameComUtil.setVisibleHitPanel(i.btnG,null,!0,4),utils.GameComUtil.setVisibleHitPanel(i.downG,null,!1,4),i.showpveingmc(!1);else{var g=GlobalConfig.getPveMapVO(p);if(g){var _=g.getHoutAwardArr(GlobalEnum.hourtime);i.showpveData(_,!1);var h,d,y,v=utils.GameComUtil.getItemVoArr(g.getRandAwardStr());for(d=0,y=v.length;y>d;d++)h=v[d],h.count=0;i.showpveTipData(v,!1)}var f=GlobalConfig.getPveMapVO(g.nextid);f?i.labelDisplay0.text=f.name.split("-")[0]:i.labelDisplay0.text=Language.ins.game_remax;var b=g.name.split("-")[0];i.pvetiptxt.text=b,i.pvetiptxt0.text=Language.ins.fight_tip37,utils.GameComUtil.setVisibleHitPanel(i.btnG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.downG,null,!0,4),i.showpveingmc(!0)}}else i.databtn.visible=!1,utils.GameComUtil.setVisibleHitPanel(i.btnG,null,!1,4),utils.GameComUtil.setVisibleHitPanel(i.downG,null,!0,4),i.showpveingmc(!0)}else i.databtn.visible=!1,utils.GameComUtil.setVisibleHitPanel(i.btnG,null,!0,4),utils.GameComUtil.setVisibleHitPanel(i.downG,null,!1,4),i.showpveingmc(!1);if(i.changeHeroAward(),i.itemIndex==a.type_myteam){if(utils.GameComUtil.setVisibleHitPanel(i.teamG,null,!0,3),i.m_mainPanel){var G,x=ParamLoader.instance;G=i.isMyTeam?0==x.blRedIsLeft:1==x.blRedIsLeft;var C,T,P,A;G?(C=Language.ins.fight_tip64,P=Language.ins.fight_tip65,T="tab_gjjq_f2",A="tab_gjjq_f1"):(C=Language.ins.fight_tip65,P=Language.ins.fight_tip64,T="tab_gjjq_f1",A="tab_gjjq_f2"),i.oppteamtxt.text=C,i.teamtxt.text=P,i.oppteambg.source=T,i.teambg.source=A}}else utils.GameComUtil.setVisibleHitPanel(i.teamG,null,!1,3);i.itemIndex==a.type_info?(i.summaryPanel.showSummary(),utils.GameComUtil.setVisibleHitPanel(i.summaryG,null,!0,3)):utils.GameComUtil.setVisibleHitPanel(i.summaryG,null,!1,3),i.itemIndex==a.type_data?(i.dataPanel.show(!0),utils.GameComUtil.setVisibleHitPanel(i.dataG,null,!0,3)):utils.GameComUtil.setVisibleHitPanel(i.dataG,null,!1,3),i.itemIndex==a.type_skill?(i.showSkillData(!0),utils.GameComUtil.setVisibleHitPanel(i.skillG,null,!0,3)):utils.GameComUtil.setVisibleHitPanel(i.skillG,null,!1,3),i.itemIndex==a.type_oppteam?utils.GameComUtil.setVisibleHitPanel(i.studyG,null,!0,3):utils.GameComUtil.setVisibleHitPanel(i.studyG,null,!1,3),i.itemIndex==a.type_game?(utils.GameComUtil.setVisibleHitPanel(i.headdataG,null,!0,3),utils.GameComUtil.setVisibleHitPanel(i.eveG,null,!0,3)):(utils.GameComUtil.setVisibleHitPanel(i.headdataG,null,!1,3),utils.GameComUtil.setVisibleHitPanel(i.eveG,null,!1,3),i.hitBroadInfo()),i.changeHeroAward(),i.changeauto(!1),i.showSkipBtn()},a.prototype.showdowntip=function(e){var t=this,a=t.downtipG;a.visible=e},a.prototype.showpveTipData=function(e,t){var a=this,i=e,n=a.downtiplist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=ItemMinIconRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.showSkillData=function(e){void 0===e&&(e=!1);var t=this,a=Manifest.getIns(FightDM),i=a._fightData;if(i){var n=i.getFragmentVo();if(n||(n=i.getLastFragmentVo()),n){var o=t.getSkillAddObj(i,n),r=o.myalladd,s=o.myallfanadd,l=o.oppalladd,p=o.oppallfanadd,c=o.mydpArr,u=o.oppdpArr;t.showSkillTxt(t.skillmyInfonum0,r),t.showSkillTxt(t.skillmyInfonum1,s),t.showSkillTxt(t.skilloppInfonum0,l),t.showSkillTxt(t.skilloppInfonum1,p),t.skillmyInfotxt0.text=Language.ins.fight_tip15,t.skilloppInfotxt0.text=Language.ins.fight_tip15,t.skillmyInfotxt1.text=Language.ins.fight_tip16,t.skilloppInfotxt1.text=Language.ins.fight_tip16,t.showSkillListA(c,e),t.showSkillListB(u,e)}}},a.prototype.getSkillAddObj=function(e,t){for(var a,i,n,o,r,s,l,p,c,u,m=t.release,g=GlobalConfig,_=[],h=[],d=0,y=0,v=0,f=0,b=0,G=0,x=0,C=0,T=0,P=m.length;P>T;T++)i=m[T],p=i.nPosition,o=i.nSkill,r=g.getSkillVO(o),a=new FightSkillRenderVO,a.nCount=i.nCount,u=1,i.nCount&&(u=i.nCount),s=e.getPlayerForId(i.nPosition),c=s.star,a.skillvo=r,a.playervo=s,l=s.getskilllv(o),a.skilllv=l,n=BallUtils.severidIsBlue(i.nPosition),a.ismy=n,n?(_.push(a),1==r.team&&2==parseInt(r.obj)&&22==r.porid&&(d+=r.getLevelValue(l,c)*u),2==r.team&&2==parseInt(r.obj)&&22==r.porid&&(f+=r.getLevelValue(l,c)*u),1==r.team&&2==parseInt(r.obj)&&36==r.porid&&(b+=r.getLevelValue(l,c)*u),2==r.team&&2==parseInt(r.obj)&&36==r.porid&&(C+=r.getLevelValue(l,c)*u)):(2==r.team&&2==parseInt(r.obj)&&22==r.porid&&(y+=r.getLevelValue(l,c)*u),1==r.team&&2==parseInt(r.obj)&&22==r.porid&&(v+=r.getLevelValue(l,c)*u),1==r.team&&2==parseInt(r.obj)&&36==r.porid&&(x+=r.getLevelValue(l,c)*u),2==r.team&&2==parseInt(r.obj)&&36==r.porid&&(G+=r.getLevelValue(l,c)*u),h.push(a));var A=.01*(d+y),w=.01*(f+v),k=.01*(b+G),I=.01*(C+x),S={myalladd:A,myallfanadd:k,oppalladd:w,oppallfanadd:I,mydpArr:_,oppdpArr:h};return S},a.prototype.showSkillTxt=function(e,t){var a;t>0?(e.text="+"+t.toFixed(1)+"%",a=ColorUtil.green):0==t?(e.text=t.toFixed(0)+"%",a=ColorUtil.white):(e.text=t.toFixed(1)+"%",a=ColorUtil.red),e.textColor=a},a.prototype.showSkillListA=function(e,t){void 0===t&&(t=!1);var a=this,i=e,n=a.skilldatalist0;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightSkillRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.skillscroll0;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showSkillListB=function(e,t){void 0===t&&(t=!1);var a=this,i=e,n=a.skilldatalist1;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightSkillRender2,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.skillscroll1;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showpveData=function(e,t){var a=this,i=e,n=a.pveawardlist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=ItemMinIconRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.fightstop=function(e){var t=this;e&&(t.m_fightstop=1==t.m_fightstop?0:1),t.m_fightstop?e&&(t.m_mainPanel.g_SoccerPitch.m_bPaused=!0):e&&(t.m_mainPanel.g_SoccerPitch.m_bPaused=!1)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight),e.m_mainPanel&&e.m_mainPanel.resizefun()},a.prototype.showpveingmc=function(e){var t=this,a=ResName.mc_zidongbisai,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.pveingmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showStepWaitMc=function(t,a){void 0===a&&(a=!0);var i=this,n=ResName.mc_biao,o=utils.GameComUtil.getArmature(n,n,i);if(o&&t){o.animation.play("effect",1),i.stepwaitmcG.addChild(o),o.addEventListener(dragonBones.EventObject.FRAME_EVENT,i.playerwaitmc,i);var i=this,r=0,s=0,l=0,p=0,c=i.steptime,u=Manifest.getIns(FightDM);if(u){var m=u._fightData;if(m){var g=m.fragmentindex+1,_=m.getFragmentVoForIndex(g);if(_&&i.m_mainPanel&&i.m_mainPanel.g_SoccerPitch){r=i.m_mainPanel.g_SoccerPitch.time_mi,s=i.m_mainPanel.g_SoccerPitch.time_sc;var h=_.startTime.split(":"),d=h.length;l=d>0?parseInt(h[0]):0,p=d>1?parseInt(h[1]):0,i.m_waitarr=[r,s,l,p];var y=Math.floor(60*+r+ +s);i.m_watiindex=0,c.text=i.getNewTimeStr(y,"d")}}}c.scaleX=c.scaleY=.1;var v=.42;TweenLite.killTweensOf(c,!0),TweenLite.to(c,v,{scaleX:1.4,scaleY:1.4}),TweenLite.to(c,.2,{scaleX:1,scaleY:1,delay:v}),egret.clearTimeout(i.m_waitTnum),i.m_waitTnum=egret.setTimeout(i.changeWaitTime,i,70)}a?(i.isTimeIndexType(e.GameMainView.type_game)&&(i.stepwaitG.visible=!0),t?(i.stepwaitG.alpha=0,TweenLite.to(i.stepwaitG,.3,{alpha:1})):(i.stepwaitG.alpha=1,TweenLite.to(i.stepwaitG,.3,{alpha:0,onComplete:i.showStepWaitMcFalse.bind(i)}))):(i.stepwaitG.visible=t,t||i.showStepWaitMcFalse())},a.prototype.playerwaitmc=function(e){var t=this,a=e,i=t.stepwaitG,n=a.name;if(a.frameLabel&&(n=a.frameLabel),"end"==n&&i.visible){var o=t.steptime;TweenLite.killTweensOf(o,!0);var r=.1;TweenLite.to(o,r,{scaleX:1.1,scaleY:1.1}),TweenLite.to(o,.15,{scaleX:0,scaleY:0,delay:r})}},a.prototype.getNewTimeStr=function(e,t){void 0===t&&(t=":");var a=Math.floor(e/60),i=Math.floor(e%60),n="";return n+=a>9?a:"0"+a.toString(),n+=t,n+=i>9?i:"0"+i.toString()},a.prototype.changeWaitTime=function(){var e=this;if(egret.clearTimeout(e.m_waitTnum),e.m_watiindex++,e.m_watiindex<=e.m_waitall){var t,a=e.m_watiindex,i=e.m_waitarr;if(i&&i.length){var n=60*i[2]+i[3],o=60*i[0]+i[1];t=Math.floor(o+a/e.m_waitall*(n-o)),e.steptime.text=e.getNewTimeStr(t,"d")}e.m_waitTnum=egret.setTimeout(e.changeWaitTime,e,40)}},a.prototype.showStepWaitMcFalse=function(){var e=this,t=ResName.mc_biao;e.stepwaitG.visible=!1;var a=utils.GameComUtil.getArmature(t,t,e);a&&utils.GameComUtil.removeAnimoSelf(a)},a.prototype.showTeamData=function(e){var t,a,i,n,o,r,s=this,l=[],p=Manifest.getIns(FightDM),c=p._fightData,u=c.teamScoreObj,m=ParamLoader.instance.TeamBuleId;if(e?(a=c.myServerVo.player,m=ParamLoader.instance.TeamBuleId):(a=c.oppServerVo.player,m=ParamLoader.instance.TeamRedId),a){var g=6,_=c.pitchEventObj;for(i=0,n=a.length;n>i;i++)o=a[i],t=new FightTeamRenderVO,t.name=o.name,t.id=o.numberTag,t.ismy=e,r=m+Math.floor(o.location),t.score=u[r]?u[r]:g,t.stars=o.star,t.level=o.level,t.card_trait=o.quality,t.match_type=0,_.getEventNum(r,match_type.type_yellowredcard)?t.match_type=match_type.type_yellowredcard:_.getEventNum(r,match_type.type_redcard)?t.match_type=match_type.type_redcard:_.getEventNum(r,match_type.type_yellowcard)&&(t.match_type=match_type.type_yellowcard),l.push(t)}var h,d=ParamLoader.instance;h=s.isMyTeam?0==d.blRedIsLeft:1==d.blRedIsLeft,h?e?s.showDataOpp(l):s.showData(l):e?s.showData(l):s.showDataOpp(l)},a.prototype.showData=function(e){var t=this,a=e;t.teamlist.itemRenderer||(t.teamlist.itemRenderer=FightTeamRender),t.teamlist.dataProvider=new eui.ArrayCollection(a)},a.prototype.showDataOpp=function(e){var t=this,a=e;t.oppteamlist.itemRenderer||(t.oppteamlist.itemRenderer=FightTeamRender),t.oppteamlist.dataProvider=new eui.ArrayCollection(a)},a.prototype.showSkipBtn=function(){var e=this,t=Manifest.getIns(FightDM),i=t._fightData;if(i)if(e.itemIndex!=a.type_game)utils.GameComUtil.setVisibleHitPanel(e.skipbtn,null,!1),utils.GameComUtil.setVisibleHitPanel(e.waitskipG,null,!1);else if(i.type==FightEnum.type_pve&&i.custom!=FightDataVO.bossstr&&i.nowid==GlobalAllProxy.getInstance().playerProxy.playerinfo.mission_id)utils.GameComUtil.setVisibleHitPanel(e.skipbtn,null,!1),utils.GameComUtil.setVisibleHitPanel(e.waitskipG,null,!1);else if(isNaN(i.m_jumptime)){utils.GameComUtil.setVisibleHitPanel(e.skipbtn,null,!0),utils.GameComUtil.setVisibleHitPanel(e.waitskipG,null,!1);var n=GlobalAllProxy.getInstance().playerProxy.playerinfo,o=n.freeTimes,r=GlobalConfig.getVipVO(n.vipLevel),s=r.skiptime+game.ComMonthCarVO.getNumExtraskiptime(),l=s-o;0>=l&&(l=0);var p=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_fightskipcar),c=l+p;0>=c&&(c=0),e.skipbtn.visible=!0,e.m_type==FightEnum.type_backplay?e.skipbtn.label=Language.ins.fight_btn_3:e.m_type==FightEnum.type_backplay_league?e.skipbtn.visible=!1:e.skipbtn.label=FormatString.format(Language.ins.fight_btn_2,c),e.skipbtn.alpha=1,GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&(e.skipbtn.alpha=0)}else utils.GameComUtil.setVisibleHitPanel(e.skipbtn,null,!1),utils.GameComUtil.setVisibleHitPanel(e.waitskipG,null,!0),e.maioTimeFun()},a.prototype.showpveupTip=function(){var e=this,t=Manifest.getIns(FightDM);if(t){var a=t._pveUpMapId;if(t.clearpveupTip(),e.m_ispve&&!isNaN(a)){var i,n;if(a){if(i=GlobalConfig.getPveMapVO(a)){var o=i.nextid;n=GlobalConfig.getPveMapVO(o)}}else{var r=GlobalConfig.copyRewardMinId;n=GlobalConfig.getPveMapVO(r)}if(n)for(var s,l,p,c,u,m=Math.round(GlobalEnum.hourtime/ParamLoader.instance.ServerRound),g=[GlobalEnum.itemid_coin,GlobalEnum.itemid_playerexp,GlobalEnum.itemid_exp],_=["gold","poolexp","cexp"],h=["vgold","pexp","cexp"],d=Language.ins.fight_tip11,y=GlobalConfig.getVipVO(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel),v=(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,0),f=g.length;f>v;v++)s=_[v],e["upicon"+v].source=ResName.getMinItemIcon(g[v]),c=y[h[v]],l=Math.ceil(parseFloat(n[s])*m*(1+c*GlobalEnum.wan_num)),i?(p=Math.ceil(parseFloat(i[s])*m*(1+c*GlobalEnum.wan_num)),u=l-p,e["uptiptxt"+v].textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.fight_tip29,l,u)),e["upnumtxt"+v].text=FormatString.format(d,p)):(e["uptiptxt"+v].textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.fight_tip29,l,l)),e["upnumtxt"+v].text=FormatString.format(d,0))}}},a.prototype.showpveupTipOver=function(){},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcTalk(t.getTipForArr(null,[GlobalEnum.tipmc_chat]))},a.prototype.showTipMcTalk=function(e){var t=this,a=e,i=t.chatbtn,n="tipmcchatbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-30,20)),t.chatG.addChild(t[n]),t[n].visible=a)},a.prototype.showEveData=function(e){void 0===e&&(e=null);var t,a=this;if(e)t=e;else{var i=Manifest.getIns(FightDM);t=i._fightData}if(t){var n,o,r=t.m_eveArr,s=(t.fragmentArr.length,t.fragmentindex,a.m_myEveObj),l=a.m_oppEveObj;if(l&&s){var p,c,u,m,g=0,_=0,h=[match_type.type_shoot,match_type.type_eveshootFree,match_type.type_eveshootPenalty];for(var d in s)s[d].num=0,s[d].lastvo=null,l[d].num=0,l[d].lastvo=null;for(n=0,o=r.length;o>n;n++)p=r[n],c=p.evetype,m=p.infotype,p.isleft?(u=s[c],u||(u={num:0,type:c},s[c]=u),u.num+=1,u.lastvo=p,-1!=h.indexOf(m)&&(g+=1)):(u=l[c],u||(u={num:0,type:c},l[c]=u),u.num+=1,u.lastvo=p,-1!=h.indexOf(m)&&(_+=1)),p.score=g+":"+_;var y,v,f=a.m_evetypearr;for(n=0,o=f.length;o>n;n++)y=f[n],u=s[y],v=a["eveIconA"+n],v.setData(u),u=l[y],v=a["eveIconB"+n],v.setData(u);a.m_eveArr=r,a.changeEveList()}}},a.prototype.showEveList=function(e,t,a,i){void 0===i&&(i=!1);var n=this;n.m_listtype=t,n.m_listismy=a,utils.GameComUtil.setVisibleHitPanel(n.evelistG,null,e,4),n.changeEveList(i)},a.prototype.changeEveList=function(e){void 0===e&&(e=!1);var t=this,a=t.m_listtype,i=t.m_listismy;if(t.evelistG.visible&&a){var n,o=t.m_eveArr,r=[];if(o)for(var s=o.length,l=s-1;l>=0;l--)n=o[l],n.evetype==a&&i==n.isleft&&r.push(n);t.showEveListData(r,e),t.evenonetip.visible=r.length?!1:!0}},a.prototype.showEveListData=function(e,t){var a=this,i=e,n=a.evedatalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=FightEveRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.evescroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.type_game=0,a.type_myteam=2,a.type_oppteam=3,a.type_info=4,a.type_data=5,a.type_skill=1,a}(e.VM);e.GameMainView=t,__reflect(t.prototype,"vm.GameMainView")}(vm||(vm={}));var GameDataPanel=function(){function e(e){var t=this;t.gameview=e}return e.prototype.show=function(e){var t=this,a=(t.gameview.dataSprG,Manifest.getIns(FightDM)),i=a._fightData;if(i){var n=i.myDataVo,o=i.oppDataVo,r=GamedataVO.getDataListArr(n,o);t.showData(r,e)}},e.prototype.showData=function(e,t){var a=this,i=e,n=a.gameview.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=FightDataRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.gameview.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},e.prototype.hitPanel=function(){var e=this;if(e.gameview){utils.GameComUtil.removeListData(e.gameview.datalist);var t=e.gameview.dataSprG;t.removeChildren()}},e}();__reflect(GameDataPanel.prototype,"GameDataPanel");var GameSummaryPanel=function(){function e(e){var t=this;t.gameview=e}return e.prototype.showSummary=function(e){void 0===e&&(e=null);var t,a=this,i=a.gameview.summaryScrG;if(e)t=e,a.timeId=0;else{var n=Manifest.getIns(FightDM);t=n._fightData}if(t){var o,r=!1,s=t.fragmentArr.length;a.timeId!=t.startTime?(a.timeId=t.startTime,r=!0,a.showFragIndex=0,a.iconArr=[],a.dataArr=[],o=0,s>0&&(c=new SummaryPlayVO(SummaryPlayVO.getGameStartObj()),a.dataArr.push(c)),i.removeChildren()):o=a.dataArr.length;var l,p,c,u,m;for(u=a.showFragIndex;s>u&&u<t.fragmentindex;u++)p=t.fragmentArr[u],SummaryPlayVO.getFragObj(t,p,a.dataArr);if(t.fragmentindex>=s&&a.showFragIndex<s){var g=t.getLastFragmentVo();if(g){var _=BallUtils.getTimeType(g.startTime,!0);c=new SummaryPlayVO(SummaryPlayVO.getGameOverObj(_)),a.dataArr.push(c)}}if(a.showFragIndex=t.fragmentindex,o!=a.dataArr.length){var h=60,d=20,y=15,v=.5*Global.stageWidth-1,f=0;for(u=o,m=a.dataArr.length;m>u;u++)c=a.dataArr[u],c.isleft?(l=new SummaryIcon,l.skinName=SummaryIconSkin,l.x=y):(l=new SummaryIcon,l.skinName=SummaryOppIconSkin,l.x=v),a.iconArr.push(l),l.setData(c);for(u=a.iconArr.length-1;u>=0;u--)l=a.iconArr[u],l.y=d+f*(h+d),f++,i.addChild(l)}}},e.prototype.hitPanel=function(){var e=this;if(e.gameview){var t=e.gameview.summaryScrG;t.removeChildren()}},e}();__reflect(GameSummaryPanel.prototype,"GameSummaryPanel");var PlayerIcon=function(e){function t(t,a,i){var n=e.call(this)||this;n._playtxtWidth=70;var o=n;o.m_islandscape=i,o.m_color=t,o.m_id=a,o.m_name="";var r=ParamLoader.instance,s=(o.getBgimg(t),o.getnameTxt());return o.addChild(o.bgimg),o.addChild(o.m_nametxt),o.m_islandscape?(s.x=0,s.y=r.gdi_player_radius+1-9):(s.x=0,s.y=10+(r.gdi_player_radius+1)+5),n}return __extends(t,e),t.prototype.setColor=function(e){this.getBgimg(e)},t.prototype.setId=function(e){var t=this;t.m_id=e;var a=this.getnameTxt();a.text=e.toString()},t.prototype.getBgimg=function(e){var t,a=this;ParamLoader.instance;return t=e==team_color.blue?"syls_13":"syls_12",a.bgimg?a.bgimg.texture=RES.getRes(t):(a.bgimg=new egret.Bitmap(RES.getRes(t)),a.m_islandscape?(a.bgimg.x=0,a.bgimg.y=-4):(a.bgimg.x=-4,a.bgimg.y=-4)),a.bgimg},t.prototype.getplaynameTxt=function(){var e=this;if(!e.m_plnametxt){var t=(ParamLoader.instance,new egret.TextField);t.fontFamily=GlobalEnum.comfont;var a=e.m_name;t.text=a,t.width=2*e._playtxtWidth,e.m_islandscape||(t.rotation=-90),t.size=16,t.bold=!0,t.textAlign=egret.HorizontalAlign.CENTER,e.m_plnametxt=t}return e.m_plnametxt},t.prototype.getnameTxt=function(){var e=this;if(!e.m_nametxt){var t=ParamLoader.instance,a=new egret.TextField,i=e.m_id%t.playerIdNum;a.text=i.toString(),a.width=28,e.m_islandscape||(a.width=28,a.rotation=-90),a.fontFamily=GlobalEnum.comfont,a.size=16,a.bold=!0,a.textAlign=egret.HorizontalAlign.CENTER,e.m_nametxt=a}return e.m_nametxt},t}(egret.Sprite);__reflect(PlayerIcon.prototype,"PlayerIcon");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","smalicon_100002"],a.resGroupName="AlertListSkin",a.wingSkinName=AlertListSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertListSkinDR=t,__reflect(t.prototype,"skins.AlertListSkinDR")}(skins||(skins={}));var Col_type;!function(e){e[e.red=0]="red",e[e.blue=1]="blue",e[e.green=2]="green",e[e.black=3]="black",e[e.pink=4]="pink",e[e.grey=5]="grey",e[e.yellow=6]="yellow",e[e.orange=7]="orange",e[e.purple=8]="purple",e[e.brown=9]="brown",e[e.white=10]="white",e[e.dark_green=11]="dark_green",e[e.light_blue=12]="light_blue",e[e.light_grey=13]="light_grey",e[e.light_pink=14]="light_pink",e[e.hollow=15]="hollow"}(Col_type||(Col_type={}));var Cgdi=function(){function e(){this.NumColors=15,this.colors=[16711680,255,65280,0,16763080,13158600,16776960,16755200,16711850,8739328,16777215,25600,65535,13158600,16770790];var e=this;e.m_BlackPen=e.colors[Col_type.black],e.m_WhitePen=e.colors[Col_type.white],e.m_RedPen=e.colors[Col_type.red],e.m_GreenPen=e.colors[Col_type.green],e.m_BluePen=e.colors[Col_type.blue],e.m_GreyPen=e.colors[Col_type.grey],e.m_PinkPen=e.colors[Col_type.pink],e.m_YellowPen=e.colors[Col_type.yellow],e.m_OrangePen=e.colors[Col_type.orange],e.m_PurplePen=e.colors[Col_type.purple],e.m_BrownPen=e.colors[Col_type.brown],e.m_DarkGreenPen=e.colors[Col_type.dark_green],e.m_LightBluePen=e.colors[Col_type.light_blue],e.m_LightGreyPen=e.colors[Col_type.light_grey],e.m_LightPinkPen=e.colors[Col_type.light_pink],e.m_ThickBlackPen=e.colors[Col_type.black],e.m_ThickWhitePen=e.colors[Col_type.white],e.m_ThickRedPen=e.colors[Col_type.red],e.m_ThickGreenPen=e.colors[Col_type.green],e.m_ThickBluePen=e.colors[Col_type.blue],e.m_GreenBrush=e.colors[Col_type.green],e.m_RedBrush=e.colors[Col_type.red],e.m_BlueBrush=e.colors[Col_type.blue],e.m_GreyBrush=e.colors[Col_type.grey],e.m_BrownBrush=e.colors[Col_type.brown],e.m_YellowBrush=e.colors[Col_type.yellow],e.m_LightBlueBrush=65535,e.m_DarkGreenBrush=e.colors[Col_type.dark_green],e.m_OrangeBrush=e.colors[Col_type.orange],e.m_hdc=null}return e.prototype.NumPenColors=function(){return this.NumColors},Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e.prototype.setSpr=function(e){this.m_spr=e},e.prototype.getSpr=function(){return this.m_spr},e.prototype.setBgSpr=function(e){this.m_bgspr=e},e.prototype.getBgSpr=function(){return this.m_bgspr},e.prototype.dispose=function(){},e.prototype.BlackPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_BlackPen,1)},e.prototype.WhitePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_WhitePen,1)},e.prototype.RedPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_RedPen,1)},e.prototype.GreenPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_GreenPen,1)},e.prototype.BluePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_BluePen,1)},e.prototype.GreyPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_GreyPen,1)},e.prototype.PinkPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_PinkPen,1)},e.prototype.YellowPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_YellowPen,1)},e.prototype.OrangePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_OrangePen,1)},e.prototype.PurplePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_PurplePen,1)},e.prototype.BrownPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_BrownPen,1)},e.prototype.DarkGreenPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_DarkGreenPen,1)},e.prototype.LightBluePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_LightBluePen,1)},e.prototype.LightGreyPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_LightGreyPen,1)},e.prototype.LightPinkPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_LightPinkPen,1)},e.prototype.ThickBlackPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_ThickBlackPen,1)},e.prototype.ThickWhitePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_ThickWhitePen,1)},e.prototype.ThickRedPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_ThickRedPen,1)},e.prototype.ThickGreenPen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_ThickGreenPen,1)},e.prototype.ThickBluePen=function(){this.m_hdc&&this.m_hdc.lineStyle(2,this.m_ThickBluePen,1)},e.prototype.BlackBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_ThickBlackPen,1)},e.prototype.WhiteBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_ThickWhitePen,1)
},e.prototype.HollowBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_ThickWhitePen,0)},e.prototype.GreenBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_GreenBrush,1)},e.prototype.RedBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_RedBrush,1)},e.prototype.BlueBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_BlueBrush,1)},e.prototype.GreyBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_GreyBrush,1)},e.prototype.BrownBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_BrownBrush,1)},e.prototype.YellowBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_YellowBrush,1)},e.prototype.LightBlueBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_LightBlueBrush,1)},e.prototype.DarkGreenBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_DarkGreenBrush,1)},e.prototype.OrangeBrush=function(){this.m_hdc&&this.m_hdc.beginFill(this.m_OrangeBrush,1)},e.prototype.StartDrawing=function(e){null==this.m_hdc&&(this.m_hdc=e),this.m_hdc.clear()},e.prototype.StopDrawing=function(e){this.m_hdc&&this.m_hdc.endFill(),this.m_hdc=null},e.prototype.HDC=function(){return this.m_hdc},e.prototype.TextAtPos=function(e,t,a){},e.prototype.TextAtPosVct=function(e,t){},e.prototype.TransparentText=function(){},e.prototype.TextColor=function(e){},e.prototype.TextColorRGB=function(e,t,a){},e.prototype.LineVct=function(e,t){this.m_hdc.moveTo(Math.floor(e.x),Math.floor(e.y)),this.m_hdc.lineTo(Math.floor(t.x),Math.floor(t.y))},e.prototype.Line=function(e,t,a,i){this.m_hdc.moveTo(Math.floor(e),Math.floor(t)),this.m_hdc.lineTo(Math.floor(a),Math.floor(i))},e.prototype.PolyLine=function(e){if(!(e.length<2)){this.m_hdc.moveTo(Math.floor(e[0].x),Math.floor(e[0].y));for(var t=1;t<e.length;++t)this.m_hdc.lineTo(Math.floor(e[t].x),Math.floor(e[t].y))}},e.prototype.Rect=function(e,t,a,i){this.m_hdc.drawRect(Math.floor(e),Math.floor(t),Math.floor(a),Math.floor(i))},e.prototype.ClosedShape=function(e){this.m_hdc.moveTo(Math.floor(e[0].x),Math.floor(e[0].y));for(var t=1;t<e.length;++t)this.m_hdc.lineTo(Math.floor(e[t].x),Math.floor(e[t].y));this.m_hdc.lineTo(Math.floor(e[0].x),Math.floor(e[0].y))},e.prototype.Circle=function(e,t,a){this.m_hdc.drawCircle(Math.floor(e),Math.floor(t),Math.floor(a))},e.prototype.CircleVct=function(e,t){this.m_hdc.drawCircle(Math.floor(e.x),Math.floor(e.y),Math.floor(t))},e}();__reflect(Cgdi.prototype,"Cgdi");var EntityFunctionTemplates=function(){function e(){}return e.EnforceNonPenetrationContraint=function(e,t){for(var a,i,n,o,r=0,s=t.length;s>r;r++)a!=e&&(i=Vector2D.mathJianOther(e.Pos(),a.Pos()),n=i.length,o=a.BRadius()+e.BRadius()-n,o>=0&&e.SetPos(Vector2D.mathPlusOther(e.Pos(),Vector2D.mathRideOther(Vector2D.mathchuOther(i,n),o))))},e}();__reflect(EntityFunctionTemplates.prototype,"EntityFunctionTemplates");var EntityManager=function(){function e(){var e=this;e.m_EntityMap={}}return Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){this.m_EntityMap={}},e.prototype.GetEntityFromID=function(e){var t=this.m_EntityMap[e];return t},e.prototype.RemoveEntity=function(e){this.m_EntityMap[e.ID()]=null},e.prototype.RegisterEntity=function(e){this.m_EntityMap[e.ID()]=e},e}();__reflect(EntityManager.prototype,"EntityManager");var FieldPlayer=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.looktime=0,i.m_plnamealpha=0,i.m_plshowTime=0,i._playtxtWidth=70;var n=i,o=a.state,r=ParamLoader.instance;return n.m_pStateMachine=new StateMachine(n),o&&(n.m_pStateMachine.SetCurrentState(o),n.m_pStateMachine.SetPreviousState(o),n.m_pStateMachine.SetGlobalState(GlobalPlayerState.instance),n.m_pStateMachine.CurrentState().Enter(n)),r.blSeparation&&n.m_pSteering.SeparationOn(),n.m_pKickLimiter=new Regulator(r.PlayerKickFrequency),n.reshtextcol(),i}return __extends(t,e),t.prototype.setLookPlayer=function(e){this.m_lookPlayer=e},t.prototype.getLookPlayer=function(){return this.m_lookPlayer},t.prototype.GetFSM=function(){return this.m_pStateMachine},t.prototype.isReadyForNextKick=function(){return this.m_pKickLimiter.isReady()},t.prototype.dispose=function(){var e=this;delete e.m_pKickLimiter,delete e.m_pStateMachine,e.m_nametxt&&utils.GameComUtil.removeSelf(e.m_nametxt),e.m_plnametxt&&utils.GameComUtil.removeSelf(e.m_plnametxt),e.m_nametxt=null,e.m_plnametxt=null,utils.GameComUtil.removeSelf(e.bgimg),e.bgimg=null,utils.GameComUtil.removeSelf(e.m_imggroup),e.m_imggroup=null,e.m_lookPlayer=null},t.prototype.overremove=function(){var e=this;utils.GameComUtil.removeSelf(e.bgimg),utils.GameComUtil.removeSelf(e.m_imggroup),e.m_nametxt&&utils.GameComUtil.removeSelf(e.m_nametxt),e.m_plnametxt&&utils.GameComUtil.removeSelf(e.m_plnametxt),MandPool.remand(e)},t.prototype.initPlayerData=function(){var e=this;e.m_pSteering.AllOff(),e.m_plshowTime=0,e.m_plnamealpha=0;var t=e.getplaynameTxt();utils.GameComUtil.removeSelf(t),e.reshtextcol()},t.prototype.reshtextcol=function(){var e=this;if(e.m_data){var t=e.getplaynameTxt();t.textColor=ColorUtil.getPlayerNameCol(e.m_data.quality);var a=ParamLoader.instance,i=e.Data().playername;t.text=i;var n=e.Data().ballId%a.playerIdNum,o=e.getnameTxt();o.text=n.toString()}},t.prototype.reshInitData=function(){},t.prototype.Update=function(){var e=this,t=ParamLoader.instance;if(e.m_pStateMachine.Update(),e.m_pSteering.Calculate(),e.m_pSteering.Force().isZero()){var a=.8;e.m_vVelocity=Vector2D.mathRideOther(e.m_vVelocity,a)}var i=e.m_pSteering.SideComponent();i=BallUtils.Clamp(i,-t.PlayerMaxTurnRate,t.PlayerMaxTurnRate),Transformations.Vec2DRotateAroundOrigin(e.m_vHeading,i),e.m_vVelocity=Vector2D.mathRideOther(e.m_vHeading,e.m_vVelocity.length),e.m_vSide.copyOther(e.m_vHeading.Perp());var n=Vector2D.mathchuOther(Vector2D.mathRideOther(e.m_vHeading,e.m_pSteering.ForwardComponent()),e.m_dMass);e.m_vVelocity.mathPlusSelf(n),e.m_vVelocity.Truncate(e.m_dMaxSpeed),e.m_vPosition.mathPlusSelf(e.m_vVelocity),t.bNonPenetrationConstraint&&EntityFunctionTemplates.EnforceNonPenetrationContraint(e,PlayerBase.GetAllMembers())},t.prototype.showNameTxt=function(){this.m_plshowTime=30},t.prototype.HandleMessage=function(e){return this.m_pStateMachine.HandleMessage(e)},t.prototype.Render=function(e){var t=this,a=Cgdi.instance,i=ParamLoader.instance,n=t.getnameTxt(),o=t.getplaynameTxt(),r=.1*i.FrameTimes;t.m_plshowTime?t.m_plnamealpha+=r:t.m_plnamealpha-=r,t.m_plnamealpha<0&&(t.m_plnamealpha=0),t.m_plnamealpha>1&&(t.m_plshowTime--,t.m_plnamealpha=1);var s=i.gdi_player_radius;if(i.blImgRender){t.m_plnamealpha?(o.alpha=t.m_plnamealpha,i.islandscape?(o.x=t.Pos().x-t._playtxtWidth,o.y=t.Pos().y+9):(o.x=t.Pos().x-s+19,o.y=t.Pos().y+t._playtxtWidth),e||a.getSpr().addChild(o)):o.parent&&o.parent.removeChild(o);var l="";t.bgimg||(l=t.Team().Color()==team_color.blue?"syls_13":"syls_12",t.bgimg=new egret.Bitmap(RES.getRes(l)),i.islandscape?(t.bgimg.x=-4,t.bgimg.y=-4):(t.bgimg.x=-4,t.bgimg.y=-4));var p=s+1;t.m_imggroup||(t.m_imggroup=new eui.Group);var c=t.m_imggroup;if(t==t.Team().ControllingPlayer()?a.getSpr().addChild(c):c.parent||a.getSpr().addChildAt(c,1),c.x=t.Pos().x-p,c.y=t.Pos().y-p,i.islandscape?(n.x=6,n.y=s-8):(n.x=2,n.y=16+s),e){c.addChild(t.bgimg),n.parent&&n.parent.removeChild(n),o.parent&&o.parent.removeChild(o);var u=34;t.bgimg.width!=u&&(t.bgimg.width=u,t.bgimg.height=u)}else{var u=28;t.bgimg.width!=u&&(t.bgimg.width=u,t.bgimg.height=u),t.bgimg.parent||(c.addChild(t.bgimg),c.addChild(n))}var m=t.m_skillspr;return void(m&&m.visible&&(m.rotation=-90,m.x=c.x,m.y=c.y+9,a.getSpr().addChild(m)))}a.TransparentText(),a.TextColor(Col_type.grey),t.Team().Color()==team_color.blue?(a.BluePen(),a.BlueBrush()):(a.RedPen(),a.RedBrush()),i.islandscape?(n.x=t.Pos().x-s-1,n.y=t.Pos().y-9):(n.x=t.Pos().x-s+1,n.y=t.Pos().y+9),a.getSpr().addChild(n),i.bHighlightIfThreatened&&t.Team().ControllingPlayer()==t&&t.isThreatened()&&a.YellowBrush(),i.blSeverFight&&!isNaN(t.Data().pitchAction)&&i.blLeadObvious?a.CircleVct(t.Pos(),s+3):a.CircleVct(t.Pos(),s),i.bStates&&(a.TextColorRGB(0,170,0),a.TextAtPos(t.m_vPosition.x,t.m_vPosition.y-20,t.m_pStateMachine.GetNameOfCurrentState())),i.bIDs&&(a.TextColorRGB(0,170,0),a.TextAtPos(t.Pos().x-20,t.Pos().y-20,t.ID().toString())),i.bViewTargets&&(a.RedBrush(),a.CircleVct(t.Steering().Target(),3),a.TextAtPosVct(t.Steering().Target(),t.ID().toString()))},t.prototype.getplaynameTxt=function(){var e=this;if(!e.m_plnametxt){var t=ParamLoader.instance,a=new egret.TextField;a.fontFamily=GlobalEnum.comfont,a.width=2*e._playtxtWidth,t.islandscape||(a.rotation=-90),a.size=16,a.bold=!0,a.textAlign=egret.HorizontalAlign.CENTER,e.m_plnametxt=a}return e.m_plnametxt},t.prototype.getnameTxt=function(){var e=this;if(!e.m_nametxt){var t=ParamLoader.instance,a=new egret.TextField;a.width=2*t.gdi_player_radius,t.islandscape||(a.width=2*t.gdi_player_radius+10,a.rotation=-90),a.fontFamily=GlobalEnum.comfont,a.size=16,a.bold=!0,a.textAlign=egret.HorizontalAlign.CENTER,e.m_nametxt=a}return e.m_nametxt},t.prototype.getskillSpr=function(){var e,t,a=this;return e=a.m_skillspr,e||(e=new egret.Sprite,t=new eui.Image,t.source="skill_icon_1210001",t.x=-45,t.y=-100,e.addChild(t),a.m_skillimg=t,a.m_skillspr=e,e.visible=!0),e},t.prototype.playerSkillMc=function(e,t){var a=this,i=a.getskillSpr(),n=GlobalConfig.getSkillVO(e);a.m_skillimg.source=GlobalEnum.getSkillIconName(n.icon),i.visible=!0,i.alpha=0,i.scaleX=0,i.scaleY=0,TweenLite.killTweensOf(i),TweenLite.to(i,.2,{alpha:1,scaleX:.6,scaleY:.6,ease:Back.easeOut}),TweenLite.to(i,.2,{alpha:0,delay:1,scaleX:0,scaleY:0,ease:Back.easeIn,onComplete:a.hitskillMc.bind(a),onCompleteParams:[t]})},t.prototype.hitskillMc=function(e){var t=this,a=t.getskillSpr();if(e){var i=Manifest.getIns(vm.GameMainView);i&&i.isOpend()&&i.showSummaryMc(e,a)}a.visible=!1,utils.GameComUtil.removeSelf(a)},t}(PlayerBase);__reflect(FieldPlayer.prototype,"FieldPlayer");var Goal=function(){function e(e,t,a){this.m_vLeftPost=new Vector2D(0,0),this.m_vRightPost=new Vector2D(0,0),this.m_vDownLeftPost=new Vector2D(0,0),this.m_vDownRightPost=new Vector2D(0,0),this.m_vFacing=new Vector2D(0,0),this.m_vCenter=new Vector2D(0,0),this.m_iNumGoalsScored=0,this.SetChangeData(e,t,a)}return e.prototype.SetChangeData=function(e,t,a){var i=this;i.m_vLeftPost.copyOther(e),i.m_vRightPost.copyOther(t);var n=ParamLoader.instance.GetLvNUM(ParamLoader.instance.GoalHLv),o=a.x*n;i.m_vDownLeftPost.x=e.x-o,i.m_vDownLeftPost.y=e.y,i.m_vDownRightPost.x=t.x-o,i.m_vDownRightPost.y=t.y,i.m_vCenter=Vector2D.mathchuOther(Vector2D.mathPlusOther(e,t),2),i.m_iNumGoalsScored=0,i.m_vFacing.copyOther(a)},e.prototype.Center=function(){return this.m_vCenter},e.prototype.Facing=function(){return this.m_vFacing},e.prototype.LeftPost=function(){return this.m_vLeftPost},e.prototype.RightPost=function(){return this.m_vRightPost},e.prototype.NumGoalsScored=function(){return this.m_iNumGoalsScored},e.prototype.ResetGoalsScored=function(){this.m_iNumGoalsScored=0},e.prototype.Scored=function(e){var t=this,a=e.Pos(),i=e.OldPos(),n=t.m_vLeftPost,o=t.m_vRightPost;if(geometry.LineIntersection2D(a,i,n,o))return++t.m_iNumGoalsScored,!0;if(a.x==i.x&&a.y==i.y){if(t.m_vFacing.x>0&&a.x<n.x)return++t.m_iNumGoalsScored,!0;if(t.m_vFacing.x<0&&a.x>n.x)return++t.m_iNumGoalsScored,!0}return!1},e.prototype.dispose=function(){},e}();__reflect(Goal.prototype,"Goal");var GoalKeeper=function(e){function t(t,a){var i=e.call(this,t,a)||this;i.m_vLookAt=new Vector2D(0,0),i.m_plnamealpha=0,i.m_plshowTime=0,i._playtxtWidth=100;var n=i,o=a.state;return n.m_pStateMachine=new StateMachine(n),n.m_pStateMachine.SetCurrentState(o),n.m_pStateMachine.SetPreviousState(o),n.m_pStateMachine.SetGlobalState(GlobalKeeperState.instance),n.m_pStateMachine.CurrentState().Enter(n),n.reshtextcol(),i}return __extends(t,e),t.prototype.setLookPlayer=function(e){this.m_lookPlayer=e},t.prototype.getLookPlayer=function(){return this.m_lookPlayer},t.prototype.GetFSM=function(){return this.m_pStateMachine},t.prototype.LookAt=function(){return this.m_vLookAt},t.prototype.SetLookAt=function(e){this.m_vLookAt.copyOther(e)},t.prototype.initPlayerData=function(){var e=this;e.m_pSteering.AllOff(),e.m_plshowTime=0,e.m_plnamealpha=0;var t=e.getplaynameTxt();utils.GameComUtil.removeSelf(t),e.reshtextcol()},t.prototype.dispose=function(){var e=this;delete e.m_pStateMachine,e.m_lookPlayer=null,e.m_nametxt&&utils.GameComUtil.removeSelf(e.m_nametxt),e.m_plnametxt&&utils.GameComUtil.removeSelf(e.m_plnametxt),e.m_nametxt=null,e.m_plnametxt=null,e.bgimg&&e.bgimg.parent&&e.bgimg.parent.removeChild(e.bgimg),e.bgimg=null,e.m_imggroup&&e.m_imggroup.parent&&e.m_imggroup.parent.removeChild(e.m_imggroup),e.m_imggroup=null,e.m_lookPlayer=null},t.prototype.overremove=function(){var e=this;utils.GameComUtil.removeSelf(e.bgimg),utils.GameComUtil.removeSelf(e.m_imggroup),e.m_nametxt&&utils.GameComUtil.removeSelf(e.m_nametxt),e.m_plnametxt&&utils.GameComUtil.removeSelf(e.m_plnametxt)},t.prototype.reshInitData=function(){},t.prototype.reshtextcol=function(){var e=this;if(e.m_data){var t=e.getplaynameTxt();t.textColor=ColorUtil.getPlayerNameCol(e.m_data.quality);var a=ParamLoader.instance,i=e.Data().playername;t.text=i;var n=e.Data().ballId%a.playerIdNum,o=e.getnameTxt();o.text=n.toString()}},t.prototype.Update=function(){var e=this;e.m_pStateMachine.Update();var t=e.m_pSteering.Calculate().clone(),a=ParamLoader.instance,i=Vector2D.mathchuOther(t,e.m_dMass);e.m_vVelocity.mathPlusSelf(i),e.m_vVelocity.Truncate(e.m_dMaxSpeed),e.m_vPosition.mathPlusSelf(e.m_vVelocity);var n=e.Team().HomeGoal(),o=n.Facing(),r=n.LeftPost().x;o.x>0?e.m_vPosition.x<r&&(e.m_vPosition.x=r):e.m_vPosition.x>r&&(e.m_vPosition.x=r),a.bNonPenetrationConstraint&&EntityFunctionTemplates.EnforceNonPenetrationContraint(e,PlayerBase.GetAllMembers()),e.m_vVelocity.isZero()||(e.m_vHeading=Vector2D.Vec2DNormalize(e.m_vVelocity),e.m_vSide.copyOther(e.m_vHeading.Perp())),e.Pitch().GoalKeeperHasBall()||(e.m_vLookAt=Vector2D.Vec2DNormalize(Vector2D.mathJianOther(e.Ball().Pos(),e.Pos())))},t.prototype.BallWithinRangeForIntercept=function(){var e=this,t=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(e.Team().HomeGoal().Center(),e.Ball().Pos())<=t.GoalKeeperInterceptRangeSq},t.prototype.TooFarFromGoalMouth=function(){var e=ParamLoader.instance;return Vector2D.Vec2DDistanceSq(this.Pos(),this.GetRearInterposeTarget())>e.GoalKeeperInterceptRangeSq},t.prototype.GetRearInterposeTarget=function(){var e=this,t=e.Team().HomeGoal().Center().x,a=ParamLoader.instance,i=e.Pitch().PlayingArea().Center().y-.5*a.GoalWidth+e.Ball().Pos().y*a.GoalWidth/e.Pitch().PlayingArea().Height();return new Vector2D(t,i)},t.prototype.showNameTxt=function(e){void 0===e&&(e=!0),e?this.m_plshowTime=30:this.m_plshowTime=0},t.prototype.HandleMessage=function(e){return this.m_pStateMachine.HandleMessage(e)},t.prototype.Render=function(e){var t=this,a=Cgdi.instance,i=ParamLoader.instance,n=t.getnameTxt(),o=t.getplaynameTxt(),r=.1*i.FrameTimes;t.m_plshowTime?t.m_plnamealpha+=r:t.m_plnamealpha-=r,t.m_plnamealpha<0&&(t.m_plnamealpha=0),t.m_plnamealpha>1&&(t.m_plshowTime--,t.m_plnamealpha=1);var s=i.gdi_player_radius;if(i.blImgRender){t.m_plnamealpha?(o.alpha=t.m_plnamealpha,i.islandscape?(o.x=t.Pos().x-t._playtxtWidth,o.y=t.Pos().y+9):(o.x=t.Pos().x-s+19,o.y=t.Pos().y+t._playtxtWidth),e||a.getSpr().addChild(o)):o.parent&&o.parent.removeChild(o);var l="";t.bgimg||(l=t.Team().Color()==team_color.blue?"syls_50":"syls_51",t.bgimg=new egret.Bitmap(RES.getRes(l)),i.islandscape?(t.bgimg.x=-4,t.bgimg.y=-4):(t.bgimg.x=-4,t.bgimg.y=-4));var p=s+1;t.m_imggroup||(t.m_imggroup=new eui.Group);var c=t.m_imggroup;if(t==t.Team().ControllingPlayer()?a.getSpr().addChild(c):c.parent||a.getSpr().addChildAt(c,1),c.x=t.Pos().x-p,c.y=t.Pos().y-p,i.islandscape?(n.x=6,n.y=s-8):(n.x=2,n.y=16+s),e){c.addChild(t.bgimg),n.parent&&n.parent.removeChild(n),o.parent&&o.parent.removeChild(o);var u=34;t.bgimg.width!=u&&(t.bgimg.width=u,t.bgimg.height=u)}else{var u=28;t.bgimg.width!=u&&(t.bgimg.width=u,t.bgimg.height=u),t.bgimg.parent||(c.addChild(t.bgimg),c.addChild(n))}var m=t.m_skillspr;return void(m&&m.visible&&(m.rotation=-90,m.x=c.x,m.y=c.y+9,a.getSpr().addChild(m)))}t.Team().Color()==team_color.blue?(a.BluePen(),a.BlueBrush()):(a.RedPen(),a.RedBrush()),i.islandscape?(n.x=t.Pos().x-s-1,n.y=t.Pos().y-9):(n.x=t.Pos().x-s+1,n.y=t.Pos().y+9),a.getSpr().addChild(n),a.CircleVct(t.Pos(),s),i.bIDs&&(a.TextColorRGB(0,170,0),a.TextAtPos(t.Pos().x-20,t.Pos().y-20,t.ID().toString())),i.bStates&&(a.TextColorRGB(0,170,0),a.TransparentText(),a.TextAtPos(t.m_vPosition.x,t.m_vPosition.y-20,t.m_pStateMachine.GetNameOfCurrentState().toString()))},t.prototype.getplaynameTxt=function(){var e=this;if(!e.m_plnametxt){var t=ParamLoader.instance;Cgdi.instance;e.m_plnametxt=new egret.TextField,e.m_plnametxt.fontFamily=GlobalEnum.comfont;var a=e.Data().playername;e.m_plnametxt.text=a,e.m_plnametxt.width=2*e._playtxtWidth,t.islandscape||(e.m_plnametxt.rotation=-90),e.m_plnametxt.size=16,e.m_plnametxt.bold=!0,e.m_plnametxt.textAlign=egret.HorizontalAlign.CENTER}return e.m_plnametxt},t.prototype.getnameTxt=function(){var e=this;if(!e.m_nametxt){var t=ParamLoader.instance;e.m_nametxt=new egret.TextField;var a=e.Data().ballId%t.playerIdNum;e.m_nametxt.text=a.toString(),e.m_nametxt.width=2*t.gdi_player_radius,t.islandscape||(e.m_nametxt.width=2*t.gdi_player_radius+10,e.m_nametxt.rotation=-90),e.m_nametxt.fontFamily=GlobalEnum.comfont,e.m_nametxt.size=16,e.m_nametxt.bold=!0,e.m_nametxt.textAlign=egret.HorizontalAlign.CENTER}return e.m_nametxt},t.prototype.getskillSpr=function(){var e,t,a=this;return e=a.m_skillspr,e||(e=new egret.Sprite,t=new eui.Image,t.source="skill_icon_1210001",t.x=-45,t.y=-100,e.addChild(t),a.m_skillimg=t,a.m_skillspr=e,e.visible=!0),e},t.prototype.playerSkillMc=function(e,t){var a=this,i=a.getskillSpr(),n=GlobalConfig.getSkillVO(e);a.m_skillimg.source=GlobalEnum.getSkillIconName(n.icon),i.visible=!0,i.alpha=0,i.scaleX=0,i.scaleY=0,TweenLite.killTweensOf(i),TweenLite.to(i,.2,{alpha:1,scaleX:.6,scaleY:.6,ease:Back.easeOut}),TweenLite.to(i,.2,{alpha:0,delay:1,scaleX:0,scaleY:0,ease:Back.easeIn,onComplete:a.hitskillMc.bind(a),onCompleteParams:[t]})},t.prototype.hitskillMc=function(e){var t=this,a=t.getskillSpr();if(e){var i=Manifest.getIns(vm.GameMainView);if(i&&i.isOpend()){var a=t.getskillSpr();i.showSummaryMc(e,a)}}a.visible=!1,utils.GameComUtil.removeSelf(a)},t}(PlayerBase);__reflect(GoalKeeper.prototype,"GoalKeeper");var MessageDispatcher=function(){function e(){this.PriorityQ=[]}return Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e.prototype.Discharge=function(e,t){!e.HandleMessage(t)},e.prototype.DispatchMsg=function(e,t,a,i,n){void 0===n&&(n=null);var o=this,r=EntityManager.instance,s=r.GetEntityFromID(a);if(null!=s){var l=new Telegram(0,t,a,i,n);if(0>=e)o.Discharge(s,l);else{var p=TickCounter.instance.GetCurrentFrame();l.DispatchTime=p+e,o.PriorityQ.push(l)}}},e.prototype.DispatchDelayedMessages=function(){for(var e,t,a,i=this,n=TickCounter.instance.GetCurrentFrame(),o=i.PriorityQ,r=o.length;r>=0;r--)e=o[r],e.DispatchTime>0&&e.DispatchTime<n&&(t=EntityManager.instance,a=t.GetEntityFromID(e.Receiver),i.Discharge(a,e),o.splice(r,1))},e.SEND_MSG_IMMEDIATELY=0,e.NO_ADDITIONAL_INFO=0,e.SENDER_ID_IRRELEVANT=-1,e}();__reflect(MessageDispatcher.prototype,"MessageDispatcher");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2"],a.resGroupName="AlertNoteSkin",a.wingSkinName=AlertNoteSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertNoteSkinDR=t,__reflect(t.prototype,"skins.AlertNoteSkinDR")}(skins||(skins={}));var ParamLoader=function(){function e(){this.m_ischange=!1,this.uniqueServerTime=0,this.NumSupportSpotsX=13,this.NumSupportSpotsY=6,this.Spot_PassSafeScore=2,this.Spot_CanScoreFromPositionScore=1,this.Spot_DistFromControllingPlayerScore=2,this.Spot_ClosenessToSupportingPlayerScore=0,this.Spot_AheadOfAttackerScore=0,this.SupportSpotUpdateFreq=1,this.ChancePlayerAttemptsPotShot=.005,this.ChanceOfUsingArriveTypeReceiveBehavior=.5,this.BallSize=7,this.BallMass=1,this.Friction=-.03,this.AirFriction=-.01,this.BallZ_Length=150,this.BallZ_Kick=20,this.BallZ_A=.02,this.BallZ_ScaleLen=30,this.NumAttemptsToFindValidStrike=5,this.MaxDribbleForce=1.6,this.MaxShootingForce=10,this.MaxPassingForce=5,this.KeeperInBallRange=10,this.PlayerInTargetRange=1,this.PlayerKickingDistance=8,this.PlayerKickFrequency=8,this.PlayerMass=3,this.PlayerMaxForce=1,this.PlayerMaxSpeedWithBall=.8,this.PlayerMaxSpeedWithoutBall=1,this.PlayerMaxSpeedWithActionBall=1.6,this.PlayerMaxTurnRate=1,this.PlayerScale=1,this.PlayerComfortZone=60,this.PlayerVeryZone=25,this.PlayerKickingAccuracy=.99,this.WithinRangeOfHome=15,this.WithinRangeOfSupportSpot=15,this.MinPassDist=120,this.GoalkeeperMinPassDist=50,this.GoalKeeperTendingDistance=20,this.GoalKeeperSpeTendingDistance=4,this.GoalKeeperInterceptRange=50,this.BallWithinReceivingRange=20,this.bStates=0,this.bIDs=0,this.bSupportSpots=0,this.bRegions=0,this.bShowControllingTeam=0,this.bViewTargets=0,this.bHighlightIfThreatened=0,this.FrameRate=60,this.FrameTimes=1,this.SeparationCoefficient=10,this.ViewDistance=30,this.bNonPenetrationConstraint=0,this.nearGoalFarFrom=80,this.islandscape=0,this.pitchWidth=800,this.pitchHLv=.648,this.pitchMarginWidthLv=.063,this.pitchMarginHeightLv=.0325,this.GoalLv=.0697,this.GoalHLv=.0251,this.GoalZhuW=4,this.GoadFrontHLv=.174,this.GoadFrontWLv=.0524,this.GoadFrontBHLv=.384,this.GoadFrontBWLv=.157,this.pitchCircleRLv=.0871,this.speWigthBall=10,this.blSeparation=0,this.blSeverFight=1,this.blPlayMoveToBall=1,this.blPlayLookPlay=1,this.blBuleFirst=1,this.blLeadObvious=0,this.blImgRender=1,this.blHeadDBall=0,this.blRedIsLeft=1,this.blFightINSever=1,this.blDataInConfig=1,this.reTimeBallPos=300,this.reTimeLookPlay=300,this.tPitchTotal=180,this.tPitchaAdd=60,this.tPitchPenalty=3,this.gdi_player_radius=9,this.player_can_R=1e4,this.NumRegionsHorizontal=12,this.NumRegionsVertical=5,this.playerIdNum=100,this.TeamBuleId=100,this.TeamRedId=200,this.BallId=300,this.sholdNum=10,this.TeamSize=11,this.LookPlaySpacing=20,this.LookPlaySpacingRandom=10,this.BluePlayS=[2,11,13,15,23,31,35,33,42,44,53],this.RedPlayS=[2,11,13,15,23,31,35,33,42,44,53],this.BlueNameS=["@王大雷","@任航","@姜至鹏","@吉翔","@梅方","@郑智","@吴曦","@刘建业","@于海","@郜林","@杨旭"],this.RedNameS=["Casillas","Albiol","Ramos","Arbeloa","Capdevila","Iniesta","Senna","Senna","Madineisi","Navas","Negredo"],this.InitBlueRegions=[2,18,16,14,12,10,9,8,7,6,5],this.InitRedRegions=[27,8,6,13,12,19,17,15,23,22,21],this.AttackBlueRegions=[2,26,24,22,20,18,17,16,13,12,11],this.AttackRedRegions=[27,8,6,14,12,10,19,18,17,16,15],this.DefendBlueRegions=[2,14,12,10,9,8,7,6,5,3,1],this.DefendRedRegions=[27,13,12,19,17,15,23,22,21,28,26],this.posInitArr=[[0,3,3],[1,1,10],[2,6,15],[3,21,30],[4,31,40],[5,36,45]],this.ScoutMastNum=10,this.AutoJump=0,this.TacticsAutoChoose=0,this.RefreshPoolVIP=0,this.changeSum()}return Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e.prototype.changeSum=function(){var e=this;e.BallWithinReceivingRangeSq=e.BallWithinReceivingRange*e.BallWithinReceivingRange,e.KeeperInBallRangeSq=e.KeeperInBallRange*e.KeeperInBallRange,e.PlayerInTargetRangeSq=e.PlayerInTargetRange*e.PlayerInTargetRange,e.PlayerKickingDistance+=e.BallSize,e.PlayerKickingDistanceSq=e.PlayerKickingDistance*e.PlayerKickingDistance,e.PlayerComfortZoneSq=e.PlayerComfortZone*e.PlayerComfortZone,e.PlayerVeryZoneSq=e.PlayerVeryZone*e.PlayerVeryZone,e.GoalKeeperInterceptRangeSq=e.GoalKeeperInterceptRange*e.GoalKeeperInterceptRange,e.WithinRangeOfSupportSpotSq=e.WithinRangeOfSupportSpot*e.WithinRangeOfSupportSpot,e.FrameTimes=Math.floor(60/e.FrameRate);var t=player_type;e.LookArr=[t.backwaist,t.midfield],e.BeLookArr=[t.midfield,t.frontwaist,t.forward]},e.prototype.changeFrame=function(){var e=this,t=e.FrameTimes;e.m_ischange||1==t||(e.m_ischange=!0,e.Friction*=t*t,e.AirFriction*=t,e.BallZ_A*=t,e.PlayerMaxForce*=t,e.PlayerMaxSpeedWithBall*=t,e.PlayerMaxSpeedWithoutBall*=t,e.MaxDribbleForce*=t,e.MaxShootingForce*=t,e.MaxPassingForce*=t,e.PlayerMaxTurnRate=.2,e.changeSum())},e.prototype.GetLvNUM=function(e){var t=this.pitchWidth;return Math.floor(e*t)},e}();__reflect(ParamLoader.prototype,"ParamLoader");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["tab_yys_c9","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","tab_yys_c3","tab_yys_c5","tab_ryzl1_c2"],a.resGroupName="AlertRewardSkin",a.wingSkinName=AlertRewardSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertRewardSkinDR=t,__reflect(t.prototype,"skins.AlertRewardSkinDR")}(skins||(skins={}));var Regulator=function(){function e(e){this.m_dUpdatePeriod=0;var t=this;t.m_dwNextUpdateTime=Math.floor(egret.getTimer()+100*BallUtils.RandFloat()),e>0?t.m_dUpdatePeriod=1e3/e:BallUtils.isEqual(0,e)?t.m_dUpdatePeriod=0:0>e&&(t.m_dUpdatePeriod=-1)}return e.prototype.isReady=function(){var t=this;if(BallUtils.isEqual(0,t.m_dUpdatePeriod))return!0;if(t.m_dUpdatePeriod<0)return!1;var a=egret.getTimer();return a>=t.m_dwNextUpdateTime?(t.m_dwNextUpdateTime=Math.floor(a+t.m_dUpdatePeriod+BallUtils.RandInRange(-e.UpdatePeriodVariator,e.UpdatePeriodVariator)),!0):!1},e.UpdatePeriodVariator=10,e}();__reflect(Regulator.prototype,"Regulator");var SoccerBall=function(e){function t(t,a,i,n,o,r){var s=e.call(this,ParamLoader.instance.BallId,a,i,new Vector2D(0,0),-1,new Vector2D(0,1),n,new Vector2D(1,1),0,0)||this;return s.m_vOldPos=new Vector2D(0,0),s.m_posZ=0,s.m_zg=0,s.m_zvel=0,s.m_initzvel=0,s.m_isZfirst=!1,s.m_steerVct=new Vector2D(0,0),s.m_PitchBoundary=[],s.m_GoalWalls=[],s.m_failaddvalue=0/0,s.m_PitchBoundary=o,s.m_GoalWalls=r,s.m_pPitch=t,s}return __extends(t,e),t.prototype.addvalue=function(){this.m_failaddvalue},t.prototype.Pitch=function(){return this.m_pPitch},t.prototype.HandleMessage=function(e){return!1},t.prototype.Trap=function(){this.m_vVelocity.zero()},t.prototype.OldPos=function(){return this.m_vOldPos},t.AddNoiseToKick=function(e,t){var a=ParamLoader.instance,i=(Math.PI-Math.PI*a.PlayerKickingAccuracy)*BallUtils.RandomClamped(),n=Vector2D.mathJianOther(t,e);return Transformations.Vec2DRotateAroundOrigin(n,i),Vector2D.mathPlusOther(n,e)},t.prototype.isZCanKick=function(){var e=!0,t=this;return t.m_zg&&t.m_posZ>ParamLoader.instance.BallZ_Kick&&(e=!1),e},t.prototype.Kick=function(e,t,a,i){void 0===a&&(a=!1),void 0===i&&(i=0/0);var n=this,o=ParamLoader.instance,r=1;(Math.abs(e.x)>2||Math.abs(e.y)>2)&&(r=e.length),n.m_failaddvalue=i,e.normalize();var s=Vector2D.mathchuOther(Vector2D.mathRideOther(e,t),n.m_dMass);n.m_vVelocity.copyOther(s);var l=(Math.random(),Math.abs(n.m_vVelocity.lengthSQ));if(n.m_isZfirst=!0,r>=o.BallZ_Length||a){var p=l/15;if(p>.8&&(p=.8),a&&p>.6&&(p=.6),n.m_zvel=.2+p,n.m_zg=ParamLoader.instance.BallZ_A,r>2){var c=r,u=n.TimeToCoverLength(c,t),m=.5*u*n.m_zg;n.m_zvel=m,a&&(n.isTooHigh()?n.m_zvel=50*n.m_zg:(n.m_zg=0,n.m_zvel=0))}}else n.m_zvel=0,n.m_zg=0,n.m_steerA=0,n.m_steerU=0;n.m_initzvel=n.m_zvel,n.m_posZ=0},t.prototype.isHight=function(){var e=this;return e.m_initzvel?!0:!1},t.prototype.Update=function(){var e=this,t=ParamLoader.instance;if(e.m_vOldPos.copyOther(e.m_vPosition),e.TestCollisionWithWalls(e.m_PitchBoundary),e.TestCollisionWithWalls(e.m_GoalWalls,!0),e.m_posZ>=0&&e.m_zg?(e.m_zvel-=e.m_zg,e.m_posZ+=e.m_zvel):e.m_isZfirst&&e.m_initzvel?(e.m_posZ=0,e.m_zvel=.7*e.m_initzvel,e.m_isZfirst=!1,e.m_vVelocity.mathRideSelf(.2),e.m_steerU*=.2):(e.m_zg=0,e.m_posZ=0,e.m_steerA=0,e.m_steerU=0),e.m_steerA){e.m_steerU-=e.m_steerA;var a=Vector2D.mathRideOther(e.m_steerVct,e.m_steerU);e.m_vPosition.mathPlusSelf(a)}var i=t.Friction;e.isHight()&&(i=t.AirFriction),e.m_vVelocity.lengthSQ>i*i&&(e.m_vVelocity.mathPlusSelf(Vector2D.mathRideOther(Vector2D.Vec2DNormalize(e.m_vVelocity),i)),e.m_vPosition.mathPlusSelf(e.m_vVelocity),e.m_vHeading=Vector2D.Vec2DNormalize(e.m_vVelocity))},t.prototype.TimeToCoverDistance=function(e,t,a){var i=a/this.m_dMass,n=ParamLoader.instance,o=Vector2D.Vec2DDistance(e,t),r=n.Friction;o>=n.BallZ_Length&&(r=n.AirFriction);var s=i*i+2*o*r;if(0>=s)return-1;var l=Math.sqrt(s);return(l-i)/r},t.prototype.TimeToCoverLength=function(e,t){var a=t/this.m_dMass,i=ParamLoader.instance,n=e,o=i.Friction;n>=i.BallZ_Length&&(o=i.AirFriction);var r=a*a+2*n*o;if(0>=r)return-1;var s=Math.sqrt(r);return(s-a)/o},t.prototype.getForceToLenght=function(e,t){var a=ParamLoader.instance,i=this,n=e+BallUtils.RandInt(50,150),o=a.Friction;n>=a.BallZ_Length&&(o=a.AirFriction);var r=Math.sqrt(e/(-.5*o)),s=(n-.5*o*r*r)/r,l=s*i.m_dMass,p=l;return t>l&&(p=.5*(l+t)),p},t.prototype.FuturePosition=function(e){var t=this,a=ParamLoader.instance,i=Vector2D.mathRideOther(t.m_vVelocity,e),n=a.Friction;t.isHight()&&(n=a.AirFriction);var o=.5*n*e*e,r=Vector2D.mathRideOther(Vector2D.Vec2DNormalize(t.m_vVelocity),o);return Vector2D.mathPlusOther(t.Pos(),Vector2D.mathPlusOther(i,r))},t.prototype.Render=function(e){var t=this,a=Cgdi.instance,i=ParamLoader.instance,n=0,o=t.m_posZ;0>o&&(o=0),n=o/i.BallZ_ScaleLen,n>1.6&&(n=1.6);var r=(i.BallZ_ScaleLen-o)/(i.BallZ_ScaleLen+20);.1>r&&(r=.1);var s=30*n,l=Vector2D.mathPlusOther(t.m_vPosition,new Vector2D(s,s));if(i.blImgRender){if(!t.bgimg){var p="syls_14";t.bgimg=new egret.Bitmap(RES.getRes(p))}if(!t.bgyingimg){var c="ballying_img";t.bgyingimg=new egret.Bitmap(RES.getRes(c))}a.getSpr().addChild(t.bgyingimg),a.getSpr().addChild(t.bgimg);var u=2*(t.m_dBoundingRadius+1)*(1+n);t.bgimg.x=t.m_vPosition.x-.5*u,t.bgimg.y=t.m_vPosition.y-.5*u,t.bgimg.width=u,t.bgimg.height=u;var m=1;return t.bgyingimg.x=l.x-.5*u+m,t.bgyingimg.y=l.y-.5*u+m,t.bgyingimg.width=u+m,t.bgyingimg.height=u+m,void(t.bgyingimg.alpha=r)}a.HDC().lineStyle(0,0,0),a.HDC().beginFill(0,r),a.CircleVct(l,this.m_dBoundingRadius*(1+n)),a.WhitePen(),a.WhiteBrush(),a.CircleVct(this.m_vPosition,this.m_dBoundingRadius*(1+n))},t.prototype.isTooHigh=function(){var e=this.m_failaddvalue==shoot_failtype.type_toohigh;return e},t.prototype.isFailType=function(e){var t=this.m_failaddvalue==e;return t},t.prototype.TestCollisionWithWalls=function(e,t){void 0===t&&(t=!1);for(var a,i,n,o,r,s,l,p=this,c=-1,u=Vector2D.Vec2DNormalize(p.m_vVelocity),m=new Vector2D(0,0),g=new Vector2D(0,0),_=BallUtils.MaxFloat,h=!1,d=0,y=e.length;y>d;++d)r=e[d],s=r.From(),l=r.Normal(),a=Vector2D.mathJianOther(p.Pos(),Vector2D.mathRideOther(l,p.BRadius())),geometry.WhereIsPoint(a,s,l)==span_type.plane_backside?(i=geometry.DistanceToRayPlaneIntersection(a,l,s,l),m=Vector2D.mathPlusOther(a,Vector2D.mathRideOther(l,i))):(i=geometry.DistanceToRayPlaneIntersection(a,u,s,l),m=Vector2D.mathPlusOther(a,Vector2D.mathRideOther(u,i))),n=!1,geometry.LineIntersection2D(s,r.To(),Vector2D.mathJianOther(a,Vector2D.mathRideOther(l,20)),Vector2D.mathPlusOther(a,Vector2D.mathRideOther(l,20)))&&(n=!0),o=Vector2D.Vec2DDistanceSq(a,m),o<=p.m_vVelocity.lengthSQ&&_>o&&n&&(_=o,c=d,g.copyOther(m),h=r.isGoalZhu);var v,f;if(c>=0)if(v=e[c],f=u.dotProd(v.Normal())<0,t){if(f)if(p.isTooHigh()){var b=0/0,G=p.Pitch().getCurStepVo();G&&BallUtils.isShootType(G.type)&&p.Pitch().nextStepPlay()}else p.m_vVelocity.Reflect(v.Normal()),p.m_vVelocity.mathRideSelf(-.05)}else if(ParamLoader.instance.blSeverFight){if(f){var b=0/0,G=p.Pitch().getCurStepVo();G&&BallUtils.isShootType(G.type)&&!G.isSuccess()&&(b=G.addvalue,b==shoot_failtype.type_miss?p.Pitch().nextStepPlay():b==shoot_failtype.type_hitpost&&(p.m_vVelocity.Reflect(v.Normal()),p.m_vVelocity.mathRideSelf(.6),p.Pitch().nextStepPlay()))}}else f&&p.m_vVelocity.Reflect(v.Normal())},t.prototype.PlaceAtPosition=function(e){var t=this;utils.GameComUtil.log("@设置了球的位置: x:"+e.x+" y:"+e.y),t.m_vPosition.copyOther(e),t.m_vOldPos.copyOther(t.m_vPosition),t.m_vVelocity.zero(),t.m_zg=0,t.m_posZ=0
},t.prototype.dispose=function(){var e=this;e.m_PitchBoundary=null,utils.GameComUtil.removeSelf(e.bgimg),e.bgimg=null,utils.GameComUtil.removeSelf(e.bgyingimg),e.bgyingimg=null,e.m_pPitch=null},t.prototype.overremove=function(){var e=this;utils.GameComUtil.removeSelf(e.bgimg),utils.GameComUtil.removeSelf(e.bgyingimg)},t}(MovingEntity);__reflect(SoccerBall.prototype,"SoccerBall");var MessageType;!function(e){e[e.Msg_ReceiveBall=0]="Msg_ReceiveBall",e[e.Msg_PassToMe=1]="Msg_PassToMe",e[e.Msg_SupportAttacker=2]="Msg_SupportAttacker",e[e.Msg_GoHome=3]="Msg_GoHome",e[e.Msg_Wait=4]="Msg_Wait"}(MessageType||(MessageType={}));var SoccerMessages=function(){function e(){}return e.MessageToString=function(e){switch(e){case MessageType.Msg_ReceiveBall:return"Msg_ReceiveBall";case MessageType.Msg_PassToMe:return"Msg_PassToMe";case MessageType.Msg_SupportAttacker:return"Msg_SupportAttacker";case MessageType.Msg_GoHome:return"Msg_GoHome";case MessageType.Msg_Wait:return"Msg_Wait";default:return"INVALID MESSAGE!!"}},e}();__reflect(SoccerMessages.prototype,"SoccerMessages");var SoccerPitch=function(){function e(e,t,a,i,n,o){this.m_vecWalls=[],this.m_vGoalWalls=[],this.m_bPaused=!1,this.m_bShowPaused=!1,this.m_cxClient=0,this.m_cyClient=0,this.m_pitchCurInd=0,this.m_isdispose=!1,this.isToNextIng=!1,this.oldsevertime=0/0,this.reshtime=30,this.reshnum=0,this.curBallRegion=0/0,this.oldBallRegion=0/0,this.shoot_type=0/0,this.curTimeType=0,this.time_mi=0,this.time_sc=0;var r=this,s=ParamLoader.instance;r.gamepanel=e,r.m_cxClient=t,r.m_cyClient=a,r.m_bPaused=!1,r.m_bGoalKeeperHasBall=!1,r.m_pitchCurInd=0,r.m_pitchVoArr=o,r.m_isdispose=!1;for(var l=s.NumRegionsHorizontal*s.NumRegionsVertical,p=[],c=0;l>c;c++)p.push(null);r.m_Regions=p,r.m_bGameOn=!0,r.m_pPlayingArea=new Region(i,n,t-i,a-n),r.CreateRegions(r.PlayingArea().Width()/s.NumRegionsHorizontal,r.PlayingArea().Height()/s.NumRegionsVertical),r.m_pRedGoal=new Goal(new Vector2D(r.m_pPlayingArea.Left(),(a-s.GoalWidth)/2),new Vector2D(r.m_pPlayingArea.Left(),a-(a-s.GoalWidth)/2),new Vector2D(1,0)),r.m_pBlueGoal=new Goal(new Vector2D(r.m_pPlayingArea.Right(),(a-s.GoalWidth)/2),new Vector2D(r.m_pPlayingArea.Right(),a-(a-s.GoalWidth)/2),new Vector2D(-1,0)),r.m_pBall=new SoccerBall(r,new Vector2D(r.m_cxClient/2,r.m_cyClient/2),s.BallSize,s.BallMass,r.m_vecWalls,r.m_vGoalWalls),r.m_pRedTeam=new SoccerTeam(r.m_pRedGoal,r.m_pBlueGoal,this,team_color.red),r.m_pBlueTeam=new SoccerTeam(r.m_pBlueGoal,r.m_pRedGoal,this,team_color.blue),r.m_pRedTeam.SetOpponents(r.m_pBlueTeam),r.m_pBlueTeam.SetOpponents(r.m_pRedTeam);var u=new Vector2D(r.m_pPlayingArea.Left(),r.m_pPlayingArea.Top()),m=new Vector2D(r.m_pPlayingArea.Right(),r.m_pPlayingArea.Top()),g=new Vector2D(r.m_pPlayingArea.Right(),r.m_pPlayingArea.Bottom()),_=new Vector2D(r.m_pPlayingArea.Left(),r.m_pPlayingArea.Bottom());r.m_vecWalls.push(new Wall2D(_,r.m_pRedGoal.RightPost())),r.m_vecWalls.push(new Wall2D(r.m_pRedGoal.LeftPost(),u)),r.m_vecWalls.push(new Wall2D(u,m)),r.m_vecWalls.push(new Wall2D(m,r.m_pBlueGoal.LeftPost())),r.m_vecWalls.push(new Wall2D(r.m_pBlueGoal.RightPost(),g)),r.m_vecWalls.push(new Wall2D(g,_));var h=r.m_pRedGoal.LeftPost(),d=r.m_pRedGoal.RightPost(),y=r.m_pRedGoal.Facing(),v=s.GetLvNUM(s.GoalHLv);r.m_vGoalWalls.push(new Wall2D(d,new Vector2D(d.x-v*y.x,d.y))),r.m_vGoalWalls.push(new Wall2D(new Vector2D(d.x-v*y.x,d.y),new Vector2D(h.x-v*y.x,h.y))),r.m_vGoalWalls.push(new Wall2D(new Vector2D(h.x-v*y.x,h.y),h));var f=r.m_pBlueGoal.LeftPost(),b=r.m_pBlueGoal.RightPost(),G=r.m_pBlueGoal.Facing();r.m_vGoalWalls.push(new Wall2D(f,new Vector2D(f.x-v*G.x,f.y))),r.m_vGoalWalls.push(new Wall2D(new Vector2D(f.x-v*G.x,f.y),new Vector2D(b.x-v*G.x,b.y))),r.m_vGoalWalls.push(new Wall2D(new Vector2D(b.x-v*G.x,b.y),b));var x=s.GoalZhuW,C=new Wall2D(new Vector2D(d.x,d.y-x),d),T=new Wall2D(h,new Vector2D(h.x,h.y-x)),P=new Wall2D(new Vector2D(d.x,d.y-x),d),A=new Wall2D(h,new Vector2D(h.x,h.y-x));C.isGoalZhu=!0,T.isGoalZhu=!0,P.isGoalZhu=!0,A.isGoalZhu=!0,r.m_vecWalls.push(C),r.m_vecWalls.push(T),r.m_vecWalls.push(P),r.m_vecWalls.push(A)}return e.prototype.TogglePause=function(){this.m_bPaused=!this.m_bPaused},e.prototype.Paused=function(){return this.m_bPaused},e.prototype.PausedPlay=function(){this.m_bPaused=!1},e.prototype.PausedStop=function(){this.m_bPaused=!0},e.prototype.cxClient=function(){return this.m_cxClient},e.prototype.cyClient=function(){return this.m_cyClient},e.prototype.GoalKeeperHasBall=function(){return this.m_bGoalKeeperHasBall},e.prototype.SetGoalKeeperHasBall=function(e){this.m_bGoalKeeperHasBall=e},e.prototype.PlayingArea=function(){return this.m_pPlayingArea},e.prototype.Walls=function(){return this.m_vecWalls},e.prototype.Ball=function(){return this.m_pBall},e.prototype.GetRegionFromIndex=function(e){return this.m_Regions[e]},e.prototype.GameOn=function(){return this.m_bGameOn},e.prototype.SetGameOn=function(){this.m_bGameOn=!0},e.prototype.SetGameOff=function(){this.m_bGameOn=!1},e.prototype.reshInitData=function(e){var t=this;t.m_pitchCurInd=0,t.m_pitchVoArr=e,t.m_isdispose=!1,t.m_bPaused=!1,t.m_bGameOn=!0,t.m_pBlueTeam.reshInitData(),t.m_pRedTeam.reshInitData(),egret.clearTimeout(t.m_nexttime)},e.prototype.showStart=function(){var e=this,t=ParamLoader.instance;t.blSeverFight&&(e.TeamConversion(),e.startPitchScript(),EventBus.sendMessage(game.GameCommands.FIGHT_FRAG_NEXT))},e.prototype.TeamConversion=function(){var e=this,t=ParamLoader.instance,a=t.blRedIsLeft,i=(e.m_cxClient,e.m_cyClient),n=new Vector2D(e.m_pPlayingArea.Left(),(i-t.GoalWidth)/2),o=new Vector2D(e.m_pPlayingArea.Left(),i-(i-t.GoalWidth)/2),r=new Vector2D(1,0),s=new Vector2D(e.m_pPlayingArea.Right(),(i-t.GoalWidth)/2),l=new Vector2D(e.m_pPlayingArea.Right(),i-(i-t.GoalWidth)/2),p=new Vector2D(-1,0);e.m_pRedGoal&&(a?(e.m_pRedGoal.SetChangeData(n,o,r),e.m_pBlueGoal.SetChangeData(s,l,p)):(e.m_pRedGoal.SetChangeData(s,l,p),e.m_pBlueGoal.SetChangeData(n,o,r)))},e.prototype.dispose=function(){var e=this,t=e.gamepanel.m_pithcPlaySpr;TweenLite.killTweensOf(t,!0),egret.clearTimeout(e.m_nexttime),e.m_isdispose=!0,e.m_pBall.overremove(),e.m_pRedTeam.overremove(),e.m_pBlueTeam.overremove()},e.prototype.reshTimeFun=function(){var e=this;e.time_sc++,e.time_sc>=60&&(e.time_sc-=60,e.time_mi+=1);var t=e.time_sc<10?"0"+e.time_sc:e.time_sc.toString();e.time_mi.toString()+":"+t},e.prototype.Update=function(){var e=this;if(!e.m_bPaused&&!e.m_bShowPaused){e.reshnum--,e.reshnum<0&&(e.reshnum=e.reshtime,e.reshTimeFun(),EventBus.sendMessage(game.GameCommands.FIGHT_TIME_ADD)),e.m_pBall.Update();var t=ParamLoader.instance;if(t.blPlayMoveToBall){var a=egret.getTimer();isNaN(e.oldsevertime)&&(e.oldsevertime=a);var i=!1,n=!0;ParamLoader.instance.blSeverFight||(n=!e.m_pBlueTeam.GetFSM().isInState(PrepareForKickOff.instance)),n&&a-e.oldsevertime>t.reTimeBallPos&&(i=!0,e.oldsevertime=a),e.getPosToRegion();var o=e.curBallRegion!=e.oldBallRegion,r=!1,s=0/0,l=!0;if(ParamLoader.instance.blSeverFight){var p=e.getCurStepVo();if(p)switch(p.type){case PitchPlay_Type.type_Corner:s=showtype.show_Corner,r=!0;break;case PitchPlay_Type.type_Free:s=showtype.show_Free,r=!0;break;case PitchPlay_Type.type_Penalty:s=showtype.show_Penalty,r=!0;break;case PitchPlay_Type.type_PenaltyShow:s=showtype.show_PenaltyShow,r=!0}}l&&(i||o)&&(TeamState.ChangePlayerHomeBall(e.m_pBlueTeam,e,o,r,s),TeamState.ChangePlayerHomeBall(e.m_pRedTeam,e,o,r,s),e.oldBallRegion=e.curBallRegion)}e.m_pRedTeam.Update(),e.m_pBlueTeam.Update();var c=!1,u=!1,m=!1;if(e.GameOn()&&!e.isToNextIng&&(c=e.m_pBlueGoal.Scored(e.m_pBall),c||(u=e.m_pRedGoal.Scored(e.m_pBall))),!e.m_pBall.isTooHigh()&&(c||u)){if(t.blSeverFight){var g,_=c?e.m_pRedTeam:e.m_pBlueTeam;if(t.blFightINSever){var h=Manifest.getIns(FightDM);g=h._fightData;var d,y=e.getCurPitchVo();if(y&&y.score){d=g.getFragmentVo();var v=d.attacker==g.myColorId?!0:!1;v!=u&&utils.GameComUtil.log("@播放的球进错了门"),g.setPitchScore(v,1)}else utils.GameComUtil.log("@有不该进的球进了"),!Global.isbanben,m=!0,e.Ball().Trap()}if(m)e.nextStepPlay(!0);else{var f=_.ControllingPlayer();if(f){for(var b,G=_.Members(),x=0,C=G.length;C>x;x++)b=G[x],b!=f&&b.Role()!=player_role.goal_keeper&&b.setLookPlayer(f);var T=f.Data().severid,P=match_type.type_shoot;if(y){switch(y.stype){case showtype.show_Free:P=match_type.type_eveshootFree;break;case showtype.show_Penalty:P=match_type.type_eveshootPenalty}var A=SummaryPlayVO.getStealsSumVO(g,d,g.m_eveArr,T,null,match_type.type_shoot,P,!0,!0,!1);h.addEveVO(A,g)}}if(e.stepVoIterator){var w=e.stepVoIterator.current;w&&e.nextStepPlay(!0)}}}e.m_bGameOn=!1,t.blSeverFight||(e.m_pBall.PlaceAtPosition(new Vector2D(e.m_cxClient/2,e.m_cyClient/2)),e.m_pRedTeam.GetFSM().ChangeState(PrepareForKickOff.instance),e.m_pBlueTeam.GetFSM().ChangeState(PrepareForKickOff.instance))}}},e.prototype.getPosToRegion=function(e){void 0===e&&(e=null);var t=this,a=t.m_pBall.Pos();e&&(a=e);for(var i,n=t.m_Regions,o=n.length,r=0,s=0;o>s;s++)if(i=n[s],i.Inside(a)){r=s;break}return t.curBallRegion=r,isNaN(t.oldBallRegion)&&(t.oldBallRegion=t.curBallRegion),r},e.prototype.CreateRegions=function(e,t){var a,i,n=this,o=n.m_Regions.length-1,r=ParamLoader.instance,s=r.NumRegionsHorizontal,l=r.NumRegionsVertical,p=n.PlayingArea().Left(),c=n.PlayingArea().Top();for(a=0;s>a;++a)for(i=0;l>i;++i)n.m_Regions[o--]=new Region(Math.round(p+a*e),Math.round(c+i*t),Math.round(p+(a+1)*e),Math.round(c+(i+1)*t),o)},e.prototype.startPitchScript=function(){var e=this;if(!e.m_isdispose){e.isToNextIng=!1,e.stepVoIterator||(e.stepVoIterator=new vm.PitchArrayIterator),e.SetGameOn();var t=e.waitPitchPlay(),a=Manifest.getIns(FightDM),i=a._fightData,n=Manifest.getIns(vm.GameMainView),o=!1;if(n&&n.isOpend()&&(o=!0),!i.a_isplayprewar&&!i.isreport){var r=i.fragmentindex;r||o&&n.isTimeIndexType(vm.GameMainView.type_game)&&(n.showBeforG(),i.a_isplayprewar=!0,t=4200)}e.initPitchPlay(t),e.playPitchVo(e.m_pitchCurInd),e.showPitchSpr(!0,t),o&&n.showstartMc(t)}},e.prototype.waitPitchPlay=function(){var e=this,t=0;if(e.m_isdispose)return 0;var a,i=Manifest.getIns(FightDM),n=i._fightData,o=n.getFragmentVo();if(o){var r,s,l=(ParamLoader.instance,"");o.yellowCard&&(r=o.yellowCard,s=n.pitchEventObj.getEventNum(r,match_type.type_yellowcard),l=BallUtils.getnamecol(n,r),s>1?(a=SummaryPlayVO.getStealsSumVO(n,o,n.m_eveArr,r,null,match_type.type_event,match_type.type_yellowredcard,!0,!0,!1),BallUtils.showMatchInfo(match_type.type_yellowredcard,0,0,[l]),i.addEveVO(a,n)):(a=SummaryPlayVO.getStealsSumVO(n,o,n.m_eveArr,r,null,match_type.type_event,match_type.type_yellowcard,!0,!0,!1),BallUtils.showMatchInfo(match_type.type_yellowcard,0,0,[l]),i.addEveVO(a,n)),t=1200),o.redCard&&(a=SummaryPlayVO.getStealsSumVO(n,o,n.m_eveArr,o.redCard,null,match_type.type_event,match_type.type_redcard,!0,!0,!1),r=o.redCard,l=BallUtils.getnamecol(n,r),BallUtils.showMatchInfo(match_type.type_redcard,0,0,[l]),i.addEveVO(a,n),t=1200),o.injured&&(a=SummaryPlayVO.getStealsSumVO(n,o,n.m_eveArr,o.injured,null,match_type.type_event,match_type.type_injured,!0,!0,!1),r=o.injured,l=BallUtils.getnamecol(n,r),BallUtils.showMatchInfo(match_type.type_injured,0,0,[l]),i.addEveVO(a,n),t=1200)}return t},e.prototype.AddEventVO=function(e,t,a,i){var n=Manifest.getIns(FightDM),o=n._fightData;if(o){var r=o.getFragmentVo();if(r){var s=SummaryPlayVO.getStealsSumVO(o,r,o.m_eveArr,a,i,e,t,!0,!0,!1);n.addEveVO(s,o)}}},e.prototype.playPitchVo=function(e){var t=this;t.shoot_type=0/0;var a=t.m_pitchVoArr,i=a[e];t.m_pitchvo=i,t.stepVoIterator.setSource(i.step),t.playStepVo(t.stepVoIterator.current)},e.prototype.changeFightType=function(){var e=this,t=ParamLoader.instance,a=Manifest.getIns(vm.GameMainView);if(a&&a.isOpend()&&a.isTimeIndexType(vm.GameMainView.type_game)){var i=0;if(t.blFightINSever){var n=Manifest.getIns(FightDM),o=n._fightData,r=o.fragmentindex,s=r-1,l=o.getFragmentVoForIndex(s),p=o.getFragmentVoForIndex(r),c=o.a_mcobj;if(l&&p&&p.timetype!=l.timetype){var u=p.timetype;switch(u){case time_type.time_addup:case time_type.time_PenaltyShow:c[u]||(c[u]=1,i=1,a.showChangeTimeType(u))}}}i||e.nextPitchPlay()}else e.nextPitchPlay()},e.prototype.playStepVo=function(e){var t=this;if(!t.m_isdispose){var a=t.setStepData(e);if(a){var i,n=e.fromid,o=(e.toid,ParamLoader.instance),r=e.type;switch(t.clearAllPlayerData(!1,!0,!1),r){case PitchPlay_Type.type_pass:case PitchPlay_Type.type_Corner:e.StartTime(game.PitchStepVO.Time_A);var s=t.getPlayForBall(e.fromid),l=t.getPlayForBall(e.toid);if(s&&l){if(r==PitchPlay_Type.type_Corner){t.m_pBlueTeam.SetAllAction(actionPitch.action_CornerKick,!0),t.m_pRedTeam.SetAllAction(actionPitch.action_CornerKick,!0),s.Data().pitchAction=actionPitch.action_CornerKickAcr,l.Data().pitchAction=actionPitch.action_CornerKickReceive;var p=t.getCurPitchVo().spetype,c=BallUtils.GetSpePoint(p,t.m_pPlayingArea),u=c.pos,m=c.face;t.m_pBall.PlaceAtPosition(u);var g=Vector2D.mathRideOther(m,o.speWigthBall);g.mathPlusSelf(u),s.Data().initpos.copyOther(g),s.Data().spepos=u,s.Data().speface=m,s.SetPos(s.Data().initpos),s.Data().setMoveType(player_move.move_initfiexd)}else s.Data().pitchAction=actionPitch.action_Pass,l.Data().pitchAction=actionPitch.action_Receive;e.isSuccess()||s.Team().Opponents().SetAllAction(actionPitch.action_Interpose,!0)}break;case PitchPlay_Type.type_shoot:case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:e.StartTime(game.PitchStepVO.Time_A);var _=t.getPlayForBall(e.fromid);if(_)if(i=_.Data(),r==PitchPlay_Type.type_shoot)i.pitchAction=actionPitch.action_Shoot;else{r==PitchPlay_Type.type_Free?(t.m_pBlueTeam.SetAllAction(actionPitch.action_FreeKick,!0),t.m_pRedTeam.SetAllAction(actionPitch.action_FreeKick,!0),i.pitchAction=actionPitch.action_FreeKickAcr):r==PitchPlay_Type.type_Penalty?(t.m_pBlueTeam.SetAllAction(actionPitch.action_PenaltyKick,!0),t.m_pRedTeam.SetAllAction(actionPitch.action_PenaltyKick,!0),i.pitchAction=actionPitch.action_PenaltyKickAcr):r==PitchPlay_Type.type_PenaltyShow&&(t.m_pBlueTeam.SetAllAction(actionPitch.action_PenaltyShowKick,!0),t.m_pRedTeam.SetAllAction(actionPitch.action_PenaltyShowKick,!0),i.pitchAction=actionPitch.action_PenaltyShowKickAcr);var p=t.getCurPitchVo().spetype,c=BallUtils.GetSpePoint(p,t.m_pPlayingArea),u=c.pos,m=c.face;t.m_pBall.PlaceAtPosition(u);var g=Vector2D.mathRideOther(m,o.speWigthBall);g.mathPlusSelf(u),i.initpos.copyOther(g),i.spepos=u,i.speface=m,_.SetPos(i.initpos),t.curBallRegion=t.getPosToRegion(u),r==PitchPlay_Type.type_Free?BallUtils.getPosToFree(t.m_pBall.Pos(),_.Team().OpponentsGoal().Center(),_.Team(),_.Team().Opponents(),_):r==PitchPlay_Type.type_PenaltyShow&&BallUtils.getPosToPenaltyShow(t.m_pBlueTeam,t.m_pRedTeam,t.m_pPlayingArea,_)}if(!e.isSuccess()){var h=shoot_failtype,d=[h.type_pounce,h.type_fly,h.type_fly,h.type_miss,h.type_miss,h.type_miss,h.type_toohigh,h.type_toohigh,h.type_toohigh,h.type_hitpost];(r==PitchPlay_Type.type_Penalty||r==PitchPlay_Type.type_PenaltyShow)&&(d=[h.type_pounce,h.type_fly,h.type_fly,h.type_fly,h.type_miss,h.type_toohigh,h.type_hitpost]);var y=BallUtils.RandInt(0,d.length-1);e.addvalue=d[y],e.setMatchResult(e.addvalue)}break;case PitchPlay_Type.type_dribble:e.StartTime(game.PitchStepVO.Time_A);var v=t.getPlayForBall(e.fromid);v&&(v.Team().GetFSM().ChangeState(Attacking.instance),v.Team().Opponents().GetFSM().ChangeState(Defending.instance),v.Data().pitchAction=actionPitch.action_Dribble,v.SetPos(v.Pos()),t.m_pBall.PlaceAtPosition(v.Pos()),v.Data().roletype!=player_role.goal_keeper?v.GetFSM().ChangeState(Dribble.instance):(utils.GameComUtil.log("@设置了守门员带球！！！"),v.GetFSM().ChangeState(PutBallBackInPlay.instance)));break;case PitchPlay_Type.type_Interpose:case PitchPlay_Type.type_Rescue:case PitchPlay_Type.type_Foul:e.StartTime(game.PitchStepVO.Time_A);var v=t.getPlayForBall(n);v&&(v.Data().pitchAction=actionPitch.action_Dribble);var f,b,G,x=o.playerIdNum;f=Math.floor(n/x)*x==o.TeamBuleId?t.m_pRedTeam:t.m_pBlueTeam,b=f.Members();var C;PitchPlay_Type.type_Interpose==r?C=actionPitch.action_Interpose:PitchPlay_Type.type_Rescue==r?C=actionPitch.action_Rescue:PitchPlay_Type.type_Foul==r&&(C=actionPitch.action_Foul);for(var T=0,P=b.length;P>T;T++)G=b[T],G.Data().roletype!=player_role.goal_keeper&&(G.Data().pitchAction=C)}}}},e.prototype.getPitchControll=function(){var e=this,t=e.m_pBlueTeam.ControllingPlayer();return t?t:(t=e.m_pRedTeam.ControllingPlayer(),t?t:null)},e.prototype.setStepData=function(e){var t=this,a=0/0,i=ParamLoader.instance,n=t.getPitchControll(),o=team_color.blue;if(i.blBuleFirst||(o=team_color.red),n&&(a=n.Data().severid,o=n.Team().Color()),i.blFightINSever){var r=Manifest.getIns(FightDM),s=r._fightData,l=s.getFragmentVo(),p=null;l&&(p=l.getSeverPlayArr(e.index))}switch(e.type){case PitchPlay_Type.type_dribble:case PitchPlay_Type.type_pass:case PitchPlay_Type.type_shoot:case PitchPlay_Type.type_Interpose:case PitchPlay_Type.type_Rescue:case PitchPlay_Type.type_Foul:case PitchPlay_Type.type_Corner:case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:e.setValueToNum(p,o,e.type,a)}return e.fromid==e.toid?(t.nextStepPlay(),!1):!0},e.prototype.isTimeOver=function(e){var t=this;if(t.stepVoIterator){var a=t.stepVoIterator.current;if(a)return a.isTimeOver(e)}return!1},e.prototype.startTime=function(e){var t=this;if(t.stepVoIterator){var a=t.stepVoIterator.current;if(a)return a.StartTime(e)}},e.prototype.getCurStepVo=function(){var e=null,t=this;return t.stepVoIterator&&(e=t.stepVoIterator.current),e},e.prototype.getCurPitchVo=function(){var e=this;return e.m_pitchvo},e.prototype.clearAllPlayerData=function(e,t,a){this.m_pBlueTeam.clearAllPlayerData(e,t,a),this.m_pRedTeam.clearAllPlayerData(e,t,a)},e.prototype.getPlayForAction=function(e){var t,a,i,n=0;for(t=this.m_pBlueTeam.Members(),n=0,i=t.length;i>n;n++)if(a=t[n],a.Data().pitchAction==e)return a;for(t=this.m_pRedTeam.Members(),n=0,i=t.length;i>n;n++)if(a=t[n],a.Data().pitchAction==e)return a;return null},e.prototype.getPlayForId=function(e){var t,a,i,n=0;for(t=this.m_pBlueTeam.Members(),n=0,i=t.length;i>n;n++)if(a=t[n],a.ID()==e)return a;for(t=this.m_pRedTeam.Members(),n=0,i=t.length;i>n;n++)if(a=t[n],a.ID()==e)return a;return null},e.prototype.getPlayForBall=function(e){var t,a=this;return t=BallUtils.severidIsBlue(e)?a.m_pBlueTeam.getPlayForBall(e):a.m_pRedTeam.getPlayForBall(e)},e.prototype.nextStepPlay=function(e){void 0===e&&(e=!1);var t=this;if(!t.m_isdispose){if(t.isToNextIng)return void utils.GameComUtil.log("@在切换的过程中还发生了切换");var a=t.stepVoIterator.current,i=t.stepVoIterator.next;a&&a.showMatchInfo();var n=Manifest.getIns(FightDM);if(i&&!e)t.playStepVo(i);else{var o,r=n._fightData,s=r.getFragmentVo(),l=0;if(s&&a&&!s.goalState){var p=a.addvalue,c=a.type;c==PitchPlay_Type.type_Rescue||(c==PitchPlay_Type.type_dribble||c==PitchPlay_Type.type_pass||c==PitchPlay_Type.type_Interpose?a.match_addid&&(o=new FightMcDataVO(match_type.type_shoot_fail_pounce,a.match_addid,0,p)):p&&(p==shoot_failtype.type_toohigh||p==shoot_failtype.type_miss?o=new FightMcDataVO(match_type.type_shoot_fail_toohigh,a.fromid,0,p):p==shoot_failtype.type_hitpost?o=new FightMcDataVO(match_type.type_shoot_fail_hitpost,a.fromid,0,p):(p==shoot_failtype.type_fly||p==shoot_failtype.type_pounce)&&(o=new FightMcDataVO(match_type.type_shoot_fail_pounce,a.match_addid,0,p))))}if(o&&o.id){l=.8;var u,m,g=o.type;if(r&&s)switch(g){case match_type.type_shoot_fail_pounce:u=match_type.type_steals,m=SummaryPlayVO.getStealsSumVO(r,s,r.m_eveArr,o.id,a.fromid,match_type.type_steals,u,!0,!0,!1);break;case match_type.type_shoot_fail_toohigh:case match_type.type_shoot_fail_hitpost:case match_type.type_shoot_fail_pounce:s.attackeroutId||s.setAttackerOutId(a.fromid),u=match_type.type_eveshootOut;var _=GlobalConfig.getPitchVo(s.eventId);if(_)switch(_.stype){case showtype.show_Free:u=match_type.type_eveshootOutFree;break;case showtype.show_Penalty:u=match_type.type_eveshootOutPenalty}m=SummaryPlayVO.getStealsSumVO(r,s,r.m_eveArr,a.fromid,null,match_type.type_shoot,u,!0,!0,!1)}m&&n.addEveVO(m,r)}switch(t.isToNextIng=!0,a.type){case PitchPlay_Type.type_dribble:case PitchPlay_Type.type_pass:case PitchPlay_Type.type_Interpose:case PitchPlay_Type.type_Foul:t.m_bPaused=!0;break;case PitchPlay_Type.type_Rescue:case PitchPlay_Type.type_shoot:case PitchPlay_Type.type_Corner:case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:}var h=t.gamepanel.m_pithcPlaySpr;t.stepVoIterator.setSource([]),h.alpha=1,l?TweenLite.to(h,.5,{alpha:0,delay:l,onComplete:t.tweenplaynext.bind(t),onCompleteParams:[a]}):TweenLite.to(h,.5,{alpha:0,onComplete:t.tweenplaynext.bind(t),onCompleteParams:[a]})}}},e.prototype.tweenplaynext=function(e){var t=this;if(egret.clearTimeout(t.m_nexttime),!t.m_isdispose){var a=Manifest.getIns(vm.GameMainView),i=Manifest.getIns(FightDM),n=i._fightData,o=n.fragmentArr.length,r=n.fragmentindex;a&&a.isOpend()&&o-1>r?(a.showStepWaitMc(!0),t.m_nexttime=egret.setTimeout(t.pitchPlayNext,t,2e3,e)):t.pitchPlayNext(e)}},e.prototype.pitchPlayNext=function(e){var t=this;if(!t.m_isdispose){var a=Manifest.getIns(vm.GameMainView);a&&a.isOpend()&&a.showStepWaitMc(!1),egret.clearTimeout(t.m_nexttime),t.m_bPaused=!0;var i,n,o;if(ParamLoader.instance.blFightINSever){var r=Manifest.getIns(FightDM),s=r._fightData,l=s.getFragmentVo();l&&s.setScoreData(l.grade),i=s.fragmentindex,n=s.fragmentindex+1,o=s.getNextPitchVO()}else i=GameMainPanel.initItemid,n=i+1,o=GlobalConfig.getPitchVo(n);e.type==PitchPlay_Type.type_PenaltyShow?t.clearAllPlayerData(!0,!0,!1):t.clearAllPlayerData(!1,!0,!1);var p=t.gamepanel.m_pithcPlaySpr;p&&TweenLite.killTweensOf(p,!0),o?t.changeFightType():(BallUtils.showMatchInfo(match_type.type_gameover),t.pitchOver()),EventBus.sendMessage(game.GameCommands.FIGHT_FRAG_NEXT)}},e.prototype.pitchOver=function(){var e=this;e.m_bPaused=!0,EventBus.sendMessage(game.GameCommands.FIGHT_PITCH_CHANGE),EventBus.sendMessage(game.GameCommands.FIGHT_OVER);var t=Manifest.getIns(FightDM);t.overFight()},e.prototype.nextPitchPlay=function(){var e=this;if(!e.m_isdispose){e.m_bPaused=!0,GameMainPanel.initItemid++;var t=(GameMainPanel.initItemid,ParamLoader.instance);t.blSeverFight&&e.startPitchScript()}},e.prototype.getPitchShotType=function(){var e=this;return isNaN(e.shoot_type)?void e.PausedStop():(e.PausedPlay(),e.shoot_type)},e.prototype.showPitchSpr=function(e,t){var a=this,i=a.gamepanel.m_pithcPlaySpr;if(e)if(t){a.PausedStop();var n=t;n*=.001,i.alpha=0,TweenLite.to(i,0,{delay:n,onComplete:a.showAndPausedPlay.bind(a)})}else i.alpha=0,TweenLite.to(i,.5,{alpha:1,onComplete:a.showPlayerSkill.bind(a)}),a.PausedPlay()},e.prototype.showAndPausedPlay=function(){var e=this,t=e.gamepanel.m_pithcPlaySpr;e.PausedPlay(),TweenLite.to(t,.5,{alpha:1,onComplete:e.showPlayerSkill.bind(e)})},e.prototype.showPlayerSkill=function(){var e=this,t=Manifest.getIns(FightDM),a=t._fightData;if(a){var i=a.getFragmentVo();if(i){var n,o,r,s,l=i.release,p=Manifest.getIns(vm.GameMainView);if(p&&p.isOpend()){for(var c,u,m,g=0,_=l.length;_>g;g++)n=l[g],r=n.nSkill,s=GlobalConfig.getSkillVO(r),(0!=s.trigger||2!=s.stype)&&(c=SummaryPlayVO.getStealsSumVO(a,i,a.m_eveArr,n.nPosition,null,match_type.type_skill,match_type.type_skill,!0,!0,!1),c.skillid=r,u=1,m=a.getPlayerForId(n.nPosition),m&&(u=m.getskilllv(r)),c.skilllv=u,o=e.getPlayForBall(n.nPosition),o&&o.playerSkillMc(r,c));p.showEveData()}}}},e.prototype.initPitchPlay=function(e){var t,a=this,i=[],n=ParamLoader.instance,o=null;if(!a.m_isdispose&&n.blSeverFight){if(ParamLoader.instance.blFightINSever){var r=Manifest.getIns(FightDM),s=r._fightData,l=s.getCurPitchVO();if(o=s.getFragmentVo(),t=o.orientation,!o)return;o.attacker==s.myServerVo.troops?n.blBuleFirst=1:n.blBuleFirst=0;var p=o.startTime.split(":"),c=p.length;a.time_mi=c>0?parseInt(p[0]):0,a.time_sc=c>1?parseInt(p[1]):0;var u,m=BallUtils.getTimeType(o.startTime);if(u=1,a.curTimeType!=m)switch(a.curTimeType=m,m){case time_type.time_normalup:BallUtils.showMatchInfo(match_type.type_gamestart);break;case time_type.time_normaldown:BallUtils.showMatchInfo(match_type.type_gamecentre)}u!=n.blRedIsLeft&&(n.blRedIsLeft=u,a.TeamConversion()),i=[l],EventBus.sendMessage(game.GameCommands.FIGHT_PITCH_CHANGE,!0)}else{GameMainPanel.initItemid;i=a.gamepanel.creatFightCFG(GameMainPanel.initItemid)}a.m_pitchCurInd=0,a.m_pitchVoArr=i;var g=n.posInitArr,_=i[0];a.m_pitchvo=_;var h=_.step[0],d=team_color.blue;n.blBuleFirst||(d=team_color.red);var y=null;if(o&&(y=o.getSeverPlayArr(h.index)),h.setValueToNum(y,d,h.type,0/0,!1),h.fromid){var v=n.playerIdNum,f=Math.floor(h.fromid%v*.1),b=g[f];if(b){var G=BallUtils.RandInt(b[1],b[2]),x=BallUtils.severidIsBlue(h.fromid),C=ParamLoader.instance.blRedIsLeft;(!x&&C||x&&!C)&&(G=FightDataVO.blueToRedN(G)),a.curBallRegion=G}}a.clearAllPlayerData(!0,!0,!0);var T=0/0,P=d==team_color.blue,A=P,w=a.getspeUpOrDown(),k=!1;if(_){var I=_.stype;switch(I){case showtype.show_Corner:w?_.spetype=1==t?spe_pos.pos_leftdown:spe_pos.pos_rightdown:_.spetype=1==t?spe_pos.pos_leftup:spe_pos.pos_rightup,T=I;break;case showtype.show_Free:w?_.spetype=spe_pos.pos_freepenaltydown:_.spetype=spe_pos.pos_freepenaltyup,T=I;break;case showtype.show_Penalty:w?_.spetype=spe_pos.pos_penaltydown:_.spetype=spe_pos.pos_penaltyup,T=I;break;case showtype.show_PenaltyShow:var u;u=n.blBuleFirst?1:0,u!=n.blRedIsLeft&&(n.blRedIsLeft=u,a.TeamConversion()),_.spetype=spe_pos.pos_penaltyup,T=I;break;case showtype.show_DefToact:A=!(d==team_color.blue),k=!0;break;case showtype.show_ActIng:k=!0}}a.m_bGoalKeeperHasBall=!1,a.m_pBlueTeam.initPlayerData(A,T),a.m_pRedTeam.initPlayerData(!A,T),a.m_pRedTeam.GetFSM().ChangeState(PrepareForKickOff.instance),a.m_pBlueTeam.GetFSM().ChangeState(PrepareForKickOff.instance),a.m_pBlueTeam.blneedlook=k,a.m_pRedTeam.blneedlook=k;var S=P?Attacking.instance:Defending.instance,E=P?Defending.instance:Attacking.instance;a.m_pBlueTeam.GetFSM().ChangeState(S),a.m_pRedTeam.GetFSM().ChangeState(E),a.m_pBlueTeam.LostControl(),a.m_pRedTeam.LostControl(),e||(a.m_bPaused=!1)}},e.prototype.ChangePlayer=function(e,t){void 0===t&&(t=null);var a=BallUtils.severidIsBlue(e);a?this.m_pBlueTeam.ChangePlayer(e,t):this.m_pRedTeam.ChangePlayer(e,t)},e.prototype.getspeUpOrDown=function(){var e=!1,t=ParamLoader.instance;return t.blRedIsLeft?t.blBuleFirst||(e=!0):t.blBuleFirst&&(e=!0),e},e.prototype.Render=function(e){var t=this;if(!t.m_bPaused&&!t.m_bShowPaused){var a=Cgdi.instance,i=ParamLoader.instance;if(i.blImgRender){t.m_pBlueTeam.Render(e),t.m_pRedTeam.Render(e),t.m_pBall.Render(e);var n=i.GetLvNUM(i.GoalHLv);return void(t.m_pBall.isTooHigh()&&t.m_pBall.Render(e))}if(a.DarkGreenBrush(),a.DarkGreenPen(),a.Rect(0,0,t.m_cxClient,t.m_cyClient),i.bRegions)for(var o=0;o<t.m_Regions.length;++o)t.m_Regions[o].Render(!0);a.WhitePen();for(var r=0;r<t.m_vecWalls.length;++r)t.m_vecWalls[r].Render();var s=i.GetLvNUM(i.GoadFrontWLv),l=i.GetLvNUM(i.GoadFrontHLv),p=i.GetLvNUM(i.GoadFrontBWLv),c=i.GetLvNUM(i.GoadFrontBHLv),n=i.GetLvNUM(i.GoalHLv);a.HollowBrush(),a.WhitePen(),a.Rect(t.m_pPlayingArea.Left()-n,(t.m_cyClient-i.GoalWidth)/2,n,i.GoalWidth),a.Rect(t.m_pPlayingArea.Left(),(t.m_cyClient-l)/2,s,l),a.Rect(t.m_pPlayingArea.Left(),(t.m_cyClient-c)/2,p,c),a.WhitePen(),a.Rect(t.m_pPlayingArea.Right(),(t.m_cyClient-i.GoalWidth)/2,n,i.GoalWidth),a.Rect(t.m_pPlayingArea.Right()-s,(t.m_cyClient-l)/2,s,l),a.Rect(t.m_pPlayingArea.Right()-p,(t.m_cyClient-c)/2,p,c);var u=i.GetLvNUM(i.pitchCircleRLv);return a.WhitePen(),a.CircleVct(t.m_pPlayingArea.Center(),u),a.Line(t.m_pPlayingArea.Center().x,t.m_pPlayingArea.Top(),t.m_pPlayingArea.Center().x,t.m_pPlayingArea.Bottom()),a.WhiteBrush(),a.CircleVct(t.m_pPlayingArea.Center(),2),t.m_pRedTeam.Render(e),t.m_pBlueTeam.Render(e),a.WhitePen(),a.WhiteBrush(),t.m_pBall.Render(e),!0}},e}();__reflect(SoccerPitch.prototype,"SoccerPitch");var SoccerTeam=function(){function e(e,t,a,i){this.m_Players=[],this.m_initPlayers=[],this.m_dDistSqToBallOfClosestPlayer=0,this.blneedlook=!1;var n=ParamLoader.instance,o=this;if(o.m_pOpponentsGoal=t,o.m_pHomeGoal=e,o.m_pOpponents=null,o.m_pPitch=a,o.m_Color=i,o.m_dDistSqToBallOfClosestPlayer=0,o.m_pSupportingPlayer=null,o.m_pReceivingPlayer=null,o.m_pControllingPlayer=null,o.m_pPlayerClosestToBall=null,o.m_pStateMachine=new StateMachine(o),o.m_pStateMachine.SetCurrentState(Defending.instance),o.m_pStateMachine.SetPreviousState(Defending.instance),o.m_pStateMachine.SetGlobalState(null),o.CreatePlayers(),n.blSeparation)for(var r,s=o.m_Players,l=0,p=s.length;p>l;l++)r=s[l],r.Steering().SeparationOn();o.m_pSupportSpotCalc=new SupportSpotCalculator(n.NumSupportSpotsX,n.NumSupportSpotsY,o)}return e.prototype.Members=function(){return this.m_Players},e.prototype.GetFSM=function(){return this.m_pStateMachine},e.prototype.HomeGoal=function(){return this.m_pHomeGoal},e.prototype.OpponentsGoal=function(){return this.m_pOpponentsGoal},e.prototype.Pitch=function(){return this.m_pPitch},e.prototype.Opponents=function(){return this.m_pOpponents},e.prototype.SetOpponents=function(e){this.m_pOpponents=e},e.prototype.Color=function(){return this.m_Color},e.prototype.SetPlayerClosestToBall=function(e){this.m_pPlayerClosestToBall=e},e.prototype.PlayerClosestToBall=function(){return this.m_pPlayerClosestToBall},e.prototype.ClosestDistToBallSq=function(){return this.m_dDistSqToBallOfClosestPlayer},e.prototype.GetSupportSpot=function(){return this.m_pSupportSpotCalc.GetBestSupportingSpot()},e.prototype.SupportingPlayer=function(){return this.m_pSupportingPlayer},e.prototype.SetSupportingPlayer=function(e){this.m_pSupportingPlayer=e},e.prototype.Receiver=function(){return this.m_pReceivingPlayer},e.prototype.SetReceiver=function(e){this.m_pReceivingPlayer=e},e.prototype.ControllingPlayer=function(){return this.m_pControllingPlayer},e.prototype.SetControllingPlayer=function(e){this.m_pControllingPlayer=e,this.Opponents().LostControl()},e.prototype.InControl=function(){return this.m_pControllingPlayer?!0:!1},e.prototype.LostControl=function(){this.m_pControllingPlayer=null},e.prototype.DetermineBestSupportingPosition=function(){this.m_pSupportSpotCalc.DetermineBestSupportingPosition()},e.prototype.Name=function(){return this.m_Color==team_color.blue?"Blue":"Red"},e.prototype.reshInitData=function(){var e=this,t=e.m_initPlayers,a=[];if(t){var i,n,o,r,s,l,p,i,c=ParamLoader.instance,e=this,u=Manifest.getIns(FightDM),c=ParamLoader.instance;for(o=0,r=t.length;r>o;o++)i=t[o],a.push(i),i.setData(n);if(e.Color()==team_color.blue)for(l=u._fightData.myPlayArr,o=0,r=l.length;r>o;o++)s=l[o],s.getChangePos(e.m_pPitch,!0),i=a[o],i.reshInitData(),i.setData(s);else for(p=u._fightData.oppPlayArr,o=0,r=p.length;r>o;o++)s=p[o],s.sholdN=c.sholdNum,s.getChangePos(e.m_pPitch,!0),i=a[o],i.reshInitData(),i.setData(s);e.m_Players=a}},e.prototype.ChangePlayer=function(e,t){void 0===t&&(t=null);var a=!1;t&&(a=!0);for(var i,n,o=this,r=o.m_Players,s=r.length-1;s>=0;s--)i=r[s],i.Data().severid==e&&(a?(n=FightDataVO.getPlayerVo(0,o.m_Color,player_role.attacker),i.setData(n)):(r.splice(s,1),i.overremove()))},e.prototype.dispose=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)e=a[i],e.dispose();t.m_Players=[],t.m_pControllingPlayer=null,t.m_pSupportingPlayer=null,t.m_pReceivingPlayer=null,t.m_pPlayerClosestToBall=null,delete t.m_pStateMachine,delete t.m_pSupportSpotCalc},e.prototype.overremove=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)e=a[i],e.overremove();t.m_pControllingPlayer=null,t.m_pSupportingPlayer=null,t.m_pReceivingPlayer=null,t.m_pPlayerClosestToBall=null},e.prototype.initPlayerData=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=0/0);for(var a,i,n=this,o=n.m_Players,r=0,s=o.length;s>r;r++)a=o[r],a.initPlayerData(),i=a.Data(),i.getChangePos(n.m_pPitch,!0,e,t),a.SetPos(i.initpos)},e.prototype.SetAllAction=function(e,t){for(var a,i,n=this,o=n.m_Players,r=0,s=o.length;s>r;r++)a=o[r],i=a.Data(),t&&i.roletype==player_role.goal_keeper||(i.pitchAction=e)},e.prototype.getPlayForBall=function(e){for(var t,a=this,i=a.m_Players,n=0,o=i.length;o>n;n++)if(t=i[n],t.Data().severid==e)return t;
return null},e.prototype.Update=function(){var e=this;e.CalculateClosestPlayerToBall(),e.m_pStateMachine.Update();for(var t,a=e.m_Players,i=0,n=a.length;n>i;i++)t=a[i],t.Update()},e.prototype.CalculateClosestPlayerToBall=function(){for(var e,t=this,a=BallUtils.MaxFloat,i=t.m_Players,n=0,o=i.length;o>n;n++){e=i[n];var r=Vector2D.Vec2DDistanceSq(e.Pos(),t.Pitch().Ball().Pos());e.SetDistSqToBall(r),a>r&&(a=r,t.m_pPlayerClosestToBall=e)}t.m_dDistSqToBallOfClosestPlayer=a},e.prototype.DetermineBestSupportingAttacker=function(){for(var e,t=BallUtils.MaxFloat,a=null,i=this,n=i.m_Players,o=0,r=n.length;r>o;o++)if(e=n[o],e.Role()==player_role.attacker&&e!=i.m_pControllingPlayer){var s=Vector2D.Vec2DDistanceSq(e.Pos(),i.m_pSupportSpotCalc.GetBestSupportingSpot());t>s&&(t=s,a=e)}return a},e.prototype.FindPass=function(e,t,a,i,n){for(var o,r=BallUtils.MaxFloat,s=new Vector2D(0,0),l=this,p=l.m_Players,c=n*n,u=l.OpponentsGoal().Center().x,m=0,g=p.length;g>m;m++)if(o=p[m],o!=e&&Vector2D.Vec2DDistanceSq(e.Pos(),o.Pos())>c&&l.GetBestPassToReceiver(e,o,s,i)){var _=Math.abs(s.x-u);r>_&&(r=_,t=o,a.copyOther(s))}return t},e.prototype.GetBestPassToReceiver=function(e,t,a,i){var n=this,o=n.Pitch().Ball().TimeToCoverDistance(n.Pitch().Ball().Pos(),t.Pos(),i);if(0>o)return!1;var r=o*t.MaxSpeed(),s=.3;r*=s;var l=new Vector2D(0,0),p=new Vector2D(0,0);geometry.GetTangentPoints(t.Pos(),r,n.Pitch().Ball().Pos(),l,p);for(var c=3,u=[l,t.Pos(),p],m=BallUtils.MaxFloat,g=!1,_=0;c>_;++_){var h=Math.abs(u[_].x-n.OpponentsGoal().Center().x);m>h&&n.Pitch().PlayingArea().Inside(u[_])&&n.isPassSafeFromAllOpponents(n.Pitch().Ball().Pos(),u[_],t,i)&&(m=h,a.copyOther(u[_]),g=!0)}return g},e.prototype.isPassSafeFromOpponent=function(e,t,a,i,n){var o=this,r=Vector2D.mathJianOther(t,e),s=Vector2D.Vec2DNormalize(r),l=Transformations.PointToLocalSpace(i.Pos(),s,s.Perp(),e);if(l.x<0)return!0;if(Vector2D.Vec2DDistanceSq(e,t)<Vector2D.Vec2DDistanceSq(i.Pos(),e))return a?Vector2D.Vec2DDistanceSq(t,i.Pos())>Vector2D.Vec2DDistanceSq(t,a.Pos())?!0:!1:!0;var p=o.Pitch().Ball().TimeToCoverDistance(new Vector2D(0,0),new Vector2D(l.x,0),n),c=i.MaxSpeed()*p+o.Pitch().Ball().BRadius()+i.BRadius();return Math.abs(l.y)<c?!1:!0},e.prototype.isPassSafeFromAllOpponents=function(e,t,a,i){for(var n,o=this,r=o.Opponents().Members(),s=0,l=r.length;l>s;s++)if(n=r[s],!o.isPassSafeFromOpponent(e,t,a,n,i))return!1;return!0},e.prototype.CanShoot=function(e,t,a){void 0===a&&(a=new Vector2D(0,0));for(var i=this,n=ParamLoader.instance,o=n.NumAttemptsToFindValidStrike;o--;){a.copyOther(i.OpponentsGoal().Center());var r=i.OpponentsGoal().LeftPost().y+i.Pitch().Ball().BRadius(),s=i.OpponentsGoal().RightPost().y-i.Pitch().Ball().BRadius();a.y=BallUtils.RandInt(r,s);var l=i.Pitch().Ball().TimeToCoverDistance(e,a,t);if(l>=0&&i.isPassSafeFromAllOpponents(e,a,null,t))return!0}return!1},e.prototype.mastShoot=function(e,t,a,i){void 0===a&&(a=new Vector2D(0,0)),void 0===i&&(i=0/0);var n=this,o=(ParamLoader.instance,n.OpponentsGoal());a.copyOther(o.Center());var r,s,l,p;l=n.Pitch().Ball().BRadius(),i==shoot_failtype.type_miss?(p=BallUtils.RandInt(5,30),r=o.LeftPost().y-l-p,s=o.RightPost().y+l+p,a.y=BallUtils.RandBool()?r:s):i==shoot_failtype.type_hitpost?(p=0,r=o.LeftPost().y-l-p,s=o.RightPost().y+l+p,a.y=BallUtils.RandBool()?r:s):(p=10,r=o.LeftPost().y+l+p,s=o.RightPost().y-l-p,a.y=BallUtils.RandInt(r,s))},e.prototype.ReturnAllFieldPlayersToHome=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)e=a[i],e.Role()!=player_role.goal_keeper&&MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,1,e.ID(),MessageType.Msg_GoHome,null)},e.prototype.ReturnAllFieldPlayersToWait=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)e=a[i],e.Role()!=player_role.goal_keeper?e.GetFSM().SetAndEnterCurrentState(Wait.instance):e.GetFSM().SetAndEnterCurrentState(TendGoal.instance)},e.prototype.Render=function(e){for(var t,a=this,i=Cgdi.instance,n=ParamLoader.instance,o=a.m_Players,r=0,s=o.length;s>r;r++)t=o[r],t.Render(e);n.bShowControllingTeam&&(i.TextColor(Col_type.white),a.Color()==team_color.blue&&a.InControl()?i.TextAtPos(20,3,"Blue in Control"):a.Color()==team_color.red&&a.InControl()&&i.TextAtPos(20,3,"Red in Control"),null!=a.m_pControllingPlayer&&i.TextAtPos(a.Pitch().cxClient()-150,3,"Controlling Player: "+a.m_pControllingPlayer.ID().toString())),n.bSupportSpots&&a.InControl()&&a.m_pSupportSpotCalc.Render()},e.prototype.CreatePlayers=function(){var e,t,a,i,n,o,r=this,s=Manifest.getIns(FightDM),l=ParamLoader.instance;if(r.Color()==team_color.blue)for(i=s._fightData.myPlayArr,e=0,t=i.length;t>e;e++)a=i[e],a.sholdN=l.sholdNum,a.getChangePos(r.m_pPitch,!0),o=r.creatPlayer(a),r.m_Players.push(o),r.m_initPlayers.push(o);else for(n=s._fightData.oppPlayArr,e=0,t=n.length;t>e;e++)a=n[e],a.sholdN=l.sholdNum,a.getChangePos(r.m_pPitch,!0),o=r.creatPlayer(a),r.m_Players.push(o),r.m_initPlayers.push(o);for(var p,c=EntityManager.instance,u=r.m_Players,m=0,g=u.length;g>m;m++)p=u[m],c.RegisterEntity(p)},e.prototype.creatPlayer=function(e){var t,a=this;return t=e.roletype==player_role.goal_keeper?new GoalKeeper(a,e):new FieldPlayer(a,e)},e.prototype.GetPlayerFromID=function(e){for(var t,a=this,i=a.m_Players,n=0,o=i.length;o>n;n++)if(t=i[n],t.ID()==e)return t;return null},e.prototype.SetPlayerHomeRegion=function(e,t){this.m_Players[e].SetHomeRegion(t)},e.prototype.UpdateTargetsOfWaitingPlayers=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)e=a[i],e.Role()!=player_role.goal_keeper&&(e.GetFSM().isInState(Wait.instance)||e.GetFSM().isInState(ReturnToHomeRegion.instance))&&e.Steering().SetTarget(e.HomePosition())},e.prototype.AllPlayersAtHome=function(){for(var e,t=this,a=t.m_Players,i=0,n=a.length;n>i;i++)if(e=a[i],0==e.InHomeRegion())return!1;return!0},e.prototype.RequestPass=function(e){var t=this;if(!(BallUtils.RandFloat()>.1)){var a=ParamLoader.instance;a.blSeverFight||t.isPassSafeFromAllOpponents(t.ControllingPlayer().Pos(),e.Pos(),e,a.MaxPassingForce)&&MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),t.ControllingPlayer().ID(),MessageType.Msg_PassToMe,e)}},e.prototype.isOpponentWithinRadius=function(e,t){for(var a,i=this.Opponents().Members(),n=0,o=i.length;o>n;n++)if(a=i[n],Vector2D.Vec2DDistanceSq(e,a.Pos())<t*t)return!0;return!1},e.prototype.clearAllLookPlay=function(){this.clearAllPlayerData(!0,!1,!1)},e.prototype.clearPlayerAction=function(){this.clearAllPlayerData(!1,!0,!1)},e.prototype.clearPlayerMoveType=function(){this.clearAllPlayerData(!1,!1,!0)},e.prototype.clearAllPlayerData=function(e,t,a){var i,n,o,r,s=this.Members();for(n=0,o=s.length;o>n;n++)i=s[n],r=i.Data(),e&&i.setLookPlayer(null),r&&(t&&r.clearAction(),a&&r.clearMoveType())},e}();__reflect(SoccerTeam.prototype,"SoccerTeam");var StateMachine=function(){function e(e){var t=this;t.m_pOwner=e,t.m_pCurrentState=null,t.m_pPreviousState=null,t.m_pGlobalState=null}return e.prototype.SetCurrentState=function(e){this.m_pCurrentState=e},e.prototype.SetAndEnterCurrentState=function(e){var t=this;t.m_pCurrentState=e,t.m_pCurrentState.Enter(t.m_pOwner)},e.prototype.SetGlobalState=function(e){this.m_pGlobalState=e},e.prototype.SetPreviousState=function(e){this.m_pPreviousState=e},e.prototype.Update=function(){var e=this;e.m_pGlobalState&&e.m_pGlobalState.Execute(e.m_pOwner),e.m_pCurrentState&&e.m_pCurrentState.Execute(e.m_pOwner)},e.prototype.HandleMessage=function(e){var t=this;return t.m_pCurrentState&&t.m_pCurrentState.OnMessage(t.m_pOwner,e)?!0:t.m_pGlobalState&&t.m_pGlobalState.OnMessage(t.m_pOwner,e)?!0:!1},e.prototype.ChangeState=function(e){var t=this;t.m_pPreviousState=t.m_pCurrentState,t.m_pCurrentState.Exit(t.m_pOwner),t.m_pCurrentState=e,t.m_pCurrentState.Enter(t.m_pOwner)},e.prototype.RevertToPreviousState=function(){this.ChangeState(this.m_pPreviousState)},e.prototype.isInState=function(e){return egret.getQualifiedClassName(this.m_pCurrentState)==egret.getQualifiedClassName(e)?!0:!1},e.prototype.CurrentState=function(){return this.m_pCurrentState},e.prototype.GlobalState=function(){return this.m_pGlobalState},e.prototype.reviousState=function(){return this.m_pPreviousState},e.prototype.GetNameOfCurrentState=function(){var e=this,t=String(egret.getQualifiedClassName(e.m_pCurrentState));return t.length>5&&t.slice(5),t},e}();__reflect(StateMachine.prototype,"StateMachine");var SteeringBehaviors=function(){function e(e,t,a){this.m_vSteeringForce=new Vector2D(0,0),this.m_vTarget=new Vector2D(0,0),this.m_Antenna=[];var i=ParamLoader.instance,n=this;n.m_pPlayer=e,n.m_iFlags=0,n.m_dMultSeparation=i.SeparationCoefficient,n.m_bTagged=!1,n.m_dViewDistance=i.ViewDistance,n.m_pBall=a,n.m_dInterposeDist=0,n.m_Antenna=[new Vector2D(0,0),new Vector2D(0,0),new Vector2D(0,0),new Vector2D(0,0),new Vector2D(0,0)]}return e.prototype.On=function(e){return(this.m_iFlags&e)==e},e.prototype.Force=function(){return this.m_vSteeringForce},e.prototype.Target=function(){return this.m_vTarget},e.prototype.SetTarget=function(e){this.m_vTarget.copyOther(e)},e.prototype.InterposeDistance=function(){return this.m_dInterposeDist},e.prototype.SetInterposeDistance=function(e){this.m_dInterposeDist=e},e.prototype.Tagged=function(){return this.m_bTagged},e.prototype.Tag=function(){this.m_bTagged=!0},e.prototype.UnTag=function(){this.m_bTagged=!1},e.prototype.SeekOn=function(){this.m_iFlags|=behavior_type.seek},e.prototype.ArriveOn=function(){this.m_iFlags|=behavior_type.arrive},e.prototype.PursuitOn=function(){this.m_iFlags|=behavior_type.pursuit},e.prototype.SeparationOn=function(){this.m_iFlags|=behavior_type.separation},e.prototype.InterposeOn=function(e){this.m_iFlags|=behavior_type.interpose,this.m_dInterposeDist=e},e.prototype.SeekOff=function(){this.On(behavior_type.seek)&&(this.m_iFlags^=behavior_type.seek)},e.prototype.ArriveOff=function(){this.On(behavior_type.arrive)&&(this.m_iFlags^=behavior_type.arrive)},e.prototype.PursuitOff=function(){this.On(behavior_type.pursuit)&&(this.m_iFlags^=behavior_type.pursuit)},e.prototype.SeparationOff=function(){this.On(behavior_type.separation)&&(this.m_iFlags^=behavior_type.separation)},e.prototype.InterposeOff=function(){this.On(behavior_type.interpose)&&(this.m_iFlags^=behavior_type.interpose)},e.prototype.AllOff=function(){this.m_iFlags=0},e.prototype.SeekIsOn=function(){return this.On(behavior_type.seek)},e.prototype.ArriveIsOn=function(){return this.On(behavior_type.arrive)},e.prototype.PursuitIsOn=function(){return this.On(behavior_type.pursuit)},e.prototype.SeparationIsOn=function(){return this.On(behavior_type.separation)},e.prototype.InterposeIsOn=function(){return this.On(behavior_type.interpose)},e.prototype.ForwardComponent=function(){return this.m_pPlayer.Heading().dotProd(this.m_vSteeringForce)},e.prototype.SideComponent=function(){return this.m_pPlayer.Side().dotProd(this.m_vSteeringForce)*this.m_pPlayer.MaxTurnRate()},e.prototype.Calculate=function(){var e=this;return e.m_vSteeringForce.zero(),e.m_vSteeringForce=e.SumForces(),e.m_vSteeringForce.Truncate(e.m_pPlayer.MaxForce()),e.m_vSteeringForce},e.prototype.SumForces=function(){var e=this,t=new Vector2D(0,0);return e.FindNeighbours(),e.On(behavior_type.separation)&&(t.mathPlusSelf(Vector2D.mathRideOther(e.Separation(),e.m_dMultSeparation)),!e.AccumulateForce(e.m_vSteeringForce,t))?e.m_vSteeringForce:e.On(behavior_type.seek)&&(t.mathPlusSelf(e.Seek(e.m_vTarget)),!e.AccumulateForce(e.m_vSteeringForce,t))?e.m_vSteeringForce:e.On(behavior_type.arrive)&&(t.mathPlusSelf(e.Arrive(e.m_vTarget,Deceleration.fast)),!e.AccumulateForce(e.m_vSteeringForce,t))?e.m_vSteeringForce:e.On(behavior_type.pursuit)&&(t.mathPlusSelf(e.Pursuit(e.m_pBall)),!e.AccumulateForce(e.m_vSteeringForce,t))?e.m_vSteeringForce:e.On(behavior_type.interpose)&&(t.mathPlusSelf(e.Interpose(e.m_pBall,e.m_vTarget,e.m_dInterposeDist)),!e.AccumulateForce(e.m_vSteeringForce,t))?e.m_vSteeringForce:e.m_vSteeringForce},e.prototype.FindNeighbours=function(){for(var e,t=this,a=PlayerBase.GetAllMembers(),i=0,n=a.length;n>i;i++){e=a[i],e.Steering().UnTag();var o=Vector2D.mathJianOther(e.Pos(),t.m_pPlayer.Pos());o.lengthSQ<t.m_dViewDistance*t.m_dViewDistance&&e.Steering().Tag()}},e.prototype.AccumulateForce=function(e,t){var a=e.length,i=this.m_pPlayer.MaxForce()-a;if(0>=i)return!1;var n=t.length;return n>i&&(n=i),e.mathPlusSelf(Vector2D.mathRideOther(Vector2D.Vec2DNormalize(t),n)),!0},e.prototype.Separation=function(){for(var e,t=this,a=new Vector2D(0,0),i=PlayerBase.GetAllMembers(),n=0,o=i.length;o>n;n++)if(e=i[n],e!=t.m_pPlayer&&e.Steering().Tagged()){var r=Vector2D.mathJianOther(t.m_pPlayer.Pos(),e.Pos());a.mathPlusSelf(Vector2D.mathchuOther(Vector2D.Vec2DNormalize(r),r.length))}return a},e.prototype.Seek=function(e){var t=this,a=Vector2D.mathJianOther(e,t.m_pPlayer.Pos()),i=Vector2D.mathRideOther(Vector2D.Vec2DNormalize(a),t.m_pPlayer.MaxSpeed());return Vector2D.mathJianOther(i,t.m_pPlayer.Velocity())},e.prototype.Arrive=function(e,t){var a=this,i=Vector2D.mathJianOther(e,a.m_pPlayer.Pos()),n=i.length;if(n>0){var o=.3,r=n/(t*o);r=Math.min(r,a.m_pPlayer.MaxSpeed());var s=Vector2D.mathRideOther(i,r/n);return Vector2D.mathJianOther(s,a.m_pPlayer.Velocity())}return new Vector2D(0,0)},e.prototype.Pursuit=function(e){var t=this,a=Vector2D.mathJianOther(e.Pos(),t.m_pPlayer.Pos()),i=0;return 0!=e.Speed()&&(i=a.length/e.Speed()),t.m_vTarget.copyOther(e.FuturePosition(i)),t.Arrive(t.m_vTarget,Deceleration.fast)},e.prototype.Interpose=function(e,t,a){var i=Vector2D.mathJianOther(e.Pos(),t),n=Vector2D.mathRideOther(Vector2D.Vec2DNormalize(i),a),o=Vector2D.mathPlusOther(t,n);return this.Arrive(o,Deceleration.normal)},e}();__reflect(SteeringBehaviors.prototype,"SteeringBehaviors");var SupportSpot=function(){function e(e,t){this.m_vPos=new Vector2D(0,0),this.m_dScore=0,this.m_vPos.copyOther(e),this.m_dScore=t}return e}();__reflect(SupportSpot.prototype,"SupportSpot");var SupportSpotCalculator=function(){function e(e,t,a){this.m_Spots=[];var i=this;i.m_pBestSupportingSpot=null,i.m_pTeam=a;var n,o,r=a.Pitch().PlayingArea(),s=ParamLoader.instance,l=.8*r.Height(),p=.9*r.Width(),c=p/e,u=l/t,m=r.Left()+(r.Width()-p)/2+c/2,g=r.Right()-(r.Width()-p)/2-c/2,_=r.Top()+(r.Height()-l)/2+u/2,h=e/2-1;for(n=0;h>n;++n)for(o=0;t>o;++o)i.m_pTeam.Color()==team_color.blue?i.m_Spots.push(new SupportSpot(new Vector2D(m+n*c,_+o*u),0)):i.m_Spots.push(new SupportSpot(new Vector2D(g-n*c,_+o*u),0));i.m_pRegulator=new Regulator(s.SupportSpotUpdateFreq)}return e.prototype.DetermineBestSupportingPosition=function(){var e=this;if(!e.m_pRegulator.isReady()&&e.m_pBestSupportingSpot)return e.m_pBestSupportingSpot.m_vPos;var t=ParamLoader.instance;e.m_pBestSupportingSpot=null;for(var a,i,n,o,r=0,s=200,l=0,p=e.m_Spots.length;p>l;l++)a=e.m_Spots[l],a.m_dScore=1,i=e.m_pTeam.ControllingPlayer(),i&&e.m_pTeam.isPassSafeFromAllOpponents(i.Pos(),a.m_vPos,null,t.MaxPassingForce)&&(a.m_dScore+=t.Spot_PassSafeScore),e.m_pTeam.CanShoot(a.m_vPos,t.MaxShootingForce)&&(a.m_dScore+=t.Spot_CanScoreFromPositionScore),e.m_pTeam.SupportingPlayer()&&(n=Vector2D.Vec2DDistance(e.m_pTeam.ControllingPlayer().Pos(),a.m_vPos),o=Math.abs(s-n),s>o&&(a.m_dScore+=t.Spot_DistFromControllingPlayerScore*(s-o)/s)),a.m_dScore>r&&(r=a.m_dScore,e.m_pBestSupportingSpot=a);return e.m_pBestSupportingSpot.m_vPos},e.prototype.GetBestSupportingSpot=function(){var e=this;return e.m_pBestSupportingSpot?e.m_pBestSupportingSpot.m_vPos:e.DetermineBestSupportingPosition()},e.prototype.Render=function(){},e}();__reflect(SupportSpotCalculator.prototype,"SupportSpotCalculator");var Telegram=function(){function e(e,t,a,i,n){void 0===n&&(n=null),this.SmallestDelay=.25;var o=this;o.DispatchTime=e,o.Sender=t,o.Receiver=a,o.Msg=i,o.ExtraInfo=n}return e}();__reflect(Telegram.prototype,"Telegram");var TickCounter=function(){function e(){this.m_lCount=0,this.m_iFramesElapsed=0}return Object.defineProperty(e,"instance",{get:function(){var t=this;return t._instance||(t._instance=new e),t._instance},enumerable:!0,configurable:!0}),e.prototype.Update=function(){++this.m_lCount,++this.m_iFramesElapsed},e.prototype.GetCurrentFrame=function(){return this.m_lCount},e.prototype.Reset=function(){this.m_lCount=0},e.prototype.Start=function(){this.m_iFramesElapsed=0},e.prototype.FramesElapsedSinceStartCalled=function(){return this.m_iFramesElapsed},e}();__reflect(TickCounter.prototype,"TickCounter");var Transformations=function(){function e(){}return e.Vec2DRotateAroundOrigin=function(e,t){var a=new C2DMatrix;a.Rotate(t),a.TransformVector2Ds(e)},e.PointToLocalSpace=function(e,t,a,i){var n=e.clone(),o=new C2DMatrix,r=-i.dotProd(t),s=-i.dotProd(a);return o._11(t.x),o._12(a.x),o._21(t.y),o._22(a.y),o._31(r),o._32(s),o.TransformVector2Ds(n),n},e.WorldTransform=function(e,t,a,i,n){for(var o=[],r=0,s=e.length;s>r;r++)o.push(e[r].clone());var l=new C2DMatrix;return(1!=n.x||1!=n.y)&&l.Scale(n.x,n.y),l.RotateVct(a,i),l.Translate(t.x,t.y),l.TransformVector2DsArr(o),o},e.PointToWorldSpace=function(e,t,a,i){var n=e.clone(),o=new C2DMatrix;return o.RotateVct(t,a),o.Translate(i.x,i.y),o.TransformVector2Ds(n),n},e}();__reflect(Transformations.prototype,"Transformations");var BallUtils=function(){function e(){}return e.isCanLv=function(t){return Math.random()*e.lvallnum<t?!0:!1},e.DegsToRads=function(e){return this.TwoPi*(e/360)},e.IsZero=function(e){return-this.MinDouble<e&&e<this.MinDouble},e.InRange=function(e,t,a){return t>e?a>e&&t>a?!0:!1:e>a&&a>t?!0:!1},e.RandInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.RandFloat=function(){return Math.random()},e.RandInRange=function(e,t){return e+this.RandFloat()*(t-e)},e.RandBool=function(){return this.RandFloat()>.5?!0:!1},e.RandomClamped=function(){return this.RandFloat()-this.RandFloat()},e.RandGaussian=function(e,t){void 0===e&&(e=0),void 0===t&&(t=1);var a,i,n,o;if(this.use_last)o=this.y2,this.use_last=0;else{do a=2*this.RandFloat()-1,i=2*this.RandFloat()-1,n=a*a+i*i;while(n>=1);n=Math.sqrt(-2*Math.log(n)/n),o=a*n,this.y2=i*n,this.use_last=1}return e+o*t},e.Sigmoid=function(e,t){return void 0===t&&(t=1),1/(1+Math.exp(-e/t))},e.MaxOf=function(e,t){return e>t?e:t},e.MinOf=function(e,t){return t>e?e:t},e.Clamp=function(e,t,a){var i=t,n=a;return t>a&&(i=a,n=t),i>e&&(e=i),e>n&&(e=n),e},e.Rounded=function(e){var t=parseInt(e),a=e-t;return.5>a?t:t+1},e.RoundUnderOffset=function(e,t){var a=parseInt(e),i=e-a;return t>i?a:a+1},e.isEqual=function(e,t){return Math.abs(e-t)<1e-12?!0:!1},e.Average=function(e){for(var t=0,a=0;a<e.length;++a)t+=parseFloat(e[a]);return t/parseFloat(e.length)},e.StandardDeviation=function(e){for(var t=0,a=e,i=0;i<e.length;++i)t+=(e[i]-a)*(e[i]-a);return t/=e.length,Math.sqrt(t)},e.DeleteSTLContainer=function(e){},e.DeleteSTLMap=function(e){for(var t=e.begin();t!=e.end();++t)delete t.second,t.second=null},e.GetSpePoint=function(t,a){var i,n,o=new Vector2D(0,0);switch(t){case spe_pos.pos_leftdown:i=a.Right(),n=a.Bottom(),o.x=1,o.y=1;break;case spe_pos.pos_rightdown:i=a.Right(),n=a.Top(),o.x=1,o.y=-1;break;case spe_pos.pos_leftup:i=a.Left(),n=a.Bottom(),o.x=-1,o.y=1;break;case spe_pos.pos_rightup:i=a.Left(),n=a.Top(),o.x=-1,o.y=-1;break;case spe_pos.pos_penaltyup:i=a.Left()+.1*a.Width(),n=a.Center().y,o.x=1,o.y=0;break;case spe_pos.pos_penaltydown:i=a.Right()-.1*a.Width(),n=a.Center().y,o.x=-1,o.y=0;break;case spe_pos.pos_freepenaltyup:var r=e.RandInRange(.16,.23),s=e.RandInt(-30,30),l=a.Width()*r,p=s;i=a.Left()+l,n=a.Center().y+p,o.x=l,o.y=p;break;case spe_pos.pos_freepenaltydown:var r=e.RandInRange(.16,.23),s=e.RandInt(-30,30),l=-a.Width()*r,p=s;i=a.Right()+l,n=a.Center().y+p,o.x=l,o.y=p}var c=new Vector2D(i,n);o.normalize();var u={pos:c,face:o};return u},e.getPosToFree=function(t,a,i,n,o){var r,s,l,p,c,u,m,g,_,h=.3,d=.45,y=.55,v=10,f=Vector2D.mathJianOther(a,t),b=(f.length,f.clone().normalize()),G=b.Perp(),x=[],C=[],T=5,P=7,A=5,w=Vector2D.mathPlusOther(t,Vector2D.mathRideOther(f,h));for(r=0;T>r;r++)c=r*v-T*v*.5,p=Vector2D.mathRideOther(G,c),l=Vector2D.mathPlusOther(w,p),C.push(l);for(w=Vector2D.mathPlusOther(t,Vector2D.mathRideOther(f,d)),r=0;P>r;r++)u=e.RandBool()?1:-1,c=(30+20*Math.random())*u,p=Vector2D.mathRideOther(G,c),l=Vector2D.mathPlusOther(w,p),l.x+=e.RandInt(0,10),l.y+=e.RandInt(-20,20),x.push(l);for(w=Vector2D.mathPlusOther(t,Vector2D.mathRideOther(f,y)),r=0;A>r;r++)u=e.RandBool()?1:-1,c=(30+20*Math.random())*u,p=Vector2D.mathRideOther(G,c),l=Vector2D.mathPlusOther(w,p),l.x+=e.RandInt(0,10),l.y+=e.RandInt(-20,20),C.push(l);var k=(o.Data().severid,i.Members()),I=n.Members(),S=[],E=[],R=2;for(r=0,s=k.length;s>r;r++)g=k[r],_=g.Data(),g.Role()!=player_role.goal_keeper&&o!=g&&(R>0&&g.Role()==player_role.defender?(R--,_.setMoveType(player_move.move_initfiexd)):S.push(g));for(r=I.length-1;r>=0;r--)g=I[r],_=g.Data(),g.Role()!=player_role.goal_keeper&&o!=g&&E.push(g);s=x.length;var L;for(r=0;s>r;r++)m=S.length,m&&(L=e.RandInt(0,m-1),g=S[L],_=g.Data(),S.splice(L,1),_.initpos.copyOther(x[r]),g.SetPos(_.initpos),e.RandBool()?_.setMoveType(player_move.move_initrend):_.setMoveType(player_move.move_initfiexd));for(s=C.length,r=0;s>r;r++)m=E.length,m&&(L=e.RandInt(0,m-1),g=E[L],_=g.Data(),E.splice(L,1),_.initpos.copyOther(C[r]),g.SetPos(_.initpos),T>r||e.RandBool()?_.setMoveType(player_move.move_initfiexd):_.setMoveType(player_move.move_initrend));o.Data().setMoveType(player_move.move_initfiexd)},e.getPosToPenaltyShow=function(e,t,a,i){var n,o,r,s,l,p=e.Members(),c=p.length,u=i.Team().Color(),m=6,g=10,_=a.Center().x+10,h=(a.Center().y,e.Color());for(l=-1,n=0;c>n;n++)o=p[n],r=o.Data(),(h==u&&o!=i||h!=u&&o.Role()!=player_role.goal_keeper)&&(i.Team().Color()!=u&&o.Role()!=player_role.goal_keeper,r.setMoveType(player_move.move_initfiexd),s=new Vector2D(_,a.Center().y+(g+n*m)*l),r.initpos.copyOther(s),o.SetPos(r.initpos));for(p=t.Members(),c=p.length,l=1,h=t.Color(),n=0;c>n;n++)o=p[n],r=o.Data(),(h==u&&o!=i||h!=u&&o.Role()!=player_role.goal_keeper)&&(r.setMoveType(player_move.move_initfiexd),s=new Vector2D(_,a.Center().y+(g+n*m)*l),r.initpos.copyOther(s),o.SetPos(r.initpos));i.Data().setMoveType(player_move.move_initfiexd)},e.severidIsBlue=function(e){var t=!1,a=ParamLoader.instance;return Math.floor(e/a.playerIdNum)*a.playerIdNum==a.TeamBuleId&&(t=!0),t},e.getTimeType=function(e,t){void 0===t&&(t=!1);var a,i,n=parseInt(e.split(":")[0]);return 45>n?(a=time_type.time_normalup,i="90"):90>n?(a=time_type.time_normaldown,i="90"):105>n?(a=time_type.time_addup,i="120"):120>n?(a=time_type.time_adddown,i="120"):(a=time_type.time_PenaltyShow,i="120"),t?i:a},e.isShootType=function(e){return e==PitchPlay_Type.type_shoot||e==PitchPlay_Type.type_Free||e==PitchPlay_Type.type_Penalty||e==PitchPlay_Type.type_PenaltyShow?!0:!1},e.getPassLongType=function(e,t){var a=match_passnum.pass_short,i=e.lengthSQ,n=[150,300,400];return a=i<n[0]*n[0]?match_passnum.pass_short:i<n[1]*n[1]?match_passnum.pass_centre:i<n[2]*n[2]?match_passnum.pass_long:match_passnum.pass_super},e.showMatchInfo=function(t,a,i,n){void 0===a&&(a=0),void 0===i&&(i=0),void 0===n&&(n=[]);var o=GlobalConfig.getMatchReportVO(t,a,i);e.showVOMatchInfo(o,n)},e.showVOMatchInfo=function(t,a){if(void 0===a&&(a=[]),t){var i="",n="",o="",r="",s=a.length;s>0&&(i=a[0]),s>1&&(n=a[1]),s>2&&(o=a[2]),s>3&&(r=a[3]);var l=t.text,p=FormatString.format(l,i,n,o,r);if(e.isCanLv(t.rate)){var c={str:p,type:t.type};EventBus.sendMessage(game.GameCommands.FIGHT_BROAD_ADD,c)}}},e.getnamecol=function(t,a,i){if(void 0===i&&(i=!0),isNaN(a)||null==t)return"";var n,o=e.severidIsBlue(a),r=ParamLoader.instance,s=a%r.playerIdNum,l=a.toString();return o?(n=ColorUtil.blue_font,l=t.myServerVo.getNameForId(s)):(n=ColorUtil.red_font,l=t.oppServerVo.getNameForId(s)),i?ColorUtil.getHtmlColStr(n,l):l},e.getBallidToSeverId=function(t,a){var i=e.severidIsBlue(a),n=ParamLoader.instance,o=a%n.playerIdNum,r=a;return r=i?t.myServerVo.getBallidToSeverId(o):t.oppServerVo.getBallidToSeverId(o)},e.serveridToNum=function(e){return e%ParamLoader.instance.playerIdNum},e.serveridToColor=function(e){var t=ParamLoader.instance;return Math.floor(e/t.playerIdNum)},e.MaxInt=2147438647,e.MaxDouble=2147438647,e.MinDouble=-2147438647,e.MaxFloat=2147438647,e.MinFloat=-2147438647,e.Pi=3.14159,e.TwoPi=2*Math.PI,e.HalfPi=Math.PI/2,e.QuarterPi=Math.PI/4,e.lvallnum=1e4,e.y2=0,e.use_last=0,e}();__reflect(BallUtils.prototype,"BallUtils");var MatrixB=function(){function e(){this._11=0,this._12=0,this._13=0,this._21=0,this._22=0,this._23=0,this._31=0,this._32=0,this._33=0;var e=this;e._11=0,e._12=0,e._13=0,e._21=0,e._22=0,e._23=0,e._31=0,e._32=0,e._33=0}return e}();__reflect(MatrixB.prototype,"MatrixB");var C2DMatrix=function(){function e(){this.m_Matrix=new MatrixB,this.Identity()}return e.prototype._11=function(e){this.m_Matrix._11=e},e.prototype._12=function(e){this.m_Matrix._12=e},e.prototype._13=function(e){this.m_Matrix._13=e},e.prototype._21=function(e){this.m_Matrix._21=e},e.prototype._22=function(e){this.m_Matrix._22=e},e.prototype._23=function(e){this.m_Matrix._23=e},e.prototype._31=function(e){this.m_Matrix._31=e},e.prototype._32=function(e){this.m_Matrix._32=e},e.prototype._33=function(e){this.m_Matrix._33=e},e.prototype.MatrixMultiply=function(e){var t=new MatrixB,a=this.m_Matrix;t._11=a._11*e._11+a._12*e._21+a._13*e._31,t._12=a._11*e._12+a._12*e._22+a._13*e._32,t._13=a._11*e._13+a._12*e._23+a._13*e._33,t._21=a._21*e._11+a._22*e._21+a._23*e._31,t._22=a._21*e._12+a._22*e._22+a._23*e._32,t._23=a._21*e._13+a._22*e._23+a._23*e._33,t._31=a._31*e._11+a._32*e._21+a._33*e._31,t._32=a._31*e._12+a._32*e._22+a._33*e._32,t._33=a._31*e._13+a._32*e._23+a._33*e._33,this.m_Matrix=t},e.prototype.TransformVector2DsArr=function(e){for(var t,a,i=this,n=0,o=e.length;o>n;++n)t=i.m_Matrix._11*e[n].x+i.m_Matrix._21*e[n].y+i.m_Matrix._31,a=i.m_Matrix._12*e[n].x+i.m_Matrix._22*e[n].y+i.m_Matrix._32,e[n].x=t,e[n].y=a},e.prototype.TransformVector2Ds=function(e){var t=this,a=t.m_Matrix._11*e.x+t.m_Matrix._21*e.y+t.m_Matrix._31,i=t.m_Matrix._12*e.x+t.m_Matrix._22*e.y+t.m_Matrix._32;e.x=a,e.y=i},e.prototype.Identity=function(){var e=this;e.m_Matrix._11=1,e.m_Matrix._12=0,e.m_Matrix._13=0,e.m_Matrix._21=0,e.m_Matrix._22=1,e.m_Matrix._23=0,e.m_Matrix._31=0,e.m_Matrix._32=0,e.m_Matrix._33=1},e.prototype.Translate=function(e,t){var a=new MatrixB;a._11=1,a._12=0,a._13=0,a._21=0,a._22=1,a._23=0,a._31=e,a._32=t,a._33=1,this.MatrixMultiply(a)},e.prototype.Scale=function(e,t){var a=new MatrixB;a._11=e,a._12=0,a._13=0,a._21=0,a._22=t,a._23=0,a._31=0,a._32=0,a._33=1,this.MatrixMultiply(a)},e.prototype.Rotate=function(e){var t=new MatrixB,a=Math.sin(e),i=Math.cos(e);t._11=i,t._12=a,t._13=0,t._21=-a,t._22=i,t._23=0,t._31=0,t._32=0,t._33=1,this.MatrixMultiply(t)},e.prototype.RotateVct=function(e,t){var a=new MatrixB;a._11=e.x,a._12=e.y,a._13=0,a._21=t.x,a._22=t.y,a._23=0,a._31=0,a._32=0,a._33=1,this.MatrixMultiply(a)},e}();__reflect(C2DMatrix.prototype,"C2DMatrix");var span_type;!function(e){e[e.plane_backside=0]="plane_backside",e[e.plane_front=1]="plane_front",e[e.on_plane=2]="on_plane"}(span_type||(span_type={}));var geometry=function(){function e(){}return e.DistanceToRayPlaneIntersection=function(e,t,a,i){var n=-i.dotProd(a),o=i.dotProd(e)+n,r=i.dotProd(t);return 1e-6>r&&r>-1e-6?-1:-(o/r)},e.WhereIsPoint=function(e,t,a){var i=Vector2D.mathJianOther(t,e),n=i.dotProd(a);return-1e-6>n?span_type.plane_front:n>1e-6?span_type.plane_backside:span_type.on_plane},e.GetTangentPoints=function(e,t,a,i,n){var o=Vector2D.mathJianOther(a,e),r=o.lengthSQ,s=t*t;if(s>=r)return!1;var l=1/r,p=Math.sqrt(Math.abs(r-s));return i.x=e.x+t*(t*o.x-o.y*p)*l,i.y=e.y+t*(t*o.y+o.x*p)*l,n.x=e.x+t*(t*o.x+o.y*p)*l,n.y=e.y+t*(t*o.y-o.x*p)*l,!0},e.LineIntersection2D=function(e,t,a,i){var n=(e.y-a.y)*(i.x-a.x)-(e.x-a.x)*(i.y-a.y),o=(e.y-a.y)*(t.x-e.x)-(e.x-a.x)*(t.y-e.y),r=(t.x-e.x)*(i.y-a.y)-(t.y-e.y)*(i.x-a.x);if(0==r)return!1;var s=1/r,l=n*s,p=o*s;return l>0&&1>l&&p>0&&1>p?!0:!1},e}();__reflect(geometry.prototype,"geometry");var player_role;!function(e){e[e.goal_keeper=1]="goal_keeper",e[e.attacker=2]="attacker",e[e.defender=3]="defender"}(player_role||(player_role={}));var player_type;!function(e){e[e.keeper=1]="keeper",e[e.guard=2]="guard",e[e.backwaist=3]="backwaist",e[e.midfield=4]="midfield",e[e.frontwaist=5]="frontwaist",e[e.forward=6]="forward"}(player_type||(player_type={}));var player_move;!function(e){e[e.move_ballrend=1]="move_ballrend",e[e.move_ballfixed=2]="move_ballfixed",e[e.move_initrend=3]="move_initrend",e[e.move_initfiexd=4]="move_initfiexd"}(player_move||(player_move={}));var PitchPlay_Type;!function(e){e[e.type_pass=0]="type_pass",e[e.type_shoot=1]="type_shoot",e[e.type_dribble=2]="type_dribble",e[e.type_Interpose=3]="type_Interpose",e[e.type_Rescue=4]="type_Rescue",e[e.type_Foul=5]="type_Foul",e[e.type_Corner=6]="type_Corner",e[e.type_Free=7]="type_Free",e[e.type_Penalty=8]="type_Penalty",e[e.type_PenaltyShow=9]="type_PenaltyShow"}(PitchPlay_Type||(PitchPlay_Type={}));var actionPitch;!function(e){e[e.action_Dribble=0]="action_Dribble",e[e.action_Pass=1]="action_Pass",e[e.action_Receive=2]="action_Receive",e[e.action_Shoot=3]="action_Shoot",e[e.action_Interpose=4]="action_Interpose",e[e.action_Rescue=5]="action_Rescue",e[e.action_Foul=6]="action_Foul",e[e.action_CornerKickAcr=7]="action_CornerKickAcr",e[e.action_CornerKick=8]="action_CornerKick",e[e.action_CornerKickReceive=9]="action_CornerKickReceive",e[e.action_FreeKickAcr=10]="action_FreeKickAcr",e[e.action_FreeKick=11]="action_FreeKick",e[e.action_PenaltyKickAcr=12]="action_PenaltyKickAcr",e[e.action_PenaltyKick=13]="action_PenaltyKick",e[e.action_PenaltyShowKickAcr=14]="action_PenaltyShowKickAcr",e[e.action_PenaltyShowKick=15]="action_PenaltyShowKick"}(actionPitch||(actionPitch={}));var time_type;!function(e){e[e.time_normalup=1]="time_normalup",e[e.time_normaldown=2]="time_normaldown",e[e.time_addup=3]="time_addup",e[e.time_adddown=4]="time_adddown",e[e.time_PenaltyShow=5]="time_PenaltyShow"}(time_type||(time_type={}));var showtype;!function(e){e[e.show_DefToact=0]="show_DefToact",e[e.show_ActIng=1]="show_ActIng",e[e.show_Corner=2]="show_Corner",e[e.show_Free=3]="show_Free",e[e.show_Penalty=4]="show_Penalty",e[e.show_PenaltyShow=5]="show_PenaltyShow"}(showtype||(showtype={}));var spe_pos;!function(e){e[e.pos_leftdown=60]="pos_leftdown",e[e.pos_rightdown=61]="pos_rightdown",e[e.pos_leftup=62]="pos_leftup",e[e.pos_rightup=63]="pos_rightup",e[e.pos_penaltyup=100]="pos_penaltyup",e[e.pos_penaltydown=101]="pos_penaltydown",e[e.pos_freepenaltyup=102]="pos_freepenaltyup",e[e.pos_freepenaltydown=103]="pos_freepenaltydown"}(spe_pos||(spe_pos={}));var team_color;!function(e){e[e.blue=0]="blue",e[e.red=1]="red"}(team_color||(team_color={}));var behavior_type;!function(e){e[e.none=0]="none",e[e.seek=1]="seek",e[e.arrive=2]="arrive",e[e.separation=4]="separation",e[e.pursuit=8]="pursuit",e[e.interpose=16]="interpose"}(behavior_type||(behavior_type={}));var Deceleration;!function(e){e[e.slow=3]="slow",e[e.normal=2]="normal",e[e.fast=1]="fast"}(Deceleration||(Deceleration={}));var FightEnum;!function(e){e[e.type_pve=1]="type_pve",e[e.type_pvp=2]="type_pvp",e[e.type_pvc=3]="type_pvc",e[e.type_pvf=4]="type_pvf",e[e.type_pvd=5]="type_pvd",e[e.type_pvs=6]="type_pvs",e[e.type_backplay=100]="type_backplay",e[e.type_backplay_league=101]="type_backplay_league"}(FightEnum||(FightEnum={}));var shoot_failtype;!function(e){e[e.type_pounce=2]="type_pounce",e[e.type_fly=3]="type_fly",e[e.type_toohigh=4]="type_toohigh",e[e.type_miss=5]="type_miss",e[e.type_hitpost=6]="type_hitpost"}(shoot_failtype||(shoot_failtype={}));var match_passnum;!function(e){e[e.pass_short=1]="pass_short",e[e.pass_centre=2]="pass_centre",e[e.pass_long=3]="pass_long",e[e.pass_super=4]="pass_super"}(match_passnum||(match_passnum={}));var match_type;!function(e){e[e.type_shoot=1]="type_shoot",e[e.type_shoot_fail_toohigh=50]="type_shoot_fail_toohigh",e[e.type_shoot_fail_hitpost=51]="type_shoot_fail_hitpost",e[e.type_shoot_fail_pounce=52]="type_shoot_fail_pounce",e[e.type_gamestart=101]="type_gamestart",e[e.type_gamecentre=102]="type_gamecentre",e[e.type_gameover=103]="type_gameover",e[e.type_injured=104]="type_injured",e[e.type_yellowcard=501]="type_yellowcard",e[e.type_redcard=502]="type_redcard",e[e.type_yellowredcard=503]="type_yellowredcard",e[e.type_cornercom=601]="type_cornercom",e[e.type_cornerhead=602]="type_cornerhead",e[e.type_steals=700]="type_steals",e[e.type_skill=701]="type_skill",e[e.type_event=702]="type_event",e[e.type_eveshootFree=703]="type_eveshootFree",e[e.type_eveshootPenalty=704]="type_eveshootPenalty",e[e.type_eveshootOutFree=705]="type_eveshootOutFree",e[e.type_eveshootOutPenalty=706]="type_eveshootOutPenalty",e[e.type_eveshootOut=707]="type_eveshootOut",e[e.type_eventRescue=708]="type_eventRescue",e[e.type_eventCorner=709]="type_eventCorner"
}(match_type||(match_type={}));var region_modifier;!function(e){e[e.halfsize=0]="halfsize",e[e.normal=1]="normal"}(region_modifier||(region_modifier={}));var Region=function(){function e(e,t,a,i,n){void 0===n&&(n=-1),this.m_dTop=0,this.m_dLeft=0,this.m_dRight=0,this.m_dBottom=0,this.m_dWidth=0,this.m_dHeight=0,this.m_vCenter=new Vector2D(0,0),this.m_iID=0;var o=this;o.m_dTop=t,o.m_dBottom=i,o.m_dLeft=e,o.m_dRight=a,o.m_iID=n,o.m_vCenter=new Vector2D(Math.round(.5*(e+a)),Math.round(.5*(t+i))),o.m_dWidth=Math.abs(a-e),o.m_dHeight=Math.abs(i-t)}return e.prototype.dispose=function(){},e.prototype.Top=function(){return this.m_dTop},e.prototype.Bottom=function(){return this.m_dBottom},e.prototype.Left=function(){return this.m_dLeft},e.prototype.Right=function(){return this.m_dRight},e.prototype.Width=function(){return Math.abs(this.m_dRight-this.m_dLeft)},e.prototype.Height=function(){return Math.abs(this.m_dTop-this.m_dBottom)},e.prototype.Length=function(){return Math.max(this.Width(),this.Height())},e.prototype.Breadth=function(){return Math.min(this.Width(),this.Height())},e.prototype.Center=function(){return this.m_vCenter},e.prototype.ID=function(){return this.m_iID},e.prototype.getRanDomVct=function(e,t,a){void 0===e&&(e=null),void 0===t&&(t=0),void 0===a&&(a=player_move.move_ballrend);var i,n,o=this,r=o.m_dTop,s=o.m_dBottom,l=o.m_dLeft,p=o.m_dRight;if(e){var c=o.m_vCenter.x,u=o.m_vCenter.y;if(a=player_move.move_ballfixed){var m=t;i=c<e.x?p+m:l-m,n=u<e.y?s+m:r-m}else{var m=.5*t+Math.random()*t;i=c<e.x?BallUtils.RandInt(c,p)+m:BallUtils.RandInt(l,c)-m,n=u<e.y?BallUtils.RandInt(u,s)+m:BallUtils.RandInt(r,u)-m}}else i=BallUtils.RandInt(l,p),n=BallUtils.RandInt(r,s);var g=new Vector2D(i,n);return g},e.prototype.GetRandomPosition=function(){return new Vector2D(BallUtils.RandInRange(this.m_dLeft,this.m_dRight),BallUtils.RandInRange(this.m_dTop,this.m_dBottom))},e.prototype.Inside=function(e,t){void 0===t&&(t=region_modifier.normal);var a=this;if(t==region_modifier.normal)return e.x>a.m_dLeft&&e.x<a.m_dRight&&e.y>a.m_dTop&&e.y<a.m_dBottom;var i=.25*a.m_dWidth,n=.25*a.m_dHeight;return e.x>a.m_dLeft+i&&e.x<a.m_dRight-i&&e.y>a.m_dTop+n&&e.y<a.m_dBottom-n},e.twoPointLocation=function(e,t,a){var i=10,n=Math.abs(t-e),o=Math.abs((t-e)/a);return i=o>n?n:o},e.prototype.Render=function(e){void 0===e&&(e=!1);var t=Cgdi.instance;t.HollowBrush(),t.GreenPen(),t.Rect(this.m_dLeft,this.m_dTop,this.m_dWidth,this.m_dHeight)},e}();__reflect(Region.prototype,"Region");var vector_clock;!function(e){e[e.clockwise=1]="clockwise",e[e.anticlockwise=-1]="anticlockwise"}(vector_clock||(vector_clock={}));var Vector2D=function(){function e(e,t){this._x=0,this._y=0,this._x=e,this._y=t}return e.prototype.clone=function(){return new e(this._x,this._y)},e.prototype.zero=function(){return this._x=0,this._y=0,this},e.prototype.isZero=function(){return 0==this._x&&0==this._y},Object.defineProperty(e.prototype,"angle",{get:function(){return Math.atan2(this._y,this._x)},set:function(e){var t=this.length;this._x=Math.cos(e)*t,this._y=Math.sin(e)*t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){var e=Math.atan2(this._y,this._x);return e/Math.PI*180},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Math.sqrt(this.lengthSQ)},set:function(e){var t=this.angle;this._x=Math.cos(t)*e,this._y=Math.sin(t)*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lengthSQ",{get:function(){return this._x*this._x+this._y*this._y},enumerable:!0,configurable:!0}),e.prototype.normalize=function(){var e=this.length;return 0!=e&&(this._x/=e,this._y/=e),this},e.mathPlusOther=function(t,a){var i=new e(t.x,t.y);return i.x+=a.x,i.y+=a.y,i},e.mathJianOther=function(t,a){var i=new e(t.x,t.y);return i.x-=a.x,i.y-=a.y,i},e.mathRideOther=function(t,a){var i=new e(t.x,t.y);return i.x*=a,i.y*=a,i},e.mathchuOther=function(t,a){var i=new e(t.x,t.y);return 0!=a&&(i.x/=a,i.y/=a),i},e.prototype.mathPlusSelf=function(e){this.x+=e.x,this.y+=e.y},e.prototype.mathJianSelf=function(e){this.x-=e.x,this.y-=e.y},e.prototype.mathRideSelf=function(e){this.x*=e,this.y*=e},e.prototype.mathchuSelf=function(e){0!=e&&(this.x/=e,this.y/=e)},e.prototype.Sign=function(e){return this.y*e.x>this.x*e.y?vector_clock.anticlockwise:vector_clock.clockwise},e.prototype.Reflect=function(t){var a=2*this.dotProd(t);this.mathPlusSelf(e.mathRideOther(t.GetReverse(),a))},e.prototype.GetReverse=function(){return new e(-this.x,-this.y)},e.prototype.Perp=function(){return new e(-this.y,this.x)},e.Vec2DNormalize=function(t){var a=new e(t.x,t.y),i=a.length;return 0!=i&&(a.x/=i,a.y/=i),a},e.Vec2DDistance=function(e,t){var a=t.y-e.y,i=t.x-e.x;return Math.sqrt(a*a+i*i)},e.Vec2DDistanceSq=function(e,t){var a=t.y-e.y,i=t.x-e.x;return a*a+i*i},e.VectorToPOINT=function(e){var t=new egret.Point;return t.x=e.x,t.y=e.y,t},e.prototype.Truncate=function(e){this.length>e&&(this.normalize(),this.mathRideSelf(e))},e.prototype.truncate=function(e){return length=Math.min(e,this.length),this},e.prototype.reverse=function(){return this._x=-this._x,this._y=-this._y,this},e.prototype.isNormalized=function(){return 1==this.length},e.prototype.dotProd=function(e){return this._x*e.x+this._y*e.y},e.prototype.crossProd=function(e){return this._x*e.y-this._y*e.x==0},e.angleBetween=function(e,t){e.isNormalized()||(e=e.clone().normalize()),t.isNormalized()||(t=t.clone().normalize());var a=e.dotProd(t);return a>1&&(a=1),-1>a&&(a=-1),Math.acos(a)},e.prototype.sign=function(e){return this.perp.dotProd(e)<0?-1:1},Object.defineProperty(e.prototype,"perp",{get:function(){return new e(-this.y,this.x)},enumerable:!0,configurable:!0}),e.prototype.dist=function(e){return Math.sqrt(this.distSQ(e))},e.prototype.distSQ=function(e){var t=e.x-this.x,a=e.y-this.y;return t*t+a*a},e.prototype.add=function(t){return new e(this._x+t.x,this._y+t.y)},e.prototype.subtract=function(t){return new e(this._x-t.x,this.y-t.y)},e.prototype.multiply=function(t){return new e(this._x*t,this._y*t)},e.prototype.divide=function(t){return new e(this._x/t,this._y/t)},e.prototype.equals=function(e){return this._x==e.x&&this._y==e.y},e.gravityVector=function(){return null==this._gravityVector&&(this._gravityVector=new e(0,9.8)),this._gravityVector},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),e.prototype.copyOther=function(e){this._x=e.x,this._y=e.y},e._gravityVector=null,e}();__reflect(Vector2D.prototype,"Vector2D");var Wall2D=function(){function e(e,t){this.m_vA=new Vector2D(0,0),this.m_vB=new Vector2D(0,0),this.m_vN=new Vector2D(0,0),this.isGoalZhu=!1;var a=this;a.m_vA.copyOther(e),a.m_vB.copyOther(t),a.CalculateNormal()}return e.prototype.CalculateNormal=function(){var e=this,t=Vector2D.Vec2DNormalize(Vector2D.mathJianOther(e.m_vB,e.m_vA));e.m_vN.x=-t.y,e.m_vN.y=t.x},e.prototype.Render=function(e){void 0===e&&(e=!1);var t=Cgdi.instance;if(t.LineVct(this.m_vA,this.m_vB),e){var a=Math.floor((this.m_vA.x+this.m_vB.x)/2),i=Math.floor((this.m_vA.y+this.m_vB.y)/2);t.Line(a,i,Math.floor(a+5*this.m_vN.x),Math.floor(i+5*this.m_vN.y))}},e.prototype.From=function(){return this.m_vA},e.prototype.SetFrom=function(e){this.m_vA=e,this.CalculateNormal()},e.prototype.To=function(){return this.m_vB},e.prototype.SetTo=function(e){this.m_vB=e,this.CalculateNormal()},e.prototype.Normal=function(){return this.m_vN},e.prototype.SetNormal=function(e){this.m_vN=e},e.prototype.Center=function(){return Vector2D.mathchuOther(Vector2D.mathPlusOther(this.m_vA,this.m_vB),2)},e.prototype.Write=function(e){return e},e.prototype.Read=function(e){},e}();__reflect(Wall2D.prototype,"Wall2D");var vm;!function(e){var t=function(){function e(e){void 0===e&&(e=null),this.currentIndex=0,this.source=e}return e.prototype.getindex=function(){return this.currentIndex},e.prototype.setSource=function(e){this.reset(),this.source=e},e.prototype.getSource=function(){return this.source},Object.defineProperty(e.prototype,"head",{get:function(){return this.reset(),this.source.length>0?this.source[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tail",{get:function(){return this.source[this.source.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.source.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){var e;return this.hasNext()&&(this.currentIndex++,e=this.source[this.currentIndex]),e},enumerable:!0,configurable:!0}),e.prototype.isEnd=function(){return this.current==this.tail},e.prototype.isBegin=function(){return this.current==this.head},e.prototype.hasNext=function(){var e=this.currentIndex+1;return e<=this.source.length-1},e.prototype.hasPrev=function(){var e=this.currentIndex-1;return e>-1},Object.defineProperty(e.prototype,"prev",{get:function(){var e;return this.hasPrev()&&(this.currentIndex--,e=this.source[this.currentIndex]),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevDialog",{get:function(){var e;return this.hasPrev()&&(e=this.source[this.currentIndex-1]),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.source[this.currentIndex]},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.currentIndex=0},e.prototype.setCurrentIndex=function(e){this.currentIndex=e},e}();e.PitchArrayIterator=t,__reflect(t.prototype,"vm.PitchArrayIterator")}(vm||(vm={}));var game;!function(e){var t=function(){function e(){}return e.prototype.getPitchVO=function(e){void 0===e&&(e=0);for(var t,a=this,i=a.items.length,n=0;i>n;n++)if(t=a.items[n],t.id==e)return t;return null},e.prototype.toItemsArray=function(){var e=this;if(null!=e.itemsArray)return e.itemsArray;e.itemsArray=[];for(var t,a=e.items.length,i=0;a>i;i++)t=e.items[i],e.itemsArray.push(t);return e.itemsArray},e.prototype.getNextPitchVO=function(e){var t=this,a=t.items.indexOf(e);return t.items[a+1]?t.items[a+1]:null},e.prototype.getNextNeedPitchVO=function(e,t){void 0===t&&(t=0);var a=this,i=a.getPitchVO(e);if(null==i)return null;var n=i.getStepItem(t);if(null==n)return null;if(e>3)return null;if(i.isLastStep(n)){var o=a.getNextPitchVO(i);return null==o?null:{gid:o.id,sid:o.step[0].id}}var r=i.getNextStepItemByCurrentStep(n);return null==r?null:{gid:i.id,sid:r.id}},e.curlevel=1,e}();e.PitchParseVO=t,__reflect(t.prototype,"game.PitchParseVO")}(game||(game={}));var game;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.type=0,t.time="",t.value="",t.index=0,t.fromid=0,t.toid=0,t.result=1,t.addvalue=0,t.match_subtype=0/0,t.match_result=0/0,t.match_addid=0/0,t.strarr=["value","time"],t.starttimes=[],t}return __extends(t,e),t.prototype.setMatchSubType=function(e){this.match_subtype=e},t.prototype.setMatchResult=function(e){this.match_result=e},t.prototype.setMatchAddId=function(e){this.match_addid=e},t.prototype.objectToThis=function(e){var a,i,n,o=t.CSARR,r=this;for(a in e)i=e[a],n=a,o[a]&&(n=o[a]),-1!=r.strarr.indexOf(n)?r[n]=i.toString():r[n]=isNaN(parseInt(i))?i.toString():parseInt(i)},t.prototype.setDataStr=function(e,t){var a=this,i=t.split(";"),n=i.length;n>0&&(a.type=parseInt(i[0])),n>1&&(a.time=i[1]),n>2&&(a.value=i[2]),n>3&&(a.result=parseInt(i[3]))},t.prototype.StartTime=function(e){for(var t=this,a=t.starttimes.length,i=a;e>=i;i++)t.starttimes.push(0);t.starttimes[e]=egret.getTimer()},t.prototype.getTimeNum=function(e){var t=0,a=this.time.split(",");return a.length>e&&(t=parseInt(a[e])),t},t.prototype.isTimeOver=function(e){var t=!1,a=egret.getTimer(),i=this;return i.starttimes.length<=e||a-i.starttimes[e]>i.getTimeNum(e)&&(t=!0),t},t.prototype.valueArr=function(){for(var e=this.value.split(","),t=e.length-1;t>=0;t--)e[t]=parseFloat(e[t]);return e},t.prototype.initData=function(){var e=this;e.match_subtype=0/0,e.match_result=0/0,e.match_addid=0/0,e.fromid=0,e.toid=0,e.result=1,e.addvalue=0,e.starttimes=[]},t.prototype.setValueToNum=function(e,t,a,i,n,o){void 0===i&&(i=0/0),void 0===n&&(n=!0),void 0===o&&(o=!1);var r=this;r.initData();var s=0;e&&(s=e.length);var l,p,c,u,m=ParamLoader.instance;if(t==team_color.blue?(l=m.BluePlayS,p=m.RedPlayS,c=m.TeamBuleId,u=m.TeamRedId):(l=m.RedPlayS,p=m.BluePlayS,c=m.TeamRedId,u=m.TeamBuleId),!m.blFightINSever)switch(isNaN(i)||(i=r.getidTolv(c,i)),a){case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:i=this.getServerBallID(c,i)}var g=(Language.ins.fight_typeStrArr,r.valueArr());switch(a){case PitchPlay_Type.type_dribble:isNaN(i)?s>0?r.fromid=e[0]:2==g[1]?r.fromid=r.getidTolv(u,r.getValueNum(o,p,u,g[0],i)):r.fromid=r.getidTolv(c,r.getValueNum(o,l,c,g[0],i)):r.fromid=i;break;case PitchPlay_Type.type_pass:isNaN(i)?s>0?r.fromid=e[0]:r.fromid=r.getidTolv(c,r.getValueNum(o,l,c,g[0],i)):r.fromid=i,s>1?r.toid=e[1]:r.toid=r.getidTolv(c,r.getValueNum(o,l,c,g[1],r.fromid)),r.result=g[2];break;case PitchPlay_Type.type_shoot:case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:isNaN(i)?s>0?r.fromid=e[0]:r.fromid=r.getidTolv(c,r.getValueNum(o,l,c,g[0],i)):r.fromid=i,r.result=g[1];break;case PitchPlay_Type.type_Interpose:case PitchPlay_Type.type_Rescue:case PitchPlay_Type.type_Foul:isNaN(i)?s>0?r.fromid=e[0]:r.fromid=r.getidTolv(c,r.getValueNum(o,l,c,g[0],i)):r.fromid=i,r.toid=0/0;break;case PitchPlay_Type.type_Corner:isNaN(i)?s>0?r.fromid=e[0]:r.fromid=r.getidTolv(c,r.getValueNum(o,l,c,g[0],i)):r.fromid=i,s>1?r.toid=e[1]:r.toid=r.getidTolv(c,r.getValueNum(o,l,c,g[1],r.fromid)),r.result=g[2]}},t.prototype.showMatchInfo=function(){var e,t,a,i=this,n=i.type;e=n,t=0,a=i.result,1!=i.result&&(a=0),isNaN(i.match_subtype)||(t=i.match_subtype),isNaN(i.match_result)||(a=i.match_result);var o="",r="",s="",l="",p=BallUtils;switch(e){case PitchPlay_Type.type_shoot:var c=GlobalConfig.getPitchVo(i.pid);c&&c.stype==showtype.show_Corner&&(e=p.RandBool()?match_type.type_cornercom:match_type.type_cornerhead)}var u=Manifest.getIns(FightDM),m=u._fightData,g=[o,r,s,l],_=GlobalConfig.getMatchReportVO(e,t,a);if(_&&m){for(var h,d=_.getBasisArr(),y=0,v=0,f=d.length;f>v;v++)h=parseInt(d[v]),h&&(1==h?i.fromid?g[y]=p.getnamecol(m,i.fromid):i.showMatchErrorLog(e,t,a,h,_.text):2==h?i.toid?g[y]=p.getnamecol(m,i.toid):i.showMatchErrorLog(e,t,a,h,_.text):3==h&&(i.match_addid?g[y]=p.getnamecol(m,i.match_addid):i.showMatchErrorLog(e,t,a,h,_.text)),y++);BallUtils.showVOMatchInfo(_,g)}},t.prototype.showMatchErrorLog=function(e,t,a,i,n){var o="@播报信息有误：type-{0} subtype-{1} result-{2} error-{3} info-{4}";o=FormatString.format(o,e,t,a,i,n),utils.GameComUtil.log(o)},t.prototype.getServerBallID=function(e,t){var a;if(ParamLoader.instance.blFightINSever){var i=Manifest.getIns(FightDM),n=i._fightData,o=n.getFragmentVo();o?(a=o.getFreepeople(),a=a?this.getidTolv(e,a):t):a=t}return a},t.prototype.getidTolv=function(e,t){var a=ParamLoader.instance.playerIdNum,i=e+t%a;return i},t.prototype.getValueNum=function(e,t,a,i,n,o){void 0===n&&(n=0/0),void 0===o&&(o=0);for(var r,s,l,p=this,c=p.getaddId(i,o),u=10*(c-1),m=10*c,g=0/0,_=[],h=ParamLoader.instance.playerIdNum,d=t.length-1;d>=0;d--)r=t[d],l=r%h,s=l+a,!e&&10>l||s!=n&&l>u&&m>l&&_.push(r);var y=_.length;return y?g=_[Math.floor(Math.random()*y)]:(o+=p.getaddId(i,o+1)>6?2:1,g=p.getValueNum(e,t,a,i,n,o)),g},t.prototype.getaddId=function(e,t){var a=t%2,i=Math.ceil(t/2),n=a?i:-i,o=e+n;return o},t.prototype.isSuccess=function(){var e=2==this.result?!1:!0;return e},t.prototype.configIsSuccess=function(){var e,t=this,a=t.type,i=t.valueArr();switch(a){case PitchPlay_Type.type_shoot:case PitchPlay_Type.type_Free:case PitchPlay_Type.type_Penalty:case PitchPlay_Type.type_PenaltyShow:t.result=i[1]}var e=2==this.result?!1:!0;return e},t.Time_A=0,t.Time_B=1,t.CSARR={step:"id",va:"type",rs:"value"},t}(e.BaseVO);e.PitchStepVO=t,__reflect(t.prototype,"game.PitchStepVO")}(game||(game={}));var PitchSyncData=function(){function e(){this.pitchID=0,this.stepID=0}return e.prototype.update=function(e,t){this.pitchID=e,this.stepID=t},e.prototype.getSyncPitchID=function(){return this.pitchID},e.prototype.getSyncStepID=function(){return this.stepID},e.prototype.gettoPitchId=function(){return this.pitchID*e.pitch_step_const+this.stepID},e.prototype.updateFromSyncID=function(t){this.update(e.TransTOPitchID(t),e.TransTOStepID(t))},e.TransTOSyncID=function(e,t){return e*this.pitch_step_const+t},e.TransTOPitchID=function(e){return Math.floor(e/this.pitch_step_const)},e.TransTOStepID=function(e){return e%this.pitch_step_const},e.pitch_step_const=1e4,e}();__reflect(PitchSyncData.prototype,"PitchSyncData");var game;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.step=[],e.strarr=["dec"],e}return __extends(a,t),a.prototype.objectToThis=function(t){var a,i,n,o=this;for(a in t)if(i=t[a],n=0,0==a.indexOf("sr")&&(n=parseInt(a.substr(2))),n){if("0"!=i){var r=new e.PitchStepVO;r.setDataStr(n,i),r.pid=o.id,r.index=n-1,o.step[r.index]=r}}else-1!=o.strarr.indexOf(a)?o[a]=i.toString():o[a]=isNaN(parseInt(i))?i.toString():parseInt(i)},a.prototype.toItemsArray=function(){var e=this;if(null!=e.itemsArray)return e.itemsArray;e.itemsArray=[];for(var t=e.step.length,a=0;t>a;a++){var i=e.step[a];e.itemsArray.push(i)}return e.itemsArray},a.prototype.getStepItem=function(e){void 0===e&&(e=0);for(var t,a=this,i=a.step.length,n=0;i>n;n++)if(t=a.step[n],e==t.id)return t;return null},a.prototype.getNextStepItemByCurrentStep=function(e){var t=this;if(t.isLastStep(e))return null;var a=t.step.indexOf(e);return t.step[a+1]},a.prototype.getNextStepItemByStepId=function(e){for(var t,a,i=this,n=i.step.length,o=0;n>o;o++)if(t=i.step[o],e==t.id){if(n>o+1)return i.step[o+1];break}return a},a.prototype.isLastStep=function(e){return this.step.indexOf(e)==this.step.length-1},a.prototype.getLastStep=function(){return this.step[this.step.length-1]},a.prototype.getFirstStep=function(){return this.step[0]},a}(e.BaseVO);e.PitchVO=t,__reflect(t.prototype,"game.PitchVO")}(game||(game={}));var GlobalPlayerState=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){},t.prototype.Execute=function(e){var t=ParamLoader.instance;if(e.BallWithinReceivingRange()&&e.isControllingPlayer())e.SetMaxSpeed(t.PlayerMaxSpeedWithBall);else{var a=e.Data().pitchAction,i=actionPitch;a!=i.action_Interpose&&a!=i.action_Rescue||!e.GetFSM().isInState(ChaseBall.instance)?e.SetMaxSpeed(t.PlayerMaxSpeedWithoutBall):e.SetMaxSpeed(t.PlayerMaxSpeedWithActionBall)}},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){var a=ParamLoader.instance;switch(t.Msg){case MessageType.Msg_ReceiveBall:return e.Steering().SetTarget(t.ExtraInfo),e.GetFSM().ChangeState(ReceiveBall.instance),!0;case MessageType.Msg_SupportAttacker:return e.GetFSM().isInState(SupportAttacker.instance)?!0:(e.Steering().SetTarget(e.Team().GetSupportSpot()),e.GetFSM().ChangeState(SupportAttacker.instance),!0);case MessageType.Msg_Wait:return e.GetFSM().ChangeState(Wait.instance),!0;case MessageType.Msg_GoHome:return e.SetDefaultHomeRegion(),e.GetFSM().ChangeState(ReturnToHomeRegion.instance),!0;case MessageType.Msg_PassToMe:if(a.blSeverFight)return;var i=t.ExtraInfo;return null==e.Team().Receiver()&&e.BallWithinKickingRange()&&e.Ball().isZCanKick()?(e.Ball().Kick(Vector2D.mathJianOther(i.Pos(),e.Ball().Pos()),a.MaxPassingForce),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),i.ID(),MessageType.Msg_ReceiveBall,i.Pos()),e.GetFSM().ChangeState(Wait.instance),e.FindSupport(),!0):!0}return!1},t}(State);__reflect(GlobalPlayerState.prototype,"GlobalPlayerState");var ChaseBall=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.showNameTxt(),e.Steering().SeekOn()},t.prototype.Execute=function(e){e.showNameTxt();var t=e.Pitch();if(!t.GameOn())return void e.GetFSM().ChangeState(ReturnToHomeRegion.instance);var a=ParamLoader.instance;if(a.blSeverFight){var i=e.Data().pitchAction,n=actionPitch;if(i==n.action_Dribble||i==n.action_Pass||i==n.action_Receive||i==n.action_CornerKickReceive||i==n.action_Shoot||i==n.action_FreeKickAcr||i==n.action_PenaltyKickAcr||i==n.action_PenaltyShowKickAcr||i==n.action_Interpose||i==n.action_Rescue||i==n.action_Foul){var o=!0;(i==n.action_Interpose||i==n.action_Rescue||i==n.action_Foul)&&(o=t.isTimeOver(game.PitchStepVO.Time_A));var r=t.stepVoIterator.current;return e.BallWithinKickingRange()&&o?(r&&r.setMatchAddId(e.Data().severid),i==n.action_Rescue&&e.Team().Opponents().clearPlayerAction(),e.GetFSM().ChangeState(KickBall.instance),void(i==n.action_Receive||i==n.action_CornerKickReceive?r&&!r.isSuccess()||t.nextStepPlay():i==n.action_Interpose?(e.Team().Opponents().clearPlayerAction(),t.nextStepPlay()):i==n.action_Foul&&(e.Team().Opponents().clearPlayerAction(),t.nextStepPlay()))):void e.Steering().SetTarget(e.Ball().Pos())}}else if(e.BallWithinKickingRange())return void e.GetFSM().ChangeState(KickBall.instance);return e.isClosestTeamMemberToBall()?void e.Steering().SetTarget(e.Ball().Pos()):void e.GetFSM().ChangeState(ReturnToHomeRegion.instance)},t.prototype.Exit=function(e){e.Steering().SeekOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(ChaseBall.prototype,"ChaseBall");var Dribble=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.showNameTxt();var t=ParamLoader.instance;if(t.blSeverFight){var a=!0;if(isNaN(e.Data().pitchAction)||(a=!1),a)return}e.Team().SetControllingPlayer(e)},t.prototype.Execute=function(e){e.showNameTxt();var t=ParamLoader.instance,a=e.Data(),i=e.Pitch();if(t.blSeverFight){var n=!0,o=a.pitchAction;if(isNaN(o))e.GetFSM().ChangeState(Wait.instance);else if(n=!1,o==actionPitch.action_Dribble&&i.isTimeOver(game.PitchStepVO.Time_A)){var r=i.getCurStepVo();r&&r.type==PitchPlay_Type.type_dribble&&i.nextStepPlay()}if(n)return}var s=e.Ball().isZCanKick();if(s){var l=e.Team().HomeGoal().Facing().dotProd(e.Heading()),p=0/0;if(0>l&&!t.blHeadDBall){var c=Math.random();p=.2>c?BallUtils.QuarterPi:.6>c?BallUtils.HalfPi:0/0}if(!isNaN(p)&&0>l){var u=e.Heading(),m=-1*p*e.Team().HomeGoal().Facing().Sign(e.Heading());Transformations.Vec2DRotateAroundOrigin(u,m);var g=.8;e.Ball().Kick(u,g)}else{var _=e.Team().OpponentsGoal(),h=e.Team().HomeGoal().Facing().clone(),d=.2;e.isThreatened(t.PlayerVeryZoneSq)&&(d=1);var y=(Math.random()-.5)*d;h.y+=y;var v=e.Ball().Pos();if(Math.abs(v.x-_.LeftPost().x)<ParamLoader.instance.nearGoalFarFrom){var f=h.x,b=h.y;Math.random()<.2&&(b*=-1),h.x=-f,h.y=b}var G=_.Center().y;Math.abs(G-v.y)>.25*t.pitchAllH&&(v.y<G?h.y=Math.abs(h.y):h.y=-1*Math.abs(h.y)),e.Ball().Kick(h,t.MaxDribbleForce)}}e.GetFSM().ChangeState(ChaseBall.instance)},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(Dribble.prototype,"Dribble");var ReturnToHomeRegion=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.Steering().ArriveOn(),e.HomeRegion().Inside(e.Steering().Target(),region_modifier.halfsize)||e.Steering().SetTarget(e.HomePosition())},t.prototype.Execute=function(e){return ParamLoader.instance.blPlayMoveToBall&&e.Steering().SetTarget(e.HomePosition()),e.Pitch().GameOn()&&e.isClosestTeamMemberToBall()&&null==e.Team().Receiver()&&!e.Pitch().GoalKeeperHasBall()?void e.GetFSM().ChangeState(ChaseBall.instance):void(e.Pitch().GameOn()&&e.HomeRegion().Inside(e.Pos(),region_modifier.halfsize)?(e.Steering().SetTarget(e.Pos()),e.GetFSM().ChangeState(Wait.instance)):!e.Pitch().GameOn()&&e.AtTarget()&&e.GetFSM().ChangeState(Wait.instance))},t.prototype.Exit=function(e){e.Steering().ArriveOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(ReturnToHomeRegion.prototype,"ReturnToHomeRegion");var Wait=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.Pitch().GameOn()||e.Steering().SetTarget(e.HomePosition())},t.prototype.Execute=function(e){var t=!1,a=ParamLoader.instance,i=!1,n=actionPitch;if(a.blPlayMoveToBall){var o=e.Data().pitchAction;if((o==n.action_CornerKickAcr||o==n.action_CornerKickReceive||o==n.action_CornerKick||o==n.action_FreeKickAcr||o==n.action_FreeKick||o==n.action_PenaltyKickAcr||o==n.action_PenaltyKick||o==n.action_PenaltyShowKickAcr||o==n.action_PenaltyShowKick)&&(i=!0,o==n.action_CornerKickAcr||o==n.action_FreeKickAcr||o==n.action_PenaltyKickAcr||o==n.action_PenaltyShowKickAcr))return e.Steering().SetTarget(e.HomePosition()),void(e.Pitch().isTimeOver(game.PitchStepVO.Time_A)&&e.GetFSM().ChangeState(KickBall.instance));if(a.blPlayLookPlay){var r=e.getLookPlayer();if(r){t=!0;var s=egret.getTimer();if(s-e.looktime>a.reTimeLookPlay){e.looktime=s;var l=e.Team().HomeGoal().Facing().x,p=r.Pos().clone();p.x-=Math.floor(l*Math.random()*a.LookPlaySpacingRandom)+a.LookPlaySpacing*l,p.y-=Math.floor(10*Math.random())-5,e.Steering().SetTarget(p)}}}t||e.Steering().SetTarget(e.HomePosition())}if(e.AtTarget())e.Steering().ArriveOff(),e.SetVelocity(new Vector2D(0,0)),e.TrackBall();else if(e.Steering().ArriveOn(),!a.blPlayMoveToBall)return;if(!i){if(e.Team().InControl()&&!e.isControllingPlayer()&&e.isAheadOfAttacker())return void e.Team().RequestPass(e);if(e.Pitch().GameOn()&&e.isClosestTeamMemberToBall()&&null==e.Team().Receiver()&&!e.Pitch().GoalKeeperHasBall())return void e.GetFSM().ChangeState(ChaseBall.instance)}},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(Wait.prototype,"Wait");var KickBall=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.showNameTxt(),e.Team().SetControllingPlayer(e),e.isReadyForNextKick()||e.GetFSM().ChangeState(ChaseBall.instance)},t.prototype.Execute=function(e){e.showNameTxt();var t=new Vector2D(0,0),a=Vector2D.mathJianOther(e.Ball().Pos(),e.Pos()),i=e.Heading().dotProd(Vector2D.Vec2DNormalize(a)),n=null,o=ParamLoader.instance,r=actionPitch;if(o.blSeverFight){var s=e.Ball().isZCanKick(),l=!0;i=1,y=o.MaxShootingForce*i;var p=e.Data().pitchAction;if(isNaN(p))e.GetFSM().ChangeState(Wait.instance);else{if(s)if(p==r.action_Shoot||p==r.action_FreeKickAcr||p==r.action_PenaltyKickAcr||p==r.action_PenaltyShowKickAcr){if(e.Pitch().isTimeOver(game.PitchStepVO.Time_A)){var c=0/0,u=e.Pitch().getCurStepVo();u&&!u.isSuccess()&&(c=u.addvalue),e.Team().mastShoot(e.Ball().Pos(),y,t,c);var m=Vector2D.mathJianOther(t,e.Ball().Pos());return y=e.Ball().getForceToLenght(m.length,y),e.Ball().Kick(m,y,!0,c),void e.GetFSM().ChangeState(Wait.instance)}}else if(p==r.action_Pass||p==r.action_CornerKickAcr){if(p==r.action_Pass?n=e.Pitch().getPlayForAction(r.action_Receive):p==r.action_CornerKickAcr&&(e.Data().clearAction(),e.Data().clearMoveType(),n=e.Pitch().getPlayForAction(r.action_CornerKickReceive)),n&&e.Pitch().isTimeOver(game.PitchStepVO.Time_A)){y=o.MaxPassingForce*i,t=new Vector2D(0,0),t.copyOther(n.Pos());var m=Vector2D.mathJianOther(t,e.Ball().Pos());if(y=e.Ball().getForceToLenght(m.length,y),p==r.action_Pass){var u=e.Pitch().getCurStepVo();u&&u.setMatchSubType(BallUtils.getPassLongType(m,y))}return e.Ball().Kick(m,y),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),n.ID(),MessageType.Msg_ReceiveBall,t),void e.GetFSM().ChangeState(Wait.instance)}}else if(p==r.action_Rescue){e.Pitch().AddEventVO(match_type.type_event,match_type.type_eventRescue,e.Data().severid,null),e.Team().clearPlayerAction();var g=e.Team().HomeGoal().Facing(),_=Math.floor(50*Math.random())+25;_*=g.x;var h=e.Ball().Pos().x+_,d=e.Heading().x<0?0:ParamLoader.instance.pitchAllH;t=new Vector2D(h,d);var m=Vector2D.mathJianOther(t,e.Ball().Pos());y=e.Ball().getForceToLenght(m.length,y),e.Ball().Kick(m,y),e.GetFSM().ChangeState(Wait.instance);var u=e.Pitch().getCurStepVo();return u&&u.setMatchAddId(e.Data().severid),void e.Pitch().nextStepPlay()}e.GetFSM().ChangeState(Dribble.instance)}if(l)return}if(null!=e.Team().Receiver()||e.Pitch().GoalKeeperHasBall()||0>i)return void e.GetFSM().ChangeState(ChaseBall.instance);var y=o.MaxShootingForce*i;if(s&&(e.Team().CanShoot(e.Ball().Pos(),y,t)||BallUtils.RandFloat()<o.ChancePlayerAttemptsPotShot)){t=SoccerBall.AddNoiseToKick(e.Ball().Pos(),t);var m=Vector2D.mathJianOther(t,e.Ball().Pos());return e.Ball().Kick(m,y),e.GetFSM().ChangeState(Wait.instance),void e.FindSupport()}if(y=o.MaxPassingForce*i,n=e.Team().FindPass(e,n,t,y,o.MinPassDist),e.isThreatened()&&n&&s){t=SoccerBall.AddNoiseToKick(e.Ball().Pos(),t);var m=Vector2D.mathJianOther(t,e.Ball().Pos());return e.Ball().Kick(m,y),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),n.ID(),MessageType.Msg_ReceiveBall,t),e.GetFSM().ChangeState(Wait.instance),void e.FindSupport()}e.FindSupport(),e.GetFSM().ChangeState(Dribble.instance)},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(KickBall.prototype,"KickBall");var ReceiveBall=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){var t=ParamLoader.instance;e.Team().SetReceiver(e),e.Team().SetControllingPlayer(e);var a=actionPitch;if(t.blSeverFight){var i=e.Data().pitchAction;if(i==a.action_Receive||i==a.action_CornerKickReceive)return void(e.Ball().isHight()?e.Steering().ArriveOn():e.Steering().PursuitOn())}var n=70;(e.InHotRegion()||BallUtils.RandFloat()<t.ChanceOfUsingArriveTypeReceiveBehavior)&&!e.Team().isOpponentWithinRadius(e.Pos(),n)?e.Steering().ArriveOn():e.Steering().PursuitOn()},t.prototype.Execute=function(e){var t=actionPitch;if(ParamLoader.instance.blSeverFight){var a=e.Data().pitchAction;if(a==t.action_Receive||a==t.action_CornerKickReceive)return void(e.BallWithinReceivingRange()&&e.GetFSM().ChangeState(ChaseBall.instance))}return e.BallWithinReceivingRange()||!e.Team().InControl()?void e.GetFSM().ChangeState(ChaseBall.instance):(e.Steering().PursuitIsOn()&&e.Steering().SetTarget(e.Ball().Pos()),void(e.AtTarget()&&(e.Steering().ArriveOff(),e.Steering().PursuitOff(),e.TrackBall(),e.SetVelocity(new Vector2D(0,0)))))},t.prototype.Exit=function(e){e.Steering().ArriveOff(),e.Steering().PursuitOff(),e.Team().SetReceiver(null)},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(ReceiveBall.prototype,"ReceiveBall");var SupportAttacker=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.Steering().ArriveOn(),e.Steering().SetTarget(e.Team().GetSupportSpot())},t.prototype.Execute=function(e){var t=ParamLoader.instance,a=e.Team();return a.InControl()?(a.GetSupportSpot()!=e.Steering().Target()&&(e.Steering().SetTarget(a.GetSupportSpot()),e.Steering().ArriveOn()),a.CanShoot(e.Pos(),t.MaxShootingForce)&&a.RequestPass(e),void(e.AtTarget()&&(e.Steering().ArriveOff(),e.TrackBall(),e.SetVelocity(new Vector2D(0,0)),e.isThreatened()||a.RequestPass(e)))):void e.GetFSM().ChangeState(ReturnToHomeRegion.instance)
},t.prototype.Exit=function(e){e.Team().SetSupportingPlayer(null),e.Steering().ArriveOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(SupportAttacker.prototype,"SupportAttacker");var GlobalKeeperState=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){},t.prototype.Execute=function(e){},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){switch(t.Msg){case MessageType.Msg_GoHome:e.SetDefaultHomeRegion(),e.GetFSM().ChangeState(ReturnHome.instance);break;case MessageType.Msg_ReceiveBall:e.GetFSM().ChangeState(InterceptBall.instance)}return!1},t}(State);__reflect(GlobalKeeperState.prototype,"GlobalKeeperState");var TendGoal=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){var t=ParamLoader.instance,a=t.GoalKeeperTendingDistance,i=e.Pitch().getCurPitchVo(),n=showtype;!i||i.stype!=n.show_Corner&&i.stype!=n.show_Free&&i.stype!=n.show_Penalty&&i.stype!=n.show_Penalty||(a=t.GoalKeeperSpeTendingDistance),e.Steering().InterposeOn(a),e.Steering().SetTarget(e.GetRearInterposeTarget())},t.prototype.Execute=function(e){var t=e.GetRearInterposeTarget();e.Steering().SetTarget(t);var a=ParamLoader.instance;if(a.blSeverFight){var i=e.Data().moveType;if(i==player_move.move_initfiexd)return e.Velocity().zero(),void e.Steering().InterposeOff()}else if(e.BallWithinKeeperRange())return e.Ball().Trap(),e.Pitch().SetGoalKeeperHasBall(!0),void e.GetFSM().ChangeState(PutBallBackInPlay.instance);return e.BallWithinRangeForIntercept()&&!e.Team().InControl()&&e.GetFSM().ChangeState(InterceptBall.instance),e.TooFarFromGoalMouth()&&e.Team().InControl()?void e.GetFSM().ChangeState(ReturnHome.instance):void 0},t.prototype.Exit=function(e){e.Steering().InterposeOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(TendGoal.prototype,"TendGoal");var InterceptBall=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.showNameTxt(),e.Steering().PursuitOn()},t.prototype.Execute=function(e){e.showNameTxt();var t=ParamLoader.instance;if(t.blSeverFight){var a=e.Data().moveType;if(a==player_move.move_initfiexd)return e.showNameTxt(!1),e.Velocity().zero(),void e.Steering().PursuitOff()}var i=e.Team().HomeGoal(),n=(e.Ball().Pos().x-i.LeftPost().x)*i.Facing().x<0;if(n||e.TooFarFromGoalMouth()&&!e.isClosestPlayerOnPitchToBall())return void e.GetFSM().ChangeState(ReturnHome.instance);if(t.blSeverFight){var o=!0,r=e.Pitch().getCurStepVo(),s=PitchPlay_Type;if(!r||r.type!=s.type_shoot&&r.type!=s.type_Free&&r.type!=s.type_Penalty&&r.type!=s.type_PenaltyShow||r.isSuccess()||e.Ball().isTooHigh()||(o=!1),o)return}if(e.BallWithinKeeperRange()){if(e.Ball().isFailType(shoot_failtype.type_fly)){var l=e.Team().HomeGoal().Facing().x*BallUtils.RandInt(10,80),p=BallUtils.RandInt(-100,100),c=new Vector2D(l,p);e.Ball().Kick(c,.6*t.MaxPassingForce);var r=e.Pitch().getCurStepVo();return void(r&&BallUtils.isShootType(r.type)&&(r.setMatchAddId(e.Data().severid),e.Pitch().nextStepPlay()))}if(t.blSeverFight){var u=e.Ball().isFailType(shoot_failtype.type_pounce);if(!u)return}if(e.Ball().Trap(),e.Pitch().SetGoalKeeperHasBall(!0),e.GetFSM().ChangeState(PutBallBackInPlay.instance),t.blSeverFight){var o=!0,r=e.Pitch().getCurStepVo();if(r&&BallUtils.isShootType(r.type)&&(r.setMatchAddId(e.Data().severid),e.Pitch().nextStepPlay()),o)return}}else;},t.prototype.Exit=function(e){e.Steering().PursuitOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(InterceptBall.prototype,"InterceptBall");var ReturnHome=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.Steering().ArriveOn()},t.prototype.Execute=function(e){var t=ParamLoader.instance;if(t.blSeverFight){var a=e.Data().moveType;if(a==player_move.move_initfiexd)return e.Velocity().zero(),void e.Steering().ArriveOff()}e.Steering().SetTarget(e.HomeRegion().Center()),(e.InHomeRegion()||!e.Team().InControl())&&e.GetFSM().ChangeState(TendGoal.instance)},t.prototype.Exit=function(e){e.Steering().ArriveOff()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(ReturnHome.prototype,"ReturnHome");var PutBallBackInPlay=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.showNameTxt(),ParamLoader.instance.blPlayMoveToBall&&(t._playTime=egret.getTimer()),e.Team().SetControllingPlayer(e),e.Team().Opponents().ReturnAllFieldPlayersToHome(),e.Team().ReturnAllFieldPlayersToHome()},t.prototype.Execute=function(e){e.showNameTxt();var a=null,i=new Vector2D(0,0),n=ParamLoader.instance;if(a=e.Team().FindPass(e,a,i,n.MaxPassingForce,n.GoalkeeperMinPassDist),n.blPlayMoveToBall){var o=egret.getTimer();if(o-t._playTime>1e3){var r=e.Team().Members()[5];a=r,i=new Vector2D(0,0),i.copyOther(r.Pos())}}return n.blSeverFight&&n.blFightINSever&&(a=null),a?(e.Ball().Kick(Vector2D.Vec2DNormalize(Vector2D.mathJianOther(i,e.Ball().Pos())),n.MaxPassingForce),e.Pitch().SetGoalKeeperHasBall(!1),MessageDispatcher.instance.DispatchMsg(MessageDispatcher.SEND_MSG_IMMEDIATELY,e.ID(),a.ID(),MessageType.Msg_ReceiveBall,i),void e.GetFSM().ChangeState(TendGoal.instance)):void e.SetVelocity(new Vector2D(0,0))},t.prototype.Exit=function(e){},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(PutBallBackInPlay.prototype,"PutBallBackInPlay");var skins;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.resList=["rect_black","tab_yys_c9","smalicon_100002","tab_tyk_a1","tab_tyk_a5","tab_tyk_a7","tab_tyk_a6","tab_tyk_a4","tab_tyk_a3","tab_tyk_a2","btn_common_1","tab_cjs_b1","tab_kjzx_g3","tab_kjzx_b4","tab_bbqy_a1","tab_kjzx_k8","tab_kapai_b1","font_herolog_zi","tab_zx_c6"],a.resGroupName="AlertSkin",a.wingSkinName=AlertSkin,t}return __extends(t,e),t}(e.BaseSkinDR);e.AlertSkinDR=t,__reflect(t.prototype,"skins.AlertSkinDR")}(skins||(skins={}));var TeamState=function(){function e(){}return e.ChangePlayerHomeRegions=function(e,t){for(var a=ParamLoader.instance.TeamSize,i=0;a>i;++i)e.SetPlayerHomeRegion(i,t[i])},e.ChangePlayerHomeBall=function(e,t,a,i,n){void 0===n&&(n=0/0);for(var o,r=e.Members(),s=r.length,l=e.GetFSM().isInState(Attacking.instance),p=0,c=0;s>c;++c)o=r[c],p=i?o.Data().region:o.Data().getBallPos(t,l,n),o.SetHomeRegion(p)},e}();__reflect(TeamState.prototype,"TeamState");var Attacking=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){var t=ParamLoader.instance;if(!t.blPlayMoveToBall){var a=t.AttackBlueRegions,i=t.AttackRedRegions;e.Color()==team_color.blue?TeamState.ChangePlayerHomeRegions(e,a):TeamState.ChangePlayerHomeRegions(e,i)}e.UpdateTargetsOfWaitingPlayers()},t.prototype.Execute=function(e){return e.InControl()?void e.DetermineBestSupportingPosition():void e.GetFSM().ChangeState(Defending.instance)},t.prototype.Exit=function(e){e.SetSupportingPlayer(null)},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(Attacking.prototype,"Attacking");var Defending=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){var t=ParamLoader.instance;if(!t.blPlayMoveToBall){var a=t.DefendBlueRegions,i=t.DefendRedRegions;e.Color()==team_color.blue?TeamState.ChangePlayerHomeRegions(e,a):TeamState.ChangePlayerHomeRegions(e,i)}e.UpdateTargetsOfWaitingPlayers(),t.blPlayLookPlay&&e.clearAllLookPlay()},t.prototype.Execute=function(e){var t=ParamLoader.instance;if(t.blPlayLookPlay&&e.blneedlook&&e.Opponents().GetFSM().isInState(Attacking.instance)){var a,i,n,o,r,s,l,p,c,u,m,g=e.Members(),_=e.Opponents().Members(),h=[],d=g.length,y=_.length,v=t.playerIdNum,f=t.LookArr,b=t.BeLookArr;for(n=0;d>n;n++)a=g[n],c=a.getLookPlayer(),c&&h.push(c.Data().severid);for(n=0;d>n;n++)if(a=g[n],c=a.getLookPlayer(),!c&&(r=Math.ceil(a.Data().severid%v*.1),s=a.Pos(),-1!=f.indexOf(r))){for(u=BallUtils.MaxInt,m=null,o=0;y>o;o++)i=_[o],r=Math.ceil(i.Data().severid%v*.1),-1!=b.indexOf(r)&&(l=i.Pos(),-1==h.indexOf(i.Data().severid)&&(p=Math.abs(Vector2D.Vec2DDistanceSq(l,s)),u>p&&(u=p,m=i)));m&&(a.setLookPlayer(m),h.push(m.Data().severid))}}return e.InControl()?void e.GetFSM().ChangeState(Attacking.instance):void 0},t.prototype.Exit=function(e){ParamLoader.instance.blPlayLookPlay&&e.clearAllLookPlay()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(Defending.prototype,"Defending");var PrepareForKickOff=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){var e=this;return e._instance||(e._instance=new t),e._instance},enumerable:!0,configurable:!0}),t.prototype.Enter=function(e){e.SetControllingPlayer(null),e.SetSupportingPlayer(null),e.SetReceiver(null),e.SetPlayerClosestToBall(null),ParamLoader.instance.blSeverFight?e.ReturnAllFieldPlayersToWait():e.ReturnAllFieldPlayersToHome()},t.prototype.Execute=function(e){e.AllPlayersAtHome()&&e.Opponents().AllPlayersAtHome()&&e.GetFSM().ChangeState(Defending.instance)},t.prototype.Exit=function(e){e.Pitch().SetGameOn()},t.prototype.OnMessage=function(e,t){return!1},t}(State);__reflect(PrepareForKickOff.prototype,"PrepareForKickOff");var FightDataVO=function(){function e(){this.myColorId=1,this.isguidenew=!1,this.m_jumptime=0/0,this.m_ispveboss=!1,this.m_isgetawardStart=!1,this.m_isgetawardEnd=!1;var e=this;e.a_mcobj={},e.initData()}return e.serverIdToMyId=function(e,t){var a=ParamLoader.instance,i=a.playerIdNum,n=Math.floor(e/i),o=e%i,r=a.TeamBuleId;n!=t&&(r=a.TeamRedId);var s=r+o;return s},e.blueToRedN=function(e,t){void 0===t&&(t=!0);var a=59,i=0;return i=e>a?a+(5-(e-a)):a-e},e.prototype.getFragmentVo=function(){var e,t=this;return t.fragmentArr.length>t.fragmentindex&&(e=t.fragmentArr[t.fragmentindex]),e},e.prototype.getFrontFragmentVo=function(){var e=null,t=this,a=t.fragmentindex-1;return a>=0&&t.fragmentArr.length>a&&(e=t.fragmentArr[a]),e},e.prototype.getLastFragmentVo=function(){var e,t=this,a=t.fragmentArr.length;return a&&(e=t.fragmentArr[a-1]),e},e.prototype.getFragmentVoForIndex=function(e){var t,a=this;return e>=0&&a.fragmentArr.length>e&&(t=a.fragmentArr[e]),t},e.prototype.getCurPitchVO=function(){var e=this;return e.curPitchVo?e.curPitchVo:e.getNextPitchVO(!0)},e.prototype.setPitchScore=function(e,t){var a,i=this;if(e?(a=i.myServerVo.name,i.myPitchScore+=t):(a=i.oppServerVo.name,i.oppPitchScore+=t),i.pitchStrArr&&i.pitchStrArr.length){var n=i.pitchStrArr.length,o="@ 表现："+a+"@进球";i.pitchStrArr[n-1]=i.pitchStrArr[n-1]+o,utils.GameComUtil.log(o)}EventBus.sendMessage(game.GameCommands.FIGHT_PITCH_CHANGE)},e.prototype.isPveBoss=function(){var t=this,a=!1,i=this.custom;return t.type==FightEnum.type_pve&&i&&i==e.bossstr&&(a=!0),a},e.prototype.relinkData=function(){var e=this;e.curPitchVo=null,e.fragmentindex=0,e.myPitchScore=0,e.oppPitchScore=0,e.isPlayerOver=!1,e.teamScoreObj={},e.pitchEventObj=new PitchEventVO,e.pitchStrArr=[],e.myDataVo=new GamedataVO,e.oppDataVo=new GamedataVO,e.myServerVo.relinkInit(),e.oppServerVo.relinkInit(),e.creatPlayVo(!0),e.timeChangeFragment()},e.prototype.timeChangeFragment=function(){var e=this,t=e.startTime,a=Math.round(.001*(Global.systemTimeNum-t));if(e.fragmentindex=0,e.m_eveArr=[],a>2)for(var i,n=e.fragmentArr,o=0,r=0,s=n.length;s>r;r++){if(i=n[r],o+=i.getPlayTime(),!(a>o)){e.fragmentindex=r;break}e.playFragmentVo(i,!1),e.fragmentindex=r}},e.prototype.playOver=function(){var e=this;e.isPlayerOver=!0,e.fragmentindex<e.fragmentArr.length&&e.playerOverFun()},e.prototype.playerOverFun=function(){for(var e,t=this,a=t.fragmentArr,i=0,n=a.length,o=t.fragmentindex;n>o;o++)e=a[o],i+=e.getPlayTime(),t.playFragmentVo(e,!1),t.fragmentindex=o;t.fragmentindex=n},e.prototype.getRuleGoal=function(){for(var e,t=this,a=t.fragmentArr,i=0,n=0,o=a.length;o>n;n++)e=a[n],e.goalState&&e.attacker==t.myColorId&&e.timetype!=time_type.time_PenaltyShow&&(i+=1);return i},e.prototype.playFragmentVo=function(e,t){var a,i,n,o,r=this,s=(ParamLoader.instance,r.myDataVo),l=r.oppDataVo,p=r.myColorId;e.attacker==p?(i=!0,n=s,o=l):(o=s,n=l),n.ncontrol++,n.ncontrolall++,o.ncontrolall++;var c;e.yellowCard&&(a=e.yellowCard,c=r.pitchEventObj.addEvent(a,match_type.type_yellowcard),c>1?(e.setFoulType(match_type.type_yellowredcard,a),r.removeSeverid(a,t)):e.setFoulType(match_type.type_yellowcard,a),BallUtils.severidIsBlue(a)?s.nyellowcard++:l.nyellowcard++),e.redCard&&(a=e.redCard,e.setFoulType(match_type.type_redcard,a),c=r.pitchEventObj.addEvent(a,match_type.type_redcard),r.removeSeverid(a,t),BallUtils.severidIsBlue(a)?s.nredcard++:l.nredcard++),e.injured&&(a=e.injured,e.setFoulType(match_type.type_injured,a),c=r.pitchEventObj.addEvent(a,match_type.type_injured),BallUtils.severidIsBlue(a)?s.ninjured++:l.ninjured++);var u=r.m_eveArr;t||(e.attacker==r.myColorId?e.goalState&&r.setPitchScore(!0,1):e.goalState&&r.setPitchScore(!1,1));var m,g,_,h,d=GlobalConfig;m=d.getPitchVo(e.eventId);var y=null;if(m){n.npass+=m.spass,n.npassall+=m.spass+m.fpass;var v=m.stype;switch(v){case showtype.show_Corner:n.ncorner++;var f=e.getSeverPlayArr(0);f&&f.length&&y==f[0];break;case showtype.show_Free:n.nfree++}var b,G,x=PitchPlay_Type,C=m.step;for(_=0,h=C.length;h>_;_++)g=C[_],(g.type==x.type_shoot||g.type==x.type_Free||g.type==x.type_Penalty||g.type==x.type_PenaltyShow)&&(g.configIsSuccess()?(n.nshootcom++,G=e.getSeverPlayArr(g.index),G&&G.length&&e.setAttackerId(G[0]),_>0&&(b=C[_-1],(b.type==x.type_Corner||b.type==x.type_pass)&&(G=e.getSeverPlayArr(b.index),G&&G.length&&e.setHelperId(G[0])))):(G=e.getSeverPlayArr(g.index),G&&G.length&&e.setAttackerOutId(G[0])),n.nshootall++)}if(SummaryPlayVO.getFragObj(r,e,u,!0,t),y)if(t){var T=SummaryPlayVO.getStealsSumVO(r,e,u,y,null,match_type.type_event,match_type.type_eventCorner,!0,!0);if(T){var P=Manifest.getIns(FightDM);P.addEveVO(T,r)}}else SummaryPlayVO.getStealsSumVO(r,e,u,y,null,match_type.type_event,match_type.type_eventCorner,!0,!0)},e.prototype.getPlayerForId=function(e){var t,a=this,i=BallUtils.severidIsBlue(e),n=e%100;t=i?a.myServerVo.player:a.oppServerVo.player;for(var o,r=t.length-1;r>=0;r--)if(o=t[r],o.location==n)return o;return null},e.prototype.removeSeverid=function(e,t){var a,i,n=this,o=BallUtils.severidIsBlue(e);if(o?(a=n.myServerVo.removePlayerId(e),i=n.myPlayArr):(a=n.oppServerVo.removePlayerId(e),i=n.oppPlayArr),t){if(a){var r=Manifest.getIns(FightDM),s=BallUtils.serveridToNum(e),l=ParamLoader.instance;if(o){var p=l.BluePlayS.indexOf(s);-1!=p&&(l.BluePlayS.splice(p,1),l.BlueNameS.splice(p,1))}else{var p=l.RedPlayS.indexOf(s);-1!=p&&(l.RedPlayS.splice(p,1),l.RedNameS.splice(p,1))}r.removeSeverid(e)}for(var c,u=i.length-1;u>=0;u--)if(c=i[u],c.severid==e){i.splice(u,1);break}}return a},e.prototype.getNextPitchVO=function(e){void 0===e&&(e=!1);var t,a=this;e||a.fragmentindex++;var i=a.getFragmentVo();if(i){var n=i.getPitchId();if(n)t=GlobalConfig.getPitchVo(n);else{var o,r=GlobalConfig.show_DATE,s=[];for(var l in r)o=r[l],i.goalState==o.score&&i.foulState==o.foul&&s.push(o);var p=s.length;if(p){var c=Math.floor(Math.random()*p);t=s[c]}}var u=PanelDM.getIns().isOpend(vm.GameMainView);if(u){var m=a.fragmentindex;if(0==m)SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_fightstart);else{var g=a.getFragmentVoForIndex(m-1);g&&g.timetype!=i.timetype&&SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_fightstart)}}var _=i.attacker==a.myServerVo.troops?a.myServerVo.name:a.oppServerVo.name,h="@类型:"+a.type+"@ 片段："+a.fragmentindex+"@ 使用剧本:"+t.id+"@ 进攻方："+_+"@ 进球："+i.goalState+"@ 犯规:"+i.foulState+"@ 演算比分:"+a.myPitchScore+"_"+a.oppPitchScore+"@ 总应该比分:"+a.myScore+"_"+a.oppScore;utils.GameComUtil.log(h),a.pitchStrArr.push(h),a.curPitchVo=t,a.playFragmentVo(i,!0)}return t},e.prototype.isWin=function(){var e=this;return e.myScore>e.oppScore?!0:!1},e.prototype.initData=function(){var e=this;e.curPitchVo=null,e.fragmentindex=0,e.m_eveArr=[],e.myPitchScore=0,e.isreport=0,e.oppPitchScore=0,e.myScore=0,e.oppScore=0,e.myServerVo=null,e.oppServerVo=null,e.isPlayerOver=!1,e.teamScoreObj={},e.pitchEventObj=new PitchEventVO,e.myPlayArr=[],e.oppPlayArr=[],e.pitchStrArr=[],e.myDataVo=new GamedataVO,e.oppDataVo=new GamedataVO},e.prototype.setScoreData=function(e){var t,a=this;for(t in e)a.teamScoreObj[t]=e[t]},e.prototype.setSeverData=function(e){var t=this,a=ParamLoader.instance,i=GlobalAllProxy.getInstance().playerProxy.playerinfo,n=e.regularSeason,o=e.extraTime,r=e.penaltyKick,s=Number(e.fightTime);t.startTime=s;var l=s;t.initData(),t.isreport=e.isReport,t.rewardArr=[];var p=e.item;p&&!t.isplayback&&(t.rewardArr=game.ComItemGroupVo.getUserItemArr(p));var c=e.buleTeam,u=e.redTeam,m=e.blueScore,g=e.redScore;t.clubExp=e.clubExp,t.pvpscore=e.score,t.expPool=e.expPool;var _,h;t.myColorId,e.score;c.uid==i.uid?(t.myColorId=c.troops,_=c,h=u,t.myScore=m,t.oppScore=g):(t.myColorId=u.troops,_=u,h=c,t.myScore=g,t.oppScore=m),t.nowid=h.uid,t.myServerVo=new ServerTeamVO(!0),t.myServerVo.objectToThis(_),t.oppServerVo=new ServerTeamVO(!1),t.oppServerVo.objectToThis(h);var d,y,v,f;t.fragmentArr=[];var b=BallUtils;if(n&&n.fragment)for(l+=1e3*a.tPitchTotal,d=n.fragment,y=0,v=d.length;v>y;y++)f=new FragmentVO,f.objectToThis(d[y],t.myColorId),f.timetype=b.getTimeType(f.startTime),f.timetypeLen=v,t.fragmentArr.push(f);if(o&&o.fragment)for(l+=1e3*a.tPitchaAdd,d=o.fragment,y=0,v=d.length;v>y;y++)f=new FragmentVO,f.objectToThis(d[y],t.myColorId),f.timetype=b.getTimeType(f.startTime),f.timetypeLen=v,t.fragmentArr.push(f);if(r&&r.fragment){d=r.fragment;var G,v=d.length;for(l+=v*a.tPitchPenalty*1e3,y=0;v>y;y++)f=new FragmentVO,f.objectToThis(d[y],t.myColorId),G=Math.floor(y/2)+1,f.startTime="P"+G,f.timetype=b.getTimeType(f.startTime),f.timetypeLen=v,t.fragmentArr.push(f),f.foulState=3}if(t.overTime=l,ParamLoader.instance.blFightINSever||t.creatPlayVo(),t.type==FightEnum.type_pve&&(t.m_ispveboss=t.isPveBoss()),t.isreport||(t.m_jumptime=a.ClientJumpTime),t.type==FightEnum.type_pve&&!t.m_ispveboss){var x=GlobalConfig.getPveMapVO(t.oppServerVo.uid);x&&(t.oppServerVo.fighting=x.power)}},e.prototype.creatPlayVo=function(t){void 0===t&&(t=!1);var a=this;a.myPlayArr=[],a.oppPlayArr=[],a.pitchStrArr=[];var i,n,o,r,s,l,p,c,u,m=ParamLoader.instance;s=m.BluePlayS,l=m.BlueNameS;var g,_,h,d=m.InitBlueRegions;if(t){var y=a.myServerVo.player;for(y.sort(utils.GameUtil.sortMatckFun(["location"],[0])),s=[],l=[],p=[],c=[],u=[],g=0,_=y.length;_>g;g++)h=y[g],h.isout||(s.push(h.location),l.push(h.name),p.push(h.approach),c.push(h.numberTag),u.push(h.quality));m.BluePlayS=s,m.BlueNameS=l}var v=[],f=team_color.blue;for(g=0,_=s.length;_>g;g++)0==g?v.push(e.getPlayerVo(d[g],f,player_role.goal_keeper)):v.push(e.getPlayerVo(d[g],f,player_role.attacker));for(r=m.TeamBuleId,i=0,n=v.length;n>i;i++)o=v[i],o.color=f,o.severid=r+s[i],c?o.ballId=r+c[i]:o.ballId=o.severid,o.playername=l[i],o.quality=u[i],p&&(o.sholdN=p[i]);a.myPlayArr=v,s=m.RedPlayS,l=m.RedNameS;m.InitRedRegions;if(t){var b=a.oppServerVo.player;for(b.sort(utils.GameUtil.sortMatckFun(["location"],[0])),s=[],l=[],p=[],c=[],u=[],g=0,_=b.length;_>g;g++)h=b[g],h.isout||(s.push(h.location),l.push(h.name),p.push(h.approach),c.push(h.numberTag),u.push(h.quality));m.RedPlayS=s,m.RedNameS=l}var G=[];for(f=team_color.red,g=0,_=s.length;_>g;g++)0==g?G.push(e.getPlayerVo(d[g],f,player_role.goal_keeper)):G.push(e.getPlayerVo(d[g],f,player_role.attacker));for(r=m.TeamRedId,i=0,n=G.length;n>i;i++)o=G[i],o.color=f,o.severid=r+s[i],c?o.ballId=r+c[i]:o.ballId=o.severid,o.playername=l[i],o.quality=u[i],p&&(o.sholdN=p[i]);a.oppPlayArr=G},e.getPlayerVo=function(e,t,a){var i,n,o,r=new Vector2D(0,0);return n=a==player_role.goal_keeper?TendGoal.instance:Wait.instance,o=t==team_color.blue?new Vector2D(0,1):new Vector2D(0,-1),i=new PlayerDataVO({region:e,state:n,heading:o,velocity:r,roletype:a})},e.prototype.addEventVo=function(e){var t=this;t.m_eveArr.push(e)},e.prototype.relinkGame=function(){var e=this;e.isreport=1},e.bossstr="isboss",e}();__reflect(FightDataVO.prototype,"FightDataVO");var SCombatTeam=function(){function e(){}return e}();__reflect(SCombatTeam.prototype,"SCombatTeam");var SCombatPlayer=function(){function e(){}return e}();__reflect(SCombatPlayer.prototype,"SCombatPlayer");var SCombatSkill=function(){function e(){}return e}();__reflect(SCombatSkill.prototype,"SCombatSkill");var FightMcDataVO=function(){function e(e,t,a,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===a&&(a=null),void 0===i&&(i=null);var n=this;n.type=e,n.id=t,n.name=a,n.addvalue=i}return e}();__reflect(FightMcDataVO.prototype,"FightMcDataVO");var PitchEventVO=function(e){function t(){var t=e.call(this)||this,a=t;return a.yellowobj={},a.redobj={},a.injuredobj={},t}return __extends(t,e),t.prototype.addEvent=function(e,t){var a,i,n=this;switch(t){case match_type.type_injured:i=n.injuredobj;break;case match_type.type_yellowcard:i=n.yellowobj;break;case match_type.type_redcard:i=n.redobj}return a=i[e]?i[e]+1:1,i[e]=a,a},t.prototype.getEventNum=function(e,t){var a,i=this,n=0;switch(t){case match_type.type_injured:a=i.injuredobj;break;case match_type.type_yellowcard:a=i.yellowobj;break;case match_type.type_redcard:a=i.redobj;break;case match_type.type_yellowredcard:return a=i.yellowobj,a[e]&&(n=a[e],n>=2)?1:0}return a[e]&&(n=a[e]),n},t}(game.BaseVO);__reflect(PitchEventVO.prototype,"PitchEventVO");var PlayerDataVO=function(e){function t(t){var a=e.call(this)||this;a.playername="",a.ballId=0,a.severid=0,a.quality=0,a.color=0,a.region=0,a.sholdN=10,a.moveType=0/0,a.pitchAction=0/0;var i=a;i.region=t.region,i.state=t.state,i.heading=t.heading,i.velocity=t.velocity,i.roletype=t.roletype,i.initpos=new Vector2D(0,0);var n=ParamLoader.instance;return i.mass=n.PlayerMass,i.max_force=n.PlayerMaxForce,i.max_speed=n.PlayerMaxSpeedWithoutBall,i.max_turn_rate=n.PlayerMaxTurnRate,i.scale=n.PlayerScale,a}return __extends(t,e),t.prototype.clearAction=function(){this.pitchAction=0/0},t.prototype.clearMoveType=function(){this.moveType=0/0},t.prototype.setMoveType=function(e){this.moveType=e},t.prototype.setAction=function(e){this.pitchAction=e},t.prototype.getBallPos=function(e,t,a){void 0===a&&(a=0/0);var i=this,n=0;switch(a){case showtype.show_Corner:n=e.getCurPitchVo().spetype;break;default:n=isNaN(e.curBallRegion)?e.getPosToRegion():e.curBallRegion}var o,r=ParamLoader.instance.blRedIsLeft;return i.color==team_color.red?(r&&(n=FightDataVO.blueToRedN(n)),o=GlobalConfig.getPlayPos(i.severid,n,t),r&&(o=FightDataVO.blueToRedN(o))):(r||(n=FightDataVO.blueToRedN(n)),o=GlobalConfig.getPlayPos(i.severid,n,t),r||(o=FightDataVO.blueToRedN(o))),o},t.prototype.getChangePos=function(e,t,a,i){void 0===t&&(t=!1),void 0===a&&(a=!1),void 0===i&&(i=0/0);var n,o=this;return ParamLoader.instance.blPlayMoveToBall&&(o.region=o.getBallPos(e,a,i)),n=o.getPlyaerPosVct(e,o.region,null,t),t?o.initpos=n:o.homepos=n,n},t.prototype.getPlyaerPosVct=function(e,t,a,i){void 0===a&&(a=null),void 0===i&&(i=!1);var n,o=this;if(o.moveType&&!i)if(o.roletype==player_role.goal_keeper)n=e.GetRegionFromIndex(t).Center();else switch(o.moveType){case player_move.move_ballrend:case player_move.move_ballfixed:n=e.GetRegionFromIndex(t).getRanDomVct(a,o.sholdN,o.moveType);break;case player_move.move_initrend:if(o.initpos.isZero())n=e.GetRegionFromIndex(t).getRanDomVct(a,o.sholdN),o.initpos=n;else{n=new Vector2D(0,0);var r=10;n.x=o.initpos.x+BallUtils.RandInt(-r,r),n.y=o.initpos.y+BallUtils.RandInt(-r,r)}break;case player_move.move_initfiexd:o.initpos.isZero()?(n=e.GetRegionFromIndex(t).getRanDomVct(a,o.sholdN),o.initpos=n):n=o.initpos.clone();break;default:n=e.GetRegionFromIndex(t).getRanDomVct(a,o.sholdN,player_move.move_ballrend)}else if(o.roletype==player_role.goal_keeper)n=e.GetRegionFromIndex(t).Center();else{n=e.GetRegionFromIndex(t).getRanDomVct();var s=e.m_pPlayingArea,l=s.Left()+2,p=s.Right()-2,c=s.Top()+2,u=s.Bottom()-2;n.x<l&&(n.x=l),n.x>p&&(n.x=p),n.y<c&&(n.y=c),n.y>u&&(n.y=u)}return i||(o.homepos=n),n},t.reobj={},t}(game.BaseVO);__reflect(PlayerDataVO.prototype,"PlayerDataVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuideDownSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.mapAwardListG.setGroupAlign(egret.HorizontalAlign.CENTER),a.fightbtntxt.text=Language.ins.guide_tip7),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);for(var t,a,i=this,n=ParamLoader.instance.GuideFinishReward,o=[],r=0,s=n.length;s>r;r++)a=n[r],t=new game.ComItemGroupVo,t.itemid=parseInt(a[0]),t.count=parseInt(a[1]),o.push(t);i.mapAwardListG.setDataArr(o,"",!0,!1,!0,!0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.okbtn:t.goFightFun()}},t.prototype.goFightFun=function(){var e=this;GlobalAllProxy.getInstance().gameProxy.NetleadGift(),e.close(),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick)},t}(e.VM);e.GuideDownView=t,__reflect(t.prototype,"vm.GuideDownView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuideFirstFightSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.fightbtntxt.text=Language.ins.btn_look_fight),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.copyRewardMinId,i=GlobalConfig.getPveMapVO(a);if(i){var n=ParamLoader.instance.GuideFirstLog;t.logoimg1.setLogoUrl(n[1][0]),t.logoimg0.setLogoUrl(n[0][0]),t.nametxt0.text=n[0][1],t.nametxt1.text=n[1][1];var o=GlobalAllProxy.getInstance().guideProxy;if(o.isPlayGuide()){var r=o.getcurstepvo();r&&r.dialogId&&"0"!=r.dialogId&&(t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(r.dialogId))}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.fightbtn:t.goFightFun()}},t.prototype.goFightFun=function(){FightEnum.type_pve,GlobalConfig.copyRewardMinId;GlobalAllProxy.getInstance().fightProxy.NetBLookFight(FightEnum.type_pve)},t}(e.VM);e.GuideFirstFightView=t,__reflect(t.prototype,"vm.GuideFirstFightView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuideGetHeroSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.tiptxt.text=Language.ins.guild_tip45),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=(GlobalAllProxy.getInstance().playerProxy.playerinfo,GlobalAllProxy.getInstance().guideProxy);if(a.isPlayGuide()){var i=a.getcurstepvo();if(i&&i.dialogId&&"0"!=i.dialogId)for(var n,o,r=ParamLoader.instance.ServerLoginPlayer,s=r.length,l=0;s>l;l++)n=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(+r[l]),n&&(o=FormatString.format(i.dialogId,n.name),t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(o))}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){this.goFightFun()},t.prototype.goFightFun=function(){var e=this;e.close(),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick)},t}(e.VM);e.GuideGetHeroView=t,__reflect(t.prototype,"vm.GuideGetHeroView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildeAddHeroSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.m_radarr=["tab_dlcj_a9","tab_dlcj_d1","tab_dlcj_d2"],a.m_bodyarr=["tab_dlcj_a5","tab_dlcj_c8","tab_dlcj_c9"],a.m_ziarr=["tab_xsyd_c4","tab_xsyd_c5","tab_xsyd_c6"],a.tiptxt.text=Language.ins.guild_tip45,a.fightbtntxt.text=Language.ins.guide_tip6),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=(GlobalAllProxy.getInstance().playerProxy.playerinfo,GlobalAllProxy.getInstance().guideProxy);if(a.isPlayGuide()){t.heroimg.source="";var i=a.getcurstepvo();if(i){var n=t.m_bodyarr,o=t.m_ziarr,r=t.m_radarr;if(i.dialogId&&"0"!=i.dialogId)for(var s,l,p=ParamLoader.instance.ServerLoginPlayer,c=p.length,u=0;c>u;u++)s=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(+p[u]),s&&(l=FormatString.format(i.dialogId,s.name),t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(l),t.heroimg.source=n[u],t.ziimg.source=o[u],t.raderimg.source=r[u])
}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.okbtn:t.goFightFun()}},t.prototype.goFightFun=function(){var e=this;e.close(),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick)},t}(e.VM);e.GuildeAddHeroView=t,__reflect(t.prototype,"vm.GuildeAddHeroView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.focusShape=new egret.Shape,e._leftimgx=0,e._rightimgx=471,e._movewidht=200,e._movetime=100,e.scaleXArr=["role_half_12039","role_half_12211","role_half_12034","role_half_12027"],e.m_blwaitstep=!1,e.jumptimenum=0,e.waittimenum=0,e.triggerarr=[],e._chooseY=132,e._playDialogY=126,e._kuangTweenbl=!1,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.startLoadRes=function(){var e=new skins.NewPlayerFollowSkinDR,t=ResName.getDragonFastArr(ResName.mc_guide);e.runto(this,t)},a.prototype.getLayer=function(){return PanelLayer.guidePanel},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e),eui.Scroller.scrollThreshold=1e3;var a=this;if(a.guideParse=GlobalAllProxy.getInstance().guideProxy.getGuildeParse(),a.firstShowArraw=!0,EventBus.getIns().sendMessage(game.GameCommands.OPEN_GUIDE_WINDOW),a.initAddEvent(),a.initscene(),a.showguidemc(),Global.stage.touchChildren=!0,a.panelVo&&a.panelVo.panelobj){var i=a.panelVo.panelobj;a.initGuide(i)}else a.close();a.touchEnabled=!1},a.prototype.clearzhanyan=function(){Global.stage.touchChildren=!0},a.prototype.initscene=function(){this.kuanggroup.visible=!1},a.prototype.showguidemc=function(){var e=this,t="mc_guide",a=utils.GameComUtil.getArmature(ResName.mc_guide,t,e);a&&(a.animation.play("effect"),e.quanG.addChild(a))},a.prototype.initGuide=function(e){var t=new GuideSyncData;t.updateFromSyncID(e),GlobalAllProxy.getInstance().guideProxy.setGuidePateUp(t.getSyncGuideID(),t.getSyncStepID()),this.insert(t.getSyncGuideID(),t.getSyncStepID())},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;eui.Scroller.scrollThreshold=5,game.GuideProxy.isGuide=!1,egret.clearTimeout(a.jumptimenum),egret.clearTimeout(a.waittimenum),a.dispose(),a.removeEvent(),utils.GameComUtil.removeAnimoSelf(a.mc_guide),a.removeMessage(game.GameCommands.EFFECT_ZHANLI_OVER,a.effectOver);var i=a.contentGroup;i.alpha=1,i.touchChildren=!0,i.touchEnabled=!1,utils.GameComUtil.removeTextFlow(this.smlogtxt),utils.GameComUtil.removeTextFlow(this.infotxt0),utils.GameComUtil.removeTextFlow(this.infotxt1),utils.GameComUtil.removeTextFlow(this.infotxt2)},a.prototype.moveNextStep=function(){var e=this;if(egret.clearTimeout(e.jumptimenum),egret.clearTimeout(e.waittimenum),e._kuangTweenbl&&(egret.Tween.removeTweens(e.kuangimg),e._kuangTweenbl=!1),e._syncStep(e.currentGuideStepIterator.current),e.currentGuideStepIterator.hasNext()){var t=e.currentGuideStepIterator.next;t.cache?(GlobalAllProxy.getInstance().guideProxy.isCache=!0,game.GuideProxy.isFightGuide=t.isfight?!0:!1,e.endThisGuide(!1)):e.waitPlayStep(t)}else game.GuideProxy.isFightGuide=!1,e.endThisGuide(!0),EventBus.getIns().sendMessage(game.GameCommands.GUIDE_PLAY_OVER)},a.prototype._syncStep=function(e){var t,a,i=this;a=GlobalConfig.getGuideVo(e.gid);var n;if(a.type==game.GuideVO.type_force){t=guide_type.type_force,n=GuideSyncData.TransTOSyncID(i._currentGuideItem.id,e.id);var o=a.isLastStep(e);o&&PFAll.ReportLog(report_type.guideComplete)}else n=e.gid,t=guide_type.type_trigger;var r=1e4*e.gid+e.id;TDGATool.onMissionCompleted(GlobalEnum.talk_guid+r),n&&(1==e.sync?GlobalAllProxy.getInstance().guideProxy.NetSetGuide(n,1,t):GlobalAllProxy.getInstance().guideProxy.NetSetGuide(n,0,t)),GlobalAllProxy.getInstance().guideProxy.setGuidePateUp(i._currentGuideItem.id,e.id),GlobalAllProxy.getInstance().guideProxy.curGuideId=GuideSyncData.TransTOSyncID(i._currentGuideItem.id,e.id)},a.prototype.insert=function(t,a){void 0===a&&(a=0);var i=this,n=i.guideParse.getGuideVO(t);i._currentGuideItem=n;var o=n.getStepItem(a);i.currentGuideStepIterator=new e.ArrayIterator(n.toItemsArray());var r=n.toItemsArray().indexOf(o);i.currentGuideStepIterator.setCurrentIndex(r),i.prepareGuide(o),i.waitPlayStep(o)},a.prototype.prepareGuide=function(e){var t=e.getStrPro(e.prepareAction);if(t)switch(e.prepareAction){case"GuideOpenWindowAction":var a=e.getStrPro(e.prepareActionParam);if(a){var i=a.split(",");PanelDM.getIns().goWindow(i)}}},a.prototype.endThisGuide=function(e){var t=this;egret.clearTimeout(t.jumptimenum),egret.clearTimeout(t.waittimenum);var a=GlobalAllProxy.getInstance().guideProxy;e&&a.getIsNeedNextGuide()?a.onenterGamefun():t.close()},a.prototype.waitPlayStep=function(e){var t=this;if(t.m_blwaitstep=!1,egret.clearTimeout(t.waittimenum),e.waittime){t.initpanelData(),t.guideMaskG.visible=!0,t.guideMaskG.alpha=0;var a=new egret.Rectangle(0,0,0,0);t._showClickMask(a),t.m_blwaitstep=!0,t.waittimenum=egret.setTimeout(t.playStep,t,e.waittime,e,!0)}else t.playStep(e)},a.prototype.initpanelData=function(){var e=this;e.contgroup.visible=!1,e.guideMaskG.visible=!1,e.quanG.visible=!1,e.arrowiconGroup.visible=!1,e.smlogG.visible=!1,e.kuanggroup.visible=!1},a.prototype.playStep=function(e,t){void 0===t&&(t=!1);var i=this;if(i.kuanggroup.visible=!1,null!=e){i.m_blwaitstep=!1;var n=e.getStrPro(e.guideact);if(n){var o,r,s,l,p=n.split(/\;/);for(o in p)r=p[o],s=r.split(":"),l=s.length>1?s[1].split("|"):[],i.doAction(s[0],l)}e.hasArrow()&&(a.s_nArrowRotation=i.arrowiconGroup.rotation,a.s_nArrowRotationDif=e.getArrowRotation()-i.arrowiconGroup.rotation),game.GuideProxy.isFightGuide=e.isfight?!0:!1,GlobalAllProxy.getInstance().guideProxy.playerGuideId=GuideSyncData.TransTOSyncID(e.gid,e.id),i.addStepTrigger(e),i._playDialog(e),i._setFocus(e),egret.clearTimeout(i.jumptimenum),e.jumptime&&(i.jumptimenum=egret.setTimeout(i.jumpCurStep,i,e.jumptime));var c=1e4*e.gid+e.id;TDGATool.onMissionBegin(GlobalEnum.talk_guid+c)}},a.prototype.jumpCurStep=function(){var e=this,t=!1;egret.clearTimeout(e.jumptimenum);var a=e.currentGuideStepIterator.current;if(null==a)return!1;var i=a.nextStepTrigger;if(i==game.GameCommands.guide_MsgGuideClickDialogTrigger)t=!0,EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickDialogTrigger);else if(i==game.GameCommands.guide_MsgGuideClickButtonTrigger){var n=a.getStrPro(a.focuswidget),o=a.getStrPro(a.window);if(null!=a&&o&&n){var r=game.Injector.getInstance(egret.getDefinitionByName(o));if(null!=r){var s,l=n.split(",");if(s=l.length>1?e.seekitem(r,l):r[n],null!=s&&s.stage&&s.width){var p=new egret.TouchEvent(egret.TouchEvent.TOUCH_TAP,!0);s.dispatchEvent(p)}}}t=!0}return t},a.prototype.doAction=function(e,t){var a=PanelDM.getIns(),i=this;switch(e){case"openwindow":t[1]?a.goWindow([parseInt(t[0]),parseInt(t[1])]):a.goWindow([parseInt(t[0])]);break;case"showWindow":"newname"==t[0];break;case"clearpanelhis":a.clearOpenList();break;case"opennewmc":if(t.length>=2){var n=parseInt(t[0]),o=t[1],r=t[2];GlobalAllProxy.getInstance().gameProxy.showMcAnimo(n,o,r),i.addMessage(game.GameCommands.EFFECT_ZHANLI_OVER,i.effectOver);var s=i.contentGroup;s.alpha=0,s.touchChildren=!1,s.touchEnabled=!0}}},a.prototype.effectOver=function(e,t){var a=this;switch(t){case game.GameCommands.EFFECT_ZHANLI_OVER:if(e==panelmc_type.type_opennew){var i=a.contentGroup;i.alpha=1,i.touchChildren=!0,i.touchEnabled=!1}}},a.prototype.addStepTrigger=function(e){var t=this;EventBus.getIns().addMessage(e.nextStepTrigger,t.stepTriggerHandler,t),t.triggerarr.push(e.nextStepTrigger)},a.prototype.stepTriggerHandler=function(e){var t=this;for(var a in t.triggerarr)EventBus.getIns().removeMessage(t.triggerarr[a],t.stepTriggerHandler);t.triggerarr=[],t.moveNextStep()},a.prototype._playDialog=function(e){var t=this,a=e.hasDialog();t.contgroup.visible=!1,t.contgroup.touchEnabled=!0,t.smlogG.visible=!1,t.talkgroup.visible=!1,t.guideMaskG.visible=!1,t.quanG.visible=!1,t.arrowiconGroup.visible=!1,t.img_otherrole0.visible=!1;var i=e.getStrPro(e.focuswidget),n=e.showmask;if(a&&i?(t.maskBg0.visible=!1,n&&2==n?t.guideMaskG.alpha=0:t.guideMaskG.alpha=1):(t.guideMaskG.alpha=0,t.maskBg0.visible=!0,n&&2==n?t.maskBg0.alpha=.5:t.maskBg0.alpha=0),a&&1==e.dialog){if(e.dialogY){var o=e.dialogY*Global.stageHeight/940;t.talkgroup.y=o}if(t.contgroup.visible=!0,t._roleimgPath=null,t.img_role1.source=t._roleimgPath,t.img_role2.source=t._roleimgPath,t.imgrolebg1.visible=!1,t.imgrolebg2.visible=!1,t.img_role1.visible=!1,t.img_role2.visible=!1,t.roleG0.visible=!1,t.roleG1.visible=!1,t.roleG2.visible=!1,e.hasArrow())e.nextStepTrigger!=game.GameCommands.guide_MsgGuideClickDialogTrigger&&(t.contgroup.touchEnabled=!1),t.arrowicon1.visible=!1,egret.Tween.removeTweens(t.arrowicon1);else{var r=-10;t.arrowicon1.visible=!0,t.arrowicon1.y=r,egret.Tween.removeTweens(t.arrowicon1),egret.Tween.get(t.arrowicon1,{loop:!0}).to({y:r+20},200).to({y:r},200)}var s,l,p,c=0,u=0,m=0,g=0,_=utils.GameComUtil,h=e.talkerid;if(e.talkerid&&(l=t.getLogNameobj(e.talkerid),s=l.name,t._roleimgPath=l.pisindex,-1!=t.scaleXArr.indexOf(t._roleimgPath)?(c=_.getNumScale(t._leftimgx),t.img_role1.scaleX=-1):(c=_.getNumScale(t._leftimgx),t.img_role1.scaleX=1),t.img_role1.x=c,t.img_role1.source=t._roleimgPath),h&&(p=t.getLogNameobj(h),s=l.name,t._roleimgPath2=p.pisindex,-1!=t.scaleXArr.indexOf(t._roleimgPath2)?(u=t._rightimgx,t.img_role2.scaleX=1):(u=t._rightimgx,t.img_role2.scaleX=-1),t.img_role2.x=u,t.img_role2.source=t._roleimgPath2),t.nametxt0.text=s,1==e.talkpos){t.arrowiconG1.addChild(t.arrowicon1),t.imgrolebg1.visible=!0,t.img_role1.visible=!0,t.roleG1.visible=!0,t.nametxt1.text=s;t.currentGuideStepIterator.prevDialog&&t.currentGuideStepIterator.prevDialog.talkerid&&e.talkerid==t.currentGuideStepIterator.prevDialog.talkerid||(-1!=t.scaleXArr.indexOf(t._roleimgPath)?(c=t._rightimgx-t._movewidht,m=t._rightimgx,egret.Tween.get(t.img_role1).to({x:c,alpha:0}).to({x:m,alpha:1},t._movetime)):(c=t._leftimgx-t._movewidht,m=t._leftimgx,egret.Tween.get(t.img_role1).to({x:c,alpha:0}).to({x:m,alpha:1},t._movetime)))}else 2==e.talkpos?(t.roleG0.visible=!0,t.nametxt0.text=s,e.talkerid==talker_type.pressmy&&(t.img_otherrole0.visible=!0),t.arrowiconG0.addChild(t.arrowicon1)):(t.arrowiconG2.addChild(t.arrowicon1),t.roleG2.visible=!0,t.imgrolebg2.visible=!0,t.img_role2.visible=!0,t.nametxt2.text=s,t.currentGuideStepIterator.prevDialog&&t.currentGuideStepIterator.prevDialog.talkerid&&h==t.currentGuideStepIterator.prevDialog.talkerid||(-1!=t.scaleXArr.indexOf(t._roleimgPath2)?(u=t._rightimgx+t._movewidht,g=t._rightimgx,egret.Tween.get(t.img_role2).to({x:u,alpha:0}).to({x:g,alpha:1},t._movetime)):(u=t._rightimgx+t._movewidht,g=t._rightimgx,egret.Tween.get(t.img_role2).to({x:u,alpha:0}).to({x:g,alpha:1},t._movetime))));if(e.dialog&&e.dialogId){var d=e.dialogId;d=d.replace("%name%",GlobalAllProxy.getInstance().playerProxy.playerinfo.club_name),d=d.replace("%takname%",s),e.talksmall?t.smlogtxt.textFlow=utils.GameComUtil.getHtmlText(d):(t.infotxt0.textFlow=utils.GameComUtil.getHtmlText(d),t.infotxt1.textFlow=utils.GameComUtil.getHtmlText(d),t.infotxt2.textFlow=utils.GameComUtil.getHtmlText(d),t.talkgroup.visible=!0),t.currentGuideStepIterator.prevDialog&&t.currentGuideStepIterator.prevDialog.talkerid||e.talksmall||egret.Tween.get(t.talkgroup).to({alpha:0}).to({alpha:1},400)}}},a.prototype.getLogNameobj=function(e){var t="",a="";switch(e){case talker_type.my:t=GlobalAllProxy.getInstance().playerProxy.playerinfo.club_name,a="tab_xsyd_b3";break;case talker_type.nbc:t=Language.ins.guide_name_2,a="tab_xsyd_a2";break;case talker_type.laiwan:t=Language.ins.guide_name_3,a="tab_xsyd_b9";break;case talker_type.reporter:t=Language.ins.guide_name_4,a="";break;case talker_type.pressmy:t=GlobalAllProxy.getInstance().playerProxy.playerinfo.club_name,a="tab_xsyd_b6"}return{name:t,pisindex:a}},a.prototype._setFocus=function(e){},a.prototype.enter_frame_locate=function(){var e=this;if(!e.m_blwaitstep){var t=e.currentGuideStepIterator.current,a=t.getStrPro(t.focuswidget),i=t.getStrPro(t.window),n=t.hasArrow();if(null!=t&&i&&a){var o=game.Injector.getInstance(egret.getDefinitionByName(i)),r=!1;if(null!=o){var s,l=a.split(",");if(s=l.length>1?e.seekitem(o,l):o[a],null!=s&&s.stage&&s.width){"vm.GameMainView"==t.window&&"skipbtn"==t.focuswidget&&(s.alpha=1);var p=t.getfocusRect();r=!0;var c,u,m,g,_,h,d;null!=p?(c=utils.GameComUtil.getLocalToGlobal(s,parseInt(p[0]),parseInt(p[1])),g=c.x,_=c.y,u=parseInt(p[2]),m=parseInt(p[3]),-1==u&&(u=s.width),-1==m&&(m=s.height),d=new egret.Rectangle(g,_,u,m)):(c=utils.GameComUtil.getLocalToGlobal(s.parent,s.x,s.y),u=s.width,m=s.height,g=c.x,_=c.y,h=s.anchorOffsetX,h&&h>0&&(g-=s.anchorOffsetX,_-=s.anchorOffsetY),d=new egret.Rectangle(g,_,u,m));var y=t.getoffrect();d=game.GuideEnum.ScaleRect(d,parseFloat(y[0]),parseFloat(y[1])),d=game.GuideEnum.offsetRect(d,parseFloat(y[2]),parseFloat(y[3]));for(var v=1,f=1,b=s.parent,G=Global.stage;null!=b&&b!=G;)v*=b.scaleX,f*=b.scaleY,b=b.parent;if(v&&f&&(1!=v||1!=f)&&(d.width=Math.floor(d.width*v),d.height=Math.floor(d.height*f)),e._showClickMask(d),t.showkuang){e.kuanggroup.visible=!0;var x=e.kuangimg;x.x=d.x,x.y=d.y,x.width=d.width,x.height=d.height}t.talksmall&&e._showSmallLog(d),n&&1==s.visible?(e._showArrow(d),e.quanG.visible=!0,e.quanG.x=d.x+.5*d.width,e.quanG.y=d.y+.5*d.height,e.firstShowArraw=!1,e.arrowiconGroup.visible=!0,e.quanG.visible=!0):(e.arrowiconGroup.visible=!1,e.quanG.visible=!1)}else null!=s&&(e.arrowiconGroup.visible=!1,e.quanG.visible=!1)}r||(d=new egret.Rectangle(0,0,0,0),e._showClickMask(d))}}},a.prototype.seekitem=function(e,t){for(var a,i=e,n=0,o=t.length;o>n&&(a=t[n],i[a]);n++)if(i=i[a],n==o-1)return i;return null},a.prototype._showArrow=function(e){var t=this;if(null!=t.arrowiconGroup){t.arrowicon3.visible=!0,t.arrowiconGroup.visible=!0;var i=t.currentGuideStepIterator.current;if(null!=i){var n=i.getArrowLocation(e),o=egret.Point.interpolate(a.s_obLastArrowPos,n,.8);a.s_obLastArrowPos.setTo(o.x,o.y),t.arrowiconGroup.x=a.s_obLastArrowPos.x,t.arrowiconGroup.y=a.s_obLastArrowPos.y;var r=.2*a.s_nArrowRotationDif;if(a.s_nArrowRotationDif*=.8,.01>r?t.arrowiconGroup.rotation=i.getArrowRotation():(a.s_nArrowRotation+=r,t.arrowiconGroup.rotation=a.s_nArrowRotation),t.firstShowArraw){t._chooseY2=-114;var s=t._chooseY2-10;t.arrowicon3.y=s,egret.Tween.removeTweens(t.arrowicon1),egret.Tween.get(t.arrowicon3,{loop:!0}).to({y:s+20},200).to({y:s},200)}}}},a.prototype._showClickMask=function(e){var t=this;t.guideMaskG.visible=!0,t.mask1.height=e.y<0?0:e.y;var a=Global.stageHeight-(e.y+e.height);t.mask2.height=0>a?0:a,t.mask3.y=e.y,t.mask3.width=e.x<0?0:e.x,t.mask3.height=e.height<0?0:e.height,t.mask4.y=e.y;var i=Global.stageWidth-(e.x+e.width);t.mask4.width=0>i?0:i,t.mask4.height=e.height<0?0:e.height},a.prototype._showSmallLog=function(e){var t=this,a=t.smlogG;if(null!=a){a.visible=!0;var i=t.currentGuideStepIterator.current;if(null!=i){var n=i.getsmallLocation(e,a.width,a.height);a.x=n.x,a.y=n.y;for(var o=1;8>=o;o++)t["smt"+o].visible=!1;t["smt"+i.showmask].visible=!0}}},a.prototype.dispose=function(){},a.prototype.changeShow=function(){},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addEventListener(egret.Event.ENTER_FRAME,e.enter_frame_locate,e),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.STAGE_RESIZE:a.isOpend()&&a.resizepanel()}},a.prototype.resizepanel=function(){},a.prototype.removeEvent=function(){var e=this;egret.Tween.removeTweens(e.arrowicon1),egret.Tween.removeTweens(e.arrowicon3),e.removeEventListener(egret.Event.ENTER_FRAME,e.enter_frame_locate,e),e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},a.prototype.touchTapFun=function(e){var t=this,a=t.currentGuideStepIterator.current;if(t.m_blwaitstep)return void(a&&a.isfight?FLOAT.NShowPutong([Language.ins.guide_click_wait]):FLOAT.NShowPutong([Language.ins.guide_click_no]));if(a&&a.nextStepTrigger==game.GameCommands.guide_MsgGuideJumpTrigger)return void FLOAT.NShowPutong([Language.ins.guide_click_fight]);var i=!1,a=t.currentGuideStepIterator.current;if(a&&a.anyplace&&(i=t.jumpCurStep()),!i){var n=e.target;switch(n){case t.mask1:case t.mask2:case t.mask3:case t.mask4:FLOAT.NShowPutong([Language.ins.guide_click_no]);break;default:GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickDialogTrigger)}}},a.s_obLastArrowPos=new egret.Point,a.s_nArrowRotationDif=0,a.s_nArrowRotation=0,a}(e.VM);e.NewPlayFollowView=t,__reflect(t.prototype,"vm.NewPlayFollowView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.dparr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.GuildApplySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),t){var i=a.infotxt;i.visible=!1,null==a.comtxt&&(a.comtxt=new egret.TextField,a.comtxt.type=egret.TextFieldType.INPUT,a.comtxt.textAlign=egret.HorizontalAlign.LEFT,a.comtxt.x=i.x,a.comtxt.y=i.y,a.comtxt.text=Language.ins.guild_tip0,a.comtxt.width=i.width,a.comtxt.height=i.height,a.comtxt.size=i.size,a.comtxt.maxChars=20,a.comtxt.textColor=i.textColor,a.comtxt.bold=!0,a.comtxt.fontFamily=Language.ins.sever_font,a.infoG.addChild(a.comtxt)),a.lookbtn.label=Language.ins.friend_tip21,a.createbtn.label=Language.ins.guild_tip4,a.tiptxt0.text=Language.ins.guild_tip47,a.tiptxt1.text=Language.ins.guild_tip48,a.tiptxt2.text=Language.ins.guild_tip49,FntUtil.showFnt(a.titleBZG,ResName.fnt_title,Language.ins.guild_tip46,ResName.spa_title_a)}a.comtxt&&(a.comtxt.text=Language.ins.guild_tip0,a.comtxt.addEventListener(egret.TouchEvent.TOUCH_TAP,a.changeComtxt,a),a.comtxt.addEventListener(egret.TextEvent.CHANGE,a.selectComtxt,a)),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_guild_apply),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().guildProxy.NetApplyListsRequest()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.selectComtxt=function(e){var t=this;t.temptxt=e.target.text},t.prototype.changeComtxt=function(e){var t=this;t.comtxt.text="",t.temptxt=""},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a){var i,n=a.applyLists;t.dparr=[];for(var o=0,r=n.length;r>o;o++)i=new SGuildInfo,i.objectToThis(n[o]),t.dparr.push(i);t.showData(t.dparr,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_SEARCH,e.eventchange),e.addMessage(game.GameCommands.GUILD_APPLY,e.eventchange),e.addMessage(game.GameCommands.GUILD_INIT,e.eventchange),e.addMessage(game.GameCommands.GUILD_APPLYLIST,e.eventchange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_SEARCH,e.eventchange),e.removeMessage(game.GameCommands.GUILD_APPLY,e.eventchange),e.removeMessage(game.GameCommands.GUILD_INIT,e.eventchange),e.removeMessage(game.GameCommands.GUILD_APPLYLIST,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_SEARCH:a.dparr=e,a.showData(e,!1);break;case game.GameCommands.GUILD_APPLY:var i=a.datalist;i.dataProvider.replaceAll(a.dparr);break;case game.GameCommands.GUILD_INIT:var n=GlobalAllProxy.getInstance().guildProxy.Guild;n&&n.data&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_main]);break;case game.GameCommands.GUILD_APPLYLIST:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.m_toppanel.closebtn:t.close();break;case t.lookbtn:if(""!=t.comtxt.text&&t.comtxt.text!=Language.ins.guild_tip0){var i=BufRequests.Guild_Search;GlobalAllProxy.getInstance().guildProxy.GuildCommonRequest(i,2,0,t.comtxt.text)}else FLOAT.NShowPutong([Language.ins.guild_tip0]);break;case t.createbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_create])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=GuildApplyRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.GuildApplyView=t,__reflect(t.prototype,"vm.GuildApplyView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildApprovalSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip24,a.tiptxt0.text=Language.ins.coach_tip33,a.tiptxt1.text=Language.ins.guild_tip50,a.tiptxt2.text=Language.ins.guild_tip51);var i=GlobalAllProxy.getInstance().guildProxy;if(i&&!i.GuildMemberList){var n=BufRequests.Guild_Member;i.GuildCommonRequest(n,1,i.Guild.data.guildId,"")}var i=GlobalAllProxy.getInstance().guildProxy;if(i&&i.GuildMemberApplyLists&&i.GuildMemberApplyLists.length>0)a.changeShow(!0);else{var n=BufRequests.Guild_MemberApplyLists;i.GuildCommonRequest(n,1,i.Guild.data.guildId,"")}},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().guildProxy.GuildMemberApplyLists;a&&(t.showData(a,!1),a.length>0?t.noneG.visible=!1:t.noneG.visible=!0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_APPROVAL_LIST,e.eventChange),e.addMessage(game.GameCommands.GUILD_REPLY,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_APPROVAL_LIST,e.eventChange),e.removeMessage(game.GameCommands.GUILD_REPLY,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_APPROVAL_LIST:case game.GameCommands.GUILD_REPLY:a.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=GuildApprovalRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.GuildApprovalView=t,__reflect(t.prototype,"vm.GuildApprovalView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.accounstr="",t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildChangeNameSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.idtxt.text=Language.ins.guild_tip52,a.synCtxt1.text=Language.ins.alert_tip1,a.okbtn.label=Language.ins.fight_tip32,a.closebtn.label=Language.ins.btn_cancel,a.tiptxt0.text=Language.ins.guild_tip53,a.tiptxt1.text=Language.ins.guild_tip54,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip2),a.m_initstr=Language.ins.guild_tip3,a.idtxt.text=a.m_initstr;ParamLoader.instance.ServerChangeNameCost;a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a&&a.data){var i=a.data,n=ParamLoader.instance.RenameGuildCost[0];i.modifyNum<=3?t.synCnumtxt.text=+n[i.modifyNum]:t.synCnumtxt.text=+n[n.length-1]}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getNameLenght())},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.playNextFun()}},t.prototype.playNextFun=function(){var e=(GlobalAllProxy.getInstance().gameProxy.logintype,this),t=e.idtxt.text;ParamLoader.instance.Servernamemax;if(t==e.m_initstr||""==t)return void FLOAT.NShowPutong([Language.ins.game_creat_tip0]);if(t==Language.ins.guild_tip3)return void FLOAT.NShowPutong([Language.ins.guild_tip3]);var a=t;a=a.toLowerCase(),a=GlobalConfig.excludeSpecialRemove(a);var i=new RegExp(GlobalConfig.keyWordStr,"g");if(i.test(a))return void FLOAT.NShowPutong([Language.ins.tip_login_error2]);var n=Global.checkNameIsLegal(t);return n?void e.clickfastbuy():void FLOAT.NShowPutong([Language.ins.tip_login_error2])},t.prototype.clickfastbuy=function(){var e=this,t=e.idtxt.text;e.close(),GlobalAllProxy.getInstance().guildProxy.NetGuildSettingRequest(2,t)},t}(e.VM);e.GuildChangeNameView=t,__reflect(t.prototype,"vm.GuildChangeNameView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildChangeNoticeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.okbtn.label=Language.ins.fight_tip32,a.closebtn.label=Language.ins.btn_cancel,a.tiptxt0.text=Language.ins.guild_tip55,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip15,a.idtxt.multiline=!0);var i=GlobalAllProxy.getInstance().guildProxy.Guild;if(i&&i.data){var n=i.data;""==n.notice?a.m_initstr=Language.ins.guild_tip16:a.m_initstr=n.notice}a.idtxt.text=a.m_initstr,a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=GlobalAllProxy.getInstance().guildProxy.Guild;if(t&&t.data){t.data}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,Math.floor(ParamLoader.instance.GuildNoticeLong))},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.playNextFun()}},t.prototype.playNextFun=function(){var e=(GlobalAllProxy.getInstance().gameProxy.logintype,this),t=e.idtxt.text;if(t==e.m_initstr||""==t)return void FLOAT.NShowPutong([Language.ins.guild_tip16]);if(t==Language.ins.guild_tip16)return void FLOAT.NShowPutong([Language.ins.guild_tip16]);var a=t;a=a.toLowerCase(),a=GlobalConfig.excludeSpecialRemove(a);var i=new RegExp(GlobalConfig.keyWordStr,"g");return i.test(a)?void FLOAT.NShowPutong([Language.ins.tip_login_error2]):void e.clickfastbuy()},t.prototype.clickfastbuy=function(){var e=this,t=e.idtxt.text;e.close(),GlobalAllProxy.getInstance().guildProxy.NetGuildSettingRequest(1,t)},t}(e.VM);e.GuildChangeNoticeView=t,__reflect(t.prototype,"vm.GuildChangeNoticeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.accounstr="",t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildCreateSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.idtxt.text=Language.ins.guild_tip52,a.tiptxt0.text=Language.ins.alert_tip1,a.okbtn.label=Language.ins.guild_tip56,a.closebtn.label=Language.ins.btn_cancel,a.tiptxt1.text=Language.ins.guild_tip53,a.tiptxt2.text=Language.ins.guild_tip54,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip4),a.m_initstr=Language.ins.guild_tip0,a.idtxt.text=a.m_initstr;ParamLoader.instance.ServerChangeNameCost;a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;a&&(t.synCnumtxt.text=ParamLoader.instance.FoundGuildCost)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_CREATE,e.eventChange),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getNameLenght())},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_CREATE,e.eventChange),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_CREATE:a.close();var i=GlobalAllProxy.getInstance().guildProxy.Guild;i&&i.data&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_main])}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.playNextFun()}},t.prototype.playNextFun=function(){var e=(GlobalAllProxy.getInstance().gameProxy.logintype,this),t=e.idtxt.text;
ParamLoader.instance.Servernamemax;if(t==e.m_initstr||""==t)return void FLOAT.NShowPutong([Language.ins.game_creat_tip0]);if(t==Language.ins.guild_tip0)return void FLOAT.NShowPutong([Language.ins.guild_tip0]);var a=t;a=a.toLowerCase(),a=GlobalConfig.excludeSpecialRemove(a);var i=new RegExp(GlobalConfig.keyWordStr,"g");if(i.test(a))return void FLOAT.NShowPutong([Language.ins.tip_login_error2]);var n=Global.checkNameIsLegal(t);return n?void e.clickfastbuy():void FLOAT.NShowPutong([Language.ins.tip_login_error2])},t.prototype.clickfastbuy=function(){var e=this,t=e.idtxt.text;e.close();var a=BufRequests.Guild_Create;GlobalAllProxy.getInstance().guildProxy.GuildCommonRequest(a,2,0,t)},t}(e.VM);e.GuildCreateView=t,__reflect(t.prototype,"vm.GuildCreateView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.locktxt.text=Language.ins.club_tip32,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip1,a.clubbar.ShowLabel=!0),a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.viewinfo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=t.viewinfo,i=GlobalConfig.getguildVO(a.level);if(a&&(t.nametxt.text=a.name,t.lvtxt.text=FormatString.format(Language.ins.guild_tip7,a.level),t.daytxt.text=a.threeDaysContribution,t.zhanlitxt.text=a.totalFighting,t.ranktxt.text=a.rankId,t.numtxt.text=FormatString.format(Language.ins.guild_tip6,a.memberCnt,i.num),0==a.authMethods?t.typetxt.text=Language.ins.guild_tip8:t.typetxt.text=Language.ins.guild_tip9,t.addtxt.text=FormatString.format(Language.ins.build_tip27,i.hangupreward/100),""==a.notice?t.gonggaotxt.text=Language.ins.guild_tip41:t.gonggaotxt.text=a.notice,t.nametxt0.text=FormatString.format(Language.ins.guild_tip10,a.chairmanName),i)){var n=a.exp-i.minexp;t.clubbar.setValue(n,i.maxexp)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_heromarket])}},t}(e.VM);e.GuildInfoView=t,__reflect(t.prototype,"vm.GuildInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.namearr=[],t.upbtntype=1,t.delbtntype=4,t.percentWidth=t.percentHeight=100,t.namearr=Language.ins.guild_namearr,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.GuildListSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.btxt0.text=Language.ins.coach_tip33,a.btxt1.text=Language.ins.guild_tip57,a.btxt2.text=Language.ins.game_zhanli_s,a.btxt3.text=Language.ins.guild_tip49,a.btxt4.text=Language.ins.guild_tip58,a.pzhuanbtn.label=Language.ins.guild_tip59,a.delbtn.label=Language.ins.guild_tip60,a.upbtn.label=Language.ins.guild_tip61,a.Binfobtn.label=Language.ins.guild_tip62,a.addbtn.label=Language.ins.btn_add_friend),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_guild_main),a.addChild(a.m_toppanel);var i=GlobalAllProxy.getInstance().guildProxy;if(i){var n=BufRequests.Guild_Member;i.GuildCommonRequest(n,1,i.Guild.data.guildId,"")}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.friendG.visible=!1;var a=GlobalAllProxy.getInstance().guildProxy;a&&a.GuildMemberList&&(a.GuildMemberList.sort(utils.GameUtil.sortMatckFun(["position","fighting"],[1,1])),t.showData(a.GuildMemberList,!1))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_MEMBER_LIST,e.eventchange),e.addMessage(game.GameCommands.GUILD_MANAGEMENT,e.eventchange),e.addMessage(game.GameCommands.GUILD_QUIT,e.eventchange),e.addMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_MEMBER_LIST,e.eventchange),e.removeMessage(game.GameCommands.GUILD_MANAGEMENT,e.eventchange),e.removeMessage(game.GameCommands.GUILD_QUIT,e.eventchange),e.removeMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case a.m_toppanel.closebtn:a.close();break;case game.GameCommands.GUILD_MEMBER_LIST:case game.GameCommands.GUILD_MANAGEMENT:a.changeShow();break;case game.GameCommands.GUILD_QUIT:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]);break;case game.GameCommands.GUILD_NOTIFY:8==e.type&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main])}},t.prototype.listchangeA=function(e){var t=this;t.friendG.visible=!0;var a=GlobalAllProxy.getInstance().guildProxy.Guild,i=t.datalist.selectedItem,t=this;t.m_chooseinfo=i,t.logoimg.setLogoUrl(i.logo);var n=(ColorUtil.tip_hui,ColorUtil.tip_blue,FormatString.format(Language.ins.guild_tip20,t.namearr[i.position])),o=FormatString.format(Language.ins.guild_tip21,i.fighting),r=FormatString.format(Language.ins.guild_tip22,i.threeDayContribution),s=FormatString.format(Language.ins.guild_tip23,i.totalContribution);t.lvtxt.text=n,t.idtxt.text=o,t.sangongtxt.text=r,t.zonggongtxt.text=s,t.nametxt.text=i.name;var l=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(i.uid,i.uid==l?(utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.addG,t.infobtnG,!1)):(utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.BinfoG,t.infobtnG,!0),utils.GameComUtil.setVisibleHitPanel(t.addG,t.infobtnG,!0)),t.delbtn.label=Language.ins.guild_tip25,t.upbtn.label=Language.ins.guild_tip26,a&&a.data){var p=a.data;0==p.position?(utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1)):1==p.position?0==i.position?utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1):(utils.GameComUtil.setVisibleHitPanel(t.delG,t.infobtnG,!1),utils.GameComUtil.setVisibleHitPanel(t.askG,t.infobtnG,!1)):2==p.position&&(0==i.position?(t.delbtn.label=Language.ins.guild_tip25,t.upbtn.label=Language.ins.guild_tip26,t.upbtntype=1,t.delbtntype=4):1==i.position&&(t.delbtn.label=Language.ins.guild_tip28,t.upbtn.label=Language.ins.guild_tip27,t.upbtntype=2,t.delbtntype=3))}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.m_toppanel.closebtn:t.close();break;case t.friendRct:t.friendG.visible=!1;break;case t.Binfobtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],t.m_chooseinfo.uid);break;case t.addbtn:GlobalAllProxy.getInstance().friendProxy.NetUserFriendAdd(t.m_chooseinfo.uid);break;case t.upbtn:GlobalAllProxy.getInstance().guildProxy.NetGuildManagementRequest(t.upbtntype,t.m_chooseinfo.uid);break;case t.delbtn:4==t.delbtntype?JAlert.showinfostr(Language.ins.guild_tip42,Language.ins.title_tishi,t.delbtngoquit,t,!0):t.delbtngoquit();break;case t.pzhuanbtn:t.quitGuild()}},t.prototype.delbtngoquit=function(){var e=this;GlobalAllProxy.getInstance().guildProxy.NetGuildManagementRequest(e.delbtntype,e.m_chooseinfo.uid)},t.prototype.quitGuild=function(){var e=this;JAlert.showinfostr(Language.ins.guild_tip34,Language.ins.title_tishi,e.goquit,e,!0)},t.prototype.goquit=function(){GlobalAllProxy.getInstance().guildProxy.NetGuildQuitGuildRequest()},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=GuildListRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.GuildListView=t,__reflect(t.prototype,"vm.GuildListView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.GuildLogSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.tiptxt0.text=Language.ins.guild_tip63,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip17,a.showTar());var i=GlobalAllProxy.getInstance().guildProxy;i&&i.GuildLogLists?a.changeShow():i.NetGuildShowLogRequest()},a.prototype.showTar=function(){var e=this,t=Language.ins.guild_tip18;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVO=function(){},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(t){void 0===t&&(t=null);var a=this,i=GlobalAllProxy.getInstance().guildProxy.GuildLogLists,n=[];if(i)if(a._choosemode==e.GuildLogView.type_0)i.length>0?a.noneG.visible=!1:a.noneG.visible=!0,a.showData(i,!1);else if(a._choosemode==e.GuildLogView.type_1){n=[];for(var o=0,r=i.length;r>o;o++)5!=i[o].type&&6!=i[o].type&&n.push(i[o]);n.length>0?a.noneG.visible=!1:a.noneG.visible=!0,a.showData(n,!1)}else if(a._choosemode==e.GuildLogView.type_2){n=[];for(var o=0,r=i.length;r>o;o++)(5==i[o].type||6==i[o].type)&&n.push(i[o]);n.length>0?a.noneG.visible=!1:a.noneG.visible=!0,a.showData(n,!1)}},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_LOGLIST,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_LOGLIST,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_LOGLIST:a.changeShow()}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=GuildLogRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.type_0=0,a.type_1=1,a.type_2=2,a}(e.VM);e.GuildLogView=t,__reflect(t.prototype,"vm.GuildLogView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildRankSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.tiptxt.text=Language.ins.guild_tip64,a.btxt0.text=Language.ins.guild_tip65,a.btxt1.text=Language.ins.guild_tip66,a.btxt2.text=Language.ins.club_tip26,a.btxt3.text=Language.ins.guild_tip49,a.btxt4.text=Language.ins.guild_tip67,a.btxt5.text=Language.ins.guild_tip68,a.tiptxt2.text=Language.ins.guild_tip69,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip19),a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild,i=GlobalAllProxy.getInstance().guildProxy.GuildRank,n=[];if(i){var o;n=[];for(var r=0,s=i.length;s>r;r++)o=new SGuildInfo,o.objectToThis(i[r]),n.push(o);t.showData(n,!1)}if(a&&a.data){for(var l,r=0,s=n.length;s>r;r++)a.data.guildId==n[r].guildId&&(l=n[r]);l&&(t.nametxt.text=l.name,t.lvtxt.text=l.level,t.gongtxt.text=l.threeDaysContribution,t.zhantxt.text=l.totalFighting,t.tiptxt1.text=l.rankId,t.rankicon.visible=!0,t.tiptxt1.visible=!1,1==l.rankId?t.rankicon.source="tab_jjsn_d7":2==l.rankId?t.rankicon.source="tab_jjsn_d8":3==l.rankId?t.rankicon.source="tab_jjsn_d9":(t.rankicon.visible=!1,t.tiptxt1.visible=!0))}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_info],a)},t.prototype.touchTapFun=function(e){var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_heromarket]);break;case t.lookbtn:if(a&&a.data){var i=GlobalAllProxy.getInstance().guildProxy.GuildRank;if(i)for(var n=0,o=i.length;o>n;n++)if(i[n].guildId=a.data.guildId){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_info],i[n]);break}}}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=GuildRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.GuildRankView=t,__reflect(t.prototype,"vm.GuildRankView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildRedBaoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.viewinfo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t,a=this,i=a.viewinfo,n=GlobalAllProxy.getInstance().guildProxy.Guild;if(n&&n.data&&(t=n.data),i&&0==i.whetherReceive)a.robG.visible=!0,a.infoG.visible=!1,a.robnumtxt.text="X"+i.totalMoney,a.robtimetxt.text=utils.GameComUtil.getTime1Str(1e3*i.time,!1);else{var o=i;a.robG.visible=!1,a.infoG.visible=!0,a.infoTip0.text=utils.GameComUtil.getTime1Str(1e3*o.time,!1),a.infoTip2.text=o.totalMoney,a.infoTip4.text=FormatString.format(Language.ins.guild_tip31,o.records.length,o.totalNum);for(var r=!1,s=0,l=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,p=0,c=o.records.length;c>p;p++)o.remainNum<=0?o.records[p].isover=!0:o.records[p].isover=!1,l==o.records[p].uid&&(r=!0,s=o.records[p].money);t&&0==t.changeGuildStatus?r?(utils.GameComUtil.setVisibleHitPanel(a.infoitem,a.numG,!0),utils.GameComUtil.setVisibleHitPanel(a.infoTip3,a.numG,!0),a.infoTip1.text=Language.ins.guild_tip33,a.infoTip3.text="X"+s):(a.infoTip1.text=Language.ins.guild_tip32,utils.GameComUtil.setVisibleHitPanel(a.infoitem,a.numG,!1),utils.GameComUtil.setVisibleHitPanel(a.infoTip3,a.numG,!1)):r?(utils.GameComUtil.setVisibleHitPanel(a.infoitem,a.numG,!0),utils.GameComUtil.setVisibleHitPanel(a.infoTip3,a.numG,!0),a.infoTip1.text=Language.ins.guild_tip33,a.infoTip3.text="X"+s):(a.infoTip1.text=Language.ins.guild_tip39,utils.GameComUtil.setVisibleHitPanel(a.infoitem,a.numG,!1),utils.GameComUtil.setVisibleHitPanel(a.infoTip3,a.numG,!1)),a.showData(o.records,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_QIANGREDBAG,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_QIANGREDBAG,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_QIANGREDBAG:a.robG.visible=!1,a.infoG.visible=!0,a.changeGetRed(e)}},t.prototype.changeGetRed=function(e){var t=this,a=e.nowinfo;t.infoTip0.text=utils.GameComUtil.getTime1Str(1e3*a.time,!1),t.infoTip2.text=a.totalMoney,t.infoTip4.text=FormatString.format(Language.ins.guild_tip31,a.records.length,a.totalNum),utils.GameComUtil.setVisibleHitPanel(t.infoitem,t.numG,!0),utils.GameComUtil.setVisibleHitPanel(t.infoTip3,t.numG,!0),0==e.money?(t.infoTip1.text=Language.ins.guild_tip32,utils.GameComUtil.setVisibleHitPanel(t.infoitem,t.numG,!1),utils.GameComUtil.setVisibleHitPanel(t.infoTip3,t.numG,!1)):(t.infoTip1.text=Language.ins.guild_tip33,t.infoTip3.text="X"+e.money);for(var i=0,n=a.records.length;n>i;i++)a.remainNum<=0?a.records[i].isover=!0:a.records[i].isover=!1;t.showData(a.records,!1)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.robG:GlobalAllProxy.getInstance().guildProxy.NetGrabRedPacketRequest(t.viewinfo.totalMoney)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=GuildRedBaoRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.GuildRedBaoView=t,__reflect(t.prototype,"vm.GuildRedBaoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GuildSetUpSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.okbtn.label=Language.ins.btn_ok,a.tiptxt0.text=Language.ins.guild_tip70,a.tiptxt1.text=Language.ins.guild_tip71,a.tiptxt2.text=Language.ins.guild_tip72,a.needtxt0.text=Language.ins.guild_tip73,a.needtxt1.text=Language.ins.guild_tip74,a.changenamebtn.label=Language.ins.guild_tip75,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.guild_tip5),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.changesound();var a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a&&a.data){t.nametxt.text=a.data.name;var i=ParamLoader.instance.RenameGuildCost[0];a.data.modifyNum<=3?t.tiptxt.text=FormatString.format(Language.ins.guild_tip43,i[a.data.modifyNum]):t.tiptxt.text=FormatString.format(Language.ins.guild_tip43,i[i.length-1])}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_UPNAME,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_UPNAME,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.GUILD_UPNAME:this.changeShow()}},t.prototype.changesound=function(){var e=this,t=GlobalAllProxy.getInstance().guildProxy.Guild;t&&t.data&&(e.isOK=1==t.data.authMethods?!0:!1,e.isNO=0==t.data.authMethods?!0:!1,e.isOK?e.checksound.selected=!0:e.checksound.selected=!1,e.isNO?(SoundMgr.getInstance().SetEffectVolume(1),e.checkeffect.selected=!0):(SoundMgr.getInstance().SetEffectVolume(0),e.checkeffect.selected=!1))},t.prototype.touchTapFun=function(e){var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;switch(e.target){case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.close(),a&&a.data&&GlobalAllProxy.getInstance().guildProxy.NetGuildSettingRequest(3,"",a.data.authMethods);break;case t.changenamebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_changename]);break;case t.soundG:a&&a.data&&(a.data.authMethods=1,t.changesound());break;case t.effectG:a&&a.data&&(a.data.authMethods=0,t.changesound())}},t}(e.VM);e.GuildSetUpView=t,__reflect(t.prototype,"vm.GuildSetUpView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.GuildSignGifSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_guild_signgif),a.addChild(a.m_toppanel),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a&&a.data){var i=a.data,n=GlobalConfig.getguildVO(i.level);if(n){t.numtxt.text=i.donateNum+"/"+n.num,t.pdonatetxt.text=ParamLoader.instance.OrdinarySignCost,t.hdonatetxt.text=ParamLoader.instance.RichSignCost;var o=ParamLoader.instance.GuildSignAttribute[0];o&&o.length>=2&&(t.zhougiftxt0.text=FormatString.format(Language.ins.guild_tip30,o[0]),t.zhougiftxt1.text=FormatString.format(Language.ins.guild_tip30,o[1]));var r=GlobalConfig.getSystemlanguageVOUnlock([GlobalViewIDEnum.pType_guild_signgif,0]);t.tiptxt.text=r.text,0==i.general?(t.pzhuanbtn.label=Language.ins.guild_tip35,t.pzhuanbtn.txticon="btn_common_2",t.pzhuanbtn.enabled=!0):(t.pzhuanbtn.label=Language.ins.guild_tip36,t.pzhuanbtn.txticon="btn_common_1",t.pzhuanbtn.enabled=!1),0==i.magnate?(t.hzhuanbtn.label=Language.ins.guild_tip37,t.hzhuanbtn.enabled=!0):(t.hzhuanbtn.label=Language.ins.guild_tip36,t.hzhuanbtn.enabled=!1);var s=utils.GameComUtil.getItemVoArr(n.poorreward);t.p_jiangliArr=s;var l=utils.GameComUtil.getItemVoArr(n.richreward);t.h_jiangliArr=l,t.changeshowGif()}t.changeTipMC()}},t.prototype.changeshowGif=function(){var e=this,t=GlobalAllProxy.getInstance().guildProxy.Guild;if(t&&t.data){var a,i,n,o,r,s=t.data,l=GlobalConfig.getguildVO(s.level),p=l.signnum.split(","),c=s.donateNum,u=l.redbagreward.split(","),m=l.redbagnum.split(","),g=p.length,_=0,h=e.gifbar.x,d=e.gifbar.width,y=0,v=100,f=0,b=[],G=[],x="tab_gh_f2";r=utils.GameComUtil.getIsTime(18)?[]:s.redPacket;for(var C=0;g>C&&(i=+p[C],_=C,e["gifG"+_]);C++){if(a=!1,r)for(var T=0,P=r.length;P>T;T++)if(r[T].index==C){a=!0;break}n=i,o=e["gifG"+_].x+e["gifxian"+_].x-h+3,G.push(o/d),b.push(n),e["gifstartxt"+_].text=n;var A=c;A>n&&(A=n),e["gifnum"+_].text=FormatString.format(Language.ins.guild_tip29,m[C]),e["gifjine"+_].text=FormatString.format(Language.ins.guild_tip40,u[C]),utils.GameUtil.setColorGrey(e["gifimg"+_],!1),c>=n?a?(utils.GameUtil.playGifMc(_,!1,e,x),utils.GameUtil.setColorGrey(e["gifimg"+_],!0)):utils.GameUtil.playGifMc(_,!0,e,x):utils.GameUtil.playGifMc(_,!1,e,x),e["gifling"+_].visible=a?!0:!1,c>n&&(f=C+1)}var w;if(f>=b.length)y=v;else{var k=b[f],I=G[f];if(f>0){var S=b[f-1],E=G[f-1];w=(c-S)/(b[f]-S),y=100*(E+(I-E)*w)}else w=c/k,y=I*w*100}e.gifbar.setValue(y,v)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GUILD_SIGNGIF,e.eventchange),e.addMessage(game.GameCommands.GUILD_SENDREDBAG,e.eventchange),e.addMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange),e.addMessage(game.GameCommands.GUILD_JUANXIANTONGZHI,e.eventchange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GUILD_SIGNGIF,e.eventchange),e.removeMessage(game.GameCommands.GUILD_SENDREDBAG,e.eventchange),e.removeMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange),e.removeMessage(game.GameCommands.GUILD_JUANXIANTONGZHI,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.GUILD_SIGNGIF:case game.GameCommands.GUILD_SENDREDBAG:case game.GameCommands.GUILD_JUANXIANTONGZHI:a.changeShow();break;case game.GameCommands.GUILD_NOTIFY:8==e.type&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main])}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.m_toppanel.closebtn:t.close();break;case t.gifimg5:utils.GameComUtil.ShowTip(t.gifimg5,null,game.TipSimpleObject.type_awardarr,t.p_jiangliArr);break;case t.gifimg6:utils.GameComUtil.ShowTip(t.gifimg6,null,game.TipSimpleObject.type_awardarr,t.h_jiangliArr);break;case t.pzhuanbtn:GlobalAllProxy.getInstance().guildProxy.NetGuildDonateRequest(1);break;case t.hzhuanbtn:GlobalAllProxy.getInstance().guildProxy.NetGuildDonateRequest(2);break;case t.gifrct0:t.getGiffun(0,t.gifrct0);break;case t.gifrct1:t.getGiffun(1,t.gifrct1);break;case t.gifrct2:t.getGiffun(2,t.gifrct2);break;case t.gifrct3:t.getGiffun(3,t.gifrct3);break;case t.gifrct4:t.getGiffun(4,t.gifrct4)}},t.prototype.getGiffun=function(e,t){var a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a&&a.data){var i,n=a.data,o=GlobalConfig.getguildVO(n.level);o.redbagreward.split(",");i=utils.GameComUtil.getIsTime(19)?[]:n.redPacket;for(var r=!0,s=0,l=i.length;l>s;s++)e==i[s].index&&(r=!1);r&&GlobalAllProxy.getInstance().guildProxy.NetSendRedPacketRequest(e)}},t.prototype.changeTipMC=function(){var e=this,t=GlobalEnum;GlobalAllProxy.getInstance().guildProxy;e.showTipUg(GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[t.tipmc_guild_donate_ug])),e.showTipCoinn(GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[GlobalEnum.tipmc_guild_donate_coin]))},t.prototype.showTipUg=function(e){var t=this,a=e,i=t.hzhuanbtn,n="tipmchzhuanbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.gifinfoG1.addChild(t[n]),t[n].visible=a)},t.prototype.showTipCoinn=function(e){var t=this,a=e,i=t.pzhuanbtn,n="tippzhuanbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.gifinfoG0.addChild(t[n]),t[n].visible=a)},t}(e.VM);e.GuildSignGifView=t,__reflect(t.prototype,"vm.GuildSignGifView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.GuildSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),e&&(a.gonggaobtn.label=Language.ins.guild_tip76,a.clubbar.ShowLabel=!0),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_guild_main),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().playerProxy.reshPlayerZhanli(),a.changeShow()},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent()},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().guildProxy.Guild;if(a&&a.data){var i=a.data,n=GlobalConfig.getguildVO(i.level);if(""==i.notice?t.gonggaotxt.text=Language.ins.guild_tip41:t.gonggaotxt.text=i.notice,t.guildnametxt.text=i.name,t.lvtxt.text=FormatString.format(Language.ins.guild_tip7,i.level),t.daytxt.text=i.threeDaysContribution,t.zhanlitxt.text=i.totalFighting,t.ranktxt.text=i.rankId,t.numtxt.text=FormatString.format(Language.ins.guild_tip6,i.memberCount,n.num),t.addtxt.text=FormatString.format(Language.ins.build_tip27,n.hangupreward/100),0==i.authMethods?t.typetxt.text=Language.ins.guild_tip8:t.typetxt.text=Language.ins.guild_tip9,n){var o=i.exp-n.minexp;t.clubbar.setValue(o,n.maxexp)}t.changeTipMC()}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.GUILD_RANK,e.eventchange),e.addMessage(game.GameCommands.GUILD_UPNAME,e.eventchange),e.addMessage(game.GameCommands.GUILD_UPAPPLY,e.eventchange),e.addMessage(game.GameCommands.GUILD_UPNOTICE,e.eventchange),e.addMessage(game.GameCommands.GUILD_REPLY,e.eventchange),e.addMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.GUILD_RANK,e.eventchange),e.removeMessage(game.GameCommands.GUILD_UPNAME,e.eventchange),e.removeMessage(game.GameCommands.GUILD_UPAPPLY,e.eventchange),e.removeMessage(game.GameCommands.GUILD_UPNOTICE,e.eventchange),e.removeMessage(game.GameCommands.GUILD_REPLY,e.eventchange),e.removeMessage(game.GameCommands.GUILD_NOTIFY,e.eventchange)},a.prototype.eventchange=function(e,t){var a=this,i=GlobalAllProxy.getInstance().guildProxy;switch(t){case game.GameCommands.GUILD_RANK:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_rank]);break;case game.GameCommands.GUILD_UPNAME:i.Guild&&i.Guild.data&&(a.guildnametxt.text=i.Guild.data.name);break;case game.GameCommands.GUILD_UPNOTICE:i.Guild&&i.Guild.data&&(a.gonggaotxt.text=i.Guild.data.notice);break;case game.GameCommands.GUILD_UPAPPLY:i.Guild&&i.Guild.data&&(a.typetxt.text=i.Guild.data.name,0==i.Guild.data.authMethods?a.typetxt.text=Language.ins.guild_tip8:a.typetxt.text=Language.ins.guild_tip9);break;case game.GameCommands.GUILD_REPLY:a.changeShow();break;case game.GameCommands.GUILD_NOTIFY:3==e.type||4==e.type?a.changeTipMC():8==e.type&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]);break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},a.prototype.touchTapFun=function(t){var a=this,i=GlobalAllProxy.getInstance().guildProxy,n=t.target;switch(n){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.gonggaobtn:i.Guild&&i.Guild.data&&(0!=i.Guild.data.position?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_changenotice]):FLOAT.NShowPutong([Language.ins.guild_tip14]));break;case a.setupbtn:i.Guild&&i.Guild.data&&(2==i.Guild.data.position?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_setup]):FLOAT.NShowPutong([Language.ins.guild_tip14]));break;case a.applybtn:i.Guild&&i.Guild.data&&(0!=i.Guild.data.position?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_approval]):FLOAT.NShowPutong([Language.ins.guild_tip14]));break;case a.rankbtn:i.NetGuildRankRequest();break;case a.signbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_signgif]);break;case a.logbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_log]);break;case a.listbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_guild_list]);break;case a.guildchatbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_chat,e.ChatView.type_club])
}},a.prototype.changeTipMC=function(){var e=this,t=GlobalEnum;GlobalAllProxy.getInstance().guildProxy;e.showTipapply(GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[t.tipmc_guild_apply])),e.showTipMcTalkclub(GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[GlobalEnum.tipmc_chat],chatType.type_club)),e.showTipUg(GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[t.tipmc_guild_donate_ug,t.tipmc_guild_donate_coin]))},a.prototype.showTipapply=function(e){var t=this,a=e,i=t.applyG,n="tipmcapplyG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcTalkclub=function(e){var t=this,a=e,i=t.chatG,n="tipchatG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipUg=function(e){var t=this,a=e,i=t.signbtn,n="tipsignbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.actG.addChild(t[n]),t[n].visible=a)},a}(e.VM);e.GuildView=t,__reflect(t.prototype,"vm.GuildView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.HelpSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_help),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.m_twochildtype=0,e.panelVo&&(e.m_paneltype=e.panelVo.childtype,e.m_twochildtype=e.panelVo.twochildtype)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.comtxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.helpimg;if(a.visible=!1,t.comtxt.visible=!1,t.m_paneltype){var i;if(i=t.m_twochildtype?GlobalConfig.getSystemlanguageVOUnlock([t.m_paneltype,t.m_twochildtype]):GlobalConfig.getSystemlanguageVOUnlock([t.m_paneltype])){var n=i.getImgUrl(),o=t.comG,r=408,s=0;if(n){var l=i.getImgPosArr();l&&(o.width=parseFloat(l[0]),o.height=parseFloat(l[1]),a.horizontalCenter=parseFloat(l[2]),a.bottom=parseFloat(l[3])),a.visible=!0,a.source=n}else t.comtxt.visible=!0,t.comtxt.textFlow=utils.GameComUtil.getHtmlText(i.text),t.comtxt.validateNow(),s=t.comtxt.height+150,r>s&&(s=r),s>800&&(s=800),o.height=s;t.panel_bg.titlename.text=i.title}}t.datascrollA.viewport.scrollV=0},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.HelpView=t,__reflect(t.prototype,"vm.HelpView")}(vm||(vm={}));var HeroChangeViewOpenVO=function(){function e(e,t,a,i,n){this.formaid=e,this.formalevel=t,this.playerid=a,this.posnum=i,this.changearr=n}return e}();__reflect(HeroChangeViewOpenVO.prototype,"HeroChangeViewOpenVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.Sort_zhanli=0,e.Sort_class=1,e.Sort_pos=2,e.Sort_only=3,e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.HeroChangeSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.readPanelVO(),a.initAddEvent(),e&&(a.degreeG.setGroupAlign(egret.HorizontalAlign.CENTER),a.stargroup.setGroupGap(-8),a.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_hero_change,a.tiptxt0.text=Language.ins.club_tip27,a.tiptxt1.text=Language.ins.club_tip25,a.sorttxt0.text=Language.ins.club_tip26,a.sorttxt1.text=Language.ins.club_tip28,a.chotxt0.text=Language.ins.club_tip49,a.chotxt1.text=Language.ins.club_tip50,a.chotxt2.text=Language.ins.club_tip51,a.chotxt3.text=Language.ins.club_tip52),a.changeShow(!0),a.showTar()},a.prototype.showTar=function(){var e=this;e.tabGroup.panelType=GlobalViewIDEnum.pType_herochange;var t=Language.ins.list_btn_uphero;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setButtonWidth(110),e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVO=function(){var e=this;if(e.m_chooseSort=e.Sort_zhanli,e.chooseType(e.m_chooseSort,!1),this.panelVo){var t=this.panelVo.panelobj;t&&(e.m_formaid=t.formaid,e.m_formalevel=t.formalevel,e.m_playerid=t.playerid,e.m_posnum=t.posnum,e.formaArr=t.changearr)}},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA)},a.prototype.changeShow=function(t){void 0===t&&(t=!1);var a=this;a.updataNow();var i=GlobalAllProxy.getInstance().playerProxy;if(a.m_playerid){var n=i.getSeverPlayerVO(a.m_playerid),o=GlobalConfig.getLocationrelation(a.m_posnum),r=n.getProFor(a.m_formaid,a.m_formalevel,o,!0,null,0/0,!1);a.zhanlitxt.text=Math.round(r.zhanglinum),a.classimg.source=ResName.getTraitPathMin(n.card_trait),a.lvtxt.text=Language.ins.game_lv_s+n.level,a.bebornimg.source=ResName.getMinHeroRebornImg(n.transform),a.nametxt.text=utils.GameComUtil.getName(n.name,5,!0),a.nametxt.textColor=ColorUtil.getPlayerNameCol(n.card_trait),a.degreeG.setDataArr(n.getlogArr()),a.stargroup.setDataArr(n.stars,"tab_kjzx_e1"),a.playerbgimg.source=ResName.getRankPlayerbg(o,!1,!1,!1,!1,!0),a.playernametxt.text=Language.ins.degree_names[o-1];var s,l,p,c,u,m,g,_,h=a.m_chooseSort,d=a.m_changearr,y=[],v=[],f=[],b=e.BackPackBgView.type_hero+1,G=!1,x=i.getplayerIDS();if(h==a.Sort_zhanli){if(0==a._choosemode)for(s=0,l=d.length;l>s;s++)p=d[s],y.push(p);else if(1==a._choosemode)for(u=GlobalAllProxy.getInstance().backpackProxy.getItemArrForTag(b,!0),s=0,l=u.length;l>s;s++){g=GlobalConfig.getItemVo(u[s].itemid),m=GlobalConfig.getPlayerPorpertyVO(g.parameter),G=!1;for(var C=0,T=x.length;T>C;C++)if(x[C]==g.parameter){G=!0;break}G||(_=new game.SResponsePlayer,_.initData(m),_.getCurZhanli(!0,1,1),y.push(_))}y.sort(utils.GameUtil.sortMatckFun(["rankzhanli"],[1]))}else if(h==a.Sort_class){if(0==a._choosemode)for(s=0,l=d.length;l>s;s++)p=d[s],y.push(p);else if(1==a._choosemode)for(u=GlobalAllProxy.getInstance().backpackProxy.getItemArrForTag(b,!0),s=0,l=u.length;l>s;s++){g=GlobalConfig.getItemVo(u[s].itemid),m=GlobalConfig.getPlayerPorpertyVO(g.parameter),G=!1;for(var C=0,T=x.length;T>C;C++)if(x[C]==g.parameter){G=!0;break}G||(_=new game.SResponsePlayer,_.initData(m),_.getCurZhanli(!0,1,1),y.push(_))}y.sort(utils.GameUtil.sortMatckFun(["card_trait","rankzhanli"],[1,1]))}else if(h==a.Sort_pos){if(0==a._choosemode)for(s=0,l=d.length;l>s;s++)p=d[s],c=p.getlogArr(),-1!=c.indexOf(o)?y.push(p):v.push(p);else if(1==a._choosemode)for(u=GlobalAllProxy.getInstance().backpackProxy.getItemArrForTag(b,!0),s=0,l=u.length;l>s;s++){g=GlobalConfig.getItemVo(u[s].itemid),m=GlobalConfig.getPlayerPorpertyVO(g.parameter),G=!1;for(var C=0,T=x.length;T>C;C++)if(x[C]==g.parameter){G=!0;break}G||(_=new game.SResponsePlayer,_.initData(m),_.getCurZhanli(!0,1,1),c=_.getlogArr(),-1!=c.indexOf(o)?y.push(_):v.push(_))}y.sort(utils.GameUtil.sortMatckFun(["rankzhanli"],[1])),v.sort(utils.GameUtil.sortMatckFun(["rankzhanli"],[1])),y=y.concat(v)}else if(h==a.Sort_only){if(0==a._choosemode)for(s=0,l=d.length;l>s;s++)if(p=d[s],f=p.pos,f.length>0){for(var P=0,A=f.length;A>P;P++)if(p.location==o||f[P].position==o){y.push(p);break}}else(p.location==o||f[P]==o)&&y.push(p);else if(1==a._choosemode)for(u=GlobalAllProxy.getInstance().backpackProxy.getItemArrForTag(b,!0),s=0,l=u.length;l>s;s++){g=GlobalConfig.getItemVo(u[s].itemid),m=GlobalConfig.getPlayerPorpertyVO(g.parameter),G=!1;for(var C=0,T=x.length;T>C;C++)if(x[C]==g.parameter){G=!0;break}if(!G)if(_=new game.SResponsePlayer,_.initData(m),_.getCurZhanli(!0,1,1),f=_.pos,f.length>0){for(var P=0,A=f.length;A>P;P++)if(_.location==o||f[P].position==o){y.push(_);break}}else(_.location==o||f[P]==o)&&y.push(_)}y.sort(utils.GameUtil.sortMatckFun(["rankzhanli"],[1]))}a.showDataA(y,t)}},a.prototype.updataNow=function(){for(var e,t=this,a=t.m_formaid,i=t.formaArr,n=t.m_posnum,o=GlobalConfig.getLocationrelation(n),r=[],s=0,l=i.length;l>s;s++)e=i[s],r.push(e.playerid);var p=GlobalAllProxy.getInstance().playerProxy.tacticsData.getFormeLevel(a),c=GlobalAllProxy.getInstance().playerProxy.getBastPlayerArr(r,o,a,p);t.m_changearr=c},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},a.prototype.listchangeA=function(e){var t=this,a=t.datalistA.selectedItem;if(0==t._choosemode){var i={posnum:t.m_posnum,playerid:a.playerid};EventBus.sendMessage(game.GameCommands.CHANGE_UPFORMA_PLAYER,i),t.close(),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickRectTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick)}else if(1==t._choosemode){var n=GlobalConfig.getItemIdForPlayerId(a.playerid),o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n.objectid,null,!1,!0))}},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.PLAYER_DATA_CHANGE:case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:a.changeShow(!1)}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.chorect0:t.chooseType(0,!0);break;case t.chorect1:t.chooseType(1,!0);break;case t.chorect2:t.chooseType(2,!0);break;case t.chorect3:t.chooseType(3,!0)}},a.prototype.chooseType=function(e,t){var a=this;a.m_chooseSort=e;for(var i=0;4>i;i++)i==e?(a["chotxt"+i].textColor=9100031,a["choimg"+i].visible=!0):(a["chotxt"+i].textColor=8169402,a["choimg"+i].visible=!1);t&&a.changeShow(!0)},a.prototype.showDataA=function(e,t){var a=this,i=e;a.datalistA.selectedIndex=-1;var n=a.datalistA;n.itemRenderer?(n.dataProvider.source=i,n.dataProvider.refresh):(n.itemRenderer=HeroChangeRender,n.dataProvider=new eui.ArrayCollection(i))},a}(e.VM);e.HeroChangeView=t,__reflect(t.prototype,"vm.HeroChangeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.m_indexDroA=0,t.m_droAnums=[],t.m_showonekey=!1,t.playerSArr=[];var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.HeroFormaPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(FntUtil.showFnt(t.btnziG,ResName.fnt_main,Language.ins.hero_tip35,ResName.spa_main_a),t.costtxt0.text=Language.ins.hero_tip36,t.costtxt1.text=Language.ins.hero_tip37,t.savebtn.label=Language.ins.hero_tip38,t.tiptxt0.text=Language.ins.hero_tip39,t.formabtn.label=Language.ins.hero_tip40,t.tiptxt1.text=Language.ins.hero_tip41,t.tiptxt2.text=Language.ins.hero_tip42,t.tiptxt3.text=Language.ins.hero_tip77,t.lookbtn.label=Language.ins.hero_tip43,t.changebtn.label=Language.ins.hero_tip44),t.chooseG.visible=!1,t.m_panelpandan=!1,t.showChooseInfo(!1),t.m_toppanel=MainTop2Panel.getInstance(),t.m_toppanel.setData(GlobalViewIDEnum.pType_gamehero);var a=GlobalAllProxy.getInstance().playerProxy.tacticsData;a&&(t.formaid=a.formid,t.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(t.formaid),t.onekeybtn.setSwitchImg("tab_qdty_c8","tab_qdty_c7")),t.showonekeyfun(!1,!1),t.initPanelData(),t.initAddEvent(),t.changeShow(!0),t.resizefun()},t.prototype.onHide=function(e){this.removeEvent()},t.prototype.setPandan=function(e){this.m_panelpandan=e},t.prototype.initPanelData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i,n=GlobalConfig.formation_DATE,o=t.formLevel,r=[],s=[],l=0,p=0,c=Language.ins.tactics_tip_13;for(var u in n)a=n[u],e.formaid==n.id&&(l=p),i=FormatString.format(c,a.name,o),r.push(i),s.push(a.id),p++}},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this;GlobalAllProxy.getInstance().playerProxy.tacticsData;t.showforma(e)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.addEventListener(egret.TouchEvent.TOUCH_END,e.touchEndFun,e),e.addMessage(game.GameCommands.GET_CHANGE_CHOOSE_FORMA,e.eventChange),e.addMessage(game.GameCommands.GET_CHANGE_CHOOSE_NEWFORMA,e.eventChange),e.addMessage(game.GameCommands.CHANGE_UPFORMA_PLAYER,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange)},t.prototype.touchBeginFun=function(e){var t=this,a=e.target,i=t.getHeroIconFor(a);i?t.moveobj=i.playerVO:t.moveobj=null},t.prototype.changeTipShow=function(e,t,a){var i=this;if(!a||i.m_isdefhalf!=e||i.m_isdefb!=t){var n,o,r=19,s=435;if(e||t?(n=r,o=s,utils.GameComUtil.setVisibleHitPanel(i.topBinfoGA,i.topBinfoG,e),utils.GameComUtil.setVisibleHitPanel(i.topBinfoGB,i.topBinfoG,t)):(n=.5*(i.formatopG.width-i.topAG.width),o=i.formatopG.width),a){var l=i.topAG,p=i.topBG;TweenLite.killTweensOf(l,!0),TweenLite.killTweensOf(p,!0),TweenLite.to(l,.2,{x:n}),TweenLite.to(p,.2,{x:o})}else i.topAG.x=n,i.topBG.x=o;i.m_isdefhalf=e,i.m_isdefb=t}},t.prototype.touchEndFun=function(e){var t=this,a=e.target,i=t.getHeroIconFor(a);if(i){if(t.moveobj){var n=t.moveobj,o=n.position,r=i.playerVO,s=r.position;if(n&&r&&r.playerid!=n.playerid){var l,p=this.playerSArr;if(p){var c=p.length;if(c)for(var u=0;c>u;u++)if(l=p[u],l.getPlayerId()==n.playerid){r.position=o,l.setData(r);break}}n.position=s,i.setData(n)}}t.showforma(!1)}t.moveobj=null},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_CHANGE_CHOOSE_FORMA:case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:a.changeShow();break;case game.GameCommands.GET_CHANGE_CHOOSE_NEWFORMA:a.formaid=e,a.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(a.formaid),a.changeShow();break;case game.GameCommands.CHANGE_UPFORMA_PLAYER:a.showChooseInfo(!1);for(var i,n=a.formaArr,o=0,r=n.length;r>o;o++)if(i=n[o],i.position==e.posnum){var s=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e.playerid);i.setVO(s),i.position=e.posnum;break}a.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.getHeroIconFor=function(e){var t=null;return e.parent&&e.parent instanceof HeroIcon&&(t=e.parent),t},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=t.getHeroIconFor(a);if(i){var n=i.playerVO;if(!GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&!game.GuideProxy.isTaskFollow&&a instanceof eui.Image){var o=GlobalConfig.getLocationrelation(n.position),r=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(n.playerid);if(!r.islognumIn(o)){var s=GlobalConfig.getLocationexpandVO(o);if(s.isLogIn(n.location)){var l=new TrainBreachViewOpenVO(n.playerid,n.position);return void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbreach],l)}}}t.choosePlayerId=i.getPlayerId(),t.choosePosNum=n.position,t.showChooseInfo(!0,t.choosePlayerId);var p=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.choosePlayerId);return t.heroiconinfo.setData(p),t.showonekeyfun(!1,!1),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),void(game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick))}var c=!0,u=!0;switch(e.target){case t.lookbtn:var i=a,m=t.choosePlayerId,g=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(g,m,null,!1,!1,!1,!0)),c=!1;break;case t.changebtn:for(var _,m=t.choosePlayerId,h=t.formaid,d=t.choosePosNum,y=GlobalConfig.getLocationrelation(d),v=t.formaArr,f=[],b=0,G=v.length;G>b;b++)_=v[b],f.push(_.playerid);var x=GlobalAllProxy.getInstance().playerProxy.tacticsData.getFormeLevel(h);GlobalAllProxy.getInstance().playerProxy.getBastPlayerArr(f,y,h,x);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_herochange],new HeroChangeViewOpenVO(h,x,m,d,v)),c=!1;break;case t.formabtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsforma],t.formaid);break;case t.onekeybtn:t.showonekeyfun(!0,!0),u=!1;break;case t.savebtn:t.saveForma();break;case t.onezhanlibtn:t.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(t.formaid,!0),t.changeShow(),FLOAT.NShowPutong([Language.ins.hero_tip4]);break;case t.onequlitybtn:t.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(t.formaid,!0,!1),t.changeShow(),FLOAT.NShowPutong([Language.ins.hero_tip4]);break;case t.pokebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_groomteam])}c&&t.showChooseInfo(!1),u&&t.showonekeyfun(!1,!1)},t.prototype.showonekeyfun=function(e,t){var a=this;e?a.m_showonekey=!a.m_showonekey:a.m_showonekey=t,a.m_showonekey?(a.onekeyG.visible=!0,a.onekeybtn.selected=!0):(a.onekeyG.visible=!1,a.onekeybtn.selected=!1)},t.prototype.saveForma=function(){for(var e,t,a,i,n=this,o=[],r=n.formaArr,s=0,l=r.length;l>s;s++)i=r[s],e=new PlayerPosition,e.player_id=i.playerid,e.position=i.position,t=BufHandler.instance.getMessage(BufRequests.PlayerPosition),a=new t(e),o.push(a);GlobalAllProxy.getInstance().playerProxy.NetTEAMUSEFORMATION(n.formaid,o)},t.prototype.showChooseInfo=function(e,t){void 0===t&&(t=null);var a=this;a.chooseG.visible=e,a.choRect.visible=e;var i,n,o=this.playerSArr,r=0;if(t&&e)for(r=0,n=o.length;n>r;r++)i=o[r],t==i.getPlayerId()?i.alpha=1:i.alpha=.5;else for(r=0,n=o.length;n>r;r++)i=o[r],i.alpha=1},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.touchBeginFun,e),e.removeEventListener(egret.TouchEvent.TOUCH_END,e.touchEndFun,e),e.removeMessage(game.GameCommands.GET_CHANGE_CHOOSE_FORMA,e.eventChange),e.removeMessage(game.GameCommands.CHANGE_UPFORMA_PLAYER,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.GET_CHANGE_CHOOSE_NEWFORMA,e.eventChange)},t.prototype.chooseDragonA=function(e){var t=this;t.m_indexDroA=e.data,t.formaid=t.m_droAnums[t.m_indexDroA],t.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(t.formaid),t.changeShow()},t.prototype.showforma=function(e){void 0===e&&(e=!1);var t=this,a=!1,i=!1;if(t.formaid){var n=GlobalAllProxy.getInstance().playerProxy.tacticsData.getFormeLevel(t.formaid);t.playerG.visible=!0;for(var o,r,s,l,p,c,u,m,g,_,h,d,y,v=GlobalConfig.getFormationVO(t.formaid),f=v.anchor,b=f.split(";"),G=v.getlocationsArr(),x=this.playerSArr,C=100,T=(.5*(t.playerG.width-5*C)+20,0),P=GlobalAllProxy.getInstance().playerProxy,A=0,w=G.length;w>A;A++)r=parseInt(G[A]),h=GlobalConfig.getLocationrelation(r),s=r%10,l=Math.floor(.1*r),x[A]?p=x[A]:(p=new HeroIcon,x[A]=p,t["tplayer_mc"+A]=p),m=t.getlogFormaVo(r),m&&(o=b[A].split(","),p.x=parseInt(o[0])-38,p.y=parseInt(o[1])-74,t.playerG.addChildAt(p,0),c=Language.ins.studyNameArr[l],u=GlobalEnum.studyColArr[l],p.setData(m),g=P.getSeverPlayerVO(m.playerid),_=g.getProFor(t.formaid,n,h,!0,null,0/0,!1),T+=_.zhanglinum,d=GlobalConfig.getLocationrelation(m.position),g.islognumIn(d)||(y=GlobalConfig.getLocationexpandVO(d),y.isLogIn(m.location)?i=!0:a=!0));T=Math.floor(T);var k=Language.ins.hero_tip28+" "+v.name,I=FormatString.format(Language.ins.tactics_tip_12,k,n);t.titletxt.text=I}else t.playerG.visible=!1;t.changeTipShow(a,i,!e)},t.prototype.getlogFormaVo=function(e){for(var t,a=this,i=a.formaArr,n=0,o=i.length;o>n;n++)if(t=i[n],t.position==e)return t;return null},t.prototype.resizefun=function(){var e=this,t=utils.GameUtil.getScalePanel(1060,e.formaG.height);e.formaG.scaleX=e.formaG.scaleY=t,e.podexG.x=640*(1-t)*.5-40*(1-t),e.podexG.y=469*(.5+.5*t)-300*(1-t)},t.prototype.isFormaChange=function(){var e=this;if(!e.m_panelpandan){var t,a=!1,i=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i){if(t=i.formid,t!=e.formaid)return!0;var n,o,r,s,l=this.playerSArr,p=0;for(p=0,o=l.length;o>p;p++)if(n=l[p],n&&(r=n.getPlayerId(),s=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(r),s.position!=n.playerVO.position))return!0}return a}},t}(e.InnerVM);e.HeroFormaPanel=t,__reflect(t.prototype,"vm.HeroFormaPanel")}(vm||(vm={}));var HeroFormationVO=function(){function e(e,t,a){void 0===t&&(t=1),void 0===a&&(a=!1);var i=this;i.vo=e,i.id=e.id,i.lv=t,i.ischoose=a}return e}();__reflect(HeroFormationVO.prototype,"HeroFormationVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.attributeadd=["fshoot","fbreakthrough","fsteal","fmarking","fpass","ftrap","fspeed","fstrong","fresponse","fone_to_one"],t.m_moveindex=0,t.chooseArr=[];var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.HeroFormationSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.actupbtn0.label=Language.ins.train_add_tip49,t.tiptxt0.text=Language.ins.hero_tip45),t.attributename=Language.ins.attributename,t.m_choooseid=null,t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){e.m_choooseid||(e.m_choooseid=t.formid);var a,i,n,o,r=GlobalConfig.formation_DATE,s=[];for(var l in r)a=r[l],n=t.getFormeLevel(a.id),i=new HeroFormationVO(a,n,o),s.push(i);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),e.chooseArr=s;var p=(GlobalConfig.getFormationVO(e.m_choooseid),t.getFormeLevel(e.m_choooseid)),c=FormatString.format(Language.ins.tactics_tip_12,Language.ins.hero_tip34,p);e.titletxt.text=c}e.changechoose();var u=GlobalAllProxy.getInstance().gameProxy;e.showTipFormation(u.getTipForArr(null,[GlobalEnum.tipmc_formation]))},t.prototype.showTipFormation=function(e){var t=this,a=e;null!=t.tiphimg&&(t.tiphimg.visible=a)},t.prototype.changechoose=function(e){void 0===e&&(e=0/0);var t=this,a=t.chooseArr,i=a.length,n=t.m_moveindex,o=t.m_moveindex+1;t.leftbtn.visible=n>0?!0:!1,t.rightbtn.visible=i>o?!0:!1;for(var r,s=[],l=-1,p=0,c=n;o>c;c++)r=a[c],s.push(r),t.m_choooseid&&t.m_choooseid==r.id&&(l=p),p++;r&&(t.m_showeid=r.id),t.datalistA.selectedIndex=l,t.showData(s),t.showInfo()},t.prototype.showInfo=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i=e.chooseArr;for(var n in i)i[n].id==e.m_showeid&&(a=i[n]);var o=GlobalConfig.FORMATIONPORPERTY_DATA[a.id+"_"+a.lv],r=GlobalConfig.formation_DATE[a.id].restrain,s=r.split(";"),l=t.getFormeLevel(e.m_showeid),p=FormatString.format(Language.ins.tactics_tip_12,a.vo.name,l);e.infotitletxt.text=p,e.infocontentxt.text=""+o.remark;for(var c=0,u=0;10>u;u++)0!=o[e.attributeadd[u]]&&(e["prtxt"+c].text=""+o[e.attributeadd[u]],e["prtip"+c].text=""+e.attributename[u],c++);e.tipidtxt.text=Language.ins.restrained_formation+GlobalConfig.formation_DATE[s[0]].name,e.tipidtxt0.text=Language.ins.trap_formation+GlobalConfig.formation_DATE[s[1]].name}},t.prototype.listMove=function(e){void 0===e&&(e=0/0);var t=this;isNaN(e)||(1==e?t.m_moveindex-=1:t.m_moveindex+=1),t.changechoose()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.datalistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e)},t.prototype.chooseDragonA=function(e){var t=this,a=t.datalistA.selectedItem;if(a instanceof HeroFormationVO){var i=a.vo,n=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();if(!(i.unlocklv<=n))return FLOAT.NShowPutong([Language.ins.title_tacticsconter+i.unlocklv+Language.ins.level_opening]),void t.changechoose();t.m_choooseid=i.id,t.changeShow()}},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.upbtn:break;case t.leftbtn:t.listMove(1);break;case t.rightbtn:t.listMove(-1);break;case t.actupbtn0:t.m_choooseid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsformainupgrade],{id:t.m_choooseid})}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.datalistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e)},t.prototype.showData=function(e,t){void 0===t&&(t=!1);var a=this,i=e,n=a.datalistA;n.itemRenderer?t?n.dataProvider.refresh():n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroFormationRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.InnerVM);e.HeroFormationView=t,__reflect(t.prototype,"vm.HeroFormationView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.HeroGroomTeamSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.m_encyindex=0/0,a.initAddEvent(),a.readPanelVO(),e&&(a.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(Language.ins.train_add_tip95),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_hero_groomteam),a.changeShow(!0)},a.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;this.removeEvent();var i=a.datascrollA;i&&i.stopAnimation(),this.m_pdarr=null,HeroGroomInfo.getInstance().onHide(e),utils.GameComUtil.removeListData(this.datalist)},a.prototype.changeShow=function(e){for(var t,a,i,n,o=this,r=GlobalConfig.fetterclub_data,s=GlobalAllProxy.getInstance().playerProxy.playerArr,l=(GlobalAllProxy.getInstance().playerProxy.clubData,game.ComCopyclubgradeVO.getLockPlayerS()),p=[],c=0,u=s.length;u>c;c++)p.push(s[c].playerid);for(var m,g,_=GlobalAllProxy.getInstance().backpackProxy,h=_.backItemArr,d=[],y=item_type.type_player,v=0,f=h.length;f>v;v++)m=h[v],m.count&&(g=GlobalConfig.getItemVo(m.itemid),g.type==y&&d.push(parseInt(g.parameter)));if(!o.m_pdarr){for(var b=[],G=0,x=r.length;x>G;G++)a=r[G],t=new HeroGroomRenderVO,t.vo=a,t.ischoose=!1,t.id=a.id,b.push(t);o.m_pdarr=b}for(var C=o.m_pdarr,v=0,f=C.length;f>v;v++){t=C[v],a=t.vo,i=a.getSsrplayerArr(),n=a.getSrplayerArr(),t.fall=0,t.fnum=0,t.fheroall=0,t.fheronum=0,t.fheroids=[];var T=[],P=[];o.setRenderVO(t,l,s,p,d,i,!0,T,P),o.setRenderVO(t,l,s,p,d,n,!1,T,P),t.fheronum=T.length,t.fheroall=P.length}o.showData(o.m_pdarr,e,!1)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,e.eventChange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SECRETARY_CHOOSE_LIST:var i=e,n=a.m_pdarr;if(n){for(var o,r=0,s=n.length;s>r;r++)o=n[r],i==o.id?o.ischoose=!o.ischoose:o.ischoose=!1,o.ischoose&&(a.m_encyindex=r);a.datalist.selectedIndex=-1,a.showData(a.m_pdarr,!1,!0)}break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:case game.GameCommands.PLAYER_DATA_CHANGE:a.changeShow(!1)}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.tiptxt0:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_train_fetterlist])}},a.prototype.showData=function(e,t,a){var i=this,n=e,o=i.datalist;if(o.itemRenderer||(o.itemRenderer=HeroGroomRender),a?i.datalist.dataProvider.refresh():o.dataProvider=new eui.ArrayCollection(n),t){var r=i.datascrollA;r&&(r.stopAnimation(),r.viewport.scrollV=0)}if(0/0!=i.m_encyindex){var r=i.datascrollA;r&&(r.stopAnimation(),egret.setTimeout(function(){var e=0;r=i.datascrollA;var t=6;if(r.height<r.viewport.contentHeight){var a=r.viewport.contentHeight,n=a-r.height;e=142*i.m_encyindex+i.m_encyindex*t,e>=n&&(e=n),0>e&&(e=0)}r.viewport.scrollV=e},i,100))}a||o.validateNow()},a.prototype.setRenderVO=function(e,t,a,i,n,o,r,s,l){var p,c,u,m=0,g=0,_=(a.length,[playertrait.trait_SSR,playertrait.trait_SR],playertrait.trait_SSR);r||(_=playertrait.trait_SR);for(var h,d,y=GlobalConfig,v=[],f=e.fnum,b=e.fall,G=0,x=o.length;x>G;G++)h=+o[G],p=y.getPlayerPorpertyVO(h),p&&(u=p.playerid,c=new HeroPokedexRenderVO,c.vo=p,c.islock=0,c.playerid=u,c.con=p.con,c["class"]=p["class"],-1!=t.indexOf(u)&&(c.islock=1),c.isown=0,-1!=i.indexOf(u)?(c.isown=1,m++):-1!=n.indexOf(u)&&(c.isown=2),v.push(c),g++),d=this.getHeroFetterObj(h,s,l),f+=d.fnum,b+=d.fall;e.fall=b,e.fnum=f,r?(e.ssrall=g,e.ssrcur=m,e.ssrplayerArr=v):(e.srplayerArr=v,e.srall=g,e.srcur=m)},a.prototype.getHeroFetterObj=function(t,a,i){var n=0,o=0,r=GlobalConfig.getFetterVO(t);if(r)for(var s,l,p,c,u,m,g,_,h,d,y,v=r.getFnameArr(),f=(ParamLoader.instance,!1),b=playertrait.trait_SSR,G=0,x=v.length;x>G;G++){for(s=v[G],l=s[0],p=s[1],c=p.split(","),u=e.HeroInfoView.getRenderArr(c,f,a,i),d=!0,y=0,m=0,g=u.length;g>m;m++)_=u[m],_.vo["class"]==b&&y++,_.star?_.addstr=h:(d=!1,_.addstr=0/0);if(d){for(m=0,g=u.length;g>m;m++)u[m].iscom=d;n+=1}o+=1}return{fnum:n,fall:o}},a}(e.VM);e.HeroGroomTeamView=t,__reflect(t.prototype,"vm.HeroGroomTeamView")}(vm||(vm={}));var HeroInfoViewOpenVO=function(){function e(e,t,a,i,n,o,r){void 0===a&&(a=null),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=!1),this.uid=e,this.playerid=t,this.playervo=a,this.isPokedex=i,this.iscar=n,this.isbuy=o,this.isformalook=r}return e}();__reflect(HeroInfoViewOpenVO.prototype,"HeroInfoViewOpenVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.HeroInfoSkinDR;e.runto(this,[])
},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.readPanelVO(),a.initAddEvent(),e&&(a.expbar.ShowLabel=!0,a.panel_bg.setImgBg("tab_jb_a2"),a.tiptxt2.textFlow=utils.GameComUtil.getHtmlText(Language.ins.hero_tip27),a.relationNonetxt0.text=Language.ins.hero_tip29,a.relationNonetxt1.text=Language.ins.hero_tip30,a.degreeG.setGroupAlign(egret.HorizontalAlign.RIGHT),a.infotiptxt5.text=Language.ins.coach_tip33,a.infotiptxt0.text=Language.ins.hero_tip46,a.infotiptxt1.text=Language.ins.hero_tip47,a.infotiptxt3.text=Language.ins.club_tip25,a.ftiptxt0.text=Language.ins.hero_tip48,a.pnametxt1.text=Language.ins.hero_tip49,a.prtip0.text=Language.ins.hero_tip50,a.prtip1.text=Language.ins.hero_tip51,a.pnametxt2.text=Language.ins.hero_tip52,a.prtip2.text=Language.ins.hero_tip53,a.prtip3.text=Language.ins.hero_tip54,a.pnametxt3.text=Language.ins.hero_tip55,a.prtip4.text=Language.ins.hero_tip56,a.prtip5.text=Language.ins.hero_tip57,a.pnametxt4.text=Language.ins.hero_tip58,a.prtip6.text=Language.ins.hero_tip59,a.prtip7.text=Language.ins.hero_tip60,a.pnametxt5.text=Language.ins.hero_tip61,a.prtip8.text=Language.ins.hero_tip62,a.prtip9.text=Language.ins.hero_tip63,a.surrenderbtn.label=Language.ins.hero_tip64,a.signtip0.text=Language.ins.game_get,a.signherobtn.label=Language.ins.hero_tip65,a.recoverherobtn.label=Language.ins.hero_tip66,a.carbuybtn.label=Language.ins.game_shopbuy),a.tisspr.visible=!1,a.showTar(),a.tabGroup.setSelectIndex(a._choosemode),a.changeShow(!0),a.changeTipMC()},a.prototype.readPanelVO=function(){var e=this;if(e.m_isPokedex=!1,e.m_isshowchange=!1,e.m_iscar=!1,e.m_isbuy=!1,e.panelVo){var t=e.panelVo.panelobj;if(e.panelVo.childtype?e._choosemode=e.panelVo.childtype:e._choosemode=0,t){var a=GlobalAllProxy.getInstance().playerProxy,i=t.playerid,n=t.uid==a.playerinfo.uid;if(e.chooseplayerid=i,e.m_isPokedex=t.isPokedex,e.m_iscar=t.iscar,e.m_isbuy=t.isbuy,e.m_heroids=t.playids,e.m_isshowchange=t.isshowchange,e.m_isformalook=t.isformalook,t.isPokedex){var o=t.playervo,r=new game.SResponsePlayer;r.initData(o),e.playerData=r}else if(t.iscar){e.m_caraddvo=t.playervo;var s=GlobalConfig.getItemVo(i),l=GlobalConfig.getPlayerPorpertyVO(parseInt(s.parameter)),r=new game.SResponsePlayer;r.initData(l),e.playerData=r}else t.playervo?e.playerData=a.getSeverPlayerVO(i):n?e.playerData=a.getSeverPlayerVO(i):GlobalAllProxy.getInstance().playerProxy.NetTEAMPLAYERINFO(t.uid,i)}}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.fetterdatalist),utils.GameComUtil.removeListData(this.relationinfolist0),utils.GameComUtil.removeListData(this.relationinfolist1)},a.prototype.showTar=function(){var e=this,t=[a.type_overview,a.type_prop],i=[Language.ins.hero_info_tip0,Language.ins.hero_info_tip1];e.m_isPokedex||e.m_iscar;var n=e.playerData;if(n){var o;n instanceof game.SResponsePlayer?o=GlobalConfig.getPlayerPorpertyVO(n.playerid):n instanceof game.ComPlayerPorpertyVO&&(o=n),o["class"]>=playertrait.trait_SR&&(t.push(a.type_fetter),i.push(Language.ins.hero_info_tip4)),o.isRelation()&&(t.push(a.type_relation),i.push(Language.ins.hero_info_tip5))}e.m_indexarr=t,e.tabGroup.m_class=TableBraButton6;var r=new game.KLayoutInfo;e.tabGroup.setButtonWidth(118),r.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(r),e.tabGroup.setListData(i),e.tabGroup.setView(e)},a.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this;t.hitalllist();var i,n=t.m_indexarr,o=n[t._choosemode],r=t.playerData;if(r){var s=1;r instanceof game.SResponsePlayer?(s=r.stars,i=GlobalConfig.getPlayerPorpertyVO(r.playerid)):r instanceof game.ComPlayerPorpertyVO&&(i=r),t.heroicon.setData(r),t.lvtxt.text=Language.ins.game_lv_s+r.level,t.panel_bg.titlename.text=i.name;var l=GlobalConfig.getCountryStr(i.country);t.infotxt0.text=l,t.infotxt1.text=i.stature+"cm",t.infotxt5.text=i.club,t.prtxt0.text=Math.floor(r.js_shoot),t.prtxt1.text=Math.floor(r.js_break_through),t.prtxt2.text=Math.floor(r.js_steal),t.prtxt3.text=Math.floor(r.js_marking),t.prtxt4.text=Math.floor(r.js_pass),t.prtxt5.text=Math.floor(r.js_trap),t.prtxt6.text=Math.floor(r.js_speed),t.prtxt7.text=Math.floor(r.js_strong),t.prtxt8.text=Math.floor(r.js_response),t.prtxt9.text=Math.floor(r.js_one_to_one);var p=0,c=0,u=0;if(r.position){var m=GlobalAllProxy.getInstance().playerProxy.tacticsData;p=m.formid,c=m.getFormeLevel(m.formid),u=GlobalConfig.getLocationrelation(r.position)}var g=r.getProFor(p,c,u,!0,null,0/0,!0);t.zhanlitxt.text=Math.round(g.zhanglinum)+"";var _;_||(_=r.getRadarData(),r.radarVO=_);var h;h=r.getRadarData(0/0,0/0,!0),t.herorader.heroDraw(h),t.degreeG.setDataArr(r.getlogArr());var d,y=GlobalConfig.getEvaluateVO(_.attack)["class"],v=GlobalConfig.getEvaluateVO(_.defense)["class"],f=GlobalConfig.getEvaluateVO(_.body)["class"],b=GlobalConfig.getEvaluateVO(_.skill)["class"],G=GlobalConfig.getEvaluateVO(_.porters)["class"];d=ResName.getPingimg(y),d.length>0&&(t.icon1.source=d[0]),d.length>1?t.iconfu1.source=d[1]:t.iconfu1.source="",d=ResName.getPingimg(v),d.length>0&&(t.icon2.source=d[0]),d.length>1?t.iconfu2.source=d[1]:t.iconfu2.source="",d=ResName.getPingimg(b),d.length>0&&(t.icon3.source=d[0]),d.length>1?t.iconfu3.source=d[1]:t.iconfu3.source="",d=ResName.getPingimg(f),d.length>0&&(t.icon4.source=d[0]),d.length>1?t.iconfu4.source=d[1]:t.iconfu4.source="",d=ResName.getPingimg(G),d.length>0&&(t.icon5.source=d[0]),d.length>1?t.iconfu5.source=d[1]:t.iconfu5.source="";for(var x="1340001",C=1,T=r.skill,P=T.length,A=0;4>A;A++)P>A?(x=T[A].skill_id,C=T[A].level,t["skillicon"+A].setitemdata(x,C,!0,!0,!0,s,r.playerid),t["skillicon"+A].visible=!0,t["skillicon"+A].setTip(!0)):t["skillicon"+A].visible=!1;var w=parseFloat(r.exp),k=GlobalConfig.getPlayerExpVO(r.card_trait,r.stars,r.level),I=w-k.minpexp,S=k.prate;t.expbar.setValue(I,S)}if(t.breachbtn.visible=!1,t.upskillbtn.visible=!1,t.degreeG.right=17,t.upbtn.visible=!1,t.surrendertiptxt.visible=!1,t.zhanliG.visible=!1,t.surrenderbtn.visible=!1,utils.GameComUtil.setVisibleHitPanel(t.signbtnG,t.contentGroup,!1,2),utils.GameComUtil.setVisibleHitPanel(t.carbuybtnG,t.contentGroup,!1,2),t.m_isPokedex)t.m_iscar&&(t.surrendertiptxt.visible=!0,t.surrendertiptxt.text=Language.ins.hero_tip12);else if(t.m_iscar)if(t.m_isbuy){var E=t.m_caraddvo,R=!1;if(E){var L=E.vo.objectid,O=GlobalConfig.getItemVo(L),V=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(parseInt(O.parameter));if(V&&(R=!0),!R){var D=GlobalAllProxy.getInstance().backpackProxy.getItemCount(L);D&&(R=!0)}var N=E.vo,F=ResName.getMinItemIcon(N.costid);t.carbuyicon.source=F,t.carbuynum.text=N.price}R?(t.surrendertiptxt.visible=!0,t.surrendertiptxt.text=Language.ins.hero_tip11):(utils.GameComUtil.setVisibleHitPanel(t.carbuybtnG,t.contentGroup,!0,2),t.zhanliG.visible=!0)}else utils.GameComUtil.setVisibleHitPanel(t.signbtnG,t.contentGroup,!0,2),t.signicon1.source=ResName.getMinItemIcon(GlobalEnum.itemid_coin),t.signicon0.source=ResName.getMinItemIcon(GlobalEnum.itemid_qiucar),t.signnum0.text=i["return"],t.signnum1.text=i.money;else t.upskillbtn.visible=!0,r.isCanBreach()&&(t.breachbtn.visible=!0,t.degreeG.right=53),t.upbtn.visible=!0,t.zhanliG.visible=!0,t.surrenderbtn.visible=!0,t.surrendertiptxt.visible=!0,t.surrendertiptxt.text=Language.ins.hero_tip8;o==a.type_overview?utils.GameComUtil.setVisibleHitPanel(t.overviewG,t.contentGroup,!0):o==a.type_prop?utils.GameComUtil.setVisibleHitPanel(t.porpG,t.contentGroup,!0):o==a.type_fetter?(t.surrendertiptxt.visible&&(t.surrendertiptxt.text=Language.ins.hero_tip33),t.showFetter(i,e),utils.GameComUtil.setVisibleHitPanel(t.fetterG,t.contentGroup,!0)):o==a.type_relation&&(t.surrendertiptxt.visible&&(t.surrendertiptxt.text=Language.ins.hero_tip33),t.showRelation(i,e),utils.GameComUtil.setVisibleHitPanel(t.relationG,t.contentGroup,!0)),t.leftbtn.visible=!1,t.rightbtn.visible=!1,t.m_isshowchange&&t.m_heroids&&(t.leftbtn.visible=!0,t.rightbtn.visible=!0)},a.prototype.showFetter=function(t,a){var i=this,n=[],o=t.playerid,r=GlobalConfig.getFetterVO(o);if(r){for(var s,l,p,c,u,m,g,_,h,d,y,v=r.getFnameArr(),f=ParamLoader.instance,b=f.ServerFetterPorperty,G=f.FetterGradeExtra,x=f.FetterGradeExtraUR,C={},T=0,P=b.length;P>T;T++)d=b[T],C[parseInt(d[0])]=parseInt(d[1]);var A,w,k,I,S,E=f.ServerFetterExtre,R=E[0],L=(E[1],GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(o)),O=!1;L&&L.position&&(O=!0);for(var V=playertrait.trait_SSR,D=playertrait.trait_UR,N=0,F=v.length;F>N;N++){for(s=v[N],l=s[0],p=s[1],c=p.split(","),m=new HeroFetterRenderVO,u=e.HeroInfoView.getRenderArr(c,O),A=0,k=!0,I=0,S=0,g=0,_=u.length;_>g;g++)h=u[g],h.vo["class"]==V?I++:h.vo["class"]==D&&S++,h.star?(w=(h.star-1)*R+100*h.transform,A+=w,h.addstr=w):(k=!1,h.addstr=0/0);if(y=C[_],y=y+I*G+S*x,m.titlestr=l,m.numstr=y,m.addstr=A,m.listarr=u,m.iscom=k,k)for(g=0,_=u.length;_>g;g++)u[g].iscom=k;n.push(m)}}i.setFetterData(n,a)},a.prototype.setFetterData=function(e,t){var a=this,i=e,n=a.fetterdatalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroFetterRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showRelation=function(t,a){var i=this;i.relationinfotxt0.text=Language.ins.hero_tip18,i.relationinfotxt1.text=Language.ins.hero_tip19;var n,o=t.getrepartnerArr(),r=t.getrefetterArr();i.relationNone0.visible=!1,i.relationNone1.visible=!1,i.relationinfolist0.visible=!1,i.relationinfolist1.visible=!1,o.length?(n=e.HeroInfoView.getRenderArr(o),i.setRelatoinDataA(n,a),i.relationinfolist0.visible=!0):i.relationNone0.visible=!0,r.length?(n=e.HeroInfoView.getRenderArr(r),i.setRelatoinDataB(n,a),i.relationinfolist1.visible=!0):i.relationNone1.visible=!0},a.getRenderArr=function(e,t,a,i){void 0===t&&(t=!1),void 0===a&&(a=null),void 0===i&&(i=null);for(var n,o,r,s,l,p,c,u=[],m=GlobalConfig,g=GlobalAllProxy.getInstance().playerProxy,_=GlobalAllProxy.getInstance().backpackProxy,h=0,d=e.length;d>h;h++)n=parseInt(e[h]),o=new HeroPartnerRenderVO,o.isfettertip=!1,r=m.getPlayerPorpertyVO(n),o.vo=r,o.playerid=n,s=g.getSeverPlayerVO(n),a&&i&&(-1==i.indexOf(n)&&i.push(n),s&&-1==a.indexOf(n)&&a.push(n)),o.isown=0,o.iscom=0,s?(o.isown=1,o.star=s.stars,o.card_trait=s.card_trait,o.transform=s.transform):(l=m.getItemIdForPlayerId(n),l&&_.getItemCount(l.objectid)?(o.isown=2,t&&(o.isfettertip=!0)):(c=m.getItemIdForPlayerId(n,!0),c&&c.compose&&(p=_.getItemCount(l.objectid),p>=c.compose&&(o.isown=3,t&&(o.isfettertip=!0))))),u.push(o);return u},a.prototype.setRelatoinDataA=function(e,t){var a=this,i=e,n=a.relationinfolist0;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroPartnerRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.setRelatoinDataB=function(e,t){var a=this,i=e,n=a.relationinfolist1;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroPartnerRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_PTCH_INFO,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_PTCH_INFO,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.hitalllist=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.overviewG,e.contentGroup,!1),utils.GameComUtil.setVisibleHitPanel(e.porpG,e.contentGroup,!1),utils.GameComUtil.setVisibleHitPanel(e.fetterG,e.contentGroup,!1),utils.GameComUtil.setVisibleHitPanel(e.relationG,e.contentGroup,!1)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.surrenderbtn:t.surrenderFun();break;case t.breachbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbreach],t.chooseplayerid);break;case t.upbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainupstar],t.chooseplayerid);break;case t.upskillbtn:t.nochangeFun();break;case t.recoverherobtn:t.chooseplayerid&&t.recoverheroFun();break;case t.signherobtn:t.chooseplayerid&&GlobalAllProxy.getInstance().playerProxy.NetScoutSignPlayer(t.chooseplayerid);break;case t.carbuybtn:var a=t.m_caraddvo;a&&GlobalAllProxy.getInstance().backpackProxy.NetStoreBuy(a.vo.id,1);break;case t.leftbtn:t.gochangeHeroFun(-1);break;case t.rightbtn:t.gochangeHeroFun(1);break;case t.helpbtn:return void(t.tisspr.visible=!0);case t.panel_bg.closebtn:t.close()}t.tisspr.visible=!1},a.prototype.okchangeFun=function(){var t=this,a=Manifest.getIns(e.HeroFormaPanel);a&&a.isOpend()&&(a.saveForma(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainskill],t.chooseplayerid))},a.prototype.nochangeFun=function(){var e=this;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainskill],e.chooseplayerid)},a.prototype.formaChangeFun=function(){var t=!1,a=Manifest.getIns(e.HeroFormaPanel);return a&&a.isOpend()&&a.isFormaChange()&&(t=!0),t},a.prototype.recoverheroFun=function(){var e=this;if(e.chooseplayerid){var t=GlobalConfig.getItemVo(e.chooseplayerid);if(t){var a=new AlertListViewOpenVO,i=[],n=GlobalConfig.getPlayerPorpertyVO(parseInt(t.parameter));n&&i.unshift(new game.ComItemGroupVo(GlobalEnum.itemid_qiucar,n["return"])),a.voarr=i,a.callFun=e.recoverHeroOk,a.callself=e,a.title=Language.ins.title_tishi,a.tipstr=Language.ins.hero_tip9,a.tipstr2=Language.ins.hero_tip10,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_list],a)}}},a.prototype.recoverHeroOk=function(){var e=this;e.chooseplayerid&&GlobalAllProxy.getInstance().playerProxy.NetScoutCancel(e.chooseplayerid)},a.prototype.surrenderFun=function(){var e=this;if(e.m_isformalook)return void FLOAT.NShowPutong([Language.ins.hero_info_tip6]);if(e.chooseplayerid){var t=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e.chooseplayerid);if(t){var a=GlobalConfig.getPlayerstarlevelVO(t.card_trait,t.stars,t.level);if(a){for(var i=new AlertListViewOpenVO,n=utils.GameComUtil.getItemVoArr(a.resign),o=GlobalConfig.getItemIdForPlayerId(e.chooseplayerid),r=ParamLoader.instance.ServerRelifeCost,s=r.length,l=t.transform,p=1,c=0;l>c;c++)s>c&&(p+=r[c]);o&&p&&n.unshift(new game.ComItemGroupVo(o.objectid,p)),i.voarr=n,i.callFun=e.sellPlayer,i.callself=e,i.title=Language.ins.title_tishi,i.tipstr=Language.ins.hero_tip7,i.tipstr2=Language.ins.hero_tip8,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_list],i)}}}},a.prototype.sellPlayer=function(){var e=this;e.chooseplayerid&&GlobalAllProxy.getInstance().playerProxy.NetTEAMPLAYERTERMINATION(e.chooseplayerid)},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,a=e.playerData;e.m_isPokedex||e.m_iscar||!a?e.showTipHeroFetter(!1):a.position?e.showTipHeroFetter(t.getTipForArr(null,[GlobalEnum.tipmc_herofetter],a.playerid)):e.showTipHeroFetter(!1)},a.prototype.showTipHeroFetter=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab2.addChild(t[n]),t[n].visible=a)},a.prototype.gochangeHeroFun=function(e){var t=this,a=t.m_heroids,i=a.length,n=a.indexOf(t.chooseplayerid),o=n+e;if(0>o&&(o+=i),o>i-1&&(o-=i),o>=0&&i>o){var r=a[o],s=GlobalAllProxy.getInstance().playerProxy,l=s.getSeverPlayerVO(r);if(r&&l){t.chooseplayerid=r,t.playerData=l,t.showTar();var p=t.tabGroup.getComponentCount();t._choosemode>=p&&(t._choosemode=0,t.tabGroup.setSelectIndex(t._choosemode)),t.changeShow()}}},a.type_overview=0,a.type_prop=1,a.type_fetter=3,a.type_relation=4,a}(e.VM);e.HeroInfoView=t,__reflect(t.prototype,"vm.HeroInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e._chooseType=0,e.sortnumarr=[],e.sortnamearr=[],e.islistbl=!1;var a=e;return a.percentWidth=a.percentHeight=100,a.sortnumarr=[2,0,0],a.sortnamearr=["position","exp","rankzhanli"],e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.HeroListPanelSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var t=this;t.datalist0.selectedItem;t._chooseType=HeroListRenderVO.type_0,e&&(t.sorttxt1.text=Language.ins.club_tip26,t.sorttxt2.text=Language.ins.fight_tip90,t.sorttxt0.text=Language.ins.club_tip25,t.ftiptxt0.text=Language.ins.fight_tip92,t.ftiptxt1.text=Language.ins.fight_tip91,t.ftiptxt2.text=Language.ins.hero_tip67,t.ftiptxt3.text=Language.ins.hero_tip68,t.ftiptxt4.text=Language.ins.hero_tip69,t.ftiptxt5.text=Language.ins.hero_tip70,t.ftiptxt6.text=Language.ins.hero_tip71,t.backpackbtn.label=Language.ins.btn_goto);var a=-t.datascrollA0.height;t.datascrollA0.y=a,t.islistbl=!1,t.initdata(),t.initAddEvent(),t.changeShow()},a.prototype.initdata=function(){for(var e,t,a=GlobalAllProxy.getInstance().playerProxy.playerArr,i=GlobalAllProxy.getInstance().playerProxy.tacticsData,n=i.formid,o=i.getFormeLevel(i.formid),r=0,s=a.length;s>r;r++)e=a[r],e.position?(t=GlobalConfig.getLocationrelation(e.position),e.getProFor(n,o,t,!0,null,0/0,!0)):e.getProFor(0,0,0,!0,null,0/0,!0),e.getsellnum()},a.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeTextFlow(this.tiptxt)},a.prototype.changeShow=function(){for(var t,a,i=this,n=GlobalAllProxy.getInstance().playerProxy.playerArr,o=[],r=[],s=(GlobalAllProxy.getInstance().gameProxy,0),l=n.length;l>s;s++)t=n[s],a=new HeroListRenderVO(HeroListRenderVO.type_0,t),a.istipmc=!1,o.push(a),r.push(t.playerid);for(var p,c,u,m,g=[],_=GlobalAllProxy.getInstance().backpackProxy,h=_.getItemArrForTag(e.BackPackBgView.type_hero+1,!0),d=0,y=h.length;y>d;d++)p=h[d],c=GlobalConfig.getItemVo(p.itemid),u=parseInt(c.parameter),-1==r.indexOf(u)&&(m=GlobalConfig.getPlayerPorpertyVO(u),a=new HeroListRenderVO(HeroListRenderVO.type_1,m),g.push(a));g.sort(utils.GameUtil.sortMatckFun(["card_trait","playerid"],[1,0])),i.dpData2Arr=g,i.dpDataArr=o,i.sortChange(!0),i.changeChooseShow(),i.showherotip()},a.prototype.showherotip=function(){for(var t,a,i,n=this,o=GlobalAllProxy.getInstance().backpackProxy,r=o.getItemArrForTag(e.BackPackBgView.type_hero+1,!0),s=[0,0,0,0],l=0,p=0,c=r.length;c>p;p++)t=r[p],a=GlobalConfig.getItemVo(t.itemid),i=GlobalConfig.getPlayerPorpertyVO(a.parameter),s[i["class"]-1]+=t.count,l+=t.count;var u=s[playertrait.trait_SR-1],m=s[playertrait.trait_SSR-1];n.tiptxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.hero_tip31,l,m,u))},a.prototype.sortChange=function(e){for(var t=this,i=t.sortnumarr,n=t.sortnamearr,o=0,r="",s=0,l=i.length;l>s;s++)t["sortup"+s]&&(i[s]?(o=i[s],r=n[s],o==a.sorttype_up?(t["sortup"+s].source="tab_zx_c3",t["sortdown"+s].source="tab_zx_c2"):o==a.sorttype_down&&(t["sortup"+s].source="tab_zx_c1",t["sortdown"+s].source="tab_zx_c4")):(t["sortup"+s].source="tab_zx_c1",t["sortdown"+s].source="tab_zx_c2"));if(t.dpDataArr){var p=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();if(p)t.dpDataArr.sort(utils.GameUtil.sortMatckFun(["card_trait",r],[1,c]));else if(o){var c=o==a.sorttype_up?0:1;t.dpDataArr.sort(utils.GameUtil.sortMatckFun(["isforma",r],[1,c]))}else t.dpDataArr.sort(utils.GameUtil.sortMatckFun(["isforma"],[1]))}t._chooseType==HeroListRenderVO.type_0?t.dpDataArr&&t.showDataA(t.dpDataArr,e):t.dpData2Arr&&t.showDataA(t.dpData2Arr,e)},a.prototype.changeChooseShow=function(){for(var e,t,a,i=this,n=[],o=[HeroListRenderVO.type_0,HeroListRenderVO.type_1],r=Language.ins.herolist_tpyes2,s=0,l=o.length;l>s;s++)t=o[s],a=r[s],t!=i._chooseType&&(e=new HeroListChooseRenderVO(t,a),n.push(e));switch(i.curformatxt.text=r[i._chooseType],i.datalist0.selectedIndex=-1,i.showData(n,!1),utils.GameComUtil.setVisibleHitPanel(i.itemG0,i.comG,!1),utils.GameComUtil.setVisibleHitPanel(i.itemG1,i.comG,!1),i._chooseType){case HeroListRenderVO.type_0:utils.GameComUtil.setVisibleHitPanel(i.itemG0,i.comG,!0);break;case HeroListRenderVO.type_1:utils.GameComUtil.setVisibleHitPanel(i.itemG1,i.comG,!0)}},a.prototype.changeChoose=function(){var e=this;if(e._chooseType==HeroListRenderVO.type_0){if(e.dpDataArr){var t=e.dpDataArr;e.showDataA(t,!0)}}else if(e.dpData2Arr){var t=e.dpData2Arr;e.showDataA(t,!0)}e.changeChooseShow()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.addEventListener(egret.Event.CHANGE,e.listchangeA,e),e.addMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.datalist0.addEventListener(egret.Event.CHANGE,e.listchange,e)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.PLAYER_DATA_CHANGE:a.changeShow();break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:a.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:a.changeShow()}},a.prototype.touchTapFun=function(t){var i=this,n=t.target,o=n.name,r="sortG";if(-1!=o.indexOf(r)){for(var s=parseInt(o.substr(r.length)),l=i.sortnumarr,p=0,c=l.length;c>p;p++)if(p==s){var u=l[s];u=u==a.sorttype_init?a.sorttype_down:u==a.sorttype_up?a.sorttype_down:a.sorttype_up,l[p]=u}else l[p]=a.sorttype_init;return void i.sortChange(!0)}switch(n){case i.backpackbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpack,e.BackPackBgView.type_hero]);break;case i.listbtn:i.showListBl(!i.islistbl)}},a.prototype.listchangeA=function(e){var t,a=this,i=a.datalistA.selectedItem,n=i.vo,o=i.playerid,r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,s=a.showlistarr,l=[];if(n instanceof game.SResponsePlayer){t=new HeroInfoViewOpenVO(r,o),t.isshowchange=!0;for(var p,c=0,u=s.length;u>c;c++)p=s[c],p.vo instanceof game.SResponsePlayer&&l.push(p.vo.playerid);t.playids=l,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],t)}else{var m=GlobalConfig.getItemIdForPlayerId(o);t=new HeroInfoViewOpenVO(r,m.objectid,null,!1,!0),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],t)}a.datalistA.selectedIndex=-1,GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickRectTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.removeEventListener(egret.Event.CHANGE,e.listchangeA,e),e.removeMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.datalist0.removeEventListener(egret.Event.CHANGE,e.listchange,e)},a.prototype.showDataA=function(e,t){var a=this,i=e;a.showlistarr=e,a.datalistA.selectedIndex=-1;var n=a.datalistA;n.itemRenderer?t?n.dataProvider.source=i:n.dataProvider.replaceAll(i):(n.itemRenderer=HeroListRender,n.dataProvider=new eui.ArrayCollection(i)),a.datascrollA.waitchange()},a.prototype.showListBl=function(e){if(e)egret.Tween.get(this.datascrollA0).to({y:0},300);else{var t=-this.datascrollA0.height;egret.Tween.get(this.datascrollA0).to({y:t},300)}this.islistbl=e},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroListChooseRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA0;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.listchange=function(e){var t=this,a=t.datalist0.selectedItem;t._chooseType=a.fid,t.changeChoose(),t.showListBl(!1)},a.sorttype_init=0,a.sorttype_up=1,a.sorttype_down=2,a}(e.InnerVM);e.HeroListPanel=t,__reflect(t.prototype,"vm.HeroListPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.HeroLockInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.tiptxt0.text=Language.ins.hero_tip46,a.tiptxt1.text=Language.ins.club_tip25,a.tiptxt2.text=Language.ins.hero_tip47,a.tiptxt3.text=Language.ins.hero_tip72,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_hero_lockinfo),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;if(t){var a=t.playerid;e.chooseplayerid=a}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;if(t.chooseplayerid){var a=GlobalConfig.getPlayerPorpertyVO(t.chooseplayerid);if(a){t.heroicon.setData(a);var i=a.contype;if(i&&i==playerlockType.type_clubmap){var n=GlobalConfig.getCopyclubgradeVO(a.con,3);n&&(t.locktxt.text=FormatString.format(Language.ins.hero_tip3,n.level,n.name))}}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.HeroLockInfoView=t,__reflect(t.prototype,"vm.HeroLockInfoView")}(vm||(vm={}));var HeroPokedexViewOpenVO=function(){function e(e,t){this.indexTeam=e,this.playerclass=t}return e}();__reflect(HeroPokedexViewOpenVO.prototype,"HeroPokedexViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_indexDroA=0,t.m_indexDroB=0,t.m_indexDroC=0,t.m_droAnums=[],t.m_chanarr=[0,1,3,4,2],t.m_classarr=[4,3],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.HeroPokedexSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_heropokedex),a.addChild(a.m_toppanel);var i=a.datascrollB;i&&(i.stopAnimation(),i.viewport.scrollV=0),a.readPanelVO(),a.initPanelData(),a.changeShow(!0),a.resizefun()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.dragonlistA.showListBl(!1),a.dragonlistB.showListBl(!1),a.dragonlistC.showListBl(!1),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.readPanelVO=function(){var e=this;if(e.m_indexDroC=0/0,e.m_indexDroA=2,e.m_indexDroB=0,e.panelVo){var t=e.panelVo.panelobj;if(t){var a=t.indexTeam,i=t.playerclass,n=e.m_chanarr,o=e.m_classarr,r=n.indexOf(a);-1!=r&&(e.m_indexDroC=r),r=o.indexOf(i),-1!=r&&(e.m_indexDroA=r)}}},t.prototype.initPanelData=function(){var e=this,t=new DragonListPanelVO;t.chooseindex=0,t.isadd=!0,t.renderclass=DragonListHeroRender,t.dataarr=Language.ins.poke_class,e.m_droAnums=[0,playertrait.trait_UR,playertrait.trait_SSR,playertrait.trait_SR],t.tipstr=Language.ins.pokedex_tip0,e.dragonlistA.addEventFun(),e.dragonlistA.setData(t);var a=new DragonListPanelVO;a.chooseindex=0,a.isadd=!0,a.renderclass=DragonListHeroRender,a.tipstr=Language.ins.pokedex_tip1;var i=[];i.push(Language.ins.pokedex_tip2),i=i.concat(Language.ins.degree_names),a.dataarr=i,e.dragonlistB.addEventFun(),e.dragonlistB.setData(a);var n=new DragonListPanelVO;n.chooseindex=0,n.renderclass=DragonListHeroRender,n.tipstr="";var o=Language.ins.poke_teams;n.dataarr=o,e.dragonlistC.addEventFun(),e.dragonlistC.setData(n)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=t.m_indexDroC;t.dragonlistA.setindex(t.m_indexDroA),t.dragonlistB.setindex(t.m_indexDroB),t.dragonlistC.setindex(t.m_indexDroC);var i=t.m_chanarr,n=i[a];utils.GameComUtil.setVisibleHitPanel(t.contgroup,t.contentGroup,!0);for(var o,r,s=GlobalConfig.PLAYERPORPERTY_DATA,l=[],p=GlobalAllProxy.getInstance().playerProxy.playerArr,c=t.m_droAnums[t.m_indexDroA],u=t.m_indexDroB,m=(GlobalAllProxy.getInstance().playerProxy.clubData,game.ComCopyclubgradeVO.getLockPlayerS()),g=[],_=0,h=p.length;h>_;_++)g.push(p[_].playerid);for(var d,y,v=GlobalAllProxy.getInstance().backpackProxy,f=v.backItemArr,b=[],G=item_type.type_player,x=0,C=f.length;C>x;x++)d=f[x],d&&d.count&&(y=GlobalConfig.getItemVo(d.itemid),y.type==G&&b.push(parseInt(y.parameter)));var T,P=0,A=0,x=0,C=p.length,w=[playertrait.trait_UR,playertrait.trait_SSR,playertrait.trait_SR];for(var k in s)o=s[k],(o["class"]==w[0]||o["class"]==w[1]||o["class"]==w[2])&&(c&&o["class"]!=c||n&&o.suittype!=n||(u&&o.location!=u||(T=o.playerid,r=new HeroPokedexRenderVO,r.vo=o,r.islock=0,r.playerid=T,r.con=o.con,r["class"]=o["class"],-1!=m.indexOf(T)&&(r.islock=1),r.isown=0,-1!=g.indexOf(T)?(r.isown=1,P++):-1!=b.indexOf(T)&&(r.isown=2),l.push(r)),A++));l.sort(utils.GameUtil.sortMatckFun(["class"],[1])),t.showData(l,e)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.dragonlistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e),e.dragonlistB.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonB,e),e.dragonlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonC,e),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof HeroPokedexRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;if(a.islock)PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0));else if(2==a.isown){var r=GlobalConfig.getItemIdForPlayerId(i.playerid);if(r){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,r.objectid,null,!1,!0))}}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0));t.datalist.selectedIndex=-1,t.hitallList()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.dragonlistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e),e.dragonlistB.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonB,e),e.dragonlistC.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonC,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.PLAYER_DATA_CHANGE,e.eventChange)},t.prototype.chooseDragonA=function(e){this.m_indexDroA=e.data,this.changeShow(!0),this.hitallList()},t.prototype.chooseDragonB=function(e){this.m_indexDroB=e.data,this.changeShow(!0),this.hitallList()},t.prototype.chooseDragonC=function(e){this.m_indexDroC=e.data,this.changeShow(!0),this.hitallList()},t.prototype.hitallList=function(){var e=this;e.dragonlistA.showListBl(!1),e.dragonlistB.showListBl(!1),e.dragonlistC.showListBl(!1)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:case game.GameCommands.PLAYER_DATA_CHANGE:a.changeShow(!1)
}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroPokedexRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.HeroPokedexView=t,__reflect(t.prototype,"vm.HeroPokedexView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._recoverquity=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.HeroRecoverFastSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.recoverbtn0.label=Language.ins.hero_tip73,a.recoverbtn1.label=Language.ins.hero_tip73,a.tiptxt0.text=Language.ins.hero_tip74,a.tiptxt1.text=Language.ins.hero_tip74,a.item0.setTip(!0),a.item1.setTip(!0),a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_hero_recoverfast),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);for(var t,a,i,n,o=this,r=GlobalAllProxy.getInstance().backpackProxy.backItemArr,s=0,l=0,p=0,c=0,u=0,m=r.length;m>u;u++)t=r[u],a=GlobalConfig.getItemVo(t.itemid),n=a.type,(n==item_type.type_player||n==item_type.type_playerpiece)&&(i=GlobalConfig.getPlayerPorpertyVO(a.parameter),4==n&&1==a.quality&&1==a.autore&&(s+=i["return"]*t.count,p+=t.count),4==n&&3==a.quality&&1==a.autore&&(c+=t.count,l+=i["return"]*t.count));o._itemnum0=s,o._itemnum1=l,o.item0.setIdAndNum(GlobalEnum.itemid_qiucar,s,!0),o.item1.setIdAndNum(GlobalEnum.itemid_qiucar,l,!0),o.numtxt0.text=FormatString.format(Language.ins.hero_tip13,p),o.numtxt1.text=FormatString.format(Language.ins.hero_tip13,c),o.recoverbtn0.enabled=p?!0:!1,o.recoverbtn1.enabled=c?!0:!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.recoverbtn0:t.recoverFun(0);break;case t.recoverbtn1:t.recoverFun(1)}},t.prototype.recoverFun=function(e){var t=this,a=0;0==e?(t._recoverquity=1,a=t._itemnum0):(t._recoverquity=3,a=t._itemnum1);var i=GlobalConfig.getItemVo(GlobalEnum.itemid_qiucar).name,n=FormatString.format(Language.ins.hero_tip14,i,a);JAlert.showinfostr(n,Language.ins.title_recovercar,t.chorecoverFun,t)},t.prototype.chorecoverFun=function(){var e=this;GlobalAllProxy.getInstance().playerProxy.NetRecoveryPlayers(e._recoverquity)},t}(e.VM);e.HeroRecoverFastView=t,__reflect(t.prototype,"vm.HeroRecoverFastView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.HeroStudyPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.acttiptxt.text=Language.ins.fight_tip94,t.deftiptxt.text=Language.ins.fight_tip95,t.actupbtn.label=Language.ins.hero_tip75,t.defupbtn.label=Language.ins.hero_tip76,t.hero_study_tip0.text=FormatString.format(Language.ins.hero_study_tip0,ParamLoader.instance.TacticsAutoChoose)),t.panelinit(),t.initAddEvent(),t.changeShow()},t.prototype.panelinit=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;t&&(e.chooseactid=t.att_tactical,e.choosedefid=t.def_tacical)},t.prototype.onHide=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;a&&t.parent&&t.chooseactid&&t.choosedefid&&(t.chooseactid!=a.att_tactical||t.choosedefid!=a.def_tacical)&&GlobalAllProxy.getInstance().playerProxy.NetTEAMUSETACTICS(t.chooseactid,t.choosedefid),this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeListData(this.datalistB)},t.prototype.changeShow=function(){var e,t,a=this,i=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i){e=a.chooseactid,t=a.choosedefid;var n,o,r,s=[],l=GlobalConfig.getTacticsPorPertyArrVO(!0),p=!1;for(var c in l)o=l[c],p=o.tid==e?!0:!1,r=i.getStudyLevel(o.tid),n=new TacticsStudyRenderVO(o,r,p),s.push(n);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),a.showDataA(s,!1),a.actformaGroup.setData(null,e),s=[],l=GlobalConfig.getTacticsPorPertyArrVO(!1);for(var c in l)o=l[c],r=i.getStudyLevel(o.tid),p=o.tid==t?!0:!1,n=new TacticsStudyRenderVO(o,r,p),s.push(n);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),a.showDataB(s,!1),a.defformaGroup.setData(null,t);var u=GlobalAllProxy.getInstance().gameProxy;a.showTipTacticsG(u.getTipForArr(null,[GlobalEnum.tipmc_tacticsG])),a.showTipTactics(u.getTipForArr(null,[GlobalEnum.tipmc_tactics]))}},t.prototype.showTipTacticsG=function(e){var t=this,a=e;null!=t.tiphimg&&(t.tiphimg.visible=a)},t.prototype.showTipTactics=function(e){var t=this,a=e;null!=t.tiphimg0&&(t.tiphimg0.visible=a)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.datalistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistB.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalistA.selectedItem;t.chooseactid=a.id,t.changeShow(),GlobalAllProxy.getInstance().guideProxy.clickplayguide(game.GameCommands.guide_MsgGuideClickButtonTrigger)},t.prototype.listchangeB=function(e){var t=this,a=t.datalistB.selectedItem;t.choosedefid=a.id,t.changeShow(),GlobalAllProxy.getInstance().guideProxy.clickplayguide(game.GameCommands.guide_MsgGuideClickButtonTrigger)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_TACTICAL_STUDY_UPGRADE:case game.GameCommands.BACKPACK_DATACHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.upbtn:break;case t.actupbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsstudyinfo,t.chooseactid]);break;case t.defupbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsstudyinfo,t.choosedefid])}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.datalistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistB.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalistA;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroStudyRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalistB;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroStudyRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.InnerVM);e.HeroStudyPanel=t,__reflect(t.prototype,"vm.HeroStudyPanel")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.panelArr=["vm.HeroFormaPanel","vm.HeroFormationView","vm.HeroStudyPanel","vm.HeroListPanel"],e._choosemode=0,e._changechoose=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.HeroSkinDR;e.runto(this,[])},a.prototype.getAdvanceDRArr=function(){return[skins.HeroFormationSkinDR,skins.HeroFormaPanelSkinDR,skins.HeroStudyPanelSkinDR]},a.prototype.onShow=function(e){var a=this;if(t.prototype.onShow.call(this,e),a.readPanelVo(),a.initAddEvent(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_gamehero),a.addChild(a.m_toppanel),e){var i=GlobalEnum.itemid_study;a.itemimg.source=ResName.getMinItemIcon(i)}a.showTar(),a.changeshow(),a.resizefun()},a.prototype.showTar=function(){var e=this;e.tabGroup.panelType=GlobalViewIDEnum.pType_gamehero;var t=Language.ins.list_btn_hero;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setButtonWidth(110),e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},a.prototype.onBarItemClick=function(e){var t=this,a=e.itemIndex;if(t.formaChangeFun()){t._changechoose=a;var i=new AlertVO;return i.okLabel=Language.ins.game_yes_s,i.cancelLabel=Language.ins.game_no_s,i.showCancel=!0,i.info=Language.ins.hero_tip6,JAlert.show(i,Language.ins.title_tishi,t.okchangeFun,t,t.nochangeFun),void t.tabGroup.setSelectIndex(t._choosemode)}t._choosemode=a,t.panelVo.childtype=t._choosemode,t.changeshow()},a.prototype.okchangeFun=function(){var t=this,a=Manifest.getIns(e.HeroFormaPanel);a&&a.isOpend()&&(a.saveForma(),t._choosemode=t._changechoose,t.panelVo.childtype=t._choosemode,t.tabGroup.setSelectIndex(t._choosemode),t.changeshow())},a.prototype.nochangeFun=function(){var e=this;e._choosemode=e._changechoose,e.panelVo.childtype=e._choosemode,e.tabGroup.setSelectIndex(e._choosemode),e.changeshow()},a.prototype.formaChangeFun=function(){var t=!1,a=Manifest.getIns(e.HeroFormaPanel);return a&&a.isOpend()&&a.isFormaChange()&&(t=!0),t},a.prototype.changeshow=function(){var e=this;e.hitalllist();var t,i=e.panelArr[e._choosemode];t=e[i],null==t?(t=Manifest.getIns(egret.getDefinitionByName(i)),e.contentGroup.addChild(t),t.visible=!0,e[i]=t,e.reshTop()):(!t.isNeedLoad(!0)&&t._isSubCreated&&t.onShow(!1),t.visible=!0,e.contentGroup.addChild(t)),MainTop2Panel.getInstance().setHelpIndex(e._choosemode),a.type_list==e._choosemode;var n=GlobalEnum.itemid_study,o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(n);e.numtxt.text=o,e.changeTipMC()},a.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},a.prototype.reshTop=function(){},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeAddEvent(),this.hitalllist()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventchange),e.addMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventchange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventchange),e.removeMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventchange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:break;case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:case game.GameCommands.GET_TACTICAL_STUDY_UPGRADE:a.changeTipMC();break;case game.GameCommands.BACKPACK_DATACHANGE:a.changeTipMC();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:case t.closebtn:t.goClose();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_study,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},a.prototype.goClose=function(){var e=this;if(e.formaChangeFun()){var t=new AlertVO;t.okLabel=Language.ins.game_yes_s,t.cancelLabel=Language.ins.game_no_s,t.showCancel=!0,t.info=Language.ins.hero_tip6,JAlert.show(t,Language.ins.title_tishi,e.closeokchangeFun,e,e.closenochangeFun)}else e.close()},a.formaChangeFun=function(){var t=!1;if(GlobalAllProxy.getInstance().playerProxy.playerinfo.uid){var a=Manifest.getIns(e.HeroFormaPanel);a&&a.isOpend()&&a.isFormaChange()&&(t=!0)}return t},a.showSaveAlert=function(e,t,a){var i=new AlertVO;i.okLabel=Language.ins.game_yes_s,i.cancelLabel=Language.ins.game_no_s,i.showCancel=!0,i.info=Language.ins.hero_tip6,JAlert.show(i,Language.ins.title_tishi,e,a,t)},a.prototype.closeokchangeFun=function(){var t=this,a=Manifest.getIns(e.HeroFormaPanel);a&&a.isOpend()&&(a.saveForma(),a.setPandan(!0),t.close())},a.prototype.closenochangeFun=function(){var t=this,a=Manifest.getIns(e.HeroFormaPanel);a&&a.isOpend()&&a.setPandan(!0),t.close()},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipFormation(t.getTipForArr(null,[GlobalEnum.tipmc_formation])),e.showTipTactics(t.getTipForArr(null,[GlobalEnum.tipmc_tactics,GlobalEnum.tipmc_tacticsG]))},a.prototype.showTipFormation=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},a.prototype.showTipTactics=function(e){var t=this,a=e,i=t.kbuttontab2,n="tipkbuttontab2";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab2.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.type_forma=0,a.type_formation=1,a.type_study=2,a.type_list=3,a}(e.VM);e.HeroView=t,__reflect(t.prototype,"vm.HeroView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._chooseid=1,t.m_maxnum=0,t.m_chooseN=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.LeagueAllAwardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.btxt0.text=Language.ins.league_tip0,a.btxt1.text=Language.ins.league_tip1,a.btxt2.text=Language.ins.league_tip2,a.panel_bg.titlename.text=Language.ins.title_league_award),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.changeTypeList();for(var a,i=GlobalConfig.getLeagueRewardForRankVO(t._chooseid),n=[],o=0,r=i.length;r>o;o++)a=new LeagueAwardRenderVO,a.index=o,a.rankvo=i[o],n.push(a);t.showData(n,!1)},t.prototype.changeTypeList=function(){var e=this,t=GlobalConfig.getLeagueRewardVO();e.m_maxnum=t.length;var a=e.m_chooseN;e.leftbtn.visible=!1,e.rightbtn.visible=!1,a+5>=e.m_maxnum?(a=e.m_maxnum-5,e.m_chooseN=e.m_maxnum-5):e.rightbtn.visible=!0,0>=a?a=0:e.leftbtn.visible=!0,e.m_maxnum=a;for(var i,n,t=GlobalConfig.getLeagueRewardVO(),o=[],r=a,s=1;6>s;s++)i=new LeagueAwardTitleRenderVO,n=r+s,i.rankid=n,i.ischoose=e._chooseid==n?!0:!1,o.push(i);e.showData0(o,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist0.addEventListener(egret.Event.CHANGE,e.listchangeA,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist0.removeEventListener(egret.Event.CHANGE,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist0.selectedItem;t._chooseid=a.rankid,t.changeShow(),t.datalist0.selectedIndex=-1},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.leftbtn:t.m_chooseN--,t.changeTypeList();break;case t.rightbtn:t.m_chooseN++,t.changeTypeList()}},t.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist0;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeagueAwardTitleRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeagueAwardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.LeagueAllAwardView=t,__reflect(t.prototype,"vm.LeagueAllAwardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.LeagueAwardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.btxt0.text=Language.ins.league_tip0,a.btxt1.text=Language.ins.league_tip1,a.btxt2.text=Language.ins.league_tip2,a.panel_bg.titlename.text=Language.ins.title_league_award,a.tiptxt.text=Language.ins.league_tip46),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(a){for(var i,n=GlobalConfig.getLeagueRewardForRankVO(a.groupLevel),o=[],r=0,s=n.length;s>r;r++)i=new LeagueAwardRenderVO,i.index=r,i.rankvo=n[r],o.push(i);t.showData(o,!1),t.tiptxt0.visible=!1,t.tiptxt1.visible=!1,t.tiptxt2.visible=!1;for(var l=0,p=a.groupLevelList.length;p>l;l++)if(a.groupLevelList[l]){var c=GlobalConfig.getComLeagueforRankVO(a.groupLevelList[l].level),u=c.name2;t["tiptxt"+l].visible=!0,t["tiptxt"+l].text=FormatString.format(Language.ins.league_tip47,a.groupLevelList[l].num,u)}var m=GlobalConfig.getComLeagueforRankVO(a.groupLevel);t.tiptxt3.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.league_tip48,m.name2))}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_allaward])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeagueAwardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.LeagueAwardView=t,__reflect(t.prototype,"vm.LeagueAwardView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.LeagueBgSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),a.showZhanliSpr(!1),a.showZhanliSpr0(!1),e&&(a.tiptxt2.text=Language.ins.league_tip7,a.awardbtn.label=Language.ins.league_tip3,a.lookbtn.label=Language.ins.league_tip4,a.getbtn.label=Language.ins.league_tip8,a.rankbtn.label=Language.ins.league_tip9,a.shopbtn.label=Language.ins.league_tip10,a.enrollbtn.label=Language.ins.league_tip12,a.changtxt0.text=Language.ins.league_tip34,a.changtxt1.text=Language.ins.league_tip35,a.checkmc()),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_league),a.addChild(a.m_toppanel),a.changeShow(),a.changeTipMC()},a.prototype.checkmc=function(){var e=GlobalAllProxy.getInstance().fightProxy.UserCrossData,t=e.gloryStar,a=GlobalConfig.getComLeagueVO(t),i=SaveUtil.getItem(SaveUtil.type_league_mc_ishow);0!=i&&3!=i&&(SaveUtil.setItem(SaveUtil.type_league_mc_ishow,0),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_league,i,a.icon))},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},a.prototype.onHide=function(e){var a=this;t.prototype.onHide.call(this,e),this.removeEvent(),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,i=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(i){var n=GlobalConfig.getComLeagueVO(i.gloryStar);if(t.contgroupA.visible=!1,t.contgroupB.visible=!1,t.contgroupC.visible=!1,t.contgroupD.visible=!1,t.comG.visible=!1,i.eventType==a.eventType_type0){t.contgroupA.visible=!0,1==i.success?(t.enrollbtn.visible=!1,t.laimg8.visible=!0,t.bgimg0.source="tab_kuafu_e7",t.laimg1.visible=!1,t.laimgG.visible=!0):(t.enrollbtn.visible=!0,t.laimg8.visible=!1,t.bgimg0.source="tab_kuafu_e6",t.laimg1.visible=!0,t.laimgG.visible=!1);var o=parseInt(Global.systemTimeNum/1e3+"");t.richinfo=i.battleTime-o,t.richinfo>0?(t.timer||(t.timer=new egret.Timer(1e3),t.timer.addEventListener(egret.TimerEvent.TIMER,t.timerFunc1,this)),t.latimetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0),t.timer.start()):(t.latimetxt.text="00:00:00",t.timer&&t.timer.stop())}else if(i.eventType==a.eventType_type3||i.eventType==a.eventType_type5)t.contgroupC.visible=!0,t.comG.visible=!0,t.tiptxt4.text=a.league_name[i.rank-1],t.tiptxt3.text=Language.ins.league_tip39;else if(i.eventType==a.eventType_type4){t.contgroupD.visible=!0,t.comG.visible=!0;var o=parseInt(Global.systemTimeNum/1e3+"");t.richinfo3=i.battleTime-o,t.richinfo3>0?(t.timer||(t.timer=new egret.Timer(1e3),t.timer.addEventListener(egret.TimerEvent.TIMER,t.timerFunc3,this)),t.latimetxt3.text=utils.GameComUtil.getTimeNum(t.richinfo3,!0),t.timer.start()):(t.latimetxt3.text="00:00:00",t.timer&&t.timer.stop())}else{t.contgroupB.visible=!0,t.comG.visible=!0;for(var r,s,l=i.groupBattleList,p=0,c=l.length;c>p;p++)0==l[p].state?s=l[p]:1==l[p].state&&(r=l[p]);t.zhunametxt.text=r.battleInfo.name,t.zhusevertxt.text=FormatString.format(Language.ins.league_tip49,utils.GameComUtil.getSeverName(r.battleInfo.channelId),r.battleInfo.serverId),t.zhuleveltxt.text=GlobalConfig.getComLeagueVO(r.battleInfo.level).name,t.zhuzhanlitxt.text=r.battleInfo.fight,t.kenametxt.text=s.battleInfo.name,t.kesevertxt.text=FormatString.format(Language.ins.league_tip49,utils.GameComUtil.getSeverName(s.battleInfo.channelId),s.battleInfo.serverId),t.keleveltxt.text=GlobalConfig.getComLeagueVO(s.battleInfo.level).name,t.kezhanlitxt.text=s.battleInfo.fight,t.latimetxt0.text=utils.GameComUtil.getTime2Str(1e3*i.battleTime),t.logoimgA.setLogoUrl(r.battleInfo.logo),t.logoimgA0.setLogoUrl(s.battleInfo.logo)}t.tiptxt1.text=i.matchNum,t.numtxt0.text=i.gloryCoin,t.itemimg.source=ResName.getMinItemIcon(GlobalEnum.itemid_rongyaoB),t.tiptxt2.text=FormatString.format(Language.ins.league_tip7,n.name),t.iconimg.source=n.icon,t.maxstar3G.visible=!1,t.maxstar4G.visible=!1,t.maxstar5G.visible=!1,t.maxstar0G.visible=!1;3==n.maxstar?t.maxstar3G.visible=!0:4==n.maxstar?t.maxstar4G.visible=!0:5==n.maxstar?t.maxstar5G.visible=!0:0==n.maxstar&&(t.maxstar0G.visible=!0,t.tiptxt0.text="x"+n.star);for(var p=0;p<n.maxstar;p++)n.star>p?t["star"+n.maxstar+"img"+p].source="tab_kuafu_a8":t["star"+n.maxstar+"img"+p].source="tab_kuafu_a9"}},a.prototype.showZhanliSpr=function(t){var a=this;a.tisspr.visible=t;var i=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(i&&i.groupBattleList.length>0){for(var n,o,r=i.groupBattleList,s=0,l=r.length;l>s;s++)0==r[s].state?o=r[s]:1==r[s].state&&(n=r[s]);var p=n.battleInfo.fightInfo,c="";c+=FormatString.format(Language.ins.mian_tip0,p.player);var u=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_gamehero,e.HeroView.type_formation],!1);u&&(c+="\n"+FormatString.format(Language.ins.mian_tip2,p.formation)),u=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,e.TechBgView.type_study],!1),u&&(c+="\n"+FormatString.format(Language.ins.mian_tip1,p.equip)),p.coach&&(c+="\n"+FormatString.format(Language.ins.mian_tip3,p.coach)),p.title&&(c+="\n"+FormatString.format(Language.ins.mian_tip4,p.title)),p.logo>=0&&(c+="\n"+FormatString.format(Language.ins.mian_tip5,p.logo)),a.zhanlitiptxt.textFlow=utils.GameComUtil.getHtmlText(c)}},a.prototype.showZhanliSpr0=function(t){var a=this;a.tisspr0.visible=t;var i=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(i&&i.groupBattleList.length>0){for(var n,o,r=i.groupBattleList,s=0,l=r.length;l>s;s++)0==r[s].state?o=r[s]:1==r[s].state&&(n=r[s]);var p=o.battleInfo.fightInfo,c="";c+=FormatString.format(Language.ins.mian_tip0,p.player);var u=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_gamehero,e.HeroView.type_formation],!1);u&&(c+="\n"+FormatString.format(Language.ins.mian_tip2,p.formation)),u=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,e.TechBgView.type_study],!1),u&&(c+="\n"+FormatString.format(Language.ins.mian_tip1,p.equip)),p.coach&&(c+="\n"+FormatString.format(Language.ins.mian_tip3,p.coach)),p.title&&(c+="\n"+FormatString.format(Language.ins.mian_tip4,p.title)),p.logo>=0&&(c+="\n"+FormatString.format(Language.ins.mian_tip5,p.logo)),a.zhanlitiptxt0.textFlow=utils.GameComUtil.getHtmlText(c)}},a.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(a){if(t.richinfo--,t.richinfo<=0)return t.latimetxt.text="00:00:00",void(t.timer&&t.timer.stop());t.latimetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0)}},a.prototype.timerFunc3=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(a){if(t.richinfo3--,t.richinfo3<=0)return t.latimetxt3.text="00:00:00",void(t.timer&&t.timer.stop());t.latimetxt3.text=utils.GameComUtil.getTimeNum(t.richinfo3,!0)}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.LEAGUE_APPLY,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_GETLEVEL_CLOSE,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.LEAGUE_APPLY,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_GETLEVEL_CLOSE,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.LEAGUE_APPLY:a.changeShow(e);break;case game.GameCommands.LEAGUE_SHOP_REWARD:a.numtxt0.text=e;break;case game.GameCommands.LEAGUE_GETLEVEL_CLOSE:a.changeTipMC()}},a.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.lookbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_group]);break;case t.awardbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_award]);break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_dan]);break;case t.rankbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_rank]);break;case t.shopbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_shop]);break;case t.enrollbtn:GlobalAllProxy.getInstance().fightProxy.NetUserCrossBMRequest();break;case t.timeimg:t.contgroupA.visible=!t.contgroupA.visible,t.contgroupB.visible=!t.contgroupB.visible;break;case t.m_toppanel.closebtn:t.close();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_rongyaoB,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o);break;case t.zhanliG:return void t.showZhanliSpr(!0);case t.zhanliG0:return void t.showZhanliSpr0(!0)}t.showZhanliSpr(!1),t.showZhanliSpr0(!1)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.tipmcchengjiu(t.getTipForArr(null,[GlobalEnum.tipmc_league_chengjiu]))},a.prototype.tipmcchengjiu=function(e){var t=this,a=e,i=t.getbtnG,n="tipmcgetbtnG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,0)),t.getbtnG.addChild(t[n]),t[n].visible=a)},a.eventType_type0=0,a.eventType_type1=1,a.eventType_type2=2,a.eventType_type3=3,a.eventType_type4=4,a.eventType_type5=5,a.gameStage_type1=1,a.gameStage_type2=2,a.gameStage_type3=3,a.gameStage_type4=4,a.gameStage_type5=5,a.league_name=["冠军","亚军","四强","八强","十六强","小组第三","小组第四"],a}(e.VM);e.LeagueBgView=t,__reflect(t.prototype,"vm.LeagueBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.LeagueDanSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_league_dan),a.changeShow(),GlobalAllProxy.getInstance().fightProxy.NetLevelRewardRequest()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData,i=GlobalAllProxy.getInstance().fightProxy.LevelReward;if(a&&i){for(var n,o,r=i.level,s=GlobalConfig.leagueInit_data,l=[],p=a.gloryStar,c=0,u=s.length;u>c;c++)n=s[c],n.reward&&"0"!=n.reward&&(o=new LeagueDanRenderVO,o.vo=n,p>=n.score?o.iscan=1:o.iscan=0,-1!=r.indexOf(n.score)?o.isget=1:o.isget=0,l.push(o));l.sort(utils.GameUtil.sortMatckFun(["isget","iscan","score"],[0,1,0])),t.showData(l,!1);var m=GlobalConfig.getComLeagueVO(a.gloryStar);t.nametxt.text=Language.ins.league_tip32+m.name,t.scoretxt.text=Language.ins.league_tip31+m.score,t.iconimg.source=m.icon;var g=utils.GameComUtil.getItemVoArr(m.dailyreward);t.m_jiangliArr=g;var _=i.daily;_?(t.getbtn.visible=!1,t.getedimg.visible=!0,t.gethimg.visible=!1):(t.getbtn.visible=!0,t.gethimg.visible=!0,t.getedimg.visible=!1,t.getbtn.label=Language.ins.game_canling_p)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.LEAGUE_LEVEL_REWARD,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_GETLEVEL_REWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.LEAGUE_LEVEL_REWARD,e.eventChange),e.addMessage(game.GameCommands.LEAGUE_GETLEVEL_REWARD,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.LEAGUE_LEVEL_REWARD:case game.GameCommands.LEAGUE_GETLEVEL_REWARD:this.changeShow()
}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:case t.panel_bg.closebtn:EventBus.sendMessage(game.GameCommands.LEAGUE_GETLEVEL_CLOSE),t.close();break;case t.getimg:utils.GameComUtil.ShowTip(t.getimg,null,game.TipSimpleObject.type_awardarr,t.m_jiangliArr);break;case t.getbtn:GlobalAllProxy.getInstance().fightProxy.NetCrossLevelRewardRequest(0)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=LeagueDanRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.viewport.scrollV=0)}},t}(e.VM);e.LeagueDanView=t,__reflect(t.prototype,"vm.LeagueDanView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._choosemode=0,t._changechoose=0;var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.LeagueEliminatePanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_league_taotai),a.addChild(a.m_toppanel),a.showTar(),a.initAddEvent(),a.changeShow(),GlobalAllProxy.getInstance().fightProxy.UserCrossJump=GlobalViewIDEnum.pType_league_taotai},t.prototype.showTar=function(){var e=this;e.tabGroup.panelType=GlobalViewIDEnum.pType_league_group;var t=Language.ins.list_league_group_taotai;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setButtonWidth(110),e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(){var e,t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData,i=[],n=[];if(a&&a.knockout){t.datascrollA.visible=!0;for(var o=a.knockout,r=0,s=0,l=0,p=o.length;p>l;l++)if(o[l].knockoutType==t._choosemode+1){if(o[l+1]&&o[l+1].knockoutList)for(var c in o[l+1].knockoutList)n.push(o[l+1].knockoutList[c].knockoutGroupList[0]),n.push(o[l+1].knockoutList[c].knockoutGroupList[1]);i=[];for(var u in o[l].knockoutList)e=new LeagueEPRenderVO,e.index=+u,e.vo=o[l].knockoutList[u],n[u]&&(e.winvo=n[u]),i.push(e);t.showData(i,!0),r=1e3*o[l].amTime,s=1e3*o[l].pmTime}i.length>0?t.btxt2.text=utils.GameComUtil.getTime3Str(r,s):(t.datascrollA.visible=!1,t.btxt2.text=Language.ins.league_tip40)}},t.prototype.onBarItemClick=function(e){var t=this,a=e.itemIndex;t._choosemode=a,t.changeShow()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.m_toppanel.closebtn:case t.closebtn:t.close()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeagueEPRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.type_16jin8=0,t.type_8jin4=1,t.type_4jin2=2,t.type_2jin1=3,t}(e.VM);e.LeagueEliminatePanel=t,__reflect(t.prototype,"vm.LeagueEliminatePanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.m_chooseid=1,t.m_indexDroB=0;var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.LeagueGroupPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.btxt1.text=Language.ins.league_tip13,t.btxt2.text=Language.ins.league_tip14,t.btxt3.text=Language.ins.league_tip15,t.btxt4.text=Language.ins.league_tip16),t.initAddEvent(),t.initPanelData(),t.changeShow()},t.prototype.initPanelData=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.UserCrossData,a=new DragonListPanelVO;a.chooseindex=t.groupId-1,a.isadd=!0,a.renderclass=DragonListHeroRender,a.tipstr="";var i=[];i=i.concat(Language.ins.league_tip29),a.dataarr=i,e.dragonlistB.addEventFun(),e.dragonlistB.setData(a),e.m_indexDroB=t.groupId-1},t.prototype.onHide=function(e){this.removeEvent();var t=this;t.dragonlistB.showListBl(!1)},t.prototype.changeShow=function(){var e,t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData,i=[];if(a){for(var n=a.groupList[t.m_indexDroB].userList,o=0,r=n.length;r>o;o++)e=new LeagueGroupRenderAVO,e.index=o+1,e.rendervo=n[o],i.push(e);t.showData1(i),t.showData(a.groupList[t.m_indexDroB].groupMatchList,!1),t.btxt0.text=Language.ins.league_tip29[t.m_indexDroB]}t.dragonlistB.setindex(t.m_indexDroB)},t.prototype.initAddEvent=function(){var e=this;e.dragonlistB.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonB,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){},t.prototype.removeEvent=function(){var e=this;e.dragonlistB.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonB,e)},t.prototype.chooseDragonB=function(e){var t=this;this.m_indexDroB=e.data,this.changeShow(),t.dragonlistB.showListBl(!1)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeagueGroupRenderB,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA0;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData1=function(e){var t=this,a=e,i=t.datalist1;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=LeagueGroupRenderA,i.dataProvider=new eui.ArrayCollection(a))},t}(e.InnerVM);e.LeagueGroupPanel=t,__reflect(t.prototype,"vm.LeagueGroupPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.LeagueLookFightSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),t&&(a.tiptxt.text=Language.ins.league_tip37,a.tiptxt2.text=Language.ins.league_tip38,a.recordbtn.text=Language.ins.league_tip41,a.recordbtn0.text=Language.ins.league_tip41)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;null!=t&&(e.showdata=t.panelobj)},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this;if(e.showdata&&e.showdata.vo){var t=e.showdata.vo,a=t.knockoutGroupList[0],i=t.knockoutGroupList[1];a&&i&&(e.nametxt.text=a.name,e.nametxt1.text=a.name,e.severtxt.text=a.channel+a.serverId,e.severtxt1.text=a.channel+a.serverId,e.scoreAtxt1.text=a.homeGoals,e.scoreBtxt1.text=a.roadGoals,e.logoimgA.setLogoUrl(a.logo),e.logoimgA1.setLogoUrl(a.logo),e.nametxt0.text=i.name,e.nametxt2.text=i.name,e.severtxt0.text=i.channel+i.serverId,e.severtxt2.text=i.channel+i.serverId,e.scoreAtxt0.text=i.homeGoals,e.scoreBtxt0.text=i.roadGoals,e.logoimgA0.setLogoUrl(i.logo),e.logoimgA2.setLogoUrl(i.logo))}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:case game.GameCommands.OPERTION_PAY:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=OneRechargeRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.LeagueLookFightView=t,__reflect(t.prototype,"vm.LeagueLookFightView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.LeagueRankSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.panel_bg.titlename.text="",a.btxt0.text=Language.ins.league_tip0,a.btxt1.text=Language.ins.league_tip17,a.btxt2.text=Language.ins.league_tip18,a.btxt3.text=Language.ins.train_add_tip38,a.tiptxt2.text=Language.ins.league_tip20,a.tiptxt.text=Language.ins.league_tip24,a.tiptxt3.text=Language.ins.league_tip42,a.tiptxt5.text=Language.ins.league_tip44,a.showTar()),GlobalAllProxy.getInstance().fightProxy.NetRankGroupRequest()},a.prototype.showTar=function(){var e=this,t=Language.ins.league_tip33;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent()},a.prototype.changeShow=function(t){void 0===t&&(t=null);var a=this;a.datascrollA.visible=!0,a.mydataG.visible=!0,a.noneG.visible=!1;for(var i,n,o,r=a.list_data,s=[],l=r.sameRank,p=r.leagueRank,c=r.userRank,u=0,m=c.length;m>u;u++)1==c[u].rankType?n=c[u]:0==c[u].rankType&&(o=c[u]);if(a._choosemode==e.LeagueRankView.type_benfu){if(l&&l.length>0)for(var u=0,m=l.length;m>u;u++)i=new LeagueRankRenderVO,i.index=u,i.rendervo=l[u],s.push(i);else a.datascrollA.visible=!1,a.mydataG.visible=!1,a.noneG.visible=!0;if(a.showData(s,!0),n){a.mydataG.visible=!0,a.tiptxt5.visible=!1;var g="";a.tiptxt1.text=n.rank,a.tiptxt0.text=FormatString.format(Language.ins.league_tip45,n.rankNum),a.tiptxt1.visible=!1,a.rankicon.visible=!0,1==n.rank?g="tab_jjsn_d7":2==n.rank?g="tab_jjsn_d8":3==n.rank?g="tab_jjsn_d9":(a.rankicon.visible=!1,a.tiptxt1.visible=!0)}else a.mydataG.visible=!1,a.tiptxt5.visible=!0}else if(a._choosemode==e.LeagueRankView.type_kuafu){if(p&&p.length>0)for(var u=0,m=p.length;m>u;u++)i=new LeagueRankRenderVO,i.index=u,i.rendervo=p[u],s.push(i);else a.datascrollA.visible=!1,a.mydataG.visible=!1,a.noneG.visible=!0;if(a.showData(s,!0),o){a.mydataG.visible=!0,a.tiptxt5.visible=!1;var g="";a.tiptxt1.text=o.rank,a.tiptxt0.text=FormatString.format(Language.ins.league_tip45,o.rankNum),a.tiptxt1.visible=!1,a.rankicon.visible=!0,1==o.rank?g="tab_jjsn_d7":2==o.rank?g="tab_jjsn_d8":3==o.rank?g="tab_jjsn_d9":(a.rankicon.visible=!1,a.tiptxt1.visible=!0)}else a.mydataG.visible=!1,a.tiptxt5.visible=!0}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.LEAGUE_RANK_DATA,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.LEAGUE_RANK_DATA,e.eventChange)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.eventChange=function(e,t){var a=this;a.list_data=e,a.changeShow()},a.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=LeagueRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.type_benfu=0,a.type_kuafu=1,a}(e.VM);e.LeagueRankView=t,__reflect(t.prototype,"vm.LeagueRankView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.panelArr=["vm.LeagueGroupPanel","vm.LeagueEliminatePanel"],e._choosemode=0,e._changechoose=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.LeagueScheduleBgSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var a=this;t.prototype.onShow.call(this,e),a.readPanelVo(),a.initAddEvent(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_league_group),a.addChild(a.m_toppanel),a.showTar(),a.changeshow(),a.resizefun(),GlobalAllProxy.getInstance().fightProxy.UserCrossJump=GlobalViewIDEnum.pType_league_group},a.prototype.showTar=function(){var e=this;e.tabGroup.panelType=GlobalViewIDEnum.pType_league_group;var t=Language.ins.list_league_group;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setButtonWidth(110),e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVo=function(){var e=this;e.panelVo;e._choosemode=0,e.tabGroup.setSelectIndex(e._choosemode)},a.prototype.onBarItemClick=function(e){var t=this,a=e.itemIndex;t._choosemode=a,t.panelVo.childtype=t._choosemode,t.changeshow()},a.prototype.changeshow=function(){var t=this;if(t.hitalllist(),e.LeagueScheduleBgView.type_group==t._choosemode){var a,i=t.panelArr[t._choosemode];a=t[i],null==a?(a=Manifest.getIns(egret.getDefinitionByName(i)),t.contentGroup.addChild(a),a.visible=!0,t[i]=a,t.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,t.contentGroup.addChild(a))}else PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_league_taotai]);t.changeTipMC()},a.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},a.prototype.reshTop=function(){},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeAddEvent(),this.hitalllist()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:case t.closebtn:t.close()}},a.prototype.changeTipMC=function(){GlobalAllProxy.getInstance().gameProxy},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.type_group=0,a.type_schedule=1,a}(e.VM);e.LeagueScheduleBgView=t,__reflect(t.prototype,"vm.LeagueScheduleBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.LeagueShopSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_league_shop),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().fightProxy.UserCrossData;if(a){var i,n,o=GlobalConfig.shop_DATA,r=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,s=showitemtype.type_league,l=GlobalAllProxy.getInstance().backpackProxy,p=[];for(var c in o)n=o[c],n.shoptype==s&&n.lvlimit<r&&(i=new ShopHotRenderVO,i.vo=n,i.rank=n.rank,i.buynum=l.getShopNum(n.id),p.push(i));p.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),t.showDataB(p,!1);var u=GlobalConfig.getItemVo(GlobalEnum.itemid_rongyaoB);t.itemname.text=u.name,t.numtxt.text=a.gloryCoin,t.useicon.source=ResName.getMinItemIcon(GlobalEnum.itemid_rongyaoB)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.addMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.removeMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.LEAGUE_SHOP_REWARD:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.ugG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_rongyaoB,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player||r==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1,0/0,shopbuy_type.leagueshop);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist.selectedIndex=-1}},t.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopHotRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.LeagueShopView=t,__reflect(t.prototype,"vm.LeagueShopView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.MailInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),a.readPanelVO(),t){a.panel_bg.setImgBg("");GlobalAllProxy.getInstance().gameProxy;a.panel_bg.titlename.text=Language.ins.mail_tip5,a.getbtn.label=Language.ins.game_canling_p,a.delbtn.label=Language.ins.btn_delete,a.tiptxt0.text=Language.ins.mail_tip6,a.tiptxt1.text=Language.ins.mail_tip7}a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_mailid=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.titletxt),utils.GameComUtil.removeTextFlow(this.infotxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy;if(t.m_mailid){var i=a.getMailVO(t.m_mailid);if(i){if(t.fujianG.visible=!1,t.getbtn.visible=!1,t.delbtn.visible=!1,i.item&&i.item.length){t.comG.height=621,i.isRec?t.delbtn.visible=!0:t.getbtn.visible=!0,t.fujianG.visible=!0;for(var n=game.ComItemGroupVo.getUserItemArr(i.item),o=0,r=n.length;r>o;o++)n[o].addnum=i.isRec;t.showData(n,!0)}else t.comG.height=500,t.delbtn.visible=!0;var s=i.expiresTime-.001*Global.systemTimeNum;if(0>s)t.timetxt.text=Language.ins.mail_tip0;else{var l=Math.floor(s/3600);if(l>24)t.timetxt.text=FormatString.format(Language.ins.mail_tip1,Math.floor(l/24));else{var p=utils.GameComUtil.getTimeNum(s);t.timetxt.text=FormatString.format(Language.ins.mail_tip2,p)}}t.titletxt.textFlow=utils.GameComUtil.getHtmlText(i.title),t.infotxt.textFlow=utils.GameComUtil.getHtmlText(i.content)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MAIL_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MAIL_GET_AWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MAIL_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MAIL_GET_AWARD,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.MAIL_DATA_CHANGE:this.changeShow(e);break;case game.GameCommands.MAIL_GET_AWARD:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.getbtn:this.m_mailid&&GlobalAllProxy.getInstance().gameProxy.NetRewardMail(this.m_mailid,!1);break;case t.delbtn:this.close(),this.m_mailid&&GlobalAllProxy.getInstance().gameProxy.NetDeleteMail(this.m_mailid,!1)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=MailAwardRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.MailInfoView=t,__reflect(t.prototype,"vm.MailInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.MailObtainPropSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.mail_tip11,a.useusebtn.label=Language.ins.fight_btn_1),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;e.showinfo=[],t&&(e.showinfo=t.rewardMail)}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.showData(t.showinfo,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.useusebtn:case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=MailSweepRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.MailObtainPropView=t,__reflect(t.prototype,"vm.MailObtainPropView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_kuaiblaward=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.MailSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.m_kuaiblaward=!1,a.readPanelVO(),a.initAddEvent(),t&&(a.getbtn.label=Language.ins.month_tip2,a.delbtn.label=Language.ins.mail_tip9,a.tiptxt0.text=Language.ins.mail_tip10);var i=a.datascrollA;i&&(i.stopAnimation(),i.viewport.scrollV=0),a.datalist.selectedIndex=-1,a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_mail),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.maildata;if(t.datascrollA.visible=!1,t.btnG.visible=!1,t.noneG.visible=!1,t.getbtn.enabled=!1,a&&a.length){t.datascrollA.visible=!0,t.btnG.visible=!0,a.sort(utils.GameUtil.sortMatckFun(["sendTime"],[1])),t.showData(a,!1);for(var i,n=!1,o=0,r=a.length;r>o;o++)i=a[o],i.item&&i.item.length&&!i.isRec&&(n=!0);n&&(t.getbtn.enabled=!0)}else t.noneG.visible=!0},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MAIL_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.MAIL_GET_AWARD,e.eventChange),e.addMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventChange),e.addMessage(game.GameCommands.MAIL_OBTAIN_GET_AWARD,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;a&&(a.isRead||GlobalAllProxy.getInstance().gameProxy.NetReadMail(a.mailId),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_mailinfo],a.mailId)),t.datalist.selectedIndex=-1},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MAIL_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.MAIL_GET_AWARD,e.eventChange),e.removeMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventChange),e.removeMessage(game.GameCommands.MAIL_OBTAIN_GET_AWARD,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.MAIL_DATA_CHANGE:this.changeShow();break;case game.GameCommands.MAIL_OBTAIN_GET_AWARD:this.changeShow(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_mail_obtain],e);break;case game.GameCommands.MAIN_ITEM_GET_OVER:this.m_kuaiblaward&&a.kuaigetfun();break;case game.GameCommands.MAIL_GET_AWARD:if(e){for(var i,n=GlobalAllProxy.getInstance().gameProxy.maildata,o=!1,r=0,s=n.length;s>r;r++)i=n[r],i.item&&i.item.length&&!i.isRec&&(o=!0);o||(a.m_kuaiblaward=!1)}this.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetObtainRewardMail();break;case t.delbtn:t.kuaidelfun()}},t.prototype.kuaigetfun=function(){for(var e,t=GlobalAllProxy.getInstance().gameProxy.maildata,a=0,i=t.length;i>a;a++)if(e=t[a],e.item&&e.item.length&&!e.isRec)return this.m_kuaiblaward=!0,void GlobalAllProxy.getInstance().gameProxy.NetRewardMail(e.mailId,!0);this.m_kuaiblaward=!1},t.prototype.kuaidelfun=function(){for(var e,t=GlobalAllProxy.getInstance().gameProxy.maildata,a=0,i=t.length;i>a;a++)if(e=t[a],(!e.item||!e.item.length||e.isRec)&&e.isRead){GlobalAllProxy.getInstance().gameProxy.NetDeleteMail(e.mailId,!0);break}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=MailRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.MailView=t,__reflect(t.prototype,"vm.MailView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_isshow=!1,t.percentWidth=t.percentHeight=100,t.touchChildren=!1,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.topPostPanel},t.prototype.startLoadRes=function(){var e=new skins.MainAllNoteSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.timer||(a.timer=new egret.Timer(30)),a.initAddEvent(),a.readPanelVO(),a.comG.visible=!1,a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.m_isshow=!1,this.removeEvent(),utils.GameComUtil.removeTextFlow(this.tipstxt)},t.prototype.changeShow=function(){var e=this;e.showone()},t.prototype.showone=function(){var e=this;if(!e.m_isshow){var t=GlobalAllProxy.getInstance().chatProxy.chatPostArr,a=t.length;if(e.m_isshow=!0,a){var i=t.shift();e.tipstxt.textFlow=utils.GameComUtil.getHtmlText(i.msg),e.tipstxt.x=e.tipG.width,e.timer.start(),e.comG.visible=!0}else e.close()}},t.prototype.initAddEvent=function(){var e=this;e.timer.addEventListener(egret.TimerEvent.TIMER,e.moveTips,e),e.addMessage(game.GameCommands.CHAT_POST_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.timer.removeEventListener(egret.TimerEvent.TIMER,e.moveTips,e),e.timer.stop(),e.removeMessage(game.GameCommands.CHAT_POST_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.CHAT_POST_CHANGE:this.showone()}},t.prototype.moveTips=function(e){var t=this,a=t.tipstxt.x;t.tipstxt.width;if(a<0-t.tipstxt.width){t.m_isshow=!1;var i=GlobalAllProxy.getInstance().chatProxy.chatPostArr;i.length?(t.timer.stop(),t.showone()):(t.timer.stop(),t.comG.visible=!1,t.close())}else t.tipstxt.x-=3},t.prototype.setVisible=function(e){var t=this;t.visible=e},t.prototype.closeNote=function(){var e=this;e.isOpend()&&e.close()},t}(e.VM);e.MainAllNoteView=t,__reflect(t.prototype,"vm.MainAllNoteView")}(vm||(vm={}));var MainChooseHeroViewOpenVO=function(){function e(){}return e}();__reflect(MainChooseHeroViewOpenVO.prototype,"MainChooseHeroViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.hadnum=0,t.choosearr=[],t.userarr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.MainChooseHeroSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.train_add_tip81,a.tiptxt.text=Language.ins.train_add_tip82,a.tiptxt1.text=Language.ins.train_add_tip110,a.berebornbtn.label=Language.ins.btn_ok),a.choosearr=GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr,a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openvo=t)}},t.prototype.onHide=function(t){var a=this;a.choosearr=[],a.userarr=[],e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.pveawardlistC)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openvo,i=[];if(a){var n=a.heroid;if(n){var o=GlobalConfig.getPlayerPorpertyVO(n);
4==o["class"]?t.qlyimg.source="tab_kapai_b2":5==o["class"]?t.qlyimg.source="tab_zx_h1":t.qlyimg.source="tab_kapai_b1";var r=GlobalAllProxy.getInstance().backpackProxy.getItemCount(a.itemvo.objectid);t.hadnum=0;var s=r;r+t.choosearr.length>=a.count?(t.hadnum=a.count,r>a.count&&(s=a.count),t.tiptxt0.textColor="0x00FF00"):(t.hadnum=r+t.choosearr.length,t.tiptxt0.textColor="0xFF0000");for(var l=0;s>l;l++){var p=new game.ComItemGroupVo;p.itemid=a.itemvo.objectid,p.count=1,i.push(p)}t.tiptxt0.text="("+t.hadnum+"/"+a.count+")",i=i.concat(t.choosearr),t.userarr=i,t.showData0(i);for(var c=GlobalAllProxy.getInstance().backpackProxy.getBagItem(),u=[],l=0,s=c.length;s>l;l++){var m=GlobalConfig.getItemVo(c[l].itemid);if(4==m.type){var g=GlobalConfig.getPlayerPorpertyVO(+m.parameter);if(g.location==o.location&&g["class"]==o["class"]&&g.playerid!=o.playerid){var _=new game.ComItemGroupVo;_.itemid=c[l].itemid,_.count=c[l].count,u.push(_)}}}for(var l=0,s=t.choosearr.length;s>l;l++)for(var h=0,d=u.length;d>h;h++)if(t.choosearr[l].itemid==u[h].itemid){if(!(u[h].count>1)){u.splice(h,1);break}u[h].count--}t.showData(u,!1)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.pveawardlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.pveawardlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a){if(t.hadnum>=t.m_openvo.count)FLOAT.NShowPutong([Language.ins.main_tip23]);else{var i=new game.ComItemGroupVo;i.itemid=a.itemid,i.count=1,t.choosearr.push(i),t.changeShow()}t.datalist.selectedIndex=-1}},t.prototype.listchangeB=function(e){var t=this,a=t.pveawardlistC.selectedItem;if(a){if(0!=t.choosearr.length)for(var i=0,n=t.choosearr.length;n>i;i++){if(t.choosearr[i].itemid!=t.m_openvo.itemvo.objectid&&a.itemid==t.choosearr[i].itemid){t.choosearr.splice(i,1),t.changeShow();break}t.choosearr[i].itemid==t.m_openvo.itemvo.objectid&&FLOAT.NShowPutong([Language.ins.main_tip24])}else FLOAT.NShowPutong([Language.ins.main_tip24]);t.pveawardlistC.selectedIndex=-1}},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.panel_bg.closebtn:case t.berebornbtn:GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr=t.choosearr;for(var a=[],i=0,n=t.userarr.length;n>i;i++)a.push(t.userarr[i].itemid);GlobalAllProxy.getInstance().gameProxy.mainuserarr=a,EventBus.sendMessage(game.GameCommands.CHOOSEHERO_MAIN),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData0=function(e){var t=this,a=e,i=t.pveawardlistC;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=BackPackRender2,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.MainChooseHeroView=t,__reflect(t.prototype,"vm.MainChooseHeroView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.itemArr=[],t.issuc=!1;var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.startLoadRes=function(){var e=this,t=new skins.MainGetItemSkinDR;t.runto(e,[])},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),PanelDM.getIns()._closeTip();for(var i,n,o,r=a.m_copyitemarr,s=0,l=r.length;l>s;s++)n=r[s],n.data&&(i=n.data,o=GlobalConfig.getItemVo(i.itemid),o&&o.type==item_type.type_player&&GlobalAllProxy.getInstance().playerProxy.addPlayCar(i.itemid));a.m_copyitemarr=[],a.itemArr=[]},t.prototype.onHideComplete=function(e){EventBus.sendMessage(game.GameCommands.MAIN_ITEM_GET_OVER)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.percentWidth=a.percentHeight=100,a.readPanelVo(),a.initShow(),a.timeN=egret.setTimeout(a.initAddEvent,a,400)},t.prototype.initShow=function(){var e=this;return e.clearAllTween(),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_getitem),void e.setItem()},t.prototype.setMovieClip=function(){var e=this;egret.Tween.get(e.mainGroup).to({scaleX:0,scaleY:0,alpha:0}).to({scaleX:1,scaleY:1,alpha:1},200).wait(200).call(e.playXing,e)},t.prototype.setItem=function(){var e,t=this,a=t.itemArr.length,i=6,n=0;n=i>=a?a:i,n>0&&t.itemGroup.removeChildren();var o;for(e=0;n>e;e++)o=t["itempanel"+e],t.itemGroup.addChild(o),o.setitemdata(t.itemArr[0].data,!0),o.alpha=0,t.itemArr.splice(0,1),o.setTip(!0);n>0?t.playItem(n):t.issuc&&t.playSuc()},t.prototype.playItem=function(e){for(var t=this,a=200,i=0;e>i;i++)i==e-1?egret.Tween.get(t["itempanel"+i]).to({scaleX:0,scaleY:0,alpha:0}).to({scaleX:1,scaleY:1,alpha:1},a).wait(300).call(t.setItem,t):(egret.Tween.get(t["itempanel"+i]).to({scaleX:0,scaleY:0,alpha:0}).to({scaleX:1,scaleY:1,alpha:1},a),a+=200)},t.prototype.showAnimo=function(){var e=this;e.guangmc.playLoop("effect")},t.prototype.playXing=function(){var e=this;e.animoXing.source=e.xingmc,e.xingmc.playOnceAndDo("effect",e.clearXingfun,e),e.setItem()},t.prototype.playSuc=function(){var e=this;e.animoSuc.source=e.sucmc,e.sucmc.playOnceAndDo("effect")},t.prototype.clearXingfun=function(){var e=this;e.xingmc.stop(),e.animoXing.source=null},t.prototype.clearSucfun=function(){var e=this;e.issuc&&e.sucmc.stop(),e.animoSuc.source=null},t.prototype.clearAllTween=function(){var e=this;egret.Tween.removeTweens(e.mainGroup);for(var t=0;6>t;t++)e["itempanel"+t]&&egret.Tween.removeTweens(e["itempanel"+t])},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;if(t.panelobj){e.itemArr=[];var a=t.panelobj.itemArr;e.m_copyitemarr=a;for(var i,n,o=a.length,r=!0,s=e.itemArr.length,l=0;o>l;l++)if(a[l].data instanceof game.SeverItemVO){for(r=!0,n=0;s>n;n++)if(i=e.itemArr[n],i.data.itemid&&i.data.itemid==a[l].data.itemid){i.data.count+=a[l].data.count,r=!1;break}r&&e.itemArr.push(a[l])}else e.itemArr.push(a[l]);e.issuc=t.panelobj.issuc}},t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.initAddEvent=function(){var e=this;e.parent&&e.parent.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;egret.clearTimeout(e.timeN),e.parent&&e.parent.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this,a=e.target;if(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()){t.clearAllTween(),t.itemGroup.removeChildren();var i=GlobalAllProxy.getInstance().guideProxy;return i.isCache&&i.cacheGuide(),t.close(),void e.stopPropagation()}a instanceof game.BackPackItemComPanel||(t.clearAllTween(),t.itemGroup.removeChildren(),t.close())},t.prototype.closeClear=function(){var e=this;e.itemGroup.removeChildren(),e.clearXingfun(),e.clearSucfun(),e.clearAllTween(),e.close()},t}(e.VM);e.MainGetItem=t,__reflect(t.prototype,"vm.MainGetItem")}(vm||(vm={}));var MainGetwayViewOpenVO=function(){function e(){}return e}();__reflect(MainGetwayViewOpenVO.prototype,"MainGetwayViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.MainGetwaySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&a.panel_bg.setImgBg(""),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openvo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.looktxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openvo;if(t.tiptxt.text="",a){var i=a.heroid;if(i){var n=GlobalConfig.getPlayerPorpertyVO(i);t.heroicon.setData(n)}t.panel_bg.titlename.text=a.tiltestr,t.tiptxt.text=a.tipstr;for(var o,r=a.getwaystr.split("|"),s=[],l=0,p=r.length;p>l;l++)o=new MainGetwayRenderVO,o.jumpinfo=r[l],o.heroid=i,s.push(o);t.showData(s,!0),t.looktxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.main_tip0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.heroicon:case t.looktxt:var a=t.m_openvo;if(a){t.close();var i=a.heroid,n=GlobalConfig.getPlayerPorpertyVO(i),o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n.playerid,n,!0))}break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=MainGetwayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.MainGetwayView=t,__reflect(t.prototype,"vm.MainGetwayView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.qipao_time=0,e.btn_taskbtn="taskbtn",e.btn_answerbtn="answerbtn",e.btn_monthbtn="monthbtn",e.btn_actfuli="actfuli",e.btn_actchong="actchong",e.btn_actpayback="actpayback",e.btn_rankactbtn="rankactbtn",e.btn_jianianhuabtn="jianianhuabtn",e.btn_achievebtn="achievebtn",e.btn_mailbtn="mailbtn",e.btn_friendbtn="friendbtn",e.btn_rankbtn="rankbtn",e.btn_pokedexbtn="pokedexbtn",e.btn_sharebtn="sharebtn",e.btn_collectbtn="collectbtn",e.btn_leijipaybtn="leijipaybtn",e.btn_jinqiubtn="jinqiubtn",e.btn_yiyuanbtn="yiyuanbtn",e.btn_touzibtn="touzibtn",e.btn_leijispendbtn="leijispendbtn",e.btn_denglubtn="denglubtn",e.btn_zaixianbtn="zaixianbtn",e.btn_juxingbtn="juxingbtn",e.btn_baozangbtn="baozangbtn",e.btn_pffollowbtn="pffollowbtn",e.btn_ssrpointbtn="ssrpointbtn",e.btn_yurenjiebtn="yurenjiebtn",e.btn_betbtn="betbtn",e.showtopbtn=0,e.showshare=0,e.showMore=0,e.showzhutask=0,e.betRedPoint=!0,e.isnewlogin=GlobalEnum.isnewlogin,e.m_isguide=!1,e.lockarrS=[[GlobalViewIDEnum.pType_build,"clubbtnlock","clubbtnG"],[GlobalViewIDEnum.pType_fightenter,"matchbtnlock","matchbtnG"],[GlobalViewIDEnum.pType_guild_main,"guildbtnlock","guildbtnG"],[GlobalViewIDEnum.pType_coach,"coachbtnlock","coachBgbtnG"],[GlobalViewIDEnum.pType_tech,"techbtnlock","techbtnG"]],e.percentHeight=100,e.percentWidth=100,e.minbtn="minbtn",e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){for(var e=new skins.MainSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu),a=[ResName.mc_main_tanchutiao,ResName.numchange,ResName.mc_main_liuguang,ResName.mc_main_julebu,ResName.mc_main_train,ResName.mc_main_qiutanzhongxin,ResName.mc_main_zhuangbeiyanjiu,ResName.mc_center3,ResName.mc_guaji,ResName.mc_fire,ResName.mc_main_tanchutiao_new],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},a.prototype.getAdvanceStrArr=function(){return["tab_kapai_b3"]},a.prototype.getAdvanceDRArr=function(){return[skins.DayTaskSkinDR]},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;e&&(a.packbtnG.setRectSelecte(!0),a.clubbtnG.setRectSelecte(!0),a.techbtnG.setRectSelecte(!0),a.matchbtnG.setRectSelecte(!0),a.secretarybtnG.setRectSelecte(!0),a.scoutbtnG.setRectSelecte(!0),a.guildbtnG.setRectSelecte(!0),a.coachBgbtnG.setRectSelecte(!0),GlobalAllProxy.getInstance().chatProxy.isshowmain=!0,a.ftiptxt0.text=Language.ins.main_tip8,a.ftiptxt1.text=Language.ins.main_tip9,a.ftiptxt2.text=Language.ins.main_tip10,a.ftiptxt3.text=Language.ins.main_tip11,a.ftiptxt4.text=Language.ins.main_tip12,a.ftiptxt5.text=Language.ins.main_tip13,a.ftiptxt6.text=Language.ins.main_tip14,a.ftiptxt7.text=Language.ins.main_tip15,a.ftiptxt8.text=Language.ins.main_tip16,a.ftiptxt9.text=Language.ins.main_tip17,a.ftiptxt10.text=Language.ins.main_tip18,a.gamebtn.label=Language.ins.dekaron_tip49,a.jitxt.text=Language.ins.title_tip_7,FntUtil.showFnt(a.sharegalBZG,ResName.fnt_main,Language.ins.main_tip19,ResName.spa_main_a),FntUtil.showFnt(a.shaeveryBZG,ResName.fnt_main,Language.ins.main_tip20,ResName.spa_main_a),FntUtil.showFnt(a.weeklyBZG,ResName.fnt_main,Language.ins.main_tip21,ResName.spa_main_a),FntUtil.showFnt(a.sharedownBZG,ResName.fnt_main,Language.ins.main_tip22,ResName.spa_main_a),FntUtil.showFnt(a.guildBZG,ResName.fnt_title,Language.ins.main_tip6,ResName.spa_title_b),FntUtil.showFnt(a.coachBZG,ResName.fnt_title,Language.ins.main_tip5,ResName.spa_title_b),FntUtil.showFnt(a.secretaryBZG,ResName.fnt_title,Language.ins.title_secretary,ResName.spa_title_b),FntUtil.showFnt(a.techBZG,ResName.fnt_title,Language.ins.title_equip_study,ResName.spa_title_b),FntUtil.showFnt(a.matchBZG,ResName.fnt_title,Language.ins.title_fightenter,ResName.spa_title_b),FntUtil.showFnt(a.clubBZG,ResName.fnt_title,Language.ins.title_build,ResName.spa_title_b),FntUtil.showFnt(a.packBZG,ResName.fnt_title,Language.ins.title_trainenter,ResName.spa_title_b),FntUtil.showFnt(a.scoutBZG,ResName.fnt_title,Language.ins.main_tip7,ResName.spa_title_b),a.severtimeG.visible=!1,PFAll.isNowPF([Global.severNE_debug,Global.severNE_english,Global.severNE_russia])&&(a.severtimeG.visible=!0));var i=PFAll.isiosopen(iostest_type.pay);a.addugbtn.visible=i,a.addcoinbtn.visible=i,a.showZhanliSpr(!1),a.showMore=0,a.showMoreInfo(!1),a.showshare=0,a.showShareInfo(!1);var n=GlobalAllProxy.getInstance().guideProxy;if(n.isPlayGuide()&&n.curGuideId<2e4?a.showtopbtn=0:a.showtopbtn=1,a.showTopList(!1),a.initAddEvent(),a.changeshow(),Global.isrest,a.resizefun(),SoundMgr.getInstance().SetSoundVolume(1),SoundMgr.getInstance().PlaySound(GlobalSoundEffect.sound_bg),a.showanimo(),a.entertimefun(),a.changeLockFun(),PFAll.getPFOpenFun(pf_openfun.share)&&!GlobalAllProxy.getInstance().guideProxy.isPlayGuide()){var o=GlobalAllProxy.getInstance().playerProxy,r=o.getShareTime(share_type.type_sharenew),s=GlobalConfig.getShareVO(share_type.type_sharenew);!r&&s&&s.lv<=o.playerinfo.level&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_sharenew])}},a.prototype.changeshow=function(){var t=this,a=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(a){t.showlistbtn(),t.showjubentxt(!1),t.showqiutxt(!1),t.showlooktxt(!1),t.showregionstxt(!1),t.showfirsttxt(!1),t.showLeadtxt(!1),t.showdrawtxt(!1),t.showseverfighttxt(!1),t.showtime(),t.juidtxt.text=GameMainPanel.initItemid.toString(),t.sholdtxt.text=ParamLoader.instance.sholdNum.toString(),t.btnG.visible=!Global.isrest,t.tiaoshiG.visible=!Global.isrest;var a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=a.fight,n=utils.GameComUtil.getFightNum(a.fight);t.zhanlitxt.text=n,t.ugtxt.text=a.stone.toString(),t.cointxt.text=utils.GameUtil.getNumToStr(a.gold),t.nametxt.text=a.club_name,t.viptxt.text="VIP"+a.vipLevel,t.vipimg.text=""+a.vipLevel,t.logoimg.setLogoUrl(a.logo);var o="";o+=FormatString.format(Language.ins.mian_tip0,i.player);var r=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_gamehero,e.HeroView.type_formation],!1);r&&(o+="\n"+FormatString.format(Language.ins.mian_tip2,i.formation)),r=utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,e.TechBgView.type_study],!1),r&&(o+="\n"+FormatString.format(Language.ins.mian_tip1,i.equip)),i.coach&&(o+="\n"+FormatString.format(Language.ins.mian_tip3,i.coach)),i.title&&(o+="\n"+FormatString.format(Language.ins.mian_tip4,i.title)),i.logo>=0&&(o+="\n"+FormatString.format(Language.ins.mian_tip5,i.logo)),t.zhanlitiptxt1.textFlow=utils.GameComUtil.getHtmlText(o);var s=GlobalAllProxy.getInstance().playerProxy.clubData;if(s){GlobalConfig.getClubgradeVO(s.grade);t.lvtxt.text=s.level}t.changeTipMC(),t.showlockimg();var l=a.exp,p=a.level,c=GlobalConfig.getClubVO(p);if(c){var u=l-c.minexp;t.clubbar.setValue(u,c.clubexp)}t.rewardZhuTask(),t.showrandombtn(),t.changeShareBtn(),t.showsevendaybtn(),t.showchatG(),PFAll.isNowPF([Global.severNE_japan])&&GlobalAllProxy.getInstance().playerProxy.getShareTime(share_type.type_evaluate)<=0&&t.openEvaluateWindow(),t.VisitorLoginBtn&&(t.VisitorLoginBtn.visible=!1),PFAll.isNowPF([Global.severNE_japan])&&(PFAll.isIosTest()||GlobalAllProxy.getInstance().guideProxy.isPlayGuide()||PFAll.isYouKe()&&(PFAll.showyouketip(),t.VisitorLoginBtn&&(t.VisitorLoginBtn.visible=!0))),PFAll.isiosopen(iostest_type.vip)||(t.vipG.visible=!1)}},a.prototype.showtime=function(){var e=this;e.timeG.visible=!1,e.timeG0.visible=!1,e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e));var t=GlobalAllProxy.getInstance().playerProxy.scienceData,a=GlobalAllProxy.getInstance().playerProxy.coachdata;t&&t.coolingTime>0&&(e.timeG.visible=!0,e.timetiptxt.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0),e.timetiptxt.textColor=16711680),a&&a.time>0&&(e.timeG0.visible=!0,e.timetiptxt0.text=utils.GameComUtil.getTimeNum(a.time,!0),e.timetiptxt0.textColor=16711680),e.timer.start(),e.qipaotxt0.text=utils.GameComUtil.getTime4Str(1e3*ParamLoader.instance.uniqueServerTime)},a.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.scienceData;a&&a.coolingTime<=0?t.timeG.visible=!1:t.timetiptxt.text=utils.GameComUtil.getTimeNum(a.coolingTime,!0);var i=GlobalAllProxy.getInstance().playerProxy.coachdata;i&&i.time<=0?t.timeG0.visible=!1:t.timetiptxt0.text=utils.GameComUtil.getTimeNum(i.time,!0),t.qipaotxt0.text=utils.GameComUtil.getTime4Str(1e3*ParamLoader.instance.uniqueServerTime)},a.prototype.openEvaluateWindow=function(){var e=GlobalAllProxy.getInstance().playerProxy,t=e.getShareTime(share_type.type_evaluate),a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=GlobalAllProxy.getInstance().guideProxy.isPlayGuide(),n=a.getPveCheck();!t&&PFAll.isIOS&&n>=21&&!i&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_share_evaluate])},a.prototype.changeShareBtn=function(){var e=this;e.sharedownG.visible=!1;var t=PFAll.getPFOpenFun(pf_openfun.invitation);if(PFAll.getPFOpenFun(pf_openfun.share)){var a=GlobalAllProxy.getInstance().playerProxy.weeklyshare,i=(GlobalAllProxy.getInstance().playerProxy.randomDeliveryId,!1),n=!0,o=!1;if(a){for(var r,s=a.magnate,l=s.receiveGrade,p=GlobalConfig.shareinviterich_data,c=0,u=p.length;u>c;c++)r=p[c],-1==l.indexOf(r.id)&&(i=!0);var m=a.weekShare;(2!=m.shareStatus||2!=m.inviteStatus)&&(o=!0)}if(t||(i=!1),i||n||o){var g=PFAll.isiosopen(iostest_type.activity);e.sharedownG.visible=g}utils.GameComUtil.setVisibleHitPanel(e.sharegalbtnG,e.sharebtnG,i),utils.GameComUtil.setVisibleHitPanel(e.shaeverybtnG,e.sharebtnG,n),utils.GameComUtil.setVisibleHitPanel(e.weeklybtnG,e.sharebtnG,o)}},a.prototype.showchatG=function(){var e,t,a=this,i=GlobalAllProxy.getInstance().chatProxy,n=[],o=0;if(i&&i.chatArr){var r=(i.showtime,0);e=i.chatArr.length>=4?r>=4?i.chatArr.length:i.chatArr.length-4+r:r>=i.chatArr.length?i.chatArr.length:0+r;for(var s=e,l=i.chatArr.length;l>s;s++)t=new MainChatRenderVO,i.chatArr.length>=4?t.index=o:t.index=o+4-i.chatArr.length,t.msg=i.chatArr[s].msg,t.type=i.chatArr[s].chatType,n.push(t),o++}a.showDataB(n)},a.prototype.showDataB=function(e,t){void 0===t&&(t=!1);var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=MainChatRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.showsevendaybtn=function(){var e=this,t=PFAll.isiosopen(iostest_type.pay_activity);if(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()||!t)e.tipG.visible=!1;else{e.tipG.visible=!0;var a=GlobalAllProxy.getInstance().activityProxy.activityArr;if(a&&a.sevenLogin&&a.sevenLogin.currentOpenDay<=7){var i=a.sevenLogin;if(7==a.sevenLogin.currentOpenDay&&2==i.receiveAward[i.currentOpenDay-1])return void utils.GameComUtil.setVisibleHitPanel(e.sevendaybtn,e.tipG,!1);utils.GameComUtil.setVisibleHitPanel(e.sevendaybtn,e.tipG,!0);var n=GlobalConfig.getActivityVO(i.activityId),o=n.reward.split("|");if(1==i.receiveAward[i.currentOpenDay-1]){e.sevendayimg.source="tab_zjm_o1";var r=utils.GameComUtil.getItemVoArr(o[i.currentOpenDay-1]);if(r[0]){var s=r[0].itemid,l=r[0].count;e.sevendayItem.setIdAndNum(s,l,!0,0,!1,!1,!1)}utils.GameUtil.playGifMc(0,!0,e,"tab_jb_a5")}else if(2==i.receiveAward[i.currentOpenDay-1]){e.sevendayimg.source="tab_zjm_n9";var r=utils.GameComUtil.getItemVoArr(o[i.currentOpenDay]);if(r[0]){var s=r[0].itemid,l=r[0].count;e.sevendayItem.setIdAndNum(s,l,!0,0,!1,!1,!1)}utils.GameUtil.playGifMc(0,!1,e,"tab_jb_a5")}}else utils.GameComUtil.setVisibleHitPanel(e.sevendaybtn,e.tipG,!1)}},a.prototype.showrandombtn=function(){var e=this,t=PFAll.isiosopen(iostest_type.activity);if(t)if(PFAll.getPFOpenFun(pf_openfun.share)){var a=GlobalAllProxy.getInstance().playerProxy.randomDeliveryId,i=GlobalConfig.getShareVO(a),n=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;0!=a&&n>=4?(utils.GameComUtil.setVisibleHitPanel(e.randombtn,e.tipG,!0),i&&i.icon&&(e.randomimg.source=i.icon),egret.Tween.get(e.randombtn,{loop:!0}).to({alpha:.2},400).to({alpha:1},400)):(utils.GameComUtil.setVisibleHitPanel(e.randombtn,e.tipG,!1),e.randombtn&&egret.Tween.removeTweens(e.randombtn))}else utils.GameComUtil.setVisibleHitPanel(e.randombtn,e.tipG,!1);else e.tipG.visible=!1},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;egret.clearTimeout(a.mc_time),egret.clearTimeout(a.mc_entertime),egret.clearTimeout(a.mc_hangup_time),utils.GameComUtil.removeAnimoSelf(a.mc_awardtiao),utils.GameComUtil.removeAnimoSelf(a.mc_newawardtiao),utils.GameComUtil.removeAnimoSelf(a.mc_main_liuguang);for(var i,n=[a.mc_main_pack,a.mc_main_scout,a.mc_main_tech,a.mc_main_club,a.mc_guaji,a.mc_center3,a.mc_fire],o=0,r=n.length;r>o;o++)i=n[o],i&&(utils.GameComUtil.removeAnimoSelf(i),i.removeEventListener(dragonBones.EventObject.COMPLETE,this.animoplayerB,this));var s=this.topbtnG;s.removeChildren(),a.removeAddEvent(),TweenLite.killTweensOf(a.arrowicon,!0);var l,p,c,u=GlobalConfig.getActivityIconVOForType(1);for(o=0,r=u.length;r>o;o++)p=u[o],c=p.iconname,a[c]&&(l=a[c],l&&l.playMc(!1));utils.GameComUtil.removeTextFlow(this.zhanlitiptxt1),utils.GameComUtil.removeTextFlow(this.zhuTasktxt),a.qipaoG&&egret.Tween.removeTweens(a.qipaoG),a.timer&&a.timer.stop()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.FIGHT_NEW_START,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.MY_CLUB_LEVELUP,e.eventchange),e.addMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.ACTIVITY_FIRST_RECEIVE,e.eventchange),e.addMessage(game.GameCommands.MAIN_TOPBTN_CHANGE,e.eventchange),e.addMessage(game.GameCommands.OPEN_GUIDE_WINDOW,e.eventchange),e.addMessage(game.GameCommands.START_NEW_PLAYER,e.eventchange),e.addMessage(game.GameCommands.GUIDE_PLAY_OVER,e.eventchange),e.addMessage(game.GameCommands.SHARE_REWAED,e.eventchange),e.addMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.GUILD_NOCHAT,e.eventchange)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.FIGHT_NEW_START,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.MY_CLUB_LEVELUP,e.eventchange),e.removeMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.ACTIVITY_FIRST_RECEIVE,e.eventchange),e.removeMessage(game.GameCommands.MAIN_TOPBTN_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.OPEN_GUIDE_WINDOW,e.eventchange),e.removeMessage(game.GameCommands.SHARE_REWAED,e.eventchange),e.removeMessage(game.GameCommands.START_NEW_PLAYER,e.eventchange),e.removeMessage(game.GameCommands.CHAT_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.GUIDE_PLAY_OVER,e.eventchange),e.removeMessage(game.GameCommands.GUILD_NOCHAT,e.eventchange)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changeshow();break;case game.GameCommands.FIGHT_NEW_START:break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC(),a.showsevendaybtn();break;case game.GameCommands.MY_CLUB_LEVELUP:a.changeLockFun(),a.showrandombtn();break;case game.GameCommands.GUIDE_PLAY_OVER:a.rewardZhuTask();break;case game.GameCommands.SECRETARY_DATA_CHANGE:a.rewardZhuTask();break;case game.GameCommands.ACTIVITY_FIRST_RECEIVE:a.entertimefun();break;case game.GameCommands.MAIN_TOPBTN_CHANGE:a.entertimefun();break;case game.GameCommands.OPEN_GUIDE_WINDOW:break;case game.GameCommands.START_NEW_PLAYER:a.showArrowMc(!1);break;case game.GameCommands.SHARE_REWAED:a.changeShareBtn();break;case game.GameCommands.CHAT_DATA_CHANGE:var i=GlobalAllProxy.getInstance().chatProxy.showtime,n=10*(parseInt(i/10+"")-1);0>n&&(n=0),GlobalAllProxy.getInstance().chatProxy.showtime=n,a.showchatG();break;case game.GameCommands.GUILD_NOCHAT:a.showchatG()}},a.prototype.touchTapFun=function(e){var t=this,a=!1,i=e.target,n=PanelDM.getIns(),o=!1,r=!1;if(i instanceof MainBtnIcon){var s,l,p=i,c=this.minbtn,u=p.name,m=u.substr(c.length),g=GlobalConfig.getActivityIconVOForId(m);if(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&g&&g.iconname!=GlobalEnum.main_taskbtn)return;switch(p){case t[t.btn_sharebtn]:var _=new AlertVO;_.okLabel=Language.ins.pf_tip3,_.showCancel=!1,s=GlobalConfig.getShareVO(share_type.type_award),l="",s&&(l=utils.GameComUtil.getItemVoArrToString(s.reward)),_.info=FormatString.format(Language.ins.pf_tip1,l),JAlert.show(_,Language.ins.title_pf_share,t.sharefun,t);break;case t[t.btn_collectbtn]:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_share_collect]);break;case t[t.btn_pffollowbtn]:PFAll.followMe();break;default:if(g&&(utils.GameComUtil.panelJump(g.jump),g.jump==String(GlobalViewIDEnum.pType_bet_view))){var h=GlobalAllProxy.getInstance().gameProxy.getTipForArr(null,[GlobalEnum.tipmc_bet]);null!=h&&(t.betRedPoint=!1);var d=(t.betRedPoint||h)&&GlobalAllProxy.getInstance().gameProxy.isShowBetRedPoint;t.showTipBetRedPoint(d)}}g&&(GlobalAllProxy.getInstance().activityProxy.addOpenBinId(g.id),p.playMc(!1))}else switch(i){case t.gamebtn:t.startFight();break;case t.jubentxt:t.showjubentxt(!0);break;case t.showtxt:t.showqiutxt(!0);break;case t.looktxt:t.showlooktxt(!0);break;case t.regionstxt:t.showregionstxt(!0);break;case t.firsttxt:t.showfirsttxt(!0);break;case t.Leadtxt:t.showLeadtxt(!0);break;case t.drawtxt:t.showdrawtxt(!0);break;case t.severfighttxt:t.showseverfighttxt(!0);break;case t.clubbtn:n.goWindow([GlobalViewIDEnum.pType_build]);break;case t.haomenG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_title_mainui]),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick);break;case t.techbtn:n.goWindow([GlobalViewIDEnum.pType_tech]);break;case t.scoutbtn:n.goWindow([GlobalViewIDEnum.pType_scout]);break;case t.matchbtn:n.goWindow([GlobalViewIDEnum.pType_fightenter]);break;case t.taskbtn:n.goWindow([GlobalViewIDEnum.pType_daytask]);break;case t.coachbtn:n.goWindow([GlobalViewIDEnum.pType_coach]);break;case t.logoimg:case t.nametxt:n.goWindow([GlobalViewIDEnum.pType_club_detail]);break;case t.friendbtn:o=!0,n.goWindow([GlobalViewIDEnum.pType_friend]);break;case t.moneytipG:var y=GlobalAllProxy.getInstance().playerProxy.playerinfo,v=Language.ins.main_money_tiptext+y.gold;utils.GameComUtil.ShowTip(t.moneytipG,0,game.TipSimpleObject.type_common,v);break;case t.addcoinbtn:var f=GlobalConfig.getItemVo(GlobalEnum.itemid_coin);if(f){var b=f.getShopArr(),G=b.length;if(G){var x;if(G&&(x=b[0][0]),G>1){var C,T,P,A=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var w in b)if(T=b[w],P=+T[0],C=GlobalConfig.getShopVO(P),A>=C.lvlimit){x=P;break}}var k=new ShopBuyViewOpenVO(x,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],k)}}break;case t.ugG:n.goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.mailbtn:o=!0,n.goWindow([GlobalViewIDEnum.pType_mail]);break;case t.secretarybtn:n.goWindow([GlobalViewIDEnum.pType_secretary]);break;case t.vipG:n.goWindow([GlobalViewIDEnum.pType_vip]);break;case t.chatbtn:n.goWindow([GlobalViewIDEnum.pType_chat]);break;case t.shopbtn:n.goWindow([GlobalViewIDEnum.pType_shop]);break;case t.answerbtn:n.goWindow([GlobalViewIDEnum.pType_answer]);break;case t.achievebtn:o=!0,n.goWindow([GlobalViewIDEnum.pType_achieve]);break;case t.rankbtn:o=!0,n.goWindow([GlobalViewIDEnum.pType_gamerank]);break;case t.zhuTaskbtn:t.rewardZhuTask(!0);break;case t.recruitbtn:n.goWindow([GlobalViewIDEnum.pType_gamehero]);break;case t.hangupbtn:t.startFight();break;case t.packbtn:n.goWindow([GlobalViewIDEnum.pType_trainenter]);break;case t.guildbtn:var I=GlobalAllProxy.getInstance().guildProxy.Guild;I&&I.data?n.goWindow([GlobalViewIDEnum.pType_guild_main]):n.goWindow([GlobalViewIDEnum.pType_guild_apply]);break;case t.monthbtn:n.goWindow([GlobalViewIDEnum.pType_monthcar]);break;case t.backpackbtn:n.goWindow([GlobalViewIDEnum.pType_backpack]);break;case t.morebtn:o=!0,t.showMoreInfo(!0);break;case t.sharedownbtn:r=!0,t.showShareInfo(!0);break;case t.zhanliRect:return void t.showZhanliSpr(!0);case t.toplistbtn:return void t.showTopList(!0);case t.randombtn:var S=GlobalAllProxy.getInstance().playerProxy.randomDeliveryId;return void(0!=S&&(n.goWindow([GlobalViewIDEnum.pType_random_shar],S),GlobalAllProxy.getInstance().playerProxy.randomDeliveryId=0,t.showrandombtn()));case t.sevendayItem:var E=GlobalAllProxy.getInstance().activityProxy.activityArr;return void(E&&E.sevenLogin&&n.goWindow([GlobalViewIDEnum.pType_activity]));case t.weeklybtn:return r=!0,void n.goWindow([GlobalViewIDEnum.pType_weekly_shar]);case t.pokedexbtn:n.goWindow([GlobalViewIDEnum.pType_heropokedex]);break;case t.sharegalbtn:r=!0,n.goWindow([GlobalViewIDEnum.pType_share_regal]);break;case t.shaeverybtn:r=!0,n.goWindow([GlobalViewIDEnum.pType_share_everyday]);break;case t.lockbtnG:t.openGuideFun();break;case t.VisitorLoginBtn:a=!t.visitor_login_ui.visible;break;case t.lineVisitorLoginBtn:if(a=!0,""!=PFAll.url_visitor_binding){var R=PFAll.url_visitor_binding;location.href=R}break;default:o||1!=t.showMore||t.showMoreInfo(!0),i instanceof game.DoraBtnUiasset&&FLOAT.NShowPutong([Language.ins.no_finish])}t.showZhanliSpr(!1),t.showshare&&(r||(t.showshare=0,t.showShareInfo(!1))),PFAll.isNowPF([Global.severNE_japan])&&(t.visitor_login_ui.visible=a)},a.prototype.sharefun=function(){PFAll.shareGame(share_type.type_award)},a.prototype.showTopList=function(e){var t,a=this;e&&(a.showtopbtn=1==a.showtopbtn?0:1),t=1==a.showtopbtn;var i=a.topbtnG;egret.Tween.removeTweens(i),e?t?egret.Tween.get(i).to({alpha:0,visible:!0}).to({alpha:1},100):egret.Tween.get(i).to({alpha:1,visible:!0}).to({alpha:0},100).to({visible:!1}):(i.visible=t,i.alpha=1),a.toplistG.scaleX=t?-1:1},a.prototype.showlistbtn=function(){var e=this,t=PFAll.isiosopen(iostest_type.activity),a=GlobalConfig.getActivityIconVOForType(1);
a.sort(utils.GameUtil.sortMatckFun(["rank"],[0]));var i,n,o,r,s;e.topbtnG.removeChildren();var l=e.minbtn;for(r=0,s=a.length;s>r;r++)i=a[r],i.isopen&&(n=i.iconname,e[n]?o=e[n]:(o=new MainBtnIcon,o.name=l+i.id,o.setData(i),e[n]=o),t&&e.topbtnG.addChildAt(o,0));e.entertimefun()},a.prototype.showZhanliSpr=function(e){var t=this;t.tisspr.visible=e},a.prototype.rewardZhuTask=function(e){void 0===e&&(e=!1);var t,a,i,n=this,o=GlobalAllProxy.getInstance().gameProxy.secretaryData,r=GlobalAllProxy.getInstance().playerProxy.clubData;if(o&&r){var s,l,p,c,u,m=(GlobalConfig.secretarytask_DATA,r.level,o.task),g=m.length,_=(GlobalConfig.getClubVO(r.level),utils.GameComUtil,GlobalConfig);for(l=0,g=m.length;g>l;l++)if(u=m[l],s=_.getSecretaryTaskVO(u.taskId),s&&s.tasktype==secretarytask_type.type_zhu){c=0,p=0,c=u.progress,p=2==u.isReward?1:0,i=c>=s.schedule?1:0,i&&s.getIsNeedWait()&&(i=0),t=s,a=p;break}}if(n.zhuTaskG.visible=!0,e)GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickButtonTrigger),game.GuideProxy.isTaskFollow&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgTaskFollowClick),t?i?GlobalAllProxy.getInstance().gameProxy.NetCommitTask(t.taskid):t.jump&&"0"!=t.jump&&(+t.jump==GlobalViewIDEnum.pType_trainupstar&&n.checkJump(),utils.GameComUtil.panelJump(t.jump,!0),GlobalAllProxy.getInstance().guideProxy.goTaskFollow(t.getTaskFollow())):n.zhuTaskG.visible=!1;else if(t)if(n.zhuTasktxt.textFlow=utils.GameComUtil.getHtmlText(t.des),i)n.showtaskMc(!0),n.shownewtaskMc(!1),n.zhuTaskimg.source="",n.zhuTaskbg.source="tab_zjm_o4",n.showArrowMc(!1);else{n.showtaskMc(!1),n.isnewlogin?n.zhuTaskimg.source="tab_zjm_e9":(n.shownewtaskMc(!0),n.zhuTaskimg.source=""),n.zhuTaskbg.source="tab_zjm_f2";var h=ParamLoader.instance.ServerGuildFigure;GlobalAllProxy.getInstance().playerProxy.playerinfo.level<=h&&!GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&!game.GuideProxy.isTaskFollow?n.showArrowMc():n.showArrowMc(!1)}else n.showtaskMc(!1),n.zhuTaskG.visible=!1,n.showArrowMc(!1)},a.prototype.checkJump=function(){for(var e=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer(),t=GlobalAllProxy.getInstance().playerProxy.playerArr,a=[],i=0,n=t.length;n>i;i++)0!=t[i].position&&a.push(t[i]);a.sort(utils.GameUtil.sortMatckFun(["card_trait"],[1]));var o,r,s,l,p,c=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e),u=GlobalConfig.getPlayerExpVO(c.card_trait,c.stars,c.level),m=GlobalConfig.getPlayerStarVO(c.card_trait,c.stars),g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_playerexp),_=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,h=utils.GameComUtil.getItemVoArr(m.cost),d=CostItemRender.getItemOkArr(h);if(g<=u.prate||u.plv==GlobalEnum.hero_maxlv||m.bookgrade==c.level&&m.limitlv>_||m.bookgrade==c.level&&!d)for(var y=0,v=a.length;v>y;y++)if(o=a[y],r=GlobalConfig.getPlayerExpVO(o.card_trait,o.stars,o.level),g>=r.prate&&r.plv!=GlobalEnum.hero_maxlv&&(s=GlobalConfig.getPlayerStarVO(o.card_trait,o.stars),l=utils.GameComUtil.getItemVoArr(s.cost),p=CostItemRender.getItemOkArr(l),s.bookgrade!=o.level||s.limitlv<=_&&p)){GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(o.playerid);break}},a.prototype.showShareInfo=function(e){var t,a=this;e&&(a.showshare=1==a.showshare?0:1),t=1==a.showshare;var i=a.shareG;i.visible=t},a.prototype.showMoreInfo=function(e){var t,a=this;e&&(a.showMore=1==a.showMore?0:1),t=1==a.showMore;var i=a.moreG;egret.Tween.removeTweens(i),e?t?egret.Tween.get(i).to({alpha:0,visible:!0}).to({alpha:1},100):egret.Tween.get(i).to({alpha:1,visible:!0}).to({alpha:0},100).to({visible:!1}):i.visible=t,e?a.showzhutask=a.showMore?1:0:a.showzhutask=a.showMore?0:1,a.showZhuTaskInfo(e)},a.prototype.showZhuTaskInfo=function(e){var t,a=this;e&&(a.showzhutask=1==a.showzhutask?0:1),t=1==a.showzhutask,a.changeGuildShow();var i=a.zhuTaskG,n=i.width+120;egret.Tween.removeTweens(i),e?t?egret.Tween.get(i).to({x:-n}).to({x:0},140):egret.Tween.get(i).to({x:0}).to({x:-n},140):t?i.x=0:i.x=-n},a.prototype.entertimefun=function(){var e=this,t=e.topbtnG,a=GlobalConfig.getActivityIconVOForType(1);t.removeChildren();var i,n,o,r,s=GlobalAllProxy.getInstance().activityProxy.activityArr,l=GlobalAllProxy.getInstance().activityProxy.rankactivityArr,p=GlobalAllProxy.getInstance().playerProxy,c=GlobalAllProxy.getInstance().activityProxy.open_btn,u=14,m=0,g=PFAll.isiosopen(iostest_type.activity),_=null,h=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;h&&(_=h.getYuRenIcon());for(var d=0,y=a.length;y>d;d++)if(i=a[d],n=e[i.iconname]){if(r="taskbtn"==i.iconname?!0:g,!r)break;switch(i.iconname){case e.btn_actpayback:r=!1,s&&(o=s.firstChargeInit,o&&(r=!0));break;case e.btn_actfuli:if(r=!1,s){var v=s.signInit,f=s.sevenLogin,b=s.gradeInit,G=s.onlineInit;(v||f||b||G)&&(r=!0)}break;case e.btn_actchong:if(r=!1,s){var x=s.consumeInit,C=s.payInit,T=s.investmentInit,P=s.fundInit;(x||C||T||P)&&(r=!0)}break;case e.btn_leijipaybtn:r=!1;var A=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;A&&A.accumulative&&(r=!0);break;case e.btn_jinqiubtn:r=!1;var w=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;w&&w.continuousCharge&&(r=!0);break;case e.btn_yiyuanbtn:r=!1;var k=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;k&&k.yiYuan&&(r=!0);break;case e.btn_yurenjiebtn:r=!1,_&&_.id==+i.id&&(r=!0,n.name=e.minbtn+i.id,n.setData(i));break;case e.btn_ssrpointbtn:r=!1;var h=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;h&&h.footballPoint&&(r=!0);break;case e.btn_touzibtn:r=!1;var I=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;I&&I.investmentManager&&(r=!0);break;case e.btn_leijispendbtn:r=!1;var S=GlobalAllProxy.getInstance().operationProxy.consumerGift;S&&(r=!0);break;case e.btn_denglubtn:r=!1;var E=GlobalAllProxy.getInstance().operationProxy.loginSignIn;E&&(r=!0);break;case e.btn_zaixianbtn:r=!1;break;case e.btn_juxingbtn:r=!1;var R=GlobalAllProxy.getInstance().operationProxy.starStruck;R&&(r=!0);break;case e.btn_baozangbtn:r=!1;var L=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;L&&L.footballPrecious&&(r=!0);break;case e.btn_jianianhuabtn:if(r=!1,l){var O=l.carnival;O&&(r=!0)}break;case e.btn_rankactbtn:if(r=!1,l){var V=l.powerInit,D=l.levelInit,N=l.peakInit,F=l.recruitInit;(V||D||N||F)&&(r=!0)}break;case e.btn_answerbtn:r=!0;break;case e.btn_sharebtn:r=!1,PFAll.getPFOpenFun(pf_openfun.share)&&(r=!0);break;case e.btn_collectbtn:r=!1,PFAll.getPFOpenFun(pf_openfun.desktop)&&p&&!p.getShareTime(share_type.type_desktop)&&(r=!0);break;case e.btn_taskbtn:r=!1;var M=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_daytask]);M&&(r=!0);break;case e.btn_pffollowbtn:r=!1,PFAll.getPFOpenFun(pf_openfun.follow)&&!PFAll.game_pf_focus&&(r=!0);break;case e.btn_betbtn:r=!1;var B=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;B&&B.guess&&(r=!0)}r&&(m++,u>=m&&(t.addChild(n),i.light&&!c[i.id]&&n.playMc(!0)))}egret.setTimeout(e.reshTopBtn,e,10)},a.prototype.reshTopBtn=function(){this.topbtnG.validateNow()},a.prototype.startFight=function(){if(!Global.isrest){var e=GlobalAllProxy.getInstance().playerProxy.playerinfo,t=e.mission_id,a=t.toString();return GameMainPanel.initItemid=parseInt(this.juidtxt.text),ParamLoader.instance.sholdNum=parseInt(this.sholdtxt.text),void GlobalAllProxy.getInstance().fightProxy.NetBattleRequest(FightEnum.type_pve,a,!0)}if(ParamLoader.instance.blSeverFight){var i=PanelDM.getIns();i.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pve])}else{var i=PanelDM.getIns();i.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pve])}},a.prototype.showjubentxt=function(e){var t=this;e&&(ParamLoader.instance.blSeverFight=1==ParamLoader.instance.blSeverFight?0:1),ParamLoader.instance.blSeverFight?t.jubentxt.text="@当前走剧本":t.jubentxt.text="@没走剧本"},a.prototype.showqiutxt=function(e){var t=this;e&&(ParamLoader.instance.islandscape=1==ParamLoader.instance.islandscape?0:1),ParamLoader.instance.islandscape?t.showtxt.text="@球场横屏":t.showtxt.text="@球场竖屏"},a.prototype.showlooktxt=function(e){var t=this;e&&(ParamLoader.instance.blPlayLookPlay=1==ParamLoader.instance.blPlayLookPlay?0:1),ParamLoader.instance.blPlayLookPlay?t.looktxt.text="@需要盯人":t.looktxt.text="@不用盯人"},a.prototype.showregionstxt=function(e){var t=this;e&&(ParamLoader.instance.bRegions=1==ParamLoader.instance.bRegions?0:1),ParamLoader.instance.bRegions?t.regionstxt.text="@显示区域线":t.regionstxt.text="@不显示区域线"},a.prototype.showfirsttxt=function(e){var t=this;e&&(ParamLoader.instance.blBuleFirst=1==ParamLoader.instance.blBuleFirst?0:1),ParamLoader.instance.blBuleFirst?t.firsttxt.text="@蓝方开球":t.firsttxt.text="@红方开球"},a.prototype.showLeadtxt=function(e){var t=this;e&&(ParamLoader.instance.blLeadObvious=1==ParamLoader.instance.blLeadObvious?0:1),ParamLoader.instance.blLeadObvious?t.Leadtxt.text="@主角变大":t.Leadtxt.text="@主角正常"},a.prototype.showdrawtxt=function(e){var t=this;e&&(ParamLoader.instance.blImgRender=1==ParamLoader.instance.blImgRender?0:1),ParamLoader.instance.blImgRender?t.drawtxt.text="@图片显示":t.drawtxt.text="@程序绘制"},a.prototype.showseverfighttxt=function(e){var t=this;e&&(ParamLoader.instance.blFightINSever=1==ParamLoader.instance.blFightINSever?0:1),ParamLoader.instance.blFightINSever?t.severfighttxt.text="@真实战斗":t.severfighttxt.text="@虚假战斗"},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight);var t=utils.GameUtil.getScalePanel(1060,e.centerG.height);e.centerG.scaleX=e.centerG.scaleY=t},a.prototype.showlockimg=function(){for(var e,t,a,i,n,o=this,r=o.lockarrS,s=0,l=r.length;l>s;s++)a=r[s],t=a[0],e=utils.GameComUtil.getIsUnLock([t]),i=o[a[2]],n=o[a[1]],e?(n.visible=!1,utils.GameUtil.setColorBrightness(i,0,!1)):(n.visible=!0,utils.GameUtil.setColorBrightness(i,-50,!0))},a.prototype.changeTipMC=function(){var e=this,t=GlobalEnum,a=GlobalAllProxy.getInstance().gameProxy,i=a.getTipForArr(null,[t.tipmc_friendask,t.tipmc_friendlove]),n=a.getTipForArr(null,[t.tipmc_mail]),o=a.getTipForArr(null,[t.tipmc_achieve,t.tipmc_achievegetnew]),r=!1;(i||n||o)&&(r=!0),e.showTipMcMore(r),e.showTipMcTalk(a.getTipForArr(null,[t.tipmc_chat])),e.showTipMcVIP(a.getTipForArr(null,[t.tipmc_vip,t.tipmc_vipobtain,t.tipmc_vipgif])),e.showTipMcAchieve(o),e.showTipMcFriendask(i),e.showTipMcMail(n),e.showTipMcDayTask(a.getTipForArr(null,[t.tipmc_daytask])),e.showTipMcClubbuild(a.getTipForArr(null,[t.tipmc_clubbuildaward,t.tipmc_clubbuildenter,t.tipmc_clubgrade,t.tipmc_builduptech,t.tipmc_builduptactics,t.tipmc_buildupscout,t.tipmc_freestaff])),e.showTipMcSecretarytask(a.getTipForArr(null,[t.tipmc_secretarytask])),e.showTipMcAnswer(a.getTipForArr(null,[t.tipmc_answer])),e.showTipMcScoutRecruit(a.getTipForArr(null,[t.tipmc_recruitexpert,t.tipmc_transfer_time])),e.showTipMcEquipUp(a.getTipForArr(null,[t.tipmc_equipupgrade,t.tipmc_equipuporder,t.tipmc_studyequipbook])),e.showTipMcShop(a.getTipForArr(null,[t.tipmc_specialshop])),e.showTipMcMonthCar(a.getTipForArr(null,[t.tipmc_monthaward])),e.showTipMcBackPack(a.getTipForArr(null,[t.tipmc_getnewhero,t.tipmc_hero_synthesis,GlobalEnum.tipmc_appoint_item])),e.showTipMcFightCenter(a.getTipForArr(null,[GlobalEnum.tipmc_clubfightfull_reward,t.tipmc_clubfightfull,GlobalEnum.tipmc_qualifyingday,GlobalEnum.tipmc_friendship_jifen,GlobalEnum.tipmc_friendship_liansheng])),e.showTipCarnival(a.getTipForArr(null,[t.tipmc_carnival])),e.showTipConsumptionActivities(a.getTipForArr(null,[t.tipmc_welfare])),e.showTipRank(a.getTipForArr(null,[t.tipmc_rank])),e.showTipRechargeActivities(a.getTipForArr(null,[t.tipmc_recharge])),e.showTipHeadThrust(a.getTipForArr(null,[t.tipmc_headthrust])),e.showTipHeroBereborn(a.getTipForArr(null,[t.tipmc_herobereborn,t.tipmc_heroskillup,t.tipmc_skill_partnerbag,t.tipmc_herofetter,t.tipmc_heroisoffline])),e.showTipFormation(a.getTipForArr(null,[t.tipmc_tactics,t.tipmc_tacticsG,t.tipmc_formation])),e.showtipweekshare(),e.showTipleijiPay(a.getTipForArr(null,[t.tipmc_leijipay])),e.showTipYuRenJie(a.getTipForArr(null,[t.tipmc_ssrpoint,t.tipmc_danbipay,t.tipmc_operationcall,t.tipmc_chaozhibuy,t.tipmc_actlaba,t.tipmc_zhuanpan,t.tipmc_touzi,GlobalEnum.tipmc_mibao])),e.showTiplianxuPay(a.getTipForArr(null,[t.tipmc_lianxupay])),e.showTipyiyuan(a.getTipForArr(null,[t.tipmc_yiyuan])),e.showTiptouzi(a.getTipForArr(null,[t.tipmc_touzi])),e.showTipzaixian(a.getTipForArr(null,[t.tipmc_zaixian])),e.showTipxiaofei(a.getTipForArr(null,[t.tipmc_xiaofei_everyday,t.tipmc_xiaofei_leiji])),e.showTipguild(a.getTipForArr(null,[t.tipmc_guild_apply,t.tipmc_chat,t.tipmc_guild_donate_ug,t.tipmc_guild_donate_coin],chatType.type_club)),e.showTipcoach(a.getTipForArr(null,[t.tipmc_coach_getnew,t.tipmc_coach_trainover,t.tipmc_coach_upexcita,t.tipmc_coach_upgrade])),e.showTipxunhui(a.getTipForArr(null,[t.tipmc_xinhuigethero])),e.showTipMcAllTitle(a.getTipForArr(null,[GlobalEnum.tipmc_title]));var s=a.getTipForArr(null,[GlobalEnum.tipmc_bet]),l=(e.betRedPoint||s)&&GlobalAllProxy.getInstance().gameProxy.isShowBetRedPoint;e.showTipBetRedPoint(l)},a.prototype.showTipYuRenJie=function(e){var t=this,a=e,i=t[t.btn_yurenjiebtn],n="tipmc"+t.btn_yurenjiebtn;null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipBetRedPoint=function(e){var t=this,a=t[t.btn_betbtn],i="tipmc"+t.btn_betbtn;null!=a&&(t[i]=utils.GameComUtil.getTipMcImg(t[i],a,!1,!0),a.addChild(t[i]),t[i].visible=e)},a.prototype.showTipMcAllTitle=function(e){var t=this,a=e,i=t.haomenG,n="tipmchaomenG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.haomenG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipxunhui=function(e){var t=this,a=e,i=t.hangupbtn,n="tipmchangupbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.downbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipcoach=function(e){var t=this,a=e,i=t.coachbtn,n="tipmccoachbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-27,10)),t.coachBgbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipguild=function(e){var t=this,a=e,i=t.guildbtn,n="tipmcguildbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-27,50)),t.guildbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipxiaofei=function(e){var t=this,a=e,i=t.leijispendbtn,n="tipmcleijispendbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipzaixian=function(e){var t=this,a=e,i=t.zaixianbtn,n="tipmczaixianbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTiptouzi=function(e){var t=this,a=e,i=t.touzibtn,n="tipmctouzibtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipyiyuan=function(e){var t=this,a=e,i=t.yiyuanbtn,n="tipmcyiyuanbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipssrpointPay=function(e){var t=this,a=e,i=t[t.btn_ssrpointbtn],n="tipmc"+t.btn_ssrpointbtn;null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTiplianxuPay=function(e){var t=this,a=e,i=t.jinqiubtn,n="tipmcjinqiubtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipleijiPay=function(e){var t=this,a=e,i=t.leijipaybtn,n="tipmcleijipaybtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showtipweekshare=function(){var e=this;if(e.sharedownG.visible){var t=GlobalEnum,a=GlobalAllProxy.getInstance().gameProxy,i=a.getTipForArr(null,[t.tipmc_shareregal]),n=e.sharegalbtn,o="tipmcsharegalbtn";null!=n&&(e[o]=utils.GameComUtil.getTipMcImg(e[o],n,!1,!1),e.sharegalbtnG.addChild(e[o]),e[o].visible=i);var r=a.getTipForArr(null,[t.tipmc_shareeveryday]);n=e.shaeverybtn,o="tipmcshaeverybtn",null!=n&&(e[o]=utils.GameComUtil.getTipMcImg(e[o],n,!1,!1),e.shaeverybtnG.addChild(e[o]),e[o].visible=r);var s=a.getTipForArr(null,[t.tipmc_shareweek]);n=e.weeklybtn,o="tipmcweeklybtn",null!=n&&(e[o]=utils.GameComUtil.getTipMcImg(e[o],n,!1,!1),e.weeklybtnG.addChild(e[o]),e[o].visible=s);var l=!1;(i||r||s)&&(l=!0),n=e.sharedownbtn,o="tipmcsharedownbtn",null!=n&&(e[o]=utils.GameComUtil.getTipMcImg(e[o],n,!1,!1),e.sharedownG.addChild(e[o]),e[o].visible=r)}},a.prototype.showTipHeroBereborn=function(e){var t=this,a=e,i=t.packbtn,n="tipmcpackbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-23,18)),t.packbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipFormation=function(e){var t=this,a=e,i=t.recruitbtn,n="tipmcrecruitbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.downbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipWeekly=function(e){var t=this,a=e,i=t.weeklybtn,n="tipmcweeklybtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipCarnival=function(e){var t=this,a=e,i=t.jianianhuabtn,n="tipmcjianianhuabtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipRank=function(e){var t=this,a=e,i=t.rankactbtn,n="tipmcrankactbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipRechargeActivities=function(e){var t=this,a=e,i=t.actchong,n="tipmcactchong";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipConsumptionActivities=function(e){var t=this,a=e,i=t.actfuli,n="tipmcactfuli";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),i.addChild(t[n]),t[n].visible=a)},a.prototype.showTipHeadThrust=function(e){var t=this,a=GlobalAllProxy.getInstance().activityProxy.activityArr;if(a){var i=e,n=t.actpayback,o="tipmcactpayback";null!=n&&(t[o]=utils.GameComUtil.getTipMcImg(t[o],n,!1,!0),n.addChild(t[o]),t[o].visible=i)}},a.prototype.showTipMcFightCenter=function(e){var t=this,a=e,i=t.matchbtn,n="tipmcmatchbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-33,0)),t.matchbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcBackPack=function(e){var t=this,a=e,i=t.backpackbtn,n="tipmcbackpackbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.downbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcMonthCar=function(e){var t=this,a=e,i=t.monthbtn,n="tipmcmonthbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.monthbtn.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcShop=function(e){var t=this,a=e,i=t.shopbtn,n="tipmcshopbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.downbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcEquipUp=function(e){var t=this,a=e,i=t.techbtn,n="tipmctechbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-26,36)),t.techbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcScoutRecruit=function(e){var t=this,a=e,i=t.scoutbtn,n="tipmcscoutbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-26,36)),t.scoutbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcMore=function(e){var t=this,a=e,i=t.morebtn,n="tipmcmorebtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.downbtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcAnswer=function(e){var t=this,a=e,i=t.answerbtn,n="tipmcanswerbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.answerbtn.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcSecretarytask=function(e){var t=this,a=e,i=t.secretarybtn,n="tipmcsecretarybtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-27,50)),t.secretarybtnG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcClubbuild=function(e){var t=this,a=e,i=utils.GameComUtil.getIsUnLock([GlobalViewIDEnum.pType_build]);i||(a=!1);var n=t.clubbtn,o="tipmcclubbtn";null!=n&&(t[o]=utils.GameComUtil.getTipMcImg(t[o],n,!1,!1,new egret.Point(-34,14)),t.clubbtnG.addChild(t[o]),t[o].visible=a)},a.prototype.showTipMcDayTask=function(e){var t=this,a=e,i=t.taskbtn,n="tipmctaskbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.taskbtn.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcMail=function(e){var t=this,a=e,i=t.topmailG,n="tipmctopmailG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.topmailG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcFriendask=function(e){var t=this,a=e,i=t.topfriendG,n="tipmctopfriendG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.topfriendG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcTalk=function(e){var t=this,a=e,i=t.chatbtn,n="tipmcchatbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-38,28)),t.downG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcVIP=function(e){var t=this,a=e,i=t.vipG,n="tipmcvipG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.vipG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcAchieve=function(e){var t=this,a=e,i=t.topbuildG,n="tipmctopbuildG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.topbuildG.addChild(t[n]),t[n].visible=a)},a.prototype.showanimo=function(){var e=this;e.showdownMc(!0),e.showmainbtnMc(!0,ResName.mc_main_train,"mc_main_pack","packmcG","packicon"),e.showmainbtnMc(!0,ResName.mc_main_julebu,"mc_main_club","clubmcG","clubicon"),e.showmainbtnMc(!0,ResName.mc_main_zhuangbeiyanjiu,"mc_main_tech","techmcG","techicon"),e.showmainbtnMc(!0,ResName.mc_guaji,"mc_guaji","hangupmcG","hangupbtn",!1,!0),e.showfireMc(!0),e.timeshowscout(),e.timeshowhangup()},a.prototype.timeshowscout=function(){var e=this;egret.clearTimeout(e.mc_time),e.mc_time=egret.setTimeout(e.timeshowscout,e,9e3),e.showmainbtnMc(!0,ResName.mc_main_qiutanzhongxin,"mc_main_scout","scoutmcG","scouticon",!0)},a.prototype.timeshowhangup=function(){var e=this;egret.clearTimeout(e.mc_hangup_time);var t=!1,a=Manifest.getIns(FightDM);t=a.isFight(FightEnum.type_pvp),t||(t=a.isFight(FightEnum.type_pvc)),t||(t=a.isFight(FightEnum.type_pvf)),t||(t=a.isFight(FightEnum.type_pvd)),t||(t=a.isFight(FightEnum.type_pvs)),e.showcenterMc(t),t&&(e.mc_hangup_time=egret.setTimeout(e.timeshowhangup,e,6e3))},a.prototype.showtaskMc=function(e){var t=this;e&&(t.isnewlogin=!1,GlobalEnum.setIsnewlogin(!1));var a="mc_awardtiao",i=utils.GameComUtil.getArmature(ResName.mc_main_tanchutiao,a,t);i&&(e?(i.animation.play("effect"),t.zhuTaskmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.shownewtaskMc=function(e){var t=this,a="mc_newawardtiao",i=utils.GameComUtil.getArmature(ResName.mc_main_tanchutiao_new,a,t);i&&(e?(i.animation.play("effect"),t.zhuNewTaskmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showcenterMc=function(e){var t=this,a=ResName.mc_center3,i=utils.GameComUtil.getArmature(a,a,t);if(i){var n=i.isPlaying;e!=n&&(e?(i.animation.play("effect"),t.matchmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))}},a.prototype.showfireMc=function(e){var t=this,a=ResName.mc_fire,i=utils.GameComUtil.getArmature(a,a,t);if(i){var n=i.isPlaying;e!=n&&(e?(i.animation.play("effect"),t.zhanlimcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))}},a.prototype.showdownMc=function(e){var t=this,a="mc_main_liuguang",i=utils.GameComUtil.getArmature(ResName.mc_main_liuguang,a,t);i&&(e?(i.animation.play("effect"),t.downmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showmainbtnMc=function(e,t,a,i,n,o,r){void 0===o&&(o=!1),void 0===r&&(r=!1);var s=this,a=a,l=utils.GameComUtil.getArmature(t,a,s);l&&(e?(o?l.animation.play("effect",2):l.animation.play("effect"),s[i].addChild(l),n&&(r?s[n].alpha=0:s[n].visible=!1),o&&l.addEventListener(dragonBones.EventObject.COMPLETE,this.animoplayerB,this)):(utils.GameComUtil.removeAnimoSelf(l),n&&(r?s[n].alpha=1:s[n].visible=!0)))},a.prototype.animoplayerB=function(e){var t=e,a=t.target;a.removeEventListener(dragonBones.EventObject.COMPLETE,this.animoplayerB,this),a.animation.gotoAndStopByFrame("effect",1)},a.prototype.showArrowMc=function(e){void 0===e&&(e=!0);var t=this,a=t.arrowicon;if(TweenLite.killTweensOf(a,!0),!e)return void(a.visible=!1);a.visible=!0;var i=308;a.x=i,TweenLite.to(a,.2,{x:i+20,onComplete:t.tweenComplete.bind(t)})},a.prototype.tweenComplete=function(){var e=this,t=e.arrowicon;TweenLite.killTweensOf(t,!0);var a=308;TweenLite.to(t,.2,{x:a,onComplete:e.showArrowMc.bind(e)})},a.prototype.changeLockFun=function(){var e,t,a=this,i=GlobalAllProxy.getInstance().guideProxy,n=game.GuideVO.type_trigger,o=GlobalConfig.getGuideVoForType(n),r=i.guideNovice;o.sort(utils.GameUtil.sortMatckFun(["rank"],[0]));for(var s=0,l=o.length;l>s;s++)if(e=o[s],-1==r.indexOf(e.id)&&e.mainlogo){t=e;break}if(a.m_guidevo=null,a.m_isguide=!1,t){a.lockimg.source=t.icon,utils.GameUtil.setColorGrey(a.lockbtnG,!1),a.m_guidevo=t,a.locktxt.text=t.name;var p=ColorUtil.green,c=game.GuideVO.getTagNeedObj(t);if(c.isopen)a.locktiptxt.text=Language.ins.guide_tip1,a.qipaotxt.text=t.name+Language.ins.guide_tip3,a.openGuideFun();else{utils.GameUtil.setColorGrey(a.lockbtnG,!0),p=ColorUtil.red;var u="";switch(c.type){case unlock_type.level:u=FormatString.format(Language.ins.guide_tip2,c.neednum);break;case unlock_type.pve_check:u=FormatString.format(Language.ins.guide_tip4,c.neednum)}a.locktiptxt.text=u,a.qipaotxt.text=t.tip}a.locktiptxt.textColor=p,a.m_isguide=!0,a.qipaoshow(!0)}else a.qipaoshow(!1);a.changeGuildShow()},a.prototype.qipaoshow=function(e){var t=this;if(egret.Tween.removeTweens(t.qipaoG),e){t.qipaoG.visible=!0;t.qipaoG;t.qipaoG.anchorOffsetX=t.qipaoG.width,t.qipaoG.anchorOffsetY=t.qipaoG.height/2,t.qipaoG.y=14+t.qipaoG.height/2,t.qipaoG.scaleX=0,t.qipaoG.scaleY=0;var a=1e3*(Math.floor(3*Math.random())+1);egret.Tween.get(t.qipaoG,{loop:!0}).wait(a).to({scaleX:1,scaleY:1},500,egret.Ease.cubicOut).wait(3e3).to({scaleX:0,scaleY:0},500,egret.Ease.cubicOut).wait(4e3)}else t.qipaoG.visible=!1},a.prototype.changeGuildShow=function(){var e=this;e.m_isguide&&e.showzhutask?e.lockG.visible=!0:e.lockG.visible=!1},a.prototype.openGuideFun=function(){var e=this,t=this.m_guidevo;t&&(t.isOpenTrigger()?(e.showtopbtn=1,e.showTopList(!1),GlobalAllProxy.getInstance().guideProxy.playGuideForStep(t.id,1)):utils.GameComUtil.ShowTip(e.lockbtnG,0,game.TipSimpleObject.type_common,t.tip))},a}(e.VM);e.MainView=t,__reflect(t.prototype,"vm.MainView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._choosemode=0;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationBaoZangHeroSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),t&&(a.tiptxt0.text=Language.ins.operation_tip_13,a.tiptxt1.text=Language.ins.operation_tip_14)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.panelobj&&(e._choosemode=t.panelobj)},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(e&&e.footballPrecious){e.footballPrecious}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventchange=function(e,t){},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem,i=+a.itemid,n=GlobalConfig.getItemVo(+a.itemid),o=GlobalConfig.getPlayerPorpertyVO(+n.parameter),r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,i,o,!0)),t.datalist.selectedIndex=-1},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o.stopAnimation(),o&&(o.viewport.scrollV=0)}},t.prototype.showData0=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o.stopAnimation(),o&&(o.viewport.scrollV=0)}},t}(e.VM);e.OperationBaoZangHeroView=t,__reflect(t.prototype,"vm.OperationBaoZangHeroView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationBaoZangSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.footballPrecious){var a=t.footballPrecious,i=GlobalConfig.getactivitybaozangVO(a.actRelationId);if(!i)return;var n,o=[];if(i&&t){for(var r=0,s=i.length;s>r;r++){var l=new BaoZangRenderVO;n=i[r],l.id=GlobalEnum.activitytype_baozang,l.qishu=r,l.index=r,l.renderinfo=n,o.push(l)}e.showData(o,!1),i[0]&&(e.contenttxt.text=i[0].des);var p=a.endTime,c=parseInt(Global.systemTimeNum/1e3+"");e.richinfo=p-c,e.richinfo>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.overtimetxt.text=utils.GameComUtil.getTimeNum(e.richinfo,!0),e.timer.start()):e.overtimetxt.text="00:00:00"}}},t.prototype.timerFunc1=function(e){var t=this;return t.richinfo--,t.richinfo<=0?(t.overtimetxt.text="00:00:00",void(t.timer&&t.timer.stop())):void(t.overtimetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD_BAOZANG,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD_BAOZANG,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD_BAOZANG:a.showtip()}},t.prototype.showtip=function(){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BaoZangRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationBaoZangView=t,__reflect(t.prototype,"vm.OperationBaoZangView")
}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationCallSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),t&&(a.gotxt.text=Language.ins.btn_now_go),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.scoutReward){var a=t.scoutReward,i=GlobalConfig.getactivityoperateVO(a.activityId);if(i){var n=a.totalScoutTimes;e.tiptxt0.text=i.des,e.numtxt.text=FormatString.format(Language.ins.operation_tip_18,a.totalScoutTimes);var o=a.scoutRewardList,r=0;o&&(r=o.length);var s=GlobalConfig.getComActivityshangjingVO(a.actRelationId);if(s)for(var l,p,c,u,m,g=s.getNumArr(),_=s.getRewardArr(),h=0,d=g.length;d>h;h++)l=parseInt(g[h]),p=_[h],u=0,m="tab_sjzh_a4",c=FormatString.format(Language.ins.operation_tip_19,n,l),e["gifnametxt"+h].textFlow=utils.GameComUtil.getHtmlText(c),r>h&&(u=o[h]),e["gifling"+h].visible=1==u?!0:!1,l>n?(m="tab_sjzh_b2",e["hongdianimg"+h].visible=!1):1==u?(m="tab_sjzh_c8",e["hongdianimg"+h].visible=!1):e["hongdianimg"+h].visible=!0,e["gifimg"+h].source=m}var y=utils.GameComUtil.getTime1Str(1e3*a.startTime),v=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,y,v)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE),t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout]);break;case t.gifrct0:t.showGifnum(0);break;case t.gifrct1:t.showGifnum(1);break;case t.gifrct2:t.showGifnum(2);break;case t.gifrct3:t.showGifnum(3);break;case t.gifrct4:t.showGifnum(4);break;case t.gifrct5:t.showGifnum(5);break;case t.gifrct6:t.showGifnum(6);break;case t.gifrct7:t.showGifnum(7);break;case t.gifrct8:t.showGifnum(8)}},t.prototype.showGifnum=function(e){var t=this;t.getGiffun(e,t["gifimg"+e])},t.prototype.getGiffun=function(e,t){var a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.scoutReward){var i=a.scoutReward,n=GlobalConfig.getactivityoperateVO(i.activityId);if(n){var o=i.scoutRewardList,r=0;o&&(r=o.length);var s=GlobalConfig.getComActivityshangjingVO(n.relation);if(s){var l=s.getNumArr(),p=s.getRewardArr(),c=0;r>e&&(c=o[e]);var u=p[e];if(parseInt(l[e])>i.totalScoutTimes||1==c){var m=utils.GameComUtil.getItemVoArr(u);utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,m)}else GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(act_type.rawardscout,i.actPeriods,e)}}}},t}(e.VM);e.OperationCallView=t,__reflect(t.prototype,"vm.OperationCallView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.chaozhi,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationChaoZhiBuySkinDR,t=[];e.runto(this,t)},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),t){a.typetxt0.text=Language.ins.monthcard_tip_4,a.typetxt1.text=Language.ins.operation_tip_21,a.daytiptxt.text=Language.ins.operation_tip_20,a.typetxt.text=Language.ins.activity_tip22;for(var i,n=0;5>n;n++)i=n+1,a["daytiptxt"+n].text=FormatString.format(Language.ins.operation_tip_22,i)}a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.flashSale){var a=t.flashSale,i=GlobalConfig.getactivityoperateVO(a.activityId);if(!i)return;var n=i.relation,o=GlobalConfig.getComActivityChaoZhiVO(n);if(!o)return;var r,s=o.reward.split("|"),l=(o.days.split("|"),a.receiveStatus,a.days);if(o){r=utils.GameComUtil.getItemVoArr(s[l],null);for(var p,c=4,u=0,m=c;m>u;u++)r[u]?(e["rewradtxt"+u].visible=!0,p=GlobalConfig.getItemVo(r[u].itemid),e["rewradtxt"+u].text=p.name+"x"+r[u].count):e["rewradtxt"+u].visible=!1;for(var g=a.totalChargeDays,_=o.seriesday,h=0,d=_;d>h;h++)g>h?(e["jinduimg"+h].visible=!0,e.jindubgimg.width=64*h):e["jinduimg"+h].visible=!1;for(var y,v,f=o.shop.split("|"),b=0,G=f[b].split(";"),x=[],h=0,d=G.length;d>h;h++)y=G[h].split(","),v=new ChaoZhiRenderVO,v.id=a.actRelationId,v.qishu=a.actPeriods,v.itemid=+y[0],v.count=+y[1],v.xiangou=+y[2],v.buynum=a.flashSaleItem[h],v.oldpirce=+y[3],v.pirce=+y[4],v.zhekou=+y[5],v.index=h,x.push(v);e.showTopData(x),e.contenttxt.text=i.des;var C=utils.GameComUtil.getTime1Str(1e3*a.startTime),T=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,C,T),e.titleimg.source=o.picture,1==a.receiveStatus?(e.jihuoimg.visible=!0,e.getbtn0.visible=!1,utils.GameUtil.setColorGrey(e.titleimg,!0)):(e.jihuoimg.visible=!1,utils.GameUtil.setColorGrey(e.titleimg,!1),a.totalChargeDays>=_?(e.titleHimg.visible=!0,utils.GameUtil.setColorGrey(e.getbtn0,!1)):(e.titleHimg.visible=!1,utils.GameUtil.setColorGrey(e.getbtn0,!0))),e.daytiptxt.visible=!1,e.getimg.visible=!1,0==a.todayReceiveStatus?(e.getbtn.visible=!0,e.getbtn1.visible=!1,e.dayrewardimg.source="tab_mrqg_b4"):1==a.todayReceiveStatus?(e.getbtn.visible=!1,e.getbtn1.visible=!0,e.dayrewardimg.source="tab_mrqg_b4"):2==a.todayReceiveStatus&&(e.getbtn.visible=!1,e.getbtn1.visible=!1,e.daytiptxt.visible=!0,e.getimg.visible=!0,e.dayrewardimg.source="tab_mrqg_b3")}e.richinfo=utils.GameComUtil.getLastTime(),e.richinfo>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.timetxt.text=utils.GameComUtil.getTimeNum(e.richinfo,!0),e.timer.start()):e.timetxt.text="00:00:00"}},t.prototype.timerFunc1=function(e){var t=this;return t.richinfo--,t.richinfo<=0?(t.timetxt.text="00:00:00",void(t.timer&&t.timer.stop())):void(t.timetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange),e.addMessage(game.GameCommands.OPERTION_REWARD_BAOZANG,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_REWARD_BAOZANG,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:case game.GameCommands.OPERTION_PAY:case game.GameCommands.OPERTION_REWARD_BAOZANG:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.getbtn0:t.getGiffun(2);break;case t.getbtn1:t.getGiffun(1)}},t.prototype.getGiffun=function(e){var t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.flashSale){var a=t.flashSale;GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(act_type.chaozhi,a.actPeriods,0,e)}},t.prototype.showTopData=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=ChaoZhiRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.OperationChaoZhiBuyView=t,__reflect(t.prototype,"vm.OperationChaoZhiBuyView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.lianxupay,a.m_imgurlarr=["icon_103","icon_104","icon_105","icon_106"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationContinuityRechargeSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);t.concat(this.m_imgurlarr),e.runto(this,t)},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.continuousCharge){var a=t.continuousCharge,i=GlobalConfig.getactivityoperateVO(a.activityId);if(!i)return;var n=i.relation,o=GlobalConfig.getactivityjinqiuVO(n);if(!o)return;var r=o.reward.split("|"),s=[],l=o.limit.split(","),p=a.receiveStatusDays;if(o&&t){for(var c=0,u=r.length;u>c;c++){var m=new LeiJiPayRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(r[c]),m.limit=c,m.qishu=a.actPeriods,m.title=FormatString.format(Language.ins.operation_tip_4,l[c],a.amount,l[c]),m.id=i.activitytype,m.iscanget=0,m.index=1,+l[c]<=a.amount&&(m.iscanget=1,m.index=0);for(var g=0,_=p.length;_>g;g++)+p[g]==+l[c]&&(m.iscanget=2,m.index=2);s.push(m)}s.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(s,!1),e.contenttxt.text=i.des;var h=utils.GameComUtil.getTime1Str(1e3*a.startTime),d=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,h,d);var y=(o.daysreward.split("|"),o.days.split(","));e.titletxt.text=FormatString.format(Language.ins.operation_tip_5,a.cumulativeDays,y[y.length-1]),e.changeshowGif()}}},t.prototype.changeshowGif=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.continuousCharge){for(var a,i,n,o,r,s=t.continuousCharge,l=GlobalConfig.getactivityoperateVO(s.activityId),p=l.relation,c=GlobalConfig.getactivityjinqiuVO(p),u=c.days.split(","),m=s.cumulativeDays,g=u.length,_=0,h=e.gifbar.x,d=e.gifbar.width,y=0,v=100,f=0,b=[],G=[],x=s.receiveStatusAll,C=0;g>C&&(i=+u[C],_=C,e["gifG"+_]);C++){a=!1,r=e.m_imgurlarr[_],2==x[C]&&(a=!0),n=i,o=e["gifG"+_].x+e["gifxian"+_].x-h+3,G.push(o/d),b.push(n),e["gifstartxt"+_].text=n;var T=m;T>n&&(T=n),e["gifnametxt"+_].text=FormatString.format(Language.ins.operation_tip_6,T,n),utils.GameUtil.setColorGrey(e["gifimg"+_],!1),m>=n?a?(utils.GameUtil.playGifMc(_,!1,e,r),utils.GameUtil.setColorGrey(e["gifimg"+_],!0)):utils.GameUtil.playGifMc(_,!0,e,r):utils.GameUtil.playGifMc(_,!1,e,r),e["gifling"+_].visible=a?!0:!1,m>n&&(f=C+1)}var P;if(f>=b.length)y=v;else{var A=b[f],w=G[f];if(f>0){var k=b[f-1],I=G[f-1];P=(m-k)/(b[f]-k),y=100*(I+(w-I)*P)}else P=m/A,y=w*P*100}e.gifbar.setValue(y,v)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:case game.GameCommands.OPERTION_PAY:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.gifrct0:t.getGiffun(0,t.gifrct0);break;case t.gifrct1:t.getGiffun(1,t.gifrct1);break;case t.gifrct2:t.getGiffun(2,t.gifrct2);break;case t.gifrct3:t.getGiffun(3,t.gifrct3)}},t.prototype.getGiffun=function(e,t){var a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.continuousCharge){var i=a.continuousCharge,n=GlobalConfig.getactivityoperateVO(i.activityId),o=n.relation,r=GlobalConfig.getactivityjinqiuVO(o),s=r.days.split(","),l=i.receiveStatusAll,p=(l.length,!1);if(a&&+s[e]<=i.cumulativeDays&&(p=!0,2==l[e]&&(p=!1)),p)GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(n.activitytype,i.actPeriods,e,2);else{var c=utils.GameComUtil.getItemVoArr(r.daysreward.split("|")[e]);utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,c)}}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeiJiPayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationContinuityRechargeView=t,__reflect(t.prototype,"vm.OperationContinuityRechargeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.heroimg=["tab_jxlx_b6","tab_jxlx_b9","tab_jxlx_b10"],t.timenum="",t.percentWidth=t.percentHeight=100,t.timenum=Language.ins.game_tip2,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationJuXingSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.starStruck;if(t){var a=GlobalConfig.getactivityoperateVO(t.activityId);if(!a)return;var i,n=a.relation,o=GlobalConfig.getactivityjuxingVO(n),r=o.playerbuy.split("|");if(o){for(var s=0;3>s;s++){i=r[s].split(","),i&&i[3]&&(e["needtxt"+s].text=i[3]),e["heroimg"+s].source=e.heroimg[s],e["buytiptxt"+s].text=FormatString.format(Language.ins.operation_tip_12,e.timenum[i[2]]);for(var l=t.itemList,p=+i[2],c=0,u=l.length;u>c;c++)if(l[c].pid==+i[0]){p-=+l[c].num;break}e["getbtn"+s].visible=!0,e["overimg"+s].visible=!1,0>=p&&(e["getbtn"+s].visible=!1,e["overimg"+s].visible=!0);var m=+i[0],g=GlobalConfig.getItemVo(m),_=GlobalConfig.getPlayerPorpertyVO(+g.parameter);4==_["class"]?e["bgimg"+s].source="tab_jxlx_b7":e["bgimg"+s].source="tab_jxlx_b8"}for(var h,d=o.itemsbuy.split("|"),y=[],v=0,f=d.length;f>v;v++){h=new JuXingRenderVO;var b=d[v].split(",");if(b){h.id=a.activitytype,h.qishu=t.actPeriods,h.itemid=+b[0];for(var l=t.itemList,G=+b[2],x=0,C=l.length;C>x;x++)if(l[x].pid==+b[0]){G=+b[2]-+l[x].num;break}h.count=+b[1],h.xiangou=G,h.pirce=+b[3],y.push(h)}}e.showData(y),e.jifentxt.text=t.score,e.contenttxt.text=a.des;var T=utils.GameComUtil.getTime1Str(1e3*t.startTime),P=utils.GameComUtil.getTime1Str(1e3*t.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,T,P)}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_QIANDAO_BU,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_QIANDAO_BU,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.jumptxt:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout]);break;case t.getbtn0:t.duihuanFun(0);break;case t.getbtn1:t.duihuanFun(1);break;case t.getbtn2:t.duihuanFun(2);break;case t.heroimg0:t.lookheroFun(0);break;case t.heroimg1:t.lookheroFun(1);break;case t.heroimg2:t.lookheroFun(2)}},t.prototype.lookheroFun=function(e){var t=GlobalAllProxy.getInstance().operationProxy.starStruck,a=GlobalConfig.getactivityoperateVO(t.activityId);if(a){for(var i,n=a.relation,o=GlobalConfig.getactivityjuxingVO(n),r=o.playerbuy.split("|"),s=[],l=0,p=r.length;p>l;l++)i=r[l].split(","),s.push(i);var c=+s[e][0];if(c){var u=GlobalConfig.getItemVo(c),m=GlobalConfig.getPlayerPorpertyVO(+u.parameter),g=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(g,m.playerid,m,!0))}}},t.prototype.duihuanFun=function(e){var t=GlobalAllProxy.getInstance().operationProxy.starStruck,a=GlobalConfig.getactivityoperateVO(t.activityId);if(a){for(var i,n=a.relation,o=GlobalConfig.getactivityjuxingVO(n),r=o.playerbuy.split("|"),s=[],l=0,p=r.length;p>l;l++)i=r[l].split(","),s.push(i);var c=+s[e][0],u=+s[e][3];GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+a.activitytype,+t.actPeriods,c,u)}},t.prototype.showData=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=JuXingRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.OperationJuXingView=t,__reflect(t.prototype,"vm.OperationJuXingView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationLeiJiPaySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.accumulative){var a=t.accumulative,i=GlobalConfig.getactivityoperateVO(a.activityId);if(!i)return;var n=i.relation,o=GlobalConfig.getactivityleijiVO(n);if(!o)return;var r=o.reward.split("|"),s=[],l=o.limit.split(","),p=a.receiveStatus;if(o&&t){for(var c=0,u=r.length;u>c;c++){var m=new LeiJiPayRenderVO;m.rewardarr=utils.GameComUtil.getItemVoArr(r[c]),m.limit=c,m.qishu=a.actPeriods,m.title=FormatString.format(Language.ins.operation_tip_3,l[c],a.amount,l[c]),m.id=i.activitytype,m.iscanget=0,m.index=1,+l[c]<=a.amount&&(m.iscanget=1,m.index=0);for(var g=0,_=p.length;_>g;g++)+p[g]==+l[c]&&(m.iscanget=2,m.index=2);s.push(m)}s.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(s,!1),e.contenttxt.text=i.des;var h=utils.GameComUtil.getTime1Str(1e3*a.startTime),d=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,h,d)}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:case game.GameCommands.OPERTION_PAY:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeiJiPayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationLeiJiPayView=t,__reflect(t.prototype,"vm.OperationLeiJiPayView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e=new skins.OperationMiBaoSkinDR,t=[],a=[ResName.mc_award_lingqu],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.showZhanliSpr(!1),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo;e.nametxt1.text=Language.ins.operation_tip_26,e.nametxt2.text=Language.ins.operation_tip_27,e.nametxt3.text=Language.ins.operation_tip_28,e.nametxt4.text=Language.ins.operation_tip_29,e.nametxt5.text=Language.ins.operation_tip_30,e.typetxt1.text=Language.ins.operation_tip_32},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.treasure){var a=t.treasure,i=GlobalConfig.getactivityoperateVO(a.activityId),n=GlobalConfig.getactivitymibaoVO(i.relation);if(!i||!n)return;e.contenttxt.text=i.des;var o=utils.GameComUtil.getTime1Str(1e3*a.startTime),r=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,o,r);var s=parseInt(Global.systemTimeNum/1e3+"");e.coolingTime=a.endTime-s,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.overtimetxt0.text=utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timer.start()):e.overtimetxt0.text="00:00:00",e.listGroup.setGroupGap(14),e.listGroup.setGroupAlign(egret.HorizontalAlign.LEFT),e.listGroup.setDataArr(utils.GameComUtil.getItemVoArr(n.show),"",!0,!1,!0,!1),e.zhanlitiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.treasure_main_tip0);var l=GlobalEnum.itemid_ug;e.ritemimg1.source=ResName.getMinItemIcon(l),e.ritemimg0.source=ResName.getMinItemIcon(l),e.ritemtxt1.text=n.cost,e.ritemtxt0.text=n.tencost,e.typetxt0.text=Language.ins.operation_tip_33,a.daily>0&&(e.ritemtxt1.text=Language.ins.operation_tip_31,e.typetxt0.text=Language.ins.logo_tip2),e.timetxt.text=FormatString.format(Language.ins.operation_tip_24,a.total),e.baoxiantxt.text=FormatString.format(Language.ins.operation_tip_34,parseInt(a.count/n.total+"")),parseInt(a.count/n.total+"")>0?e.tipimg.visible=!0:e.tipimg.visible=!1;var p=a.rank;e.showData(p,!1);for(var c=0,u=5;u>c;c++)c+1==a.level?utils.GameUtil.playGifMc(c+1,!0,e,"tab_cj_c6"):utils.GameUtil.playGifMc(c+1,!1,e,"tab_cj_c6")}},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.overtimetxt0.text="00:00:00")):void(t.overtimetxt0.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null),utils.GameUtil.playGifMc(1,!1,a,"tab_cj_c6"),utils.GameUtil.playGifMc(2,!1,a,"tab_cj_c6"),utils.GameUtil.playGifMc(3,!1,a,"tab_cj_c6"),utils.GameUtil.playGifMc(4,!1,a,"tab_cj_c6"),utils.GameUtil.playGifMc(5,!1,a,"tab_cj_c6")},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE_MIBAO,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE_MIBAO,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE_MIBAO:a.changeshow()}},t.prototype.showtip=function(){},t.prototype.touchTapFun=function(e){var t,a=this,i=e.target,n=(PanelDM.getIns(),GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush),o=GlobalConfig.getactivityoperateVO(n.treasure.activityId),r=GlobalConfig.getactivitymibaoVO(o.relation),s=r.reward,l=s.split("|");switch(i){case a.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),a.close();break;case a.tipbtn:return void a.showZhanliSpr(!0);case a.baoxiangG1:t=a.getitemvo(l[0]),utils.GameComUtil.ShowTip(a.baoxiangG1,null,game.TipSimpleObject.type_awardarr,t);break;case a.baoxiangG2:t=a.getitemvo(l[1]),utils.GameComUtil.ShowTip(a.baoxiangG2,null,game.TipSimpleObject.type_awardarr,t);break;case a.baoxiangG3:t=a.getitemvo(l[2]),utils.GameComUtil.ShowTip(a.baoxiangG3,null,game.TipSimpleObject.type_awardarr,t);break;case a.baoxiangG4:t=a.getitemvo(l[3]),utils.GameComUtil.ShowTip(a.baoxiangG4,null,game.TipSimpleObject.type_awardarr,t);break;case a.baoxiangG5:t=a.getitemvo(l[4]),utils.GameComUtil.ShowTip(a.baoxiangG5,null,game.TipSimpleObject.type_awardarr,t);break;case a.getbtn1:GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(o.activitytype,n.treasure.actPeriods,0,0);break;case a.getbtn0:GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(o.activitytype,n.treasure.actPeriods,0,1);break;case a.baoxiangG6:GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(o.activitytype,n.treasure.actPeriods,1,0);break;case a.shopimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_operation_zpshop])}a.showZhanliSpr(!1)},t.prototype.getitemvo=function(e){var t,a,i;if(e&&e.length>0){var n=e.split(";");a=[];for(var o=0,r=n.length;r>o;o++)i=n[o].split(","),t=new game.ComItemGroupVo(+i[1],+i[2]),a.push(t)}return a},t.prototype.showZhanliSpr=function(e){var t=this;t.tisspr.visible=e},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityInfoRender1,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationMiBaoView=t,__reflect(t.prototype,"vm.OperationMiBaoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.activityid=act_type.danbipay,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationOneRechargeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.singleRecharge){var a=t.singleRecharge,i=GlobalConfig.getactivityoperateVO(a.activityId);if(!i)return;var n=i.relation,o=GlobalConfig.getactivitydanbipayVO(n);if(!o)return;var r=o.reward.split("|"),s=[],l=o.limit.split(","),p=o.number.split(","),c=o.Return.split(","),u=a.receiveStatus;if(o&&t){for(var m=0,g=r.length;g>m;m++){var _=new OneRechargeRenderVO;_.rewardarr=utils.GameComUtil.getItemVoArr(r[m]),_.limit=m,_.qishu=a.actPeriods,_.title=FormatString.format(Language.ins.operation_tip_1,l[m],p[m]),_.id=i.activitytype,_.returnl=+c[m],_.iscanget=0,_.index=1,1==+u[m]?(_.iscanget=1,_.index=0):2==+u[m]&&(_.iscanget=2,_.index=2),s.push(_)}s.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(s,!1),e.contenttxt.text=i.des;var h=utils.GameComUtil.getTime1Str(1e3*a.startTime),d=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,h,d)}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_PAY,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:case game.GameCommands.OPERTION_PAY:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=OneRechargeRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationOneRechargeView=t,__reflect(t.prototype,"vm.OperationOneRechargeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.buqianday=-1;var a=t;return a.m_imgurlarr=["icon_103","icon_104","icon_105","icon_106"],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationQianDaoSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);t.concat(this.m_imgurlarr),e.runto(this,t)},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e,t=this,a=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(a){var i=a.consumerSign,n=GlobalConfig.getactivityoperateVO(a.activityId);if(!n)return;var o=n.relation,r=GlobalConfig.getactivityqiandaoVO(o);if(r){for(var s,l,p=parseInt(Global.systemTimeNum/1e3+""),c=a.startTime,u=parseInt((p-c)/3600/24+""),m=+r.day,g=0;30>g;g++)e=new QianDao,l=new QianDaorVO,l.index=g,l.day=g+1,l.nowday=u,l.isover=t.isqiandaofun(g),m==g+1?l.ishero=!0:l.ishero=!1,s=parseInt(g/7+""),e.setData(l),t["playerG"+s].addChild(e);t.overtimetxt.text=FormatString.format(Language.ins.operation_tip_11,i);var _=utils.GameComUtil.getItemVoArr(r.reward),h=_[i];if(!h)return;t.item0.setIdAndNum(h.itemid,h.count,!0),t.item0.setTip(!0);var d=_[i+1];t.item1.visible=!0,d?(t.item1.setIdAndNum(d.itemid,d.count,!0),t.item1.setTip(!0)):t.item1.visible=!1,t.getbtn.visible=!0,t.getbtn0.visible=!1,t.isqiandaofun(u)?t.typeimg0.source="tab_dlhl_b4":t.typeimg0.source="tab_dlhl_a3",t.changeshowGif()
}}},t.prototype.changeshowGif=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(t)for(var a,i,n,o,r=t,s=GlobalConfig.getactivityoperateVO(r.activityId),l=s.relation,p=GlobalConfig.getactivityqiandaoVO(l),c=p.days.split(","),u=r.consumerSign,m=c.length,g=0,_=r.consumerSignIn,h=0;m>h&&(i=+c[h],g=h,e["gifG"+g]);h++){a=!1,o=e.m_imgurlarr[g];for(var d in _)_[d]==h&&(a=!0);n=i;var y=u;y>n&&(y=n),e["gifnametxt"+g].text=FormatString.format(Language.ins.operation_tip_6,y,n),utils.GameUtil.setColorGrey(e["gifimg"+g],!1),u>=n?a?(utils.GameUtil.playGifMc(g,!1,e,o),utils.GameUtil.setColorGrey(e["gifimg"+g],!0)):utils.GameUtil.playGifMc(g,!0,e,o):utils.GameUtil.playGifMc(g,!1,e,o),e["gifling"+g].visible=a?!0:!1}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent();for(var i=0;5>i;i++)a["playerG"+i].removeChildren()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERTION_QIANDAO_BU,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERTION_QIANDAO_BU,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:for(var i=0;5>i;i++)a["playerG"+i].removeChildren();a.changeshow();break;case game.GameCommands.OPERTION_QIANDAO_BU:a.updatareward(e)}},t.prototype.updatareward=function(e){var t=this;t.buqianday=e;var a=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(a){var i=e,n=GlobalConfig.getactivityoperateVO(a.activityId);if(!n)return;var o=n.relation,r=GlobalConfig.getactivityqiandaoVO(o);if(r){var s=parseInt(Global.systemTimeNum/1e3+""),l=a.startTime,p=parseInt((s-l)/3600/24+""),c=utils.GameComUtil.getItemVoArr(r.reward),u=c[i];if(!u)return;t.item0.setIdAndNum(u.itemid,u.count,!0),t.item0.setTip(!0);var m=c[i+1];t.item1.visible=!0,m?(t.item1.setIdAndNum(m.itemid,m.count,!0),t.item1.setTip(!0)):t.item1.visible=!1,t.isqiandaofun(e)?t.typeimg.source="tab_dlhl_b4":t.typeimg.source="tab_dlhl_b2",e==p?(t.getbtn.visible=!0,t.getbtn0.visible=!1):p>e?(t.getbtn.visible=!1,t.getbtn0.visible=!0):(t.getbtn.visible=!1,t.getbtn0.visible=!1)}}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.gifrct0:t.getGiffun(0,t.gifrct0);break;case t.gifrct1:t.getGiffun(1,t.gifrct1);break;case t.gifrct2:t.getGiffun(2,t.gifrct2);break;case t.gifrct3:t.getGiffun(3,t.gifrct3);break;case t.getbtn:t.qiandaofun(1);break;case t.getbtn0:t.qiandaofun(2)}},t.prototype.qiandaofun=function(e){var t=this,a=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(a){var i,n=parseInt(Global.systemTimeNum/1e3+""),o=a.startTime,r=parseInt((n-o)/3600/24+""),s=GlobalConfig.getactivityoperateVO(a.activityId);1==e?i=r:2==e&&(i=t.buqianday),GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(s.activitytype,a.actPeriods,i,e)}},t.prototype.isqiandaofun=function(e){var t=!1,a=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(a)for(var i=a.signInRewards,n=0,o=i.length;o>n;n++)e==i[n]&&(t=!0);return t},t.prototype.getGiffun=function(e,t){var a=GlobalAllProxy.getInstance().operationProxy.loginSignIn;if(a){var i=a,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return;var o=n.relation,r=GlobalConfig.getactivityqiandaoVO(o);if(!r)return;var s=r.days.split(","),l=i.consumerSignIn,p=(l.length,!1);if(+s[e]<=i.consumerSign){p=!0;for(var c in l)l[c]==e&&(p=!1)}if(p)GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(n.activitytype,i.actPeriods,e,3);else{var u=r.gift.split("|");if(u&&u[e]){var m=utils.GameComUtil.getItemVoArr(u[e]);utils.GameComUtil.ShowTip(t,null,game.TipSimpleObject.type_awardarr,m)}}}},t}(e.VM);e.OperationQianDaoView=t,__reflect(t.prototype,"vm.OperationQianDaoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationSSRChooseSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(!0)},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(e){var t=this,t=this,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a&&a.footballPoint){var i=a.footballPoint,n=GlobalConfig.getactivityoperateVO(i.activityId);if(n){var o=GlobalConfig.getComActivityDianjiangVO(n.relation);if(o){for(var r,s,l,p,c,u,m,g,_,h,d=[],y=o.getClubArr(),v=o.getPlayeridArr(),f=GlobalAllProxy.getInstance().playerProxy.getOwnPlayerIds(),b=GlobalAllProxy.getInstance().backpackProxy.getOwnPlayerCarIds(),G=0,x=y.length;x>G;G++){for(s=y[G],c=v[G],r=new OperationSSRChooseRenderVO,r.titlestr=s,l=[],u=0,m=c.length;m>u;u++)h=GlobalConfig.getItemVo(+c[u]),g=GlobalConfig.getPlayerPorpertyVO(+h.parameter),_=g.playerid,p=new ScoutUnlockRenderVO,p.vo=g,p.islock=0,p.playerid=_,p.con=g.con,p.isown=0,-1!=f.indexOf(_)?p.isown=1:-1!=b.indexOf(_)&&(p.isown=2),l.push(p);r.listarr=l,d.push(r)}t.showpveDataC(d,e)}}}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.fetterdatalist0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.fetterScr0.addEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.fetterScr0.addEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.scrollchange=function(e){this.fetterdatalist0.touchChildren=!1},t.prototype.scrollEndFun=function(e){this.fetterdatalist0.touchChildren=!0},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.fetterScr0.removeEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.fetterScr0.removeEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.eventchange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();if(a instanceof ScoutUnlockRender){var i=a;if(i.data){var n=i.data;EventBus.sendMessage(game.GameCommands.OPERATION_CHOOSE_PLAYER,n.playerid),t.close()}}else switch(a){case t.closebtn:t.close()}},t.prototype.showpveDataC=function(e,t){var a=this,i=e,n=a.fetterdatalist0;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=OperationSSRChooseRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.OperationSSRChooseView=t,__reflect(t.prototype,"vm.OperationSSRChooseView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_chooseplayerid=null,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationSSRPointSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),t){var i=FormatString.format(Language.ins.operation_tip_15,12);a.typetxt.text=i,a.changebtn.label=Language.ins.train_add_tip81}a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this;e.getedimg.visible=!1,e.getbtn.visible=!1,e.lingbtn.visible=!1;var t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.footballPoint){var a=t.footballPoint,i="",n=GlobalConfig.getactivityoperateVO(a.activityId);if(n){e.contenttxt.text=n.des;var o=GlobalConfig.getComActivityDianjiangVO(n.relation);if(o){var r=utils.GameComUtil.getItemVoArr(o.reward);e.showpveDataC(r,!1),i=FormatString.format(Language.ins.operation_tip_15,o.charge),e.typetxt.text=i}}0==a.receiveStatus?e.getbtn.visible=!0:1==a.receiveStatus?e.lingbtn.visible=!0:2==a.receiveStatus&&(e.getedimg.visible=!0);var s=utils.GameComUtil.getTime1Str(1e3*a.startTime),l=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,s,l)}e.changePlayer()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent(),utils.GameComUtil.removeListData(this.pveawardlistC)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.OPERATION_CHOOSE_PLAYER,e.eventchange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange),e.pveawardlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.OPERATION_CHOOSE_PLAYER,e.eventchange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange),e.pveawardlistC.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.pveawardlistC.selectedItem;if(a){var i=a.itemid,n=GlobalConfig.getItemVo(i);if(n){var o=n.type,r=GlobalConfig.getPlayerPorpertyVO(+n.parameter);if(o==item_type.type_player||o==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,r.playerid,r,!0))}t.pveawardlistC.selectedIndex=-1}}},t.prototype.changePlayer=function(){var e=this;if(e.tiptxt.visible=!1,e.m_chooseplayerid){var t=GlobalConfig.getPlayerPorpertyVO(e.m_chooseplayerid);e.heroicon.setData(t,!1)}else e.tiptxt.visible=!0,e.heroicon.setData(null,!1)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;i&&i.footballPoint&&2==i.footballPoint.receiveStatus&&(a.getbtn.visible=!1,a.lingbtn.visible=!1,a.getedimg.visible=!0,i.footballPoint=null);break;case game.GameCommands.SHOP_PAY_COMPLETE:a.changeshow();break;case game.GameCommands.OPERATION_CHOOSE_PLAYER:a.m_chooseplayerid=e,a.changePlayer()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE),t.close();break;case t.getbtn:case t.lingbtn:var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(i&&i.footballPoint){var n=i.footballPoint;if(0==n.receiveStatus){Global.severNE!=Global.severNE_debug?PFAll.PFPay(pay_id.act_ssr_point):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0);break}if(t.m_chooseplayerid){var o=GlobalConfig.getItemIdForPlayerId(t.m_chooseplayerid);o&&GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(act_type.ssrpoint,n.actPeriods,o.objectid)}else FLOAT.NShowPutong([Language.ins.operation_tip_16])}break;case t.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_operation_ssrchoose])}},t.prototype.gopay=function(){GlobalAllProxy.getInstance().gameProxy.NetRecharg(pay_id.act_ssr_point)},t.prototype.showpveDataC=function(e,t){var a=this,i=e,n=a.pveawardlistC;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.OperationSSRPointView=t,__reflect(t.prototype,"vm.OperationSSRPointView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.times=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationTouZiSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.investmentManager){var a=t.investmentManager,i=GlobalConfig.getactivityoperateVO(a.activityId);if(!i)return;var n=i.relation,o=GlobalConfig.getactivitytouziVO(n);if(!o)return;if(o&&t){0==a.receiveStatus?e.typeimg.source="tab_yyhd_e8":1==a.receiveStatus?e.typeimg.source="tab_yyhd_b1":2==a.receiveStatus&&(e.getbtn.visible=!1,e.getedimg.visible=!0);var r=parseInt(Global.systemTimeNum/1e3+"");e.coolingTime=a.endTime-r,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.overtimetxt.text=utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timer.start()):e.overtimetxt.text="00:00:00";var s=o.rmb.split(",")[a.param];e.rmbtxt.text=s;var l=+o["return"].split(",")[a.param]/1e4;e.contenttxt.text=l,e.contenttxt0.text=(l-1)*+s*10}}},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.overtimetxt.text="00:00:00")):void(t.overtimetxt.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;i&&i.investmentManager&&(i.investmentManager.receiveStatus=2,a.getbtn.visible=!1,a.getedimg.visible=!0);break;case game.GameCommands.SHOP_PAY_COMPLETE:a.changeshow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(i&&i.investmentManager){var n=i.investmentManager;if(0==n.receiveStatus){Global.severNE!=Global.severNE_debug?PFAll.PFPay(pay_id.yiyuan_pay_id):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0);break}var o=GlobalConfig.getactivityoperateVO(n.activityId);GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(+o.activitytype,n.actPeriods,n.param)}}},t.prototype.gopay=function(){var e=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(e&&e.investmentManager){var t=e.investmentManager,a=GlobalConfig.getactivityoperateVO(t.activityId),i=a.relation,n=GlobalConfig.getactivitytouziVO(i),o=n.limit.split(",")[t.param];GlobalAllProxy.getInstance().gameProxy.NetRecharg(+o)}},t}(e.VM);e.OperationTouZiView=t,__reflect(t.prototype,"vm.OperationTouZiView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.noget=[],e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.OperationXiaofeiSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){var a=this;t.prototype.onShow.call(this,e),e&&a.showTar(),a.readPanelVo(),a.initAddEvent(),a.changeshow()},a.prototype.showTar=function(){var e=this,t=Language.ins.operation_tip_8;e.tabGroup.m_class=TableBraButton11;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVo=function(){var e=this;e.panelVo},a.prototype.updatapanelArr=function(){},a.prototype.changeshow=function(){var t=this,a=GlobalAllProxy.getInstance().operationProxy.consumerGift;if(a){var i=a,n=GlobalConfig.getactivityoperateVO(i.activityId);if(!n)return;var o=n.relation,r=GlobalConfig.getactivityxiaofeiVO(o);if(!r)return;var s,l,p,c,u,m=t._choosemode;if(m==e.OperationXiaofeiView.type_dayxiaofei){if(s=r.reward.split("|"),l=[],p=r.limit.split(","),c=i.dailyRewards,u=i.dailyTotal,r&&a){for(var g=0,_=s.length;_>g;g++){var h=new LeiJiPayRenderVO;h.rewardarr=utils.GameComUtil.getItemVoArr(s[g]),h.limit=+p[g],h.qishu=i.actPeriods,h.title=FormatString.format(Language.ins.operation_tip_9,u,p[g]),h.id=n.activitytype,h.iscanget=-1,h.index=1,+p[g]<=u&&(h.iscanget=1,h.index=0);for(var d in c)c[d]==+p[g]&&(h.iscanget=2,h.index=2);l.push(h)}l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),t.showData(l,!1)}}else if(m==e.OperationXiaofeiView.type_leijixiaofei&&(s=r.rewardtotal.split("|"),l=[],p=r.limittotal.split(","),c=i.consumerRewards,u=i.consumerTotal,r&&a)){for(var g=0,_=s.length;_>g;g++){var h=new LeiJiPayRenderVO;h.rewardarr=utils.GameComUtil.getItemVoArr(s[g]),h.limit=+p[g],h.qishu=i.actPeriods,h.title=FormatString.format(Language.ins.operation_tip_10,u,p[g]),h.id=n.activitytype,h.iscanget=-1,h.index=1,h.type=2,+p[g]<=u&&(h.iscanget=1,h.index=0);for(var d in c)c[d]==+p[g]&&(h.iscanget=2,h.index=2);l.push(h)}l.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),t.showData(l,!1)}t.contenttxt.text=n.des;var y=utils.GameComUtil.getTime1Str(1e3*i.startTime),v=utils.GameComUtil.getTime1Str(1e3*i.endTime);t.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,y,v),t.changeTipMC()}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:a.changeshow()}},a.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay])}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=LeiJiPayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,a=GlobalEnum;e.showTipRechargeToday(t.getTipForArr(null,[a.tipmc_xiaofei_everyday])),e.showTipCumulativeRecharge(t.getTipForArr(null,[a.tipmc_xiaofei_leiji]))},a.prototype.showTipCumulativeRecharge=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},a.prototype.showTipRechargeToday=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},a.type_dayxiaofei=0,a.type_leijixiaofei=1,a}(e.VM);e.OperationXiaofeiView=t,__reflect(t.prototype,"vm.OperationXiaofeiView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationYiYuanSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),t&&(a.tiptxt.text=Language.ins.activity_tip74)},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(t&&t.yiYuan){var a=t.yiYuan,i=GlobalConfig.getActivityVO(a.activityId);if(i){e.contenttxt.text=i.des;var n=utils.GameComUtil.getItemVoArr(i.reward);e.showpveDataC(n,!1),0==a.receiveStatus?(e.typeimg.source="tab_yyhd_d15",e.bgimg.source="tab_yyhd_b3"):1==a.receiveStatus?(e.typeimg.source="tab_yyhd_b1",e.bgimg.source="tab_yyhd_a8"):2==a.receiveStatus&&(e.getbtn.visible=!1,e.getedimg.visible=!0);var o=parseInt(Global.systemTimeNum/1e3+"");e.coolingTime=a.endTime-o,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.overtimetxt.text=utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timer.start()):e.overtimetxt.text="00:00:00";var r=i.subtitle;e.numtxt.text=r,e.tiptxt0.text=i.rewardplayer}}e.jumpimg0.textFlow=utils.GameComUtil.getHtmlText(Language.ins.activity_first_tip0)},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.overtimetxt.text="00:00:00")):void(t.overtimetxt.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.pveawardlistC),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null),utils.GameComUtil.removeTextFlow(this.jumpimg0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.addMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange),e.pveawardlistC.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE,e.eventchange),e.removeMessage(game.GameCommands.SHOP_PAY_COMPLETE,e.eventchange),e.pveawardlistC.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.pveawardlistC.selectedItem;if(a){var i=a.itemid,n=GlobalConfig.getItemVo(i),o=n.type,r=GlobalConfig.getPlayerPorpertyVO(+n.parameter);if(o==item_type.type_player||o==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,r.playerid,r,!0))}t.pveawardlistC.selectedIndex=-1}},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE:a.getbtn.visible=!1,a.getedimg.visible=!0;var i=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;i&&i.yiYuan&&(GlobalAllProxy.getInstance().activityProxy.rankactivityArr.yiYuan=null);break;case game.GameCommands.SHOP_PAY_COMPLETE:var n=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(n&&n.yiYuan){var o=n.yiYuan;GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(o.activityId,1)}}},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE),t.close();break;case t.getbtn:var n=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;if(n&&n.yiYuan){var o=n.yiYuan;if(0==o.receiveStatus){Global.severNE!=Global.severNE_debug?PFAll.PFPay(pay_id.yiyuan_pay_id):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0);break}GlobalAllProxy.getInstance().activityProxy.NetReceiveReward(o.activityId,1)}break;case t.jumpimg0:i.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pve])}},t.prototype.gopay=function(){GlobalAllProxy.getInstance().gameProxy.NetRecharg(pay_id.yiyuan_pay_id)},t.prototype.showpveDataC=function(e,t){var a=this,i=e,n=a.pveawardlistC;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.OperationYiYuanView=t,__reflect(t.prototype,"vm.OperationYiYuanView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationYuRenJieSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),t)for(var i=0;4>i;i++)a["gotxt"+i].text=Language.ins.btn_now_go;a.readPanelVo(),a.initAddEvent(),a.changeshow(!0)},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(e){var t,a=this;a.hitAllPanel();var i,n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(n){var o=n.getYuRenIcon();if(o){var r=o.getIconImgForArr();if(r){var s=r.length;s>0&&(a.icontitle.source=r[0]),s>1&&(a.iconbg.source=r[1]),s>2&&(a.iocntip.source=r[2])}}for(var l=n.yurenStrName,p=[],c=0,u=l.length;u>c;c++)t=l[c],i=n[t],i&&p.push(i);for(var m,g,_=[],h=PFAll.isNowPF([Global.severNE_russia]),d=0,y=p.length;y>d;d++){g=GlobalConfig.getactivityoperateVO(p[d].activityId),m=new YuRenJieRenderVO,m.index=+g.rank,m.picture2=g.picture2,m.jump=g.jump;var v=utils.GameComUtil.getTime1Str(1e3*p[d].startTime),f=utils.GameComUtil.getTime1Str(1e3*p[d].endTime);h?m.time=FormatString.format(Language.ins.pf_russia1,v,f):m.time=FormatString.format(Language.ins.activity_tip14,v,f),m.picture3=g.picture3,m.picture=g.picture,m.picture4=g.picture4,_.push(m)}_.sort(utils.GameUtil.sortMatckFun(["index"],[0,0])),a.showData(_,!1)}},t.prototype.hitAllPanel=function(){this.allbtnG.removeChildren()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.TIP_MC_CHANGE:a.changeshow(!1)}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=YuRenJieRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationYuRenJieView=t,__reflect(t.prototype,"vm.OperationYuRenJieView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.times=0,t.noget=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.OperationZaiXianSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.initAddEvent(),a.changeshow()},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().activityProxy.activityArr.onlineInit;if(t){var a=t,i=a.timeOnline,n=GlobalConfig.getActivityVO(a.activityId);if(n){for(var o,r=n.reward.split("|"),s=[],l=n.limit.split(","),p=a.onlineRewards,c=!0,u=parseInt(i/60+""),m=0,g=r.length;g>m;m++){o=parseInt(+l[m]/60+""),c=!0;var _=new LeiJiPayRenderVO;_.rewardarr=utils.GameComUtil.getItemVoArr(r[m]),_.limit=+l[m],_.qishu=a.actPeriods,_.title=FormatString.format(Language.ins.operation_tip_7,u,o),_.id=a.activityId,_.iscanget=0,_.index=1,+l[m]<=i&&(_.iscanget=1,_.index=0,c=!1);for(var h in p)p[h]==+l[m]&&(_.iscanget=2,_.index=2,c=!1);c&&e.noget.push(+l[m]),s.push(_)}s.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(s,!1),e.contenttxt.text=n.des;var d=utils.GameComUtil.getTime1Str(1e3*a.startTime),y=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,d,y);var v=utils.GameComUtil.getTimeStr(a.timeOnline);e.onlinetimetxt.text=v,a.timeOnline>=0&&(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?e.onlinetimetxt.text=utils.GameComUtil.getTimeOnlineToString(a.timeOnline):e.onlinetimetxt.text=utils.GameComUtil.getTimeStr(a.timeOnline),e.timer.start())}}},t.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().activityProxy.activityArr.onlineInit;PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?t.onlinetimetxt.text=utils.GameComUtil.getTimeOnlineToString(a.timeOnline):t.onlinetimetxt.text=utils.GameComUtil.getTimeStr(a.timeOnline);for(var i=0,n=t.noget.length;n>i;i++)if(a.timeOnline>=t.noget[i]){t.noget=[],t.changeshow();break}},t.prototype.onHide=function(e){var t=this;this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),t.timer&&(t.timer.removeEventListener(egret.TimerEvent.TIMER,t.timerFunc1,t),t.timer.stop(),t.timer=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.OPERTION_REWARD,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.OPERTION_REWARD:a.changeshow()}},t.prototype.touchTapFun=function(e){e.target,PanelDM.getIns()},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.OperationZaiXianView=t,__reflect(t.prototype,"vm.OperationZaiXianView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_chooseplayerid=null,t._timerId=0,t.zuizhongD=0,t.xujiaD=0,t.zhuanpanTime=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationZhuanPanSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.showZhanliSpr(!1),a.readPanelVo(),a.initAddEvent(),a.changeshow()},t.prototype.readPanelVo=function(){var e=this;e.panelVo},t.prototype.updatapanelArr=function(){},t.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(t&&t.luckilyRoulette){var a=t.luckilyRoulette,i=GlobalConfig.getactivityoperateVO(a.activityId),n=GlobalConfig.getactivityzhuanpanVO(i.relation);e.contenttxt.text=i.des;
var o=utils.GameComUtil.getTime1Str(1e3*a.startTime),r=utils.GameComUtil.getTime1Str(1e3*a.endTime);e.overtimetxt.text=FormatString.format(Language.ins.activity_tip14,o,r),e.contenttxt2.text=FormatString.format(Language.ins.operation_tip_24,a.daily),e.contenttxt3.text=FormatString.format(Language.ins.operation_tip_24,parseInt(a.lucky/10+"")),e.contenttxt4.text=n.cost,a.daily>0?(e.needG.visible=!1,e.freeimg.visible=!0):(e.needG.visible=!0,e.freeimg.visible=!1),e.shaungimg.source="tab_zp_b9",a.lucky>10&&(e.shaungimg.source="tab_zp_b8");var s=a.lucky%10/10;e.qiuG.height=41*s;var l=parseInt(Global.systemTimeNum/1e3+"");e.coolingTime=a.endTime-l,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.overtimetxt0.text=utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timer.start()):e.overtimetxt0.text="00:00:00";for(var p,c,u=n.reward.split(";"),m=0,g=u.length;g>m;m++)p=u[m].split(","),c=GlobalConfig.getItemVo(p[1]),e["nametxt"+m].text=FormatString.format(Language.ins.operation_tip_23,c.name,p[2]),e["item"+m].setIdAndNum(c.objectid,0,!1,0,!1,!1,!1),e["item"+m].setTip(!0);var _=a.rank;e.showData(_,!1);var h=GlobalEnum.itemid_honorroll;e.itemimg.source=ResName.getMinItemIcon(h);var d=GlobalConfig.getItemVo(h);e.nametxt.text=d.name;var y=GlobalAllProxy.getInstance().backpackProxy.getItemCount(h);e.numtxt.text=utils.GameUtil.getNumToStr(y),e.zhanlitiptxt0.textFlow=utils.GameComUtil.getHtmlText(Language.ins.runner_main_tip0)}},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.overtimetxt0.text="00:00:00")):void(t.overtimetxt0.text=utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.createZhuanPan=function(){var e=this,t=e.zhizhenimg;if(0==e._timerId){var a=0;e.maskimg.visible=!0,e._timerId=egret.setInterval(function(){a=0,e.zhuanpanTime<10&&e.zhuanpanTime%3==0?a=1:e.zhuanpanTime>10&&e.zhuanpanTime<20&&e.zhuanpanTime%2==0?a=1:e.zhuanpanTime>20&&e.zhuanpanTime<70?a=1:e.zhuanpanTime>70&&e.zhuanpanTime<80&&e.zhuanpanTime%2==0?a=1:e.zhuanpanTime>80&&e.zhuanpanTime<90&&e.zhuanpanTime%3==0?a=1:e.zhuanpanTime>90&&e.zhuanpanTime<100&&e.zhuanpanTime%4==0?a=1:e.zhuanpanTime>100&&e.zhuanpanTime<200&&e.zhuanpanTime%4==0&&(console.log("x:"+e.xujiaD%360),a=e.xujiaD%360==e.zuizhongD?-1:1),-1!=a&&e.zhuanpanTime<200?(e.xujiaD+=45*a,t.rotation=e.xujiaD%360,e.zhuanpanTime++):(egret.clearInterval(e._timerId),e.maskimg.visible=!1,e.xujiaD=e.xujiaD%360,e.award())},this,30)}},t.prototype.award=function(){var e=this,t=e.netinfo;if(t){if(1==t.type){var a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(t.item)}else{var a=GlobalAllProxy.getInstance().backpackProxy;a.addServerItem(t.item)}var i=GlobalEnum.itemid_honorroll,n=GlobalAllProxy.getInstance().backpackProxy.getItemCount(i);e.numtxt.text=utils.GameUtil.getNumToStr(n)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ACTIVITY_RECEIVE_ZHUANPAN,e.eventchange)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.ACTIVITY_RECEIVE_ZHUANPAN,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.ACTIVITY_RECEIVE_ZHUANPAN:a.netinfo=e,a.zuizhongD=45*(+e.param-1),console.log("param:"+e.param),console.log("zuizhongD:"+a.zuizhongD),a.changeshow(),a.createZhuanPan()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),EventBus.sendMessage(game.GameCommands.MAIN_TOPBTN_CHANGE),t.close();break;case t.okG:t._timerId=0,t.zhuanpanTime=0;var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(i&&i.luckilyRoulette){var n=GlobalConfig.getactivityoperateVO(i.luckilyRoulette.activityId);GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(n.activitytype,i.luckilyRoulette.actPeriods,0,0)}break;case t.shaungimg:t._timerId=0,t.zhuanpanTime=0;var i=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(i&&i.luckilyRoulette){var n=GlobalConfig.getactivityoperateVO(i.luckilyRoulette.activityId);i.luckilyRoulette.lucky>=10&&GlobalAllProxy.getInstance().operationProxy.NetOperateActivityGiftRequest(n.activitytype,i.luckilyRoulette.actPeriods,0,1)}break;case t.itemG:var o=game.TipSimpleObject.type_item,r=GlobalEnum.itemid_honorroll,s=new game.ComItemGroupVo(r,0);utils.GameComUtil.ShowTip(t.itemG,r,o,s);break;case t.shopimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_operation_zpshop]);break;case t.tipbtn:return void t.showZhanliSpr(!0)}t.showZhanliSpr(!1)},t.prototype.showZhanliSpr=function(e){var t=this;t.tisspr.visible=e},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ActivityInfoRender1,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.OperationZhuanPanView=t,__reflect(t.prototype,"vm.OperationZhuanPanView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.OperationZPShopSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.titlename.text=Language.ins.title_league_shop),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(a){var i,n,o=GlobalConfig.shop_DATA,r=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,s=showitemtype.type_zhuanpan,l=GlobalAllProxy.getInstance().backpackProxy,p=[];for(var c in o)n=o[c],n.shoptype==s&&n.lvlimit<r&&(i=new ShopHotRenderVO,i.vo=n,i.rank=n.rank,i.buynum=l.getShopNum(n.id),p.push(i));p.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),t.showDataB(p,!1);var u=GlobalConfig.getItemVo(GlobalEnum.itemid_honorroll);t.itemname.text=u.name,t.useicon.source=ResName.getMinItemIcon(GlobalEnum.itemid_honorroll);var m=GlobalEnum.itemid_honorroll,g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(m);t.numtxt.text=utils.GameUtil.getNumToStr(g)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.addMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.addMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.removeMessage(game.GameCommands.LEAGUE_SHOP_REWARD,e.eventChange),e.removeMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.LEAGUE_SHOP_REWARD:case game.GameCommands.SHOP_DATA_CHANGE:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.ugG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_rongyaoB,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1,0/0,shopbuy_type.zhuanpan);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist.selectedIndex=-1}},t.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopHotRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.OperationZPShopView=t,__reflect(t.prototype,"vm.OperationZPShopView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.QualifyingDayRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_qualifying_dayreward,a.getbtn.label=Language.ins.month_tip2),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData,a=ParamLoader.instance,i=t.integral;e.numtxt.text=FormatString.format(Language.ins.qualifying_tip1,i),e.infotxt.text=FormatString.format(Language.ins.qualifying_tip0,a.ArenaChallengeScore);var n,o,r=GlobalConfig.qualifyingdayrewardInit_data,s=[],l=t.dailyRewards;for(var p in r){n=r[p],o=new QualifyingRewardRenderVO,o.iscanget=n.score<=i?1:0;for(var c=0,u=l.length;u>c;c++)if(l[c]==n.score){o.iscanget=2;break}o.id=n.id,o.rewardarr=utils.GameComUtil.getItemVoArr(n.reward),o.title=FormatString.format(Language.ins.qualifying_tip2,n.score),o.limit=n.score,o.index=1,1==o.iscanget?o.index=0:2==o.iscanget&&(o.index=2),s.push(o)}s.sort(utils.GameUtil.sortMatckFun(["index","limit"],[0,0])),e.showData(s,!0)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=QualifyingRewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.QUALIFYING_DAYREWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.QUALIFYING_DAYREWARD,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.QUALIFYING_DAYREWARD:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.getbtn:GlobalAllProxy.getInstance().fightProxy.NetQualifyingDailyRewardsRequest(1,1);break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.QualifyingDayRewardView=t,__reflect(t.prototype,"vm.QualifyingDayRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.QualifyingRankRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_rich_rankreward,a.rewardbtn.label=Language.ins.qualifying_tip15),a.changeShow(),a.listGroup.setGroupAlign(egret.HorizontalAlign.CENTER)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData,a=GlobalConfig.qualifyingrankrewardInit_data;if(a){var i,n,o=[];GlobalAllProxy.getInstance().fightProxy.weekRankdata;for(var r in a)i=a[r],n=new QualifyingRankrewardRenderVO,n.id=i.id,n.index=+r,n.rewardarr=utils.GameComUtil.getItemVoArr(i.reward),+i.minrank==+i.maxrank?n.name=FormatString.format(Language.ins.qualifying_tip4,i.minrank):n.name=FormatString.format(Language.ins.qualifying_tip5,i.minrank,i.maxrank),o.push(n);e.showData(o,!0);var s,l=t.current;if(l.rankId){s=GlobalConfig.getqualifyingrankrewardVO(l.rankId);var p=utils.GameComUtil.getItemVoArr(s.reward);e.listGroup.setDataArr(p,"",!0,!1,!0,!1)}0==l.rankId?e.ranktxt.text=Language.ins.qualifying_tip12:s.minrank==s.maxrank?e.ranktxt.text=FormatString.format(Language.ins.qualifying_tip8,l.rankId,l.rankId):e.ranktxt.text=FormatString.format(Language.ins.qualifying_tip9,l.rankId,s.minrank,s.maxrank),e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.qualifying_tip_1)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=QualifyingRankrewardRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.QualifyingRankRewardView=t,__reflect(t.prototype,"vm.QualifyingRankRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.QualifyingRankSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.rewardbtn.label=Language.ins.qualifying_tip16,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text="",a.panel_bg.setTitleBgshow(!1)),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData,a=t.rival;if(a){for(var i,n,o=[],r=0,s=a.length;s>r;r++)i=a[r],n=new QualifyingRankRenderVO,n.id=+r+1,n.player=i,o.push(n);e.showData(o,!0),e.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.qualifying_tip3);var l=t.current;e.logoimg.setLogoUrl(l.logo),e.lvtxt.text=l.level,e.nametxt.text=l.name,e.viptxt.text=FormatString.format(Language.ins.activity_tip20,l.vipLevel),e.figthtxt.text=l.fighting,e.rankimg.visible=!0,0==l.rankId?e.ranktxt.text=Language.ins.qualifying_tip10:e.ranktxt.text=l.rankId,e.ranktxt.visible=!1,1==l.rankId?e.rankimg.source="tab_pws_a9":2==l.rankId?e.rankimg.source="tab_pws_a8":3==l.rankId?e.rankimg.source="tab_pws_b1":(e.rankimg.visible=!1,e.ranktxt.visible=!0)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=QualifyingRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},t.prototype.listchange=function(e){var t=this,a=e.target.selectedItem;a&&(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.player.uid),t.datalist.selectedIndex=-1)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.rewardbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying_rankreward])}},t}(e.VM);e.QualifyingRankView=t,__reflect(t.prototype,"vm.QualifyingRankView")}(vm||(vm={}));var SQualifyingChallengesVO=function(){function e(){}return e}();__reflect(SQualifyingChallengesVO.prototype,"SQualifyingChallengesVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.QualifyingRecordSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.tiptxt0.text=Language.ins.qualifying_tip17,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_qualify_backinfo),GlobalAllProxy.getInstance().fightProxy.NetChallengesRecord()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=[],a=GlobalAllProxy.getInstance().fightProxy.qualifyingRecordData;if(a)for(var i,n,o=0,r=a.length;r>o;o++)n=new QualifyingRecordRenderVO,i=a[o],n.id=o+1,n.player=i,t.push(n);e.showData(t,!0)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=QualifyingRecordRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.QUALIFYING_RECORD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.QUALIFYING_RECORD,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.QUALIFYING_RECORD:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.QualifyingRecordView=t,__reflect(t.prototype,"vm.QualifyingRecordView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.updatatime=0,e.oldpvpid=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){for(var e=new skins.QualifyingSkinDR,t=[],a=[ResName.mc_award_lingqu,ResName.mc_guanjunliansai],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;if(a.m_changetime=0,e){a.tiptxt0.text=Language.ins.qualifying_tip18,a.tiptxt2.text=Language.ins.qualifying_tip19,a.tiptxt4.text=Language.ins.qualifying_tip24,a.tiptxt5.text=Language.ins.qualifying_tip25,a.tiptxt6.text=Language.ins.qualifying_tip26,a.exchangebtn.label=Language.ins.btn_exchange,a.timetip0.text=Language.ins.qualifying_tip20,a.recordbtn.label=Language.ins.qualifying_tip21,a.updataplayerbtn.label=Language.ins.qualifying_tip23;var i=GlobalEnum.itemid_rong,n=GlobalConfig.getItemVo(i);a.itemimg.source=ResName.getMinItemIcon(i),a.itemnametxt.text=n.name,FntUtil.showFnt(a.tipBZG1,ResName.fnt_title,Language.ins.title_qualifying_dayreward,ResName.spa_title_b),FntUtil.showFnt(a.tipBZG3,ResName.fnt_title,Language.ins.qualifying_tip22,ResName.spa_title_b)}a.readPanelVo(),a.initAddEvent(),a.changeShow(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_qualifying),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().fightProxy.NetQualifyingInit(),GlobalAllProxy.getInstance().fightProxy.NetQualifyingRank(),utils.GameComUtil.setVisibleHitPanel(a.uptipG,a,!1,5),a.showRankMC(!0)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;a.removeEvent(),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null),a.updatatimer&&(a.updatatimer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc2,a),a.updatatimer.stop(),a.updatatimer=null,a.updatatime=0),utils.GameUtil.playGifMc(0,!1,a,"tab_cj_c6"),a.showRankMC(!1)},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;null!=t&&t.panelobj&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying_Record])},a.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData,a=GlobalAllProxy.getInstance().playerProxy.playerinfo;if(e.mylogoimg.setLogoUrl(a.logo),t){0==t.currentRank?e.myranktxt.text=FormatString.format(Language.ins.qualifying_tip7,Language.ins.qualifying_tip10):e.myranktxt.text=FormatString.format(Language.ins.qualifying_tip7,t.currentRank);var i=GlobalEnum.itemid_rong;e.itemtxt0.text=GlobalAllProxy.getInstance().backpackProxy.getItemCount(i),e.itemtxt.text=t.challenge,e.showlist(),e.richinfo=t.coolingTime,e.richinfo>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.pranktxt0.text=utils.GameComUtil.getTimeNum(e.richinfo,!1),e.pranktxt0.textColor=16711680,e.timer.start()):(e.pranktxt0.text="00:00",e.pranktxt0.textColor=16376596),e.updataplayer()}e.changeTipMC()},a.prototype.showlist=function(){for(var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData,a=[],i=t.rival,n=e.m_changetime,o=0,r=i.length;r>o;o++){var s=new OpponentListRenderVO;s.hero=i[o],s.index=o+1,s.changetime=n,a.push(s)}e.showDataA(a)},a.prototype.updataplayer=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData;if(t&&t.rival.length>0)for(var a,i=t.rival,n=0;3>n;n++)a=i[n],e["logoimg"+n].setLogoUrl(a.logo),e["nametxt"+n].text=a.name,e["figthtxt"+n].text=a.fighting,e["lvtxt"+n].text=a.level},a.prototype.showRankMC=function(e){var t=this,t=this,a=ResName.mc_guanjunliansai,i=utils.GameComUtil.getArmature(a,a,t);if(i){var n=i.isPlaying;e!=n&&(e?(i.animation.play("effect"),t.rankmcG0.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))}e?(egret.Tween.removeTweens(t.rankimg1),t.rankimg1.alpha=.5,egret.Tween.get(t.rankimg1,{loop:!0}).to({alpha:1},500).to({alpha:.5},500)):egret.Tween.removeTweens(t.rankimg1)},a.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.qualifyingData;return a.coolingTime--,t.richinfo--,t.richinfo<=0?(t.pranktxt0.text="00:00",t.pranktxt0.textColor=16376596,void(t.timer&&t.timer.stop())):void(t.pranktxt0.text=utils.GameComUtil.getTimeNum(t.richinfo,!1))},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.QUALIFYING_CLEARTIME,this.eventChange),e.addMessage(game.GameCommands.QUALIFYING_RANK,this.eventChange),e.addMessage(game.GameCommands.QUALIFYING_INIT,this.eventChange),e.addMessage(game.GameCommands.QUALIFYING_BUYTIME,this.eventChange),e.addMessage(game.GameCommands.QUALIFYING_UPDATAPLAYER,this.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,this.eventChange),e.addMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.addMessage(game.GameCommands.QUALIFYING_DAYREWARD,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.QUALIFYING_CLEARTIME,this.eventChange),e.removeMessage(game.GameCommands.QUALIFYING_RANK,this.eventChange),e.removeMessage(game.GameCommands.QUALIFYING_INIT,this.eventChange),e.removeMessage(game.GameCommands.QUALIFYING_BUYTIME,this.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,this.eventChange),e.removeMessage(game.GameCommands.QUALIFYING_UPDATAPLAYER,this.eventChange),e.removeMessage(game.GameCommands.DEKERON_FIGHT_AWARD_DATA_TIP,e.eventChange),e.removeMessage(game.GameCommands.QUALIFYING_DAYREWARD,e.eventChange),TweenLite.killTweensOf(e.uptipG,!0)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.QUALIFYING_CLEARTIME:a.pranktxt0.text="00:00",a.pranktxt0.textColor=16376596,a.richinfo=0,e&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvs,e,!0));break;case game.GameCommands.QUALIFYING_INIT:a.changeShow(),a.initfriendships();break;case game.GameCommands.QUALIFYING_RANK:a.updataplayer();break;case game.GameCommands.QUALIFYING_BUYTIME:a.itemtxt.text=e;break;case game.GameCommands.QUALIFYING_UPDATAPLAYER:a.m_changetime++,e>0&&(a.updatatimer||(a.updatatimer=new egret.Timer(1e3),a.updatatimer.addEventListener(egret.TimerEvent.TIMER,a.timerFunc2,a)),a.updatatimer.start()),a.updatatime=e,a.showlist();break;case game.GameCommands.QUALIFYING_DAYREWARD:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.initfriendships=function(){var e=GlobalAllProxy.getInstance().fightProxy.qualifyingData;e&&(-1==utils.GameUtil.qualifyingscore&&(utils.GameUtil.qualifyingscore=e.integral),-1==utils.GameUtil.qualifyingrank_num&&(utils.GameUtil.qualifyingrank_num=e.currentRank)),this.showpveupTip()},a.prototype.showpveupTip=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData,a=utils.GameUtil,i=t.currentRank-a.qualifyingrank_num,n=t.integral-a.qualifyingscore;0!=n&&(utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!0),0==i?(e.deficon.source="tab_yys_b3",e.newranktxt.textColor="0xFF0000",e.oldranktxt.text=""+t.currentRank,e.newranktxt.text=""+t.currentRank,0==a.qualifyingrank_num&&(e.oldranktxt.text=""+Language.ins.qualifying_tip10,e.newranktxt.text=""+Language.ins.qualifying_tip10)):0>i?(e.deficon.source="tab_yys_b2",e.oldranktxt.text=""+a.qualifyingrank_num,e.newranktxt.text=""+t.currentRank,e.newranktxt.textColor="0x2DFF00"):i>0&&0==a.qualifyingrank_num&&(e.deficon.source="tab_yys_b2",e.newranktxt.textColor="0x2DFF00",e.oldranktxt.text=""+Language.ins.qualifying_tip10,e.newranktxt.text=""+t.currentRank),e.addjifentxt.text=ParamLoader.instance.ArenaChallengeScore,utils.GameUtil.qualifyingscore=t.integral,utils.GameUtil.qualifyingrank_num=t.currentRank,TweenLite.killTweensOf(e.uptipG,!0),e.uptipG.alpha=0,e.uptipG.visible=!0,TweenLite.to(e.uptipG,.4,{alpha:1}),TweenLite.to(e.uptipG,.4,{alpha:0,delay:2,onComplete:e.showpveupTipOver.bind(e)}))},a.prototype.showpveupTipOver=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!1,5)},a.prototype.timerFunc2=function(e){var t=this;t.updatatime--,t.updatatime<=0&&t.updatatimer.stop()},a.prototype.touchTapFun=function(t){var a=this;switch(t.target){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.rankimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying_rank]);break;case a.dayimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying_dayreward]);break;case a.recordbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_qualifying_Record]);break;case a.addbtn:a.purchaseTimesFun();break;case a.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop,e.ShopBgView.type_rong]);break;case a.refreshbtn:a.clickclearfun();break;case a.updataplayerbtn:if(a.updatatime>0){var i=FormatString.format(Language.ins.qualifying_tip_2,a.updatatime);FLOAT.NShowPutong([i])}else GlobalAllProxy.getInstance().fightProxy.NetQualifyingOpponent();break;case a.logoimg0:var n=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData;if(n&&n.rival){var o=n.rival[0];o&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],o.uid)}break;case a.logoimg1:var n=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData;if(n&&n.rival){var o=n.rival[1];o&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],o.uid)}break;case a.logoimg2:var n=GlobalAllProxy.getInstance().fightProxy.qualifyingRankData;if(n&&n.rival){var o=n.rival[2];o&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],o.uid)}}},a.prototype.clickclearfun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData.coolingTime;if(t>0){var a=new AlertVO;a.info=FormatString.format(Language.ins.fight_ti32),a.showCancel=!0,a.okLabel=Language.ins.game_ok,a.tipbl=!0,a.tipstr=Language.ins.fight_tip4,a.tipitemid=GlobalEnum.itemid_ug,a.tipcostid=ug_cost_type.fight_rich_clearcd,a.tipitemnum=ParamLoader.instance.ArenaCdCost,JAlert.show(a,Language.ins.fight_tip34,e.cleartime,e)}},a.prototype.cleartime=function(){GlobalAllProxy.getInstance().fightProxy.NetClearTimeRequest(1)},a.prototype.purchaseTimesFun=function(){var e=this,t=GlobalAllProxy.getInstance().fightProxy.qualifyingData,a=ParamLoader.instance.ArenaMaxTimes,i=a-t.buyChallenge,n=new AlertBuyTimeViewVO,o=FormatString.format(Language.ins.qualifying_tip6,i,a);n.tipstr=o,n.title=Language.ins.club_map_tip7,n.costitemid=GlobalEnum.itemid_ug,n.costtype=alert_buy.type_qualifying,n.curbuynum=t.buyChallenge,n.maxnum=i,n.callFun=e.clickfastbuy,n.callself=e,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_alert_buttime],n)},a.prototype.clickfastbuy=function(e){GlobalAllProxy.getInstance().fightProxy.NetPurchaseTimesRequest(e)},a.prototype.showDataA=function(e){var t=this,a=e,i=t.datalistA;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=OpponentListRender,i.dataProvider=new eui.ArrayCollection(a))},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.tipmcqualifyingday(t.getTipForArr(null,[GlobalEnum.tipmc_qualifyingday]))},a.prototype.tipmcqualifyingday=function(e){var t=this,a=e,i=t.dayrewardG,n="tipmcdayrewardG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-33,10)),t.dayrewardG.addChild(t[n]),t[n].visible=a),a?utils.GameUtil.playGifMc(0,!0,t,"tab_cj_c6"):utils.GameUtil.playGifMc(0,!1,t,"tab_cj_c6")},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.QualifyingView=t,__reflect(t.prototype,"vm.QualifyingView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.RankSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeshow(!0),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_gamerank),a.addChild(a.m_toppanel),e&&(a.atxt0.text=Language.ins.guild_tip65,a.atxt1.text=Language.ins.game_club_s,a.atxt2.text=Language.ins.game_zhanli_s,a.atxt3.text=Language.ins.club_tip26,a.btxt0.text=Language.ins.coach_tip32,a.btxt1.text=Language.ins.rank_tip6,a.btxt2.text=Language.ins.rank_tip7,a.btxt3.text=Language.ins.rank_tip8,a.btxt4.text=Language.ins.rank_tip9,a.ftiptxt0.text=Language.ins.rank_tip5,a.showTar()),a.resizefun()},a.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj;e.panelVo.childtype?e._choosemode=e.panelVo.childtype:e._choosemode=0,e.tabGroup.setSelectIndex(e._choosemode)}},a.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_rank;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.changeshow=function(t){void 0===t&&(t=!1);var a,i=this,n=GlobalAllProxy.getInstance().gameProxy,o=this._choosemode;utils.GameComUtil.setVisibleHitPanel(i.mydataG0,i.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(i.mydataG1,i.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(i.datascrollA,i.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(i.datascrollA2,i.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(i.atipG,i.contgroup,!1),utils.GameComUtil.setVisibleHitPanel(i.btipG,i.contgroup,!1);
var r;if(o==e.RankView.type_club?(a=n.rankclubdata,a?(r=a.getMyRankVo(),r&&utils.GameComUtil.setVisibleHitPanel(i.mydataG0,i.contgroup,!0)):n.NetRankClub(),utils.GameComUtil.setVisibleHitPanel(i.datascrollA,i.contgroup,!0),utils.GameComUtil.setVisibleHitPanel(i.atipG,i.contgroup,!0),i.atxt3.text=Language.ins.club_tip26,i.atxt3.x=504):o==e.RankView.type_fight?(a=n.rankfightdata,a?(r=a.getMyRankVo(),r&&utils.GameComUtil.setVisibleHitPanel(i.mydataG0,i.contgroup,!0)):n.NetRankTeamFighting(),utils.GameComUtil.setVisibleHitPanel(i.datascrollA,i.contgroup,!0),utils.GameComUtil.setVisibleHitPanel(i.atipG,i.contgroup,!0),i.atxt3.text=Language.ins.club_tip26,i.atxt3.x=504):o==e.RankView.type_achieve&&(a=n.rankachievedata,a?(r=a.getMyRankVo(),r&&utils.GameComUtil.setVisibleHitPanel(i.mydataG0,i.contgroup,!0)):n.NetRankAchieve(),utils.GameComUtil.setVisibleHitPanel(i.datascrollA,i.contgroup,!0),utils.GameComUtil.setVisibleHitPanel(i.atipG,i.contgroup,!0),i.atxt3.text=Language.ins.rank_tip10,i.atxt3.x=480),r&&i.showGrouData(r,o),a){var s=a.getRankArr();if(s){for(var l,p,c=[],u=0,m=s.length;m>u;u++)l=s[u],p=new RankRenderVO,p.vo=l,p.type=o,c.push(p);o==e.RankView.type_club||o==e.RankView.type_fight||o==e.RankView.type_achieve?i.showData(c,t):o==e.RankView.type_achieve&&i.showDataB(c,t)}}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist2)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.RANK_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.RANK_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow(!0)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.RANK_DATA_CHANGE:a.changeshow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.listchange=function(e){var t=this,a=e.target.selectedItem;a&&(PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_club_detail],a.vo.uid),t.datalist.selectedIndex=-1)},a.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close()}},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=RankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist2;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=RankRender2,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll2;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showGrouData=function(e,t){var i=this;if(t==a.type_club){var n=e;i.tiptxt0.text=n.ranking,n.ranking>1e3&&(i.tiptxt0.text="1000+"),i.nametxt0.text=n.name,i.startxt0.text=n.fighting,i.maxtxt0.text=Language.ins.game_lv_s+n.level,i.rankicon0.visible=!0,i.tiptxt0.visible=!1,1==n.ranking?i.rankicon0.source="tab_jjsn_d7":2==n.ranking?i.rankicon0.source="tab_jjsn_d8":3==n.ranking?i.rankicon0.source="tab_jjsn_d9":(i.rankicon0.visible=!1,i.tiptxt0.visible=!0),i.logoimg0.setLogoUrl(n.logo)}else if(t==a.type_fight){var o=e;i.tiptxt0.text=o.ranking,o.ranking>1e3&&(i.tiptxt0.text="1000+"),i.nametxt0.text=o.name,i.startxt0.text=o.fighting,i.maxtxt0.text=Language.ins.game_lv_s+o.level,i.rankicon0.visible=!0,1==o.ranking?i.rankicon0.source="tab_jjsn_d7":2==o.ranking?i.rankicon0.source="tab_jjsn_d8":3==o.ranking?i.rankicon0.source="tab_jjsn_d9":(i.rankicon0.visible=!1,i.tiptxt0.visible=!0),i.logoimg0.setLogoUrl(o.logo)}else if(t==a.type_achieve){var o=e;i.tiptxt0.text=o.ranking,o.ranking>1e3&&(i.tiptxt0.text="1000+"),i.nametxt0.text=o.name,i.startxt0.text=o.fighting,i.maxtxt0.text=Language.ins.game_lv_s+o.level,i.rankicon0.visible=!0,1==o.ranking?i.rankicon0.source="tab_jjsn_d7":2==o.ranking?i.rankicon0.source="tab_jjsn_d8":3==o.ranking?i.rankicon0.source="tab_jjsn_d9":(i.rankicon0.visible=!1,i.tiptxt0.visible=!0),i.logoimg0.setLogoUrl(o.logo)}},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.type_club=0,a.type_fight=1,a.type_achieve=2,a}(e.VM);e.RankView=t,__reflect(t.prototype,"vm.RankView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RichFightInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.ftiptxt1.text=Language.ins.rich_tip_26,a.ctiptxt0.text=Language.ins.rich_tip_20,a.ctiptxt1.text=Language.ins.rich_tip_21,a.ctiptxt2.text=Language.ins.rich_tip_22,a.ctiptxt3.text=Language.ins.rich_tip_23,a.ctiptxt4.text=Language.ins.rich_tip_24,a.ctiptxt5.text=Language.ins.rich_tip_25,a.ctiptxt6.text=Language.ins.rich_tip_19,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_rich_fightinfo);var i=a.panelVo.panelobj;a.m_iszu=!1,i&&(a.m_iszu=i.iszu,i.iszu?GlobalAllProxy.getInstance().fightProxy.NetGroupUserRequest(i.uid):GlobalAllProxy.getInstance().fightProxy.NetRankMemberRequest(i.uid)),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.ctipnum1)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;if(e){var a=9,i=e.info,n=a-i.times;t.nametxt.text=i.name+" "+Language.ins.game_lv_s+i.level,t.zhanlitxt.text=Math.round(i.fighting),t.ctipnum0.text=n+"/9",t.ctipnum1.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.game_bifen_s_text,i.wins,i.draw,i.lose)),t.ctipnum2.text=i.goal,t.ctipnum3.text=i.margin;var o=GlobalConfig.getMathConfigVO(i.grade);if(t.ctipnum6.text=o.name+"",t.richimg0.source=o.icon,i.rank?t.ctipnum4.text=i.rank:t.ctipnum4.text=Language.ins.no_in_rank,i.last_rank?t.ctipnum5.text=i.last_rank:t.ctipnum5.text=Language.ins.no_in_rank,t.logoimg.setLogoUrl(i.logo),t.disG.visible=!1,t.m_iszu){t.comG.height=754,t.disG.visible=!0;var r=e.situation;r?(t.showDataA(r,!1),t.datalist.visible=!0):t.datalist.visible=!1}else t.comG.height=505}},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=RichFightInfoRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_PTCH_INFO,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_PTCH_INFO,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.GET_PTCH_INFO:this.isOpend()&&this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.RichFightInfoView=t,__reflect(t.prototype,"vm.RichFightInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.type_zu=0,e.type_rank=1,e.myrank=0,e.oldpvpid=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){for(var e,t=new skins.RichFightSkinDR,a=[ResName.mc_shuaguang2],i=[],n=0,o=a.length;o>n;n++)e=a[n],i=i.concat(ResName.getDragonFastArr(e));t.runto(this,i)},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;if(e){a.exchangebtn.label=Language.ins.btn_exchange,a.rewardbtn.label=Language.ins.rich_tip_27,a.rankbtn.label=Language.ins.rich_tip_28,a.fightbtn.label=Language.ins.btn_challenge,a.timetip.text=Language.ins.rich_tip_29,a.ftiptxt0.text=Language.ins.rich_tip_30,a.ptip.text=Language.ins.mark_tip10,a.tiptxt.text=Language.ins.rich_tip_31,a.ftiptxt1.text=Language.ins.rich_tip_32,a.ftiptxt3.text=Language.ins.rich_tip_34,a.ftiptxt4.text=Language.ins.rich_tip_35,a.ftiptxt5.text=Language.ins.rich_tip_36,a.ftiptxt6.text=Language.ins.rich_tip_37;var i=GlobalEnum.itemid_rong,n=GlobalConfig.getItemVo(i);a.itemimg.source=ResName.getMinItemIcon(i),a.itemnametxt.text=n.name}a.nametxt.text="",a.zhanlitxt.text="",a.scoretxt.text="0",a.fightbtn.visible=!1,utils.GameComUtil.setVisibleHitPanel(a.uptipG,a,!1,5),a.readPanelVo(),a.initPanel(),a.initAddEvent(),a.changeShow(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_richfight),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().fightProxy.NetGroupRequest(),GlobalAllProxy.getInstance().fightProxy.NetRankRequest();var o=a.datascrollC;o&&(o.stopAnimation(),o.viewport.scrollV=0),a.showfirstmc(!0),a.resizefun()},a.prototype.initPanel=function(){var e=this;utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeListData(this.datalistB),e.jibietxt.text="",e.zutxt.text="";var t=GlobalAllProxy.getInstance().fightProxy.richdata;if(t)for(var a in t.player)t.player[a].uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&(e.oldpvpvo=t.player[a].score,e.myrank=t.player[a].rankid)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;a.m_fristobj=null,a.removeEvent(),a.showArrowMc(!1),utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeListData(this.datalistB),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_lan]),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_rongyao_huang]),utils.GameComUtil.removeAnimoSelf(a[ResName.mc_shuaguang2]),utils.GameComUtil.removeTextFlow(this.lasttxt),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},a.prototype.readPanelVo=function(){var e=this;e.panelVo},a.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=GlobalAllProxy.getInstance().fightProxy.richdata,i=GlobalEnum.itemid_rong;if(e.itemtxt.text=GlobalAllProxy.getInstance().backpackProxy.getItemCount(i),a){var n=a.grade,o=GlobalConfig.getMathConfigVO(n),r=a.changes,s=a.changesDate.toString();if(-1!=r){var l=SaveUtil.getItem(SaveUtil.type_rech_mc_ishow);l!=s&&(SaveUtil.setItem(SaveUtil.type_rech_mc_ishow,s),GlobalAllProxy.getInstance().gameProxy.showMcAnimo(panelmc_type.type_richmc,r,o.icon))}var p=SaveUtil.getItem(SaveUtil.type_rech_sound_ishow);p!=s&&(SaveUtil.setItem(SaveUtil.type_rech_sound_ishow,s),SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_dayfristinrich)),e.zutxt.text=FormatString.format(Language.ins.rich_tip_1,a.number);var c=o.getdownnumArr();e.jibietxt.text=o.name+"",e.richimg.source=o.icon;var u,m=a.player,g=Manifest.getIns(FightDM),_=g.pvpdata,h=0;_&&!_.isPlayerOver&&(h=_.oppServerVo.uid);var d,y,v=m.length,f=0,b=0,G=parseInt(t.uid);for(d=0;v>d;d++)u=m[d],y=parseInt(u.uid),h?u.playtype=h==y?RichARender.play_type_play:RichARender.play_type_wait:u.playtype=RichARender.play_type_init,u.isdown=-1==c.indexOf(u.rankid.toString())?!1:!0,u.isup=Math.floor(o.upnum)==Math.floor(u.rankid)?!0:!1,y!=G&&(b++,u.result||f++);var x=f+"/"+b;FormatString.format(Language.ins.game_col,16376596,x);e.lasttxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.rich_tip_15,x)),v&&(u=m[0],e.showFirstPlayer(u,o));var C=[],T=[];e.infoG1.visible=!1,v=m.length;var P,A;if(o.rankid==GlobalConfig.minRichRankNum){for(d=1;v>d;d++)u=m[d],C.push(u);for(P=C.length,A=P;9>A;A++)C.push(null);e.showDataA(C,!1)}else{e.infoG1.visible=!0;for(d=1;v>d;d++)u=m[d],u.isdown?T.push(u):C.push(u);for(P=C.length,A=P;6>A;A++)C.push(null);for(P=T.length,A=P;3>A;A++)T.push(null);e.showDataA(C,!1),e.showDataB(T,!1),e.infoG1.visible=!0;var w=GlobalConfig.getMathConfigVO(n-1);w&&(e.tiptxt1.text=FormatString.format(Language.ins.rich_tip_11,w.name))}e.tiptxt0.text=FormatString.format(Language.ins.rich_tip_10,o.name),e.richinfo=a.coolingTime,e.richinfo>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.pranktxt0.text=utils.GameComUtil.getTimeNum(e.richinfo,!1),e.pranktxt0.textColor=16711680,e.timer.start()):(e.pranktxt0.text="00:00",e.pranktxt0.textColor=16376596)}},a.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().fightProxy.richdata;return a.coolingTime--,t.richinfo--,t.richinfo<0?(t.pranktxt0.text="00:00",t.pranktxt0.textColor=16376596,void(t.timer&&t.timer.stop())):void(t.pranktxt0.text=utils.GameComUtil.getTimeNum(t.richinfo,!1))},a.prototype.showFirstPlayer=function(e,t){var a=this,i=e;a.m_fristobj=e,t.rankid==GlobalConfig.maxRichRankNum?a.pranktxt.text=Language.ins.rich_tip_8:a.pranktxt.text=Language.ins.rich_tip_14,a.nametxt.text=i.name,a.zhanlitxt.text=Math.round(i.fighting)+"",a.scoretxt.text=i.score+"",a.fightbtn.visible=!1,a.tiptxt.visible=!1,a.presultimg.visible=!1,a.logoimg.setLogoUrl(i.logo),a.ismyimg.visible=!1,a.bgmc.visible=!1;var n=!1;if(i.uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid)n=!0,a.ismyimg.visible=!0,a.bgimgA.source="tab_xzs_f3",a.bgmc.visible=!0;else{a.bgimgA.source="tab_jjsn_c1";var o=!1;a.fightbtn.enabled=!0,a.fightbtn.label=Language.ins.rich_btn_1,i.playtype==RichARender.play_type_init||(i.playtype==RichARender.play_type_play?(a.fightbtn.label=Language.ins.rich_btn_2,o=!0):i.playtype==RichARender.play_type_wait&&(a.fightbtn.enabled=!1,o=!0)),o?a.fightbtn.visible=!0:i.result?(a.presultimg.source=ResName.getResuleImgStr(i.result),a.presultimg.visible=!0,a.tiptxt.visible=!0,utils.GameUtil.setColorGrey(a.findbtn,!0)):(a.fightbtn.visible=!0,utils.GameUtil.setColorGrey(a.findbtn,!1))}a.showArrowMc(n)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.PTCH_DATA_CHANGE,this.eventChange),e.addMessage(game.GameCommands.GET_PTCH_RANK,this.eventChange),e.addMessage(game.GameCommands.FIGHT_PLAY_OVER,this.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,this.eventChange),e.addMessage(game.GameCommands.RICH_REFRESH_COOLINGTIME,this.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.PTCH_DATA_CHANGE,this.eventChange),e.removeMessage(game.GameCommands.GET_PTCH_RANK,this.eventChange),e.removeMessage(game.GameCommands.FIGHT_PLAY_OVER,this.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,this.eventChange),e.removeMessage(game.GameCommands.RICH_REFRESH_COOLINGTIME,this.eventChange),TweenLite.killTweensOf(e.uptipG,!0),e.timer&&e.timer.stop()},a.prototype.eventChange=function(e,t){var a=(Manifest.getIns(FightDM),this);switch(t){case game.GameCommands.PTCH_DATA_CHANGE:this.isOpend()&&this.changeShow();break;case game.GameCommands.GET_PTCH_RANK:this.isOpend()&&this.changeShow(),a.showpveupTip();break;case game.GameCommands.FIGHT_PLAY_OVER:this.isOpend()&&e==FightEnum.type_pvp&&this.changeShow();break;case game.GameCommands.RICH_REFRESH_COOLINGTIME:this.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.showpveupTip=function(){var e=this,t=Manifest.getIns(FightDM);if(t){var a=t.pvpdata;if(t.clearpveupTip(),a&&!isNaN(a.nowid)){if(0!=e.oldpvpid&&e.oldpvpid==a.nowid)return;var i=0,n=0,o=GlobalAllProxy.getInstance().fightProxy.richdata;for(var r in o.player)o.player[r].uid==GlobalAllProxy.getInstance().playerProxy.playerinfo.uid&&(i=o.player[r].score,n=o.player[r].rankid);e.addjifentxt.text="+"+(i-e.oldpvpvo);var s=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;s&&s.peakInit&&(s.peakInit.score+=i-e.oldpvpvo),e.oldranktxt.text=""+e.myrank,e.newranktxt.text=""+n,e.oldpvpid=a.nowid,e.oldpvpvo=i,e.myrank=n,utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!0),TweenLite.killTweensOf(e.uptipG,!0),e.uptipG.alpha=0,e.uptipG.visible=!0,TweenLite.to(e.uptipG,.4,{alpha:1}),TweenLite.to(e.uptipG,.4,{alpha:0,delay:2,onComplete:e.showpveupTipOver.bind(e)})}}},a.prototype.showpveupTipOver=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.uptipG,e,!1,5)},a.prototype.touchTapFun=function(t){var a=this;switch(t.target){case a.m_toppanel.closebtn:a.close();break;case a.closebtn:a.close();break;case a.rewardbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richzureward]);break;case a.rankbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_rich_weekrank]);break;case a.findbtn:a.m_fristobj&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richfightinfo],{uid:a.m_fristobj.uid,iszu:!0});break;case a.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop,e.ShopBgView.type_rong]);break;case a.fightbtn:if(a.isopen()){if(a.m_fristobj)if(a.m_fristobj.playtype==RichARender.play_type_play){var i=PanelDM.getIns();i.goWindow([GlobalViewIDEnum.pType_gamemain,FightEnum.type_pvp])}else a.m_fristobj.playtype==RichARender.play_type_init&&(a.richinfo>0?FLOAT.NShowPutong([Language.ins.rich_tip_16]):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_fight_prewar],new SBattleRequest(FightEnum.type_pvp,a.m_fristobj.uid,!0)))}else FLOAT.NShowPutong([Language.ins.rich_tip_44]);break;case a.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop,e.ShopBgView.type_rong]);break;case a.refreshbtn:var n=GlobalAllProxy.getInstance().fightProxy.richdata;if(n.coolingTime>0){var o=new AlertVO;o.info=FormatString.format(Language.ins.fight_ti32),o.showCancel=!0,o.okLabel=Language.ins.game_ok,o.tipbl=!0,o.tipstr=Language.ins.fight_tip4,o.tipitemid=GlobalEnum.itemid_ug,o.tipcostid=ug_cost_type.fight_rich_clearcd,o.tipitemnum=ParamLoader.instance.ServerPeakCDCost,JAlert.show(o,Language.ins.fight_tip34,a.clickfastbuy,a)}}},a.prototype.isopen=function(){var e=!0,t=ParamLoader.instance.ServerPeakStart,a=ParamLoader.instance.ServerPeakEnd,i=t.split(":"),n=a.split(":"),o=60*+i[0]*60+60*+i[1]+ +i[2],r=60*+n[0]*60+60*+n[1]+ +n[2],s=new Date(Global.systemTimeNum),l=60*s.getHours()*60+60*s.getMinutes()+s.getSeconds();return e=r>l||l>o?!0:!1},a.prototype.getchoosemc=function(e){var t,a=this;t=e?ResName.mc_rongyao_lan:ResName.mc_rongyao_huang;var i=utils.GameComUtil.getArmature(t,t,a,!0);return i&&(i.touchChildren=!1,i.touchEnabled=!1),i},a.prototype.showfirstmc=function(e){var t=this,a=ResName.mc_shuaguang2,i=utils.GameComUtil.getArmature(a,a,t,!0);i&&(e?i.isPlaying||(i.animation.play("effect"),t.firstmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.clickfastbuy=function(){GlobalAllProxy.getInstance().playerProxy.NetRefreshCoolingTime()},a.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalistA;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=RichARender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalistB;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=RichARender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.showArrowMc=function(e){void 0===e&&(e=!0);var t=this,a=t.bgguangG;if(a)if(egret.Tween.removeTweens(a),e){a.visible=!0;var i=.95,n=1.02;a.scaleX=i,a.scaleY=i,egret.Tween.get(a,{loop:!0}).to({scaleX:n,scaleY:n},400).to({scaleX:i,scaleY:i},400)}else a.visible=!1},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.RichFightView=t,__reflect(t.prototype,"vm.RichFightView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RichRankRewardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.tiptxt0.text=Language.ins.rich_tip_38,a.tiptxt2.text=Language.ins.rich_tip_39,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_rich_rankreward),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e,t,a=this,i=GlobalConfig.rankmathweek_DATE,n=[],o=GlobalAllProxy.getInstance().fightProxy.weekRankdata,r=0;o&&(r=o.rank),a.tiptxt1.text=Language.ins.rich_tip_12;for(var s in i)e=i[s],t=new RichRewardListVO,e.minrank==e.maxrank?t.namestr=FormatString.format(Language.ins.rich_tip_4,e.minrank):t.namestr=FormatString.format(Language.ins.rich_tip_4,e.minrank+"-"+e.maxrank),t.id=e.id,t.logo="",t.rewardlist=utils.GameComUtil.getItemVoArr(e.rankrew,[]),r>=e.minrank&&r<=e.maxrank?(a.tiptxt1.text=t.namestr,a.iawardlist.setGroupAlign("right"),a.iawardlist.setDataArr(utils.GameComUtil.getItemVoArr(e.rankrew,[]),"",!1,!0),t.showChoose=!0):t.showChoose=!1,n.push(t);a.showData(n,!0)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=RichRankReRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.RichRankRewardView=t,__reflect(t.prototype,"vm.RichRankRewardView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RichRankSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.ftiptxt0.text=Language.ins.guild_tip65,a.ftiptxt1.text=Language.ins.game_club_s,a.ftiptxt2.text=Language.ins.rich_tip_17,a.ftiptxt3.text=Language.ins.rich_tip_40,a.ftiptxt4.text=Language.ins.guild_tip68,a.ftiptxt5.text=Language.ins.game_zhanli_s,a.ftiptxt6.text=Language.ins.rich_tip_39,a.ftiptxt7.text=Language.ins.rich_tip_41,a.labelDisplay.text=Language.ins.rich_tip_42,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_rich_weekrank),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo,a=GlobalAllProxy.getInstance().fightProxy.weekRankdata;if(a){e.showData(a.player,!1),e.ranktxt.text=a.rank,a.rank>1e3&&(e.ranktxt.text="1000+"),e.scoretxt.text=a.score,e.zhanlitxt.text=Math.round(a.fighting),e.nametxt.text=t.club_name;for(var i in a.player)if(a.player[i].uid==t.uid){var n=GlobalConfig.getMathConfigVO(a.player[i].grade);e.logoimg0.source=n.icon}e.logoimg.setLogoUrl(t.logo);parseInt(a.rank)}e.rankicon0.visible=!0,e.ranktxt.visible=!1,1==a.rank?e.rankicon0.source="tab_jjsn_d7":2==a.rank?e.rankicon0.source="tab_jjsn_d8":3==a.rank?e.rankicon0.source="tab_jjsn_d9":(e.rankicon0.visible=!1,e.ranktxt.visible=!0)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalistA;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=RichRankRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.rewardbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_richrankreward])}},t}(e.VM);e.RichRankView=t,__reflect(t.prototype,"vm.RichRankView")}(vm||(vm={}));var RichRewardListVO=function(){function e(){}return e}();__reflect(RichRewardListVO.prototype,"RichRewardListVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RichZuRewardPanelDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.ftiptxt0.text=Language.ins.rich_tip_43,a.ftiptxt1.text=Language.ins.rich_tip_19,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_rich_zureward_info),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e,t,a=this,i=GlobalConfig.rankmathconfig_DATE,n=[],o=0,r=GlobalAllProxy.getInstance().fightProxy.richdata;r&&(o=r.grade);for(var s in i)e=i[s],t=new RichRewardListVO,t.namestr=e.name,t.id=e.rankid,t.logo=e.icon,t.rewardlist=utils.GameComUtil.getItemVoArr(e.dailyrew,[]),t.showChoose=t.id==o?!0:!1,t.showChoose&&(a.logoimg.source=t.logo,a.iawardlist0.setGroupAlign("right"),a.iawardlist0.setDataArr(utils.GameComUtil.getItemVoArr(e.dailyrew,[]),"","",!0)),n.push(t);n.sort(utils.GameUtil.sortMatckFun(["id"],[1])),a.showData(n,!0)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=RichZuRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascroll;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.RichZuRewardPanel=t,__reflect(t.prototype,"vm.RichZuRewardPanel")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.m_isshowmc=!1,e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){for(var e=new skins.ScoutBgSkinDR,t=[],a=[ResName.mc_zhaomuzhu_blue,ResName.mc_zhaomuzhu_gold,ResName.mc_center_yizhang],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},a.prototype.getAdvanceStrArr=function(){for(var e,t=[ResName.fx_seekPlayer_F],a=["tab_kapai_b4"],i=0,n=t.length;n>i;i++)e=t[i],a=a.concat(ResName.getDragonFastArr(e));return a},a.prototype.getAdvanceDRArr=function(){return[skins.ScoutRecruitInfoSkinDR]},a.prototype.onShow=function(e){var a=this;if(a.fold_5_group.touchEnabled=a.fold_5_group.touchChildren=!1,a.fold_8_group.touchEnabled=a.fold_8_group.touchChildren=!1,t.prototype.onShow.call(this,e),a.m_chooseType=0,a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.setIsPlayMc(!1),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_scout),a.addChild(a.m_toppanel),e){a.recruitbtn0.label=Language.ins.scout_tip14,a.recruitbtn1.label=Language.ins.scout_tip15,a.recruitbtn2.label=Language.ins.scout_tip14,a.recruitbtn3.label=Language.ins.scout_tip15,a.recruittip0.text=Language.ins.scout_tip16,a.recruittip1.text=Language.ins.scout_tip17,a.tiptxt.text=Language.ins.scout_tip18,a.rluckbar.ShowLabel=!0;var i=GlobalEnum.itemid_qiutan;a.itemimg1.source=ResName.getMinItemIcon(i);var n=GlobalConfig.getItemVo(i);a.nametxt0.text=n.name,i=GlobalEnum.itemid_qiucar,a.itemimg.source=ResName.getMinItemIcon(i),n=GlobalConfig.getItemVo(i),a.nametxt.text=n.name,a.fold_8_TF.text=Language.ins.scout_tip39,a.fold_5_TF.text=Language.ins.scout_tip40}utils.GameComUtil.setVisibleHitPanel(a.whiterect,a,!1),a.showcarMcA(!0),a.showcarMcB(!0),a.resizefun()},a.prototype.changedata=function(){var e=this,t=GlobalEnum.itemid_qiutan,a=GlobalAllProxy.getInstance().backpackProxy.getItemCount(t);e.numtxt1.text=utils.GameUtil.getNumToStr(a),t=GlobalEnum.itemid_qiucar,a=GlobalAllProxy.getInstance().backpackProxy.getItemCount(t),e.numtxt.text=a;var i=GlobalAllProxy.getInstance().playerProxy.scoutData;if(i){var n=i.luck,o=ParamLoader.instance.ScoutSSRLucky;n%=o,e.rluckbar.setValue(n,o)}},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype)},a.prototype.changeshow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scoutData,a=GlobalAllProxy.getInstance().playerProxy.clubData;if(t){for(var i,n,o,r,s,l,p,c,u,m,g,l,_=[0,t.expertsNum,0,t.masterNum],h=ParamLoader.instance.ServerScoutTimes,d=h[0],y=h[1],v=[0,d,0,y],f=GlobalAllProxy.getInstance().backpackProxy,b=0;4>b;b++)n=b+1,i=GlobalConfig.getScoutRatioVO(n,a.grade),i&&(o=i.getcostArr(),m=o[0],g=o[1],l=f.getItemCount(m),e["ritemimg"+b].source=ResName.getMinItemIcon(m),b>=2?e["ritemtxt"+b].text=l+"/"+g:e["ritemtxt"+b].text=g),r=t.getPlayerInfo(n),s=e["masttxt"+b],u=_[b],p=v[b],p&&p>=u?s&&(2==n?(c=Language.ins.scout_tip9,s.textFlow=utils.GameComUtil.getHtmlText(c)):4==n&&(c=Language.ins.scout_tip8,s.textFlow=utils.GameComUtil.getHtmlText(c))):s&&(s.visible=!1);e.rluckbar.ShowLabel=!0;var G=t.luck,x=ParamLoader.instance.ScoutSSRLucky;G%=x,e.rluckbar.setValue(G,x);var C=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(C&&C.scoutReward){var T=C.scoutReward;T.totalScoutTimes,T.scoutRewardList,GlobalConfig.getComActivityshangjingVO(T.actRelationId);e.fold_5_group.visible=0==T.todayScoutBuyTimes,e.fold_8_group.visible=T.todayScoutBuyTimes>=1}else e.fold_5_group.visible=!1,e.fold_8_group.visible=!1}e.changeTipMC();var P=GlobalAllProxy.getInstance().activityProxy.rankactivityArr;P&&P.recruitInit?e.huodongimg.visible=!0:e.huodongimg.visible=!1,e.showchangeLibrary();var A=ParamLoader.instance,w=1e3*A.ServerScoutOpen,k=1e3*A.ServerScoutClose,I=Global.systemTimeNum;e.librarybtn.visible=!1,e.tipG2.visible=!1,I>=w&&k>=I&&(e.librarybtn.visible=!0,e.tipG2.visible=!0);var S=GlobalAllProxy.getInstance().playerProxy.scoutPoolEndTime,E=parseInt(Global.systemTimeNum/1e3+"");e.richinfo=S-E,e.richinfo>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),e.timetxt.text=utils.GameComUtil.getTimeNum(e.richinfo,!0),e.timer.start()):e.timetxt.text="00:00:00",GlobalAllProxy.getInstance().playerProxy.scoutPool?(e.timetxt.visible=!0,e.librarybtn.visible=!0):(e.timetxt.visible=!1,e.librarybtn.visible=!1)},a.prototype.timerFunc1=function(e){var t=this;return t.richinfo--,t.richinfo<=0?(t.timetxt.text="00:00:00",void(t.timer&&t.timer.stop())):void(t.timetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0))},a.prototype.showchangeLibrary=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.teamType,a=GlobalConfig.getScoutTypeVO(t);
a&&(e.tiptxt2.text=a.des)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;a.setIsPlayMc(!1),a.m_chooseType=0;for(var i,n,o=[ResName.mc_zhaomuzhu_blue,ResName.mc_zhaomuzhu_gold,ResName.fx_seekPlayer_F],r=0,s=o.length;s>r;r++)i=o[r],n=a[i],n&&(utils.GameComUtil.removeAnimoSelf(n),i==ResName.fx_seekPlayer_F&&n.removeEventListener(dragonBones.EventObject.COMPLETE,this.animoplayerB,this));this.removeAddEvent();for(var l,r=0;4>r;r++)l=a["masttxt"+r],utils.GameComUtil.removeTextFlow(l);a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.SCOUT_SHOW_OVER,e.eventchange),e.addMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventchange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventchange),e.addMessage(game.GameCommands.SCOUT_CHANGE_LIBRARY,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange)},a.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_SHOW_OVER,e.eventchange),e.removeMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_CHANGE_LIBRARY,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange)},a.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.MY_INFO_CHANGW:case game.GameCommands.SCOUT_SHOW_OVER:a.changedata();break;case game.GameCommands.SCOUT_RECRUIT_CHANGE:a.m_chooseType=0;var i=e;a.m_recruitType=i.type,a.changeshow(),a.loadanimo(i);break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:a.changeshow();break;case game.GameCommands.MAIN_ITEM_GET_OVER:a.m_chooseType&&(a.recruitfun(a.m_chooseType),a.m_chooseType=0);break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.SCOUT_CHANGE_LIBRARY:a.showchangeLibrary();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},a.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_qiucar,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o);break;case t.itemG1:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_qiutan,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG1,n,i,o);break;case t.recruitbtn0:t.recruitfun(recruitType.type_expert);break;case t.recruitbtn1:t.recruitfun(recruitType.type_expert_ten);break;case t.recruitbtn2:t.recruitfun(recruitType.type_master);break;case t.recruitbtn3:t.recruitfun(recruitType.type_master_ten);break;case t.marketG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_market]);break;case t.librarybtn:case t.tipG2:GlobalAllProxy.getInstance().playerProxy.scoutPool&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout_library]);break;case t.huodongimg:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_rank_activity],GlobalEnum.activity_rank_recruit);break;case t.rluckG:t.openluckFun()}},a.prototype.openluckFun=function(){var e=this,t=ParamLoader.instance.ScoutSSRLucky,a=FormatString.format(Language.ins.scout_tip12,t);utils.GameComUtil.ShowTip(e.rluckG,0,game.TipSimpleObject.type_common,a)},a.prototype.recruitfun=function(e){var t=this,a=!1;t.m_chooseType=e;var i,n,o,r,s,l,p=GlobalAllProxy.getInstance().playerProxy.clubData,c=GlobalConfig.getScoutRatioVO(e,p.grade),u=GlobalAllProxy.getInstance().backpackProxy;if(c)if(i=c.getcostArr(),n=i[0],o=i[1],r=u.getItemCount(n),r>=o)a=!0;else if(e>=recruitType.type_master){if(s=GlobalConfig.getItemVo(n)){var m=s.getShopArr(),g=m.length;if(g){var _;if(g&&(_=m[0][0]),g>1){var h,d,y,v=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var f in m)if(d=m[l],y=+d[0],h=GlobalConfig.getShopVO(y),v>=h.lvlimit){_=y;break}}var b=new ShopBuyViewOpenVO(_,1);return g?void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],b):void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,s.objectid],b)}if(0!=+s.guild)return void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_secretary,1],s.guild)}}else a=!0;if(a){var G=GlobalAllProxy.getInstance().playerProxy.scoutData,x=GlobalAllProxy.getInstance().playerProxy.teamType;x||(x=0),G&&GlobalAllProxy.getInstance().playerProxy.NetScoutRecruit(e,x)}else FLOAT.NShowPutong([Language.ins.game_tip3])},a.prototype.loadanimo=function(e){var t=[ResName.fx_seekPlayer_F],a=e.player;if(a)for(var i,n,o,r,s=0,l=a.length;l>s;s++)if(i=a[s],i.playerItemId&&(o=GlobalConfig.getItemVo(i.playerItemId),o&&(n=GlobalConfig.getPlayerPorpertyVO(parseInt(o.parameter)))))switch(n["class"]){case playertrait.trait_R:r=ResName.fx_seekPlayer_blueCard,-1==t.indexOf(r)&&t.push(r);break;case playertrait.trait_SR:r=ResName.fx_seekPlayer_purCard,-1==t.indexOf(r)&&t.push(r),r=ResName.mc_car_golden,-1==t.indexOf(r)&&t.push(r);break;case playertrait.trait_SSR:r=ResName.fx_seekPlayer_goldCard,-1==t.indexOf(r)&&t.push(r),r=ResName.mc_car_golden,-1==t.indexOf(r)&&t.push(r);break;case playertrait.trait_UR:r=ResName.fx_seekPlayer_urCard,-1==t.indexOf(r)&&t.push(r),r=ResName.mc_car_golden,-1==t.indexOf(r)&&t.push(r)}for(var p,c=this,u=[],m=0,g=t.length;g>m;m++)p=t[m],u=u.concat(ResName.getDragonFastArr(p));c.setIsPlayMc(!0);var _=ResName.animo_recruit_player;LoadingMaskView.show(_),RES.createGroup(_,u,!0),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,c.groupComplete_res,c),RES.loadGroup(_)},a.prototype.showcarMcA=function(e){var t=this,a=ResName.mc_zhaomuzhu_blue,i=utils.GameComUtil.getArmature(a,a,t);i&&(t.recruitbg0.visible=!e,e?(i.animation.play("effect"),t.recruitmcG0.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showcarMcB=function(e){var t=this,a=ResName.mc_zhaomuzhu_gold,i=utils.GameComUtil.getArmature(a,a,t);i&&(t.recruitbg1.visible=!e,e?(i.animation.play("effect"),t.recruitmcG1.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.setIsPlayMc=function(e){var t=this;t.m_isshowmc=e,t.touchChildren=!e},a.prototype.groupComplete_res=function(t){var a=this,i=ResName.animo_recruit_player,n=t.groupName;if(n==i)if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,a.groupComplete_res,a),LoadingMaskView.remove(i),PanelDM.getIns().isOpend(e.ScoutRecruitInfoView)){var o=new ScoutRecruitInfoViewOpenVO(a.m_recruitType,!0);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scoutinfo],o),a.setIsPlayMc(!1)}else a.showanimo()},a.prototype.showanimo=function(){var e=this,t=ResName.fx_seekPlayer_F,a=utils.GameComUtil.getArmature(t,t,e);a&&(SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_recruitstart),FLOAT.$STAGE.addChild(a),a.y=-15,a.animation.play("effect",1),a.addEventListener(dragonBones.EventObject.COMPLETE,this.animoplayerB,this))},a.prototype.animoplayerB=function(e){var t=this,a=ResName.fx_seekPlayer_F,i=t[a];i&&utils.GameComUtil.removeAnimoSelf(i),utils.GameComUtil.setVisibleHitPanel(t.whiterect,t,!0);var n=new ScoutRecruitInfoViewOpenVO(t.m_recruitType,!0);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scoutinfo],n),t.setIsPlayMc(!1)},a.prototype.hitMaskRect=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.whiterect,e,!1)},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcScoutRecruit(t.getTipForArr(null,[GlobalEnum.tipmc_recruitexpert])),e.showTipScoutTime(t.getTipForArr(null,[GlobalEnum.tipmc_transfer_time]))},a.prototype.showTipScoutTime=function(e){var t=this,a=e,i=t.marketG,n="tipmcmarketG";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.headG.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcScoutRecruit=function(e){var t=this,a=e,i=t.recruitbtn1,n="tipmcrecruitbtn1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.recruitbtnG1.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a.type_recruit=0,a}(e.VM);e.ScoutBgView=t,__reflect(t.prototype,"vm.ScoutBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.gradeLv=1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ScoutExtraUnlockSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.ftiptxt0.text=Language.ins.scout_tip19,a.ftiptxt1.text=Language.ins.scout_tip20,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_scout_unlock),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().playerProxy.playerArr;a.sort(utils.GameUtil.sortMatckFun(["card_trait"],[1]));var i,n=[],o=a;for(var r in o)+o[r].stars>=4&&(i=new ScoutUnlockRenderVO,i.vo=GlobalConfig.getPlayerPorpertyVO(+o[r].playerid),n.push(i));t.showData(n,e),n.length<=0?t.tipG.visible=!0:t.tipG.visible=!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ScoutUnlockRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;a.islock?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0)):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0)),t.datalist.selectedIndex=-1}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ScoutUnlockRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.ScoutExtraUnlockPanel=t,__reflect(t.prototype,"vm.ScoutExtraUnlockPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ScoutLibrarySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.m_chooseN=0,a.m_maxnum=0,a.m_chooseteamtype=GlobalAllProxy.getInstance().playerProxy.teamType,a.initAddEvent(),a.readPanelVO(),t&&(a.okbtn.label=Language.ins.btn_ok,a.scoutCardPoolRefreshBtn.label=Language.ins.btn_refresh_now,a.timetiptxt.text=Language.ins.scout_tip36,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_scout_libray),a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalistB),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},t.prototype.changeShow=function(e){var t,a,i,n,o=this,r=new Date,s=ParamLoader.instance;r.setTime(1e3*s.ServerScoutOpen),r.getUTCMonth(),t=r.getMonth()+1,a=r.getDate(),r.setTime(1e3*s.ServerScoutClose),i=r.getMonth()+1,n=r.getDate();var l=FormatString.format(Language.ins.scout_tip11,t,a,i,n);o.tiptxt.text=l,o.changeTypeList(),o.changechooseType(),o.panel_bg.titlename.text=Language.ins.title_scout_libray;var p=GlobalAllProxy.getInstance().playerProxy.scoutPoolEndTime,c=parseInt(Global.systemTimeNum/1e3+"");o.richinfo=p-c,o.richinfo>0?(o.timer||(o.timer=new egret.Timer(1e3),o.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),o.timetxt.text=utils.GameComUtil.getTimeNum(o.richinfo,!0),o.timer.start()):o.timetxt.text="00:00:00"},t.prototype.timerFunc1=function(e){var t=this;return t.richinfo--,t.richinfo<=0?(t.timetxt.text="00:00:00",void(t.timer&&t.timer.stop())):void(t.timetxt.text=utils.GameComUtil.getTimeNum(t.richinfo,!0))},t.prototype.changeTypeList=function(){var e=this,t=GlobalConfig.scouttype_data,a=GlobalAllProxy.getInstance().playerProxy.scoutPool,i=GlobalConfig.getCardPoolVO(a),n=i.scouttypes.split(","),o=[];if(i)for(var r=0,s=t.length;s>r;r++)for(var l=0,p=n.length;p>l;l++)t[r].drawtype==+n[l]&&o.push(t[r]);e.m_maxnum=Math.ceil(o.length);var c=e.m_chooseN;e.leftbtn.visible=!1,e.rightbtn.visible=!1,c+4>=e.m_maxnum?c=e.m_maxnum-4:e.rightbtn.visible=!0,0>=c?c=0:e.leftbtn.visible=!0,e.m_maxnum=c;for(var u,m,g=e.m_chooseteamtype,_=[],h=c,d=o.length,r=0;4>r;r++)u=h+r,m=o[u],m.ischoose=g==m.drawtype?1:0,d>u?_.push(m):_.push(null);e.showDataA(_,!0,!1)},t.prototype.changechooseType=function(){var e,t,a,i,n=this,o=n.m_chooseteamtype,r=GlobalConfig.getScoutPlayerArrForType(o),s=[],l=GlobalAllProxy.getInstance().playerProxy;a=l.getOwnPlayerIds(),i=l.getOwnBackCarPlayerIds();for(var p=0,c=r.length;c>p;p++)e=new ScoutUnlockRenderVO,t=r[p],e.vo=GlobalConfig.getPlayerPorpertyVO(t),e.isown=0,-1!=a.indexOf(t)?e.isown=1:-1!=i.indexOf(t)&&(e.isown=2),s.push(e);n.showDataB(s,!0,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.ScoutLibrary_ChangeCardPool,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistB.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;a&&(t.m_chooseteamtype=a.drawtype,t.changeTypeList(),t.changechooseType())},t.prototype.listchangeB=function(e){var t=this,a=t.datalistB.selectedItem;a&&GlobalAllProxy.getInstance().playerProxy.showheroinfo(a.vo,!1,1)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalistB.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.removeMessage(game.GameCommands.ScoutLibrary_ChangeCardPool,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.ScoutLibrary_ChangeCardPool:a.changeShow(!1)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.panel_bg.closebtn:case t.okbtn:t.chooseClose();break;case t.leftbtn:t.m_chooseN--,t.changeTypeList();break;case t.rightbtn:t.m_chooseN++,t.changeTypeList();break;case t.lookG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_scout_preview]);break;case t.scoutCardPoolRefreshBtn:var a=new AlertVO;a.showCancel=!0;var i="";if(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel>=ParamLoader.instance.RefreshPoolVIP){var n=GlobalConfig.getPriceVO(GlobalAllProxy.getInstance().playerProxy.todayReflashTime+1);i=Language.ins.scout_tip43,a.tipbl=!0,a.tipstr=Language.ins.fight_tip4,a.tipitemid=GlobalEnum.itemid_ug,a.tipitemnum=n.poolrefresh,a.info=i,JAlert.show(a,Language.ins.title_card_pool_refresh,t.refreshCar,t)}else i=FormatString.format(Language.ins.scout_tip44,ParamLoader.instance.RefreshPoolVIP),a.okLabel=Language.ins.btn_now_go,a.info=i,JAlert.show(a,Language.ins.title_upgrade_vip,t.alercostfun,t)}},t.prototype.refreshCar=function(){var e=this,t=GlobalConfig.getPriceVO(GlobalAllProxy.getInstance().playerProxy.todayReflashTime+1);if(GlobalAllProxy.getInstance().playerProxy.playerinfo.stone>=t.poolrefresh)GlobalAllProxy.getInstance().gameProxy.NetSendActivityChangeCardPool();else{var a=Language.ins.no_ug_tip,i=new AlertVO;i.okLabel=Language.ins.btn_go_pay,i.info=a,JAlert.show(i,Language.ins.title_tishi,e.alercostfun,e)}},t.prototype.alercostfun=function(){PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay])},t.prototype.chooseClose=function(){var e=this;GlobalAllProxy.getInstance().playerProxy.teamType=e.m_chooseteamtype,e.close(),e.sendMessage(game.GameCommands.SCOUT_CHANGE_LIBRARY)},t.prototype.showDataB=function(e,t,a){var i=this,n=e,o=i.datalistB;if(o.itemRenderer?a?i.datalist.dataProvider.refresh():o.dataProvider=new eui.ArrayCollection(n):(o.itemRenderer=ScoutUnlockRender,o.dataProvider=new eui.ArrayCollection(n)),t){var r=i.datascrollB;r&&(r.stopAnimation(),r.viewport.scrollV=0)}},t.prototype.showDataA=function(e,t,a){var i=this,n=e,o=i.datalist;o.itemRenderer?a?i.datalist.dataProvider.refresh():o.dataProvider=new eui.ArrayCollection(n):(o.itemRenderer=ScoutLibraryRender,o.dataProvider=new eui.ArrayCollection(n))},t}(e.VM);e.ScoutLibraryView=t,__reflect(t.prototype,"vm.ScoutLibraryView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.herolist=[],e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.ScoutMarketSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;if(TipMcVO.isinmarket=!0,a.initAddEvent(),a.readPanelVo(),e){a.ftiptxt0.text=Language.ins.scout_tip21,a.ftiptxt1.text=Language.ins.scout_tip22,a.ftiptxt2.text=Language.ins.scout_tip25,a.ftiptxt3.text=Language.ins.scout_tip26,a.exchangebtn.label=Language.ins.scout_tip23,a.huishoubtn.label=Language.ins.scout_tip24,a.refreshbtn.label=Language.ins.scout_tip27;var i=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;i||GlobalAllProxy.getInstance().playerProxy.NetScoutMarket(0);var n=GlobalEnum.itemid_qiucar;a.itemimg.source=ResName.getMinItemIcon(n);var o=GlobalConfig.getItemVo(n);a.nametxt.text=o.name}a.showTar(),a.changeShow()},a.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_scoutmarket;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},a.prototype.onHide=function(e){var a=this;t.prototype.onHide.call(this,e),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist0),utils.GameComUtil.removeListData(this.datalist1),EventBus.getIns().sendMessage(game.GameCommands.TIP_MC_CHANGE)},a.prototype.changeShow=function(t){void 0===t&&(t=!1);var a=this;a.infoheroG.visible=!1,a.infoitemG.visible=!1;var i=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;if(i){var n=i.refreshTime;if(n>0?(a.timer||(a.timer=new egret.Timer(1e3),a.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),a.tiptxt.visible=!0,PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?a.tiptxt.text=FormatString.format(Language.ins.title_scout_market,utils.GameComUtil.getTimeNum(n,!0)):a.tiptxt.text=utils.GameComUtil.getTimeNum(n,!0)+"  "+Language.ins.title_scout_market,a.timer.start()):a.tiptxt.visible=!1,a._choosemode==e.ScoutMarketView.type_hero){a.infoheroG.visible=!0;var o,r=[];a.herolist=[];for(var s in i.item)o=new ScoutMarketRenderVO,o.vo=GlobalConfig.getPlayerPorpertyVO(+i.item[s].pid),o.num=+i.item[s].num,r.push(o),a.herolist.push(o);a.showData(r,t)}else if(a._choosemode==e.ScoutMarketView.type_item){a.infoitemG.visible=!0;var l,p,c=GlobalConfig.shop_DATA,u=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,m=showitemtype.type_qiutan+1,g=GlobalAllProxy.getInstance().backpackProxy,_=[];for(var s in c)p=c[s],p.shoptype==m&&p.lvlimit<u&&(l=new ShopHotRenderVO,l.vo=p,l.rank=p.rank,l.buynum=g.getShopNum(p.id),_.push(l));_.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),a.showDataB(_,t)}a.changeData()}a.changeTipMC()},a.prototype.changeData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;if(t){var a=ParamLoader.instance.ServerTransferFresh-t.refreshCnt;a?e.numtxt0.textColor=ColorUtil.white:e.numtxt0.textColor=ColorUtil.red,e.numtxt0.text=a+"/"+ParamLoader.instance.ServerTransferFresh;var i=GlobalEnum.itemid_qiucar,n=GlobalAllProxy.getInstance().backpackProxy.getItemCount(i);e.numtxt.text=n}},a.prototype.timerFunc1=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;if(!a)return t.tiptxt.visible=!1,void t.timer.stop();var i=a.refreshTime;return 0>=i?(t.tiptxt.visible=!1,void t.timer.stop()):void(PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?t.tiptxt.text=FormatString.format(Language.ins.title_scout_market,utils.GameComUtil.getTimeNum(i,!0)):t.tiptxt.text=utils.GameComUtil.getTimeNum(i,!0)+"  "+Language.ins.title_scout_market)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SCOUT_MARKET_INFO,e.eventchange),e.addMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SCOUT_MARKET_INFO,e.eventchange),e.removeMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},a.prototype.eventchange=function(e,t){switch(t){case game.GameCommands.SCOUT_MARKET_INFO:case game.GameCommands.SHOP_DATA_CHANGE:this.changeShow();break;case game.GameCommands.BACKPACK_DATACHANGE:this.changeData();break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC()}},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.touchTapFun=function(t){var a=this;switch(t.target){case a.closebtn:a.close();break;case a.exchangebtn:a.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heromarket]);break;case a.huishoubtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpack,e.BackPackBgView.type_hero]);break;case a.refreshbtn:if(a.herolist.length>0)for(var i=0,n=a.herolist.length;n>i;i++){if(a.herolist[i].vo["class"]>=4){var o=FormatString.format(Language.ins.fight_tip124),r=new AlertVO;r.info=o,r.okLabel=Language.ins.game_ok,JAlert.show(r,Language.ins.title_refresh,a.clickupdata,a);break}i>=n-1&&a.clickupdata()}else a.clickupdata()}},a.prototype.clickupdata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;if(t.refreshCnt>=ParamLoader.instance.ServerTransferFresh){var a=GlobalConfig.getPriceVO(t.diamondCnt+1),i=0;if(a&&(i=+a.transfer),+i>0){var n=GlobalConfig.getItemVo(GlobalEnum.itemid_qiucar),o=FormatString.format(Language.ins.fight_ti33,n.name),r=new AlertVO;r.info=o,r.showCancel=!0,r.okLabel=Language.ins.game_ok,r.tipbl=!0,r.tipstr=Language.ins.fight_tip4,r.tipitemid=GlobalEnum.itemid_qiucar,r.tipcostid=ug_cost_type.scout_m_resh,r.tipitemnum=i,JAlert.show(r,Language.ins.title_refresh,e.clickfastbuy,e)}}else GlobalAllProxy.getInstance().playerProxy.NetScoutMarket(1)},a.prototype.clickfastbuy=function(){GlobalAllProxy.getInstance().playerProxy.NetScoutMarket(1)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist0;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ScoutMarketRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist1;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopHotRender,n.dataProvider=new eui.ArrayCollection(i))},a.prototype.listchangeB=function(e){var t=this,a=t.datalist1.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player||r==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist1.selectedIndex=-1}},a.prototype.changeTipMC=function(){var e=this,t=(GlobalAllProxy.getInstance().gameProxy,!1),a=GlobalAllProxy.getInstance().playerProxy.scoutMarkdata;a&&a.refreshCnt<=0&&(t=!0),e.showTipScoutTime(t)},a.prototype.showTipScoutTime=function(e){var t=this,a=e,i=t.refreshbtn,n="tiprefreshbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.infoheroG.addChild(t[n]),t[n].visible=a)},a.type_hero=0,a.type_item=1,a}(e.VM);e.ScoutMarketView=t,__reflect(t.prototype,"vm.ScoutMarketView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ScoutPreSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.scout_tip35),a.changeShow(!0)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){var t=this;t.changeTypeList()},t.prototype.changeTypeList=function(){var e=this,t=GlobalConfig.scouttype_data,a=GlobalAllProxy.getInstance().playerProxy.scoutPool+1,i=GlobalConfig.getCardPoolVO(a);i||(i=GlobalConfig.getCardPoolVO(1));var n=i.scouttypes.split(","),o=[];if(i)for(var r=0,s=t.length;s>r;r++)for(var l=0,p=n.length;p>l;l++)t[r].drawtype==+n[l]&&o.push(t[r]);for(var c,u,m=[],g=0,_=o.length,r=0;4>r;r++)c=g+r,u=o[c],u.ischoose=0,_>c?m.push(u):m.push(null);e.showDataA(m,!0,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.panel_bg.closebtn:t.close()}},t.prototype.showDataA=function(e,t,a){var i=this,n=e,o=i.datalist;o.itemRenderer?a?i.datalist.dataProvider.refresh():o.dataProvider=new eui.ArrayCollection(n):(o.itemRenderer=ScoutLibraryRender,o.dataProvider=new eui.ArrayCollection(n))},t}(e.VM);e.ScoutPreView=t,__reflect(t.prototype,"vm.ScoutPreView")}(vm||(vm={}));var ScoutRecruitInfoViewOpenVO=function(){function e(e,t){this.type=e,this.showanimo=t}return e}();__reflect(ScoutRecruitInfoViewOpenVO.prototype,"ScoutRecruitInfoViewOpenVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.type_showinit=0,e.type_showcar=1,e.type_showcarok=2,e.type_hitcar=3,e.type_hitcarok=4,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.top},a.prototype.startLoadRes=function(){var e=new skins.ScoutRecruitInfoSkinDR,t=ResName.getDragonFastArr(ResName.mc_center_yizhang);e.runto(this,t)},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.whiterect.visible=!1,a.m_showcaring=!1,a.m_hitcaring=!1,a.m_showtype=a.type_showinit,a.removeRecruitMc(),a.initAddEvent(),a.readPanelVO(),utils.GameComUtil.setVisibleHitPanel(a.recruitTenG,a.comG,!1),utils.GameComUtil.setVisibleHitPanel(a.recruitOneG,a.comG,!1),e&&(a.tiptxt.text=Language.ins.scout_tip28,a.backpacktip.text=Language.ins.scout_tip29,a.exchangebtn.label=Language.ins.scout_tip37,a.exchangebtn0.label=Language.ins.scout_tip38,a.fold_8_TF.text=Language.ins.scout_tip39,a.fold_5_TF.text=Language.ins.scout_tip40),a.changeShow()},a.prototype.readPanelVO=function(){var t=this;if(t.panelVo){var a=t.panelVo.panelobj;a&&(t.m_type=a.type,t.m_showanimo=a.showanimo,t.m_showanimo&&t.showanimo())}var i=Manifest.getIns(e.ScoutBgView);i&&i.hitMaskRect()},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;this.removeEvent(),a.removeRecruitMc(),EventBus.getIns().sendMessage(game.GameCommands.SCOUT_SHOW_OVER)},a.prototype.removeRecruitMc=function(){var e,t=this;e=t.heropanelone,e.onHide();for(var a=0,i=10;i>a;a++)e=t["heropanel"+a],e.onHide()},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.scoutData;GlobalAllProxy.getInstance().playerProxy.clubData;if(a){isNaN(a.copy_luck)||(a.luck=a.copy_luck),t.m_showtype=t.type_showcar,t.exchangebtn.visible=!1,t.exchangebtn0.visible=!1,t.rbtnG3.visible=!1,t.tiptxt.visible=!0,t.backpackimg.visible=!1,t.backpacktip.visible=!1;var i="",n="";switch(t.m_newindex=-1,t.m_type){case recruitType.type_expert:case recruitType.type_expert_ten:i="tab_qt_c1",n="tab_zm_d8",t.huagp.visible=!1;break;case recruitType.type_master:case recruitType.type_master_ten:i="tab_qt_c2",n="tab_zm_d9",t.huagp.visible=!0}t.recruitimg.source=i,t.bgimg.source=n;var o=a.getPlayerInfo(t.m_type);GlobalAllProxy.getInstance().playerProxy;if(o&&o.player){t.m_showcaring=!0;var r,s=o.player,l=o.player.length>1?!1:!0;if(l)utils.GameComUtil.setVisibleHitPanel(t.recruitOneG,t.comG,!0,2),r=t.heropanelone,r.visible=!1,t.showNextCar();else{utils.GameComUtil.setVisibleHitPanel(t.recruitTenG,t.comG,!0,2);for(var p=0,c=s.length;c>p;p++)r=t["heropanel"+p],r.visible=!1;t.showNextCar()}}}t.showagaininfo()},a.prototype.showcarOk=function(){var e=this;e.exchangebtn.visible=!0,e.exchangebtn0.visible=!0,e.rbtnG3.visible=!0,e.m_showcaring=!1,e.m_showtype=e.type_showcarok;var t=GlobalAllProxy.getInstance().guideProxy;if(t.isPlayGuide()&&t.isCache&&t.cacheGuide(),!t.isPlayGuide()){var a=GlobalAllProxy.getInstance().playerProxy.scoutData,i=a.getPlayerInfo(e.m_type);utils.GameComUtil.playerArrshar(i.player)}},a.prototype.hitAllCar=function(){var e=this;e.m_showtype=e.type_hitcar,e.m_showcaring=!1,e.m_hitcaring=!0,e.tiptxt.visible=!1,e.exchangebtn.visible=!1,e.exchangebtn0.visible=!1,e.rbtnG3.visible=!1,e.backpackimg.visible=!0,e.backpacktip.visible=!0;var e=this,t=GlobalAllProxy.getInstance().playerProxy.scoutData;if(t){var a=t.getPlayerInfo(e.m_type);if(a&&a.player){var i,n=a.player,o=a.player.length>1?!1:!0;if(o)i=e.heropanelone,i.showToBackPack();else{utils.GameComUtil.setVisibleHitPanel(e.recruitTenG,e.comG,!0,2);for(var r=0,s=n.length;s>r;r++)i=e["heropanel"+r],i.showToBackPack()}}SoundMgr.getInstance().PlayEffect(GlobalSoundEffect.sound_recruitgoback);var l=2e3;egret.setTimeout(e.hitcarOk,e,l)}},a.prototype.showNextCar=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().playerProxy.scoutData;
if(a){var i=a.getPlayerInfo(t.m_type),n=GlobalAllProxy.getInstance().playerProxy,o=t.m_newindex+1;if(i&&i.player){var r,s,l=i.player,p=l.length,c=p>1?!1:!0,u=400,m=250;o>=p?egret.setTimeout(t.showcarOk,t,u):c?(s=l[o],e||!n.isShowCar(s.playerItemId)?(t.m_newindex+=1,r=t.heropanelone,r.setData(s,0,t,e),r.visible=!0,egret.setTimeout(t.showNextCar,t,m)):egret.setTimeout(t.showNewCar,t,200,s)):(s=l[o],e||!n.isShowCar(s.playerItemId)?(t.m_newindex+=1,r=t["heropanel"+o],r.setData(s,o,t,e),r.visible=!0,egret.setTimeout(t.showNextCar,t,m)):egret.setTimeout(t.showNewCar,t,200,s))}}},a.prototype.showNewCar=function(e){e&&GlobalAllProxy.getInstance().playerProxy.addPlayCar(e.playerItemId)},a.prototype.hitcarOk=function(){var e=this;e.m_showtype=e.type_hitcarok,e.close();var t=GlobalAllProxy.getInstance().guideProxy;t.isPlayGuide()&&t.isCache&&t.cacheGuide()},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.SHOW_NEW_CAR_OVER,e.eventChange),e.addMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.SHOW_NEW_CAR_OVER,e.eventChange),e.removeMessage(game.GameCommands.MAIN_ITEM_GET_OVER,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.MY_INFO_CHANGW:a.showagaininfo();break;case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:a.changeShow();break;case game.GameCommands.SHOW_NEW_CAR_OVER:a.showNextCar(!0);break;case game.GameCommands.MAIN_ITEM_GET_OVER:a.m_chooseType&&(a.recruitfun(a.m_chooseType),a.m_chooseType=0)}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;if(i.parent instanceof ScoutHeroInfoPanel){var n=i.parent;return void(GlobalAllProxy.getInstance().guideProxy.isPlayGuide()||a.lookHero(n.playerVO))}switch(t.target){case a.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpack,e.BackPackBgView.type_hero]),PanelDM.getIns().clearOpenList();break;case a.exchangebtn0:var o=a.m_showtype;o!=a.type_showcarok||a.m_hitcaring?o==a.type_hitcarok:a.hitAllCar();break;case a.recruitbtn3:a.recruitfun(a.m_type)}},a.prototype.lookHero=function(e){var t=GlobalConfig.getItemVo(e.playerItemId),a=GlobalConfig.getPlayerPorpertyVO(parseInt(t.parameter)),i=a.playerid,n=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(n,i,a,!0,!0))},a.prototype.showanimo=function(){var e=this,t=e.whiterect;t.alpha=1,t.visible=!0,TweenLite.killTweensOf(t,!0),TweenLite.to(t,.7,{alpha:0,onComplete:e.showanimoover.bind(e)})},a.prototype.showanimoover=function(){var e=this,t=e.whiterect;t.alpha=0,t.visible=!1},a.prototype.showagaininfo=function(){var e=this,t=e.m_type,a=GlobalAllProxy.getInstance().playerProxy.scoutData,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){for(var n,o,r,s,l,p,c,u,m,g,_,p,h=[0,a.expertsNum,0,a.masterNum],d=ParamLoader.instance.ServerScoutTimes,y=d[0],v=d[1],f=[0,y,0,v],b=GlobalAllProxy.getInstance().backpackProxy,G=3,x=[Language.ins.scout_tip41,Language.ins.scout_tip42,Language.ins.scout_tip41,Language.ins.scout_tip42],C=0;4>C;C++)o=C+1,t==o&&(n=GlobalConfig.getScoutRatioVO(o,i.grade),n&&(r=n.getcostArr(),g=r[0],_=r[1],p=b.getItemCount(g),e["ritemimg"+G].source=ResName.getMinItemIcon(g),C>=2?e["ritemtxt"+G].text=p+"/"+_:e["ritemtxt"+G].text=_),s=a.getPlayerInfo(o),l=e["masttxt"+G],e["recruitbtn"+G].label=x[C],m=h[C],c=f[C],c&&c>=m?l&&(2==o?(u=Language.ins.scout_tip9,l.textFlow=utils.GameComUtil.getHtmlText(u)):4==o&&(u=Language.ins.scout_tip8,l.textFlow=utils.GameComUtil.getHtmlText(u))):l&&(l.visible=!1));var T=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(T&&T.scoutReward&&t==recruitType.type_master_ten){var P=T.scoutReward;P.totalScoutTimes,P.scoutRewardList,GlobalConfig.getComActivityshangjingVO(P.actRelationId);e.fold_5_group.visible=0==P.todayScoutBuyTimes,e.fold_8_group.visible=P.todayScoutBuyTimes>=1}else e.fold_5_group.visible=!1,e.fold_8_group.visible=!1}},a.prototype.recruitfun=function(e){var t=this,a=!1;t.m_chooseType=e;var i,n,o,r,s,l,p=GlobalAllProxy.getInstance().playerProxy.clubData,c=GlobalConfig.getScoutRatioVO(e,p.grade),u=GlobalAllProxy.getInstance().backpackProxy;if(c)if(i=c.getcostArr(),n=i[0],o=i[1],r=u.getItemCount(n),r>=o)a=!0;else if(e>=recruitType.type_master){if(s=GlobalConfig.getItemVo(n)){var m=s.getShopArr(),g=m.length;if(g){var _;if(g&&(_=m[0][0]),g>1){var h,d,y,v=GlobalAllProxy.getInstance().playerProxy.playerinfo.level;for(var f in m)if(d=m[l],y=+d[0],h=GlobalConfig.getShopVO(y),v>=h.lvlimit){_=y;break}}var b=new ShopBuyViewOpenVO(_,1);return g?void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],b):void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,s.objectid],b)}if(0!=+s.guild)return void PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_secretary,1],s.guild)}}else a=!0;if(a){var G=GlobalAllProxy.getInstance().playerProxy.scoutData,x=GlobalAllProxy.getInstance().playerProxy.teamType;x||(x=0),G&&GlobalAllProxy.getInstance().playerProxy.NetScoutRecruit(e,x)}else FLOAT.NShowPutong([Language.ins.game_tip3])},a}(e.VM);e.ScoutRecruitInfoView=t,__reflect(t.prototype,"vm.ScoutRecruitInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){for(var e,t=new skins.ScoutRecruitNewSkinDR,a=[ResName.fx_seekPlayer_purCard,ResName.mc_car_golden,ResName.fx_seekPlayer_goldCard,ResName.fx_seekPlayer_urCard],i=[],n=0,o=a.length;o>n;n++)e=a[n],i=i.concat(ResName.getDragonFastArr(e));t.runto(this,i)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.tiptxt.text=Language.ins.scout_tip30,a.tiptxt1.text=Language.ins.scout_tip31,a.upbtn.label=Language.ins.btn_ok),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeEvent(),EventBus.getIns().sendMessage(game.GameCommands.SHOW_NEW_CAR_OVER),a.heropanelone.onHide()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.showNextMc()},t.prototype.showNextMc=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.m_newherocarArr;if(t&&t.length){var a=t[0];e.shownewplay(a),t.splice(0,1)}else e.close()},t.prototype.shownewplay=function(e){var t=this;if(e){var a=GlobalConfig.getPlayerPorpertyVO(e);if(a){utils.GameComUtil.setVisibleHitPanel(t.recruitOneG,t.comG,!0,2);var i=new SScoutPlayer,n=GlobalConfig.getItemIdForPlayerId(e);if(n){i.playerItemId=n.objectid;var o=t.heropanelone;o.setData(i,0,t),o.visible=!0}"0"==a.des?t.destxt.text=Language.ins.scout_tip13:t.destxt.text=a.des;var r=GlobalConfig.getFetterVO(e);if(r&&r.partner){var s=GlobalConfig.getPlayerPorpertyVO(+r.partner);t.heroicon1.setData(s)}else t.heroicon1.setData(null);t.clubG.visible=!1,t.tiptxt1.visible=!1,a.club&&"0"!=a.club&&a.logo&&"0"!=a.logo&&(t.tiptxt1.visible=!0,t.clubG.visible=!0,t.clublogo.source=a.logo,t.clubtxt.text=a.club)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.upbtn:t.showNextMc()}},t}(e.VM);e.ScoutRecruitNewView=t,__reflect(t.prototype,"vm.ScoutRecruitNewView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.gradeLv=1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ScoutUnlockSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.initAddEvent(),a.readPanelVO(),t){a.ftiptxt0.text=Language.ins.scout_tip32,a.ftiptxt1.text=Language.ins.scout_tip33,a.exchangebtn.label=Language.ins.scout_tip34,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_scout_hero;var i=GlobalAllProxy.getInstance().playerProxy.clubData;a.gradeLv=i.grade}a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalConfig.getClubgradeVO(t.gradeLv);1==t.gradeLv?t.leftbtn.visible=!1:t.leftbtn.visible=!0,7==t.gradeLv?t.rightbtn.visible=!1:t.rightbtn.visible=!0,t.logoimg.source=ResName.club_grade_arr[t.gradeLv-1];var i=a.clubname+Language.ins.game_club_s;FntUtil.showFntLeft(t.titleBZG,ResName.fnt_title,i,ResName.spa_title_a);var n,o=[],r=a.unlockplayer.split(",");for(var s in r)n=new ScoutUnlockRenderVO,n.vo=GlobalConfig.getPlayerPorpertyVO(+r[s]),o.push(n);t.showData(o,e)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ScoutUnlockRenderVO){var i=a.vo,n=i.playerid,o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;a.islock?PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_lockinfo],new HeroInfoViewOpenVO(o,n,i,!0)):PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n,i,!0)),t.datalist.selectedIndex=-1}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.leftbtn:t.gradeLv--,t.changeShow(!0);break;case t.rightbtn:t.gradeLv++,t.changeShow(!0);break;case t.exchangebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_heromarket])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ScoutUnlockRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.ScoutUnlockPanel=t,__reflect(t.prototype,"vm.ScoutUnlockPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.panelArr=["vm.SecretaryGrowPanel","vm.SecretaryEncyPanel"],t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.SecretaryBgSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_secretary),a.addChild(a.m_toppanel),t&&a.showTar(),a.changeTipMC(),a.resizefun()},t.prototype.changedata=function(){},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_secretary;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVo=function(){var e=this,a=e.panelVo;e._choosemode=0,t.ency_index=0/0,null!=a&&(a.childtype&&(e._choosemode=a.childtype),null!=a.panelobj&&(t.ency_index=a.panelobj)),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},t.prototype.changeshow=function(){var e=this;e.hitalllist();var t=e.panelArr[e._choosemode],a=e[t];null==a?(a=Manifest.getIns(egret.getDefinitionByName(t)),e.contentGroup.addChild(a),a.visible=!0,e[t]=a,e.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,e.contentGroup.addChild(a))},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.hitalllist(),this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changedata();break;case game.GameCommands.SECRETARY_DATA_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close()}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcSecretarytask(t.getTipForArr(null,[GlobalEnum.tipmc_secretarytask]))},t.prototype.showTipMcSecretarytask=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipmckbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!0),t.contentGroup.addChild(t[n]),t[n].visible=a)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.type_grow=0,t.type_ency=1,t.ency_index=0/0,t}(e.VM);e.SecretaryBgView=t,__reflect(t.prototype,"vm.SecretaryBgView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this,a=e;return a.percentWidth=a.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.SecretaryEncySkinDR;e.runto(this,[])},a.prototype.onShow=function(t){var a=this;a.m_encyindex=e.SecretaryBgView.ency_index,a.initAddEvent(),a.changeShow(),e.SecretaryBgView.ency_index=0/0},a.prototype.onHide=function(e){this.removeEvent();var t=this;t.m_dparr=null,utils.GameComUtil.removeListData(this.datalist);var a=SecretaryEncyInfo.getInstance();a&&a.onHide(e)},a.prototype.changeShow=function(){for(var e,t,a=this,i=GlobalConfig.secretaryguild_DATA,n=[],o={},r=0,s=i.length;s>r;r++)e=i[r],o[e.id]||(t=new SecretaryEncyRenderVO,t.id=e.id,t.namestr=e.name,t.itemid=e.objectid,0/0!=a.m_encyindex&&a.m_encyindex&&+a.m_encyindex==+t.id?t.ischoose=!0:t.ischoose=!1,n.push(t),o[e.id]=1);a.m_dparr=n,a.showData(n,!1)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SECRETARY_CHOOSE_LIST:var i=e,n=a.m_dparr;if(n){for(var o,r=0,s=n.length;s>r;r++)o=n[r],i==o.id?o.ischoose=!o.ischoose:o.ischoose=!1,o.ischoose&&(a.m_encyindex=r);a.datalist.selectedIndex=-1,a.showData(a.m_dparr,!1)}}},a.prototype.touchTapFun=function(e){},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SECRETARY_CHOOSE_LIST,e.eventChange)},a.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer||(n.itemRenderer=SecretaryEncyRender),n.dataProvider=new eui.ArrayCollection(i),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}if(0/0!=a.m_encyindex){var o=a.datascrollA;o&&(o.stopAnimation(),egret.setTimeout(function(){var e=0;if(o=a.datascrollA,o.height<o.viewport.contentHeight){var t=o.viewport.contentHeight,i=t-o.height;e=58*a.m_encyindex,e>=i&&(e=i),0>e&&(e=0)}o.viewport.scrollV=e},a,100))}},a}(e.InnerVM);e.SecretaryEncyPanel=t,__reflect(t.prototype,"vm.SecretaryEncyPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.SecretaryGrowSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changeShow(!0)},t.prototype.onHide=function(e){this.removeEvent();utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().gameProxy.secretaryData,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var n,o,r,s,l,p,c,u=GlobalConfig.secretarytask_DATA,m=[],g=i.level,_=a.task,h=_.length,d=(GlobalConfig.getClubVO(i.level),utils.GameComUtil);for(var y in u)if(n=u[y],n.lv<=g)for(o=0;h>o;o++)if(l=_[o],l.taskId==n.taskid){s=0,p=0,s=l.progress,p=2==l.isReward?1:0,r=new SecretaryGrowRenderVO,r.id=n.taskid,r.name=n.name,r.des=n.des,r.maxnum=n.schedule,r.jump=n.jump,r.tasktype=n.tasktype,c=d.getItemVoArr(n.reward),r.award=c,r.curnum=s,r.isget=p,r.iscom=!1,n.getIsNeedWait()?r.curnum=0:r.iscom=r.curnum>=r.maxnum?1:0,m.push(r);break}m.sort(utils.GameUtil.sortMatckFun(["isget","iscom","taskid"],[0,1,0])),t.showData(m,e)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SECRETARY_DATA_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SecretaryGrowRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.SecretaryGrowPanel=t,__reflect(t.prototype,"vm.SecretaryGrowPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.SecretaryReportSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent();utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.secretaryData;GlobalAllProxy.getInstance().playerProxy.clubData;if(t){for(var a,i,n,o=t.report,r=[],s=GlobalConfig,l=0,p=o.length;p>l;l++)a=o[l],n=s.getSecretaryReportVO(a.type),i=new SecretaryReportRenderVO,i.id=n.type,i.name=n.name,i.time=a.createTime,i.timestr=utils.GameComUtil.getTimeYearStr(1e3*a.createTime),i.des=FormatString.formatArr(n.des,a.parameter),r.push(i);r.sort(utils.GameUtil.sortMatckFun(["time"],[1])),e.showData(r,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SECRETARY_DATA_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SECRETARY_DATA_CHANGE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SecretaryReportRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.InnerVM);e.SecretaryReportPanel=t,__reflect(t.prototype,"vm.SecretaryReportPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.SetUpChangeNameSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.idtxt.text=Language.ins.setup_tip6,a.synCtxt1.text=Language.ins.chat_tip12,a.tiptxt.text=Language.ins.setup_tip7,a.ftiptxt0.text=Language.ins.guild_tip53,a.okbtn.label=Language.ins.btn_ok,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_setup_name),a.m_initstr=Language.ins.game_creat_newname,a.idtxt.text=a.m_initstr;var i=ParamLoader.instance.ServerChangeNameCost,n=GlobalAllProxy.getInstance().playerProxy.modifyNameNum;a.costnum=i[0],n&&(n>=i.length?a.costnum=i[i.length-1]:a.costnum=i[n]),a.synCnumtxt1.text=a.costnum,0==+a.costnum?(a.tiptxt.visible=!0,a.syncostG.visible=!1):(a.tiptxt.visible=!1,a.syncostG.visible=!0),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getNameLenght())},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.playNextFun()}},t.prototype.playNextFun=function(){var e=(GlobalAllProxy.getInstance().gameProxy.logintype,this),t=e.idtxt.text;ParamLoader.instance.Servernamemax;if(t==e.m_initstr||""==t)return void FLOAT.NShowPutong([Language.ins.game_creat_tip0]);if(t==Language.ins.game_creat_newname)return void FLOAT.NShowPutong([Language.ins.game_creat_newname]);var a=t;a=a.toLowerCase(),a=GlobalConfig.excludeSpecialRemove(a);var i=new RegExp(GlobalConfig.keyWordStr,"g");if(i.test(a))return void FLOAT.NShowPutong([Language.ins.tip_login_error2]);var n=Global.checkNameIsLegal(t);if(!n)return void FLOAT.NShowPutong([Language.ins.tip_login_error2]);if(0==e.costnum)GlobalAllProxy.getInstance().gameProxy.NetModifyName(t);else{var o=new AlertVO;o.info=Language.ins.fight_ti31,o.showCancel=!0,o.okLabel=Language.ins.fight_tip32,o.tipbl=!0,o.tipstr=Language.ins.fight_tip4,o.tipitemid=GlobalEnum.itemid_ug,o.tipcostid=ug_cost_type.change_name,o.tipitemnum=e.costnum,JAlert.show(o,Language.ins.title_buy,e.clickfastbuy,e)}},t.prototype.clickfastbuy=function(){var e=this,t=e.idtxt.text;e.close(),GlobalAllProxy.getInstance().gameProxy.NetModifyName(t)},t}(e.VM);e.SetUpChangeNameView=t,__reflect(t.prototype,"vm.SetUpChangeNameView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.SetUpExchangeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.idtxt.text=Language.ins.setup_tip0,a.needtxt1.text=Language.ins.setup_tip8,a.okbtn.label=Language.ins.btn_backpack_use2,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_setup_exchange),a.m_initstr=Language.ins.setup_tip0,a.idtxt.text=a.m_initstr,a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getCharLenght())},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.okbtn:t.playNextFun()}},t.prototype.playNextFun=function(){var e=(GlobalAllProxy.getInstance().gameProxy.logintype,this),t=e.idtxt.text,a=Language.ins.setup_tip0;return t==a||""==t?void FLOAT.NShowPutong([Language.ins.setup_tip5]):void GlobalAllProxy.getInstance().gameProxy.NetBExchangeCode(t)},t}(e.VM);e.SetUpExchangeView=t,__reflect(t.prototype,"vm.SetUpExchangeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.SetUpInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.changebtn.label=Language.ins.club_tip11,a.userbtn.label=Language.ins.setup_tip9,a.namebtn.label=Language.ins.setup_tip10,a.logobtn.label=Language.ins.setup_tip11,a.outbtn.label=Language.ins.setup_tip12,a.needtxt0.text=Language.ins.setup_tip13,a.needtxt1.text=Language.ins.setup_tip14,a.panel_bg.setImgBg(""),a.clubbar.ShowLabel=!0,a.panel_bg.titlename.text=Language.ins.title_setup_info),a.changeShow()},t.prototype.readPanelVO=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.playerinfo;t.nametxt.text=a.club_name,t.idtxt.text="ID:"+a.uid,t.lvtxt.text=Language.ins.game_lv_s+a.level;var i=a.exp,n=a.level,o=GlobalConfig.getClubVO(n);if(o){var r=i-o.minexp;t.clubbar.setValue(r,o.clubexp)}t.logoimg.setLogoUrl(a.logo),t.changesound(),t.changeTipMC()},t.prototype.changesound=function(){var e=this;e.isMusic="1"==Global.music_isopen?!0:!1,e.isSound="1"==Global.sound_isopen?!0:!1,e.isMusic?e.checksound.selected=!0:e.checksound.selected=!1,e.isSound?(SoundMgr.getInstance().SetEffectVolume(1),e.checkeffect.selected=!0):(SoundMgr.getInstance().SetEffectVolume(0),e.checkeffect.selected=!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.CLUB_LOGO_CHANGE:this.changeShow(e);break;case game.GameCommands.MY_INFO_CHANGW:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.namebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_name]);break;case t.logobtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_logo]);break;case t.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_setup_exchange]);break;case t.soundG:t.isMusic=!t.isMusic,Global.setMusicBl(t.isMusic),t.changesound();break;case t.effectG:t.isSound?t.setSoundFun(!1):(t.isSound=!1,t.setSoundFun(!0))}},t.prototype.setSoundFun=function(e){var t=this;t.isSound=e,Global.setSoundBl(t.isSound),t.changesound()},t.prototype.showlogo=function(){var e,t,a=this,i=RES.getRes(ResName.logo_init_mask),n=i.textureWidth,o=i.textureHeight;if(!a.m_Group){e=new egret.DisplayObjectContainer,t=new egret.DisplayObjectContainer;var r=255,s=65280,l=new eui.Rect(n,o,r);e.addChild(l);var p=utils.GameComUtil.getImageAdd(RES.getRes(ResName.logo_init_mask),null,s,1),c=new eui.Image(p),u=new eui.Image("sjdh_tu_3"),m=new eui.Image("sjdh_tu_2"),g=new eui.Image("sjdh_tu_1");e.addChild(c),e.addChild(u),e.addChild(m),e.addChild(g),t.addChild(e),e.mask=g,t.y=400,a.m_Group=t}t=a.m_Group,a.addChild(t),t.visible=!1;var _=new egret.RenderTexture;_.drawToTexture(t,new egret.Rectangle(0,0,n,o)),a.logoimg.source=_},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcLogo(t.getTipForArr(null,[GlobalEnum.tipmc_firstlogo]))},t.prototype.showTipMcLogo=function(e){var t=this,a=e,i=t.logobtn,n="tiplogobtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-12,-12)),t.infoG.addChild(t[n]),t[n].visible=a)},t}(e.VM);e.SetUpInfoView=t,__reflect(t.prototype,"vm.SetUpInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.costnum=0,t._choosemode=0,t.m_tabbtnarr=[],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.SetUpLogoSkinDR;e.runto(this,["tab_kjzx_c8"])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.okbtn.label=Language.ins.btn_ok,a.canelbtn.label=Language.ins.btn_cancel,a.synCtxt0.text=Language.ins.setup_tip15,a.nametxt1.text=Language.ins.setup_tip16,a.tiptxt.text=Language.ins.setup_tip17,a.ftiptxt0.text=Language.ins.setup_tip18,a.ftiptxt1.text=Language.ins.setup_tip19,a.tabbtn0.text=Language.ins.setup_tip20,a.tabbtn1.text=Language.ins.setup_tip21,a.tabbtn2.text=Language.ins.setup_tip22,a.tabbtn3.text=Language.ins.setup_tip23,a.tabbtn4.text=Language.ins.setup_tip24,a.setup_wear_tip0.text="",a.setup_get_tip0.text="",a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_setup_logo,a.showTar());for(var i,n=game.ComMonthCarVO.getNumLogoS(),o=GlobalAllProxy.getInstance().playerProxy.playerinfo,r=0,s=n.length;s>r;r++)i=n[r],o.addNewLogoForId(+i);
a.changeShow(!0),a.changebtnlist()},t.prototype.showTar=function(){for(var e,t,a=this,i=Language.ins.list_btn_setuplogo,n=a.m_tabbtnarr,o=n.length,r=0,s=i.length;s>r;r++)e=i[r],t=a.tabG.getChildAt(r),t||(t=new TableBraButton6),r>=o&&a.m_tabbtnarr.push(t),t.label=e},t.prototype.readPanelVO=function(){var e=this;e.m_chooselogo=ParamLoader.instance.ServerIniLogo,e.m_chooselogoAll=null,e._choosemode=0},t.prototype.changebtnlist=function(){for(var e,t=this,a=t.m_tabbtnarr,i=t._choosemode,n=0,o=a.length;o>n;n++)e=a[n],i==n?e.selected=!0:e.selected=!1},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist0),utils.GameComUtil.removeListData(this.datalist1)},t.prototype.changeShow=function(e){var a=this,i=a._choosemode;switch(utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!1),utils.GameComUtil.setVisibleHitPanel(a.infoG1,null,!1),a.tiptxt.visible=!1,a.setupTop.visible=!0,a.setupGetEffect.visible=!1,i){case t.type_all:a.showListdata(logoType.type_all,e),utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!0),a.tiptxt.visible=!0,a.setupTop.visible=!1,a.setupGetEffect.visible=!0;break;case t.type_kuang:a.showListdata(logoType.type_kuang,e),utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!0);break;case t.type_tiao:a.showListdata(logoType.type_tiao,e),utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!0);break;case t.type_zhuang:a.showListdata(logoType.type_zhuang,e),utils.GameComUtil.setVisibleHitPanel(a.infoG0,null,!0);break;case t.type_col:a.showColorData(),utils.GameComUtil.setVisibleHitPanel(a.infoG1,null,!0)}a.changeshowLogo()},t.prototype.showListdata=function(e,t){void 0===t&&(t=!1);var a,i,n=this,o=GlobalConfig.getlogoVOArrForType(e),r=[],s=[],l=GlobalAllProxy.getInstance().playerProxy.playerinfo.userLogo;l&&(s=l);var p,c,u,m=n.getcurlogoUrl();for(p=0,c=o.length;c>p;p++)i=o[p],a=new SetUpLogoRenderVO,a.type=e,a.cost=i.cost,a.isown=0,a.namestr=i.logoname,a.unlock=i.unlock,a.num=i.num,u=game.ComlogoVO.getlogonum(m,e),e==logoType.type_all?(-1!=s.indexOf(i.id)&&(a.isown=1),a.logostr="0_"+i.id,a.ischoose=i.id==u?!0:!1):(a.logostr=game.ComlogoVO.setlogonum(n.m_chooselogo,e,i.num),a.ischoose=i.num==u?!0:!1),r.push(a);r.sort(utils.GameUtil.sortMatckFun(["isown","num","id"],[1,0,0])),n.showData(r,t)},t.prototype.getcurlogoUrl=function(){var e,t=this;return e=t.m_chooselogoAll?t.m_chooselogoAll:t.m_chooselogo},t.prototype.changeshowLogo=function(){var e=this,a=0;if(e.m_chooselogoAll?(e.logoimg.setLogoUrl(e.m_chooselogoAll,!1),a=game.ComlogoVO.getCostLogoNum(e.m_chooselogoAll)):(this.logoimg.setLogoUrl(this.m_chooselogo,!1),a=game.ComlogoVO.getCostLogoNum(e.m_chooselogo)),e.syncostG0.text=Language.ins.setup_tip3,e.okbtn.enabled=!0,e.synCnumtxt0.text=a.toString(),e._choosemode==t.type_all?-1==a?(e.syncostG0.text=Language.ins.setup_tip4,e.syncostG.visible=!1,e.syncostG0.visible=!0,e.okbtn.enabled=!0):(e.syncostG0.visible=!1,e.syncostG.visible=!0):(e.syncostG.visible=!1,e.syncostG0.visible=!0),e.m_chooselogoAll&&e._choosemode==t.type_all){var i=game.ComlogoVO.getComLogoVOEffectForLogoID(e.m_chooselogoAll);i&&(e.setup_get_tip0.text=i.des1,e.setup_wear_tip0.text=i.des2)}},t.prototype.showColorData=function(){var e,t,a,i,n=this,o=GlobalConfig.getlogoVOArrForType(logoType.type_tiaocol),r=(GlobalConfig.getlogoVOArrForType(logoType.type_bgcol),[]),s=game.ComlogoVO.getlogonum(n.m_chooselogo,logoType.type_tiaocol),l=game.ComlogoVO.getlogonum(n.m_chooselogo,logoType.type_bgcol);for(e=0,t=o.length;t>e;e++)a=o[e],i=new SetUpLogoCorRenderVO,i.id=a.num,i.mychoose=s,i.otherchoose=l,i.colornum=a.name,r.push(i);for(n.showDataB(r,!1),r=[],e=0,t=o.length;t>e;e++)a=o[e],i=new SetUpLogoCorRenderVO,i.id=a.num,i.mychoose=l,i.otherchoose=s,i.colornum=a.name,r.push(i);n.showDataC(r,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist0.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.addMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist0.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.removeMessage(game.GameCommands.CLUB_LOGO_CHANGE,e.eventChange)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a){var i=a.type;i==logoType.type_all?(t.m_chooselogoAll=a.logostr,t.costnum=0,0==a.isown&&(t.costnum=a.cost)):(t.m_chooselogoAll=null,t.costnum=0,t.m_chooselogo=a.logostr),t.changeShow(!1),t.datalist.selectedIndex=-1}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist0.selectedItem;if(t.costnum=0,a){t.m_chooselogoAll=null;var i=a.id,n=game.ComlogoVO.getlogonum(t.m_chooselogo,logoType.type_tiaocol),o=game.ComlogoVO.getlogonum(t.m_chooselogo,logoType.type_bgcol);isNaN(n)||isNaN(o)||(i==n||i==o?i==o&&FLOAT.NShowPutong([Language.ins.logo_tip0]):(t.m_chooselogo=game.ComlogoVO.setlogonum(t.m_chooselogo,logoType.type_tiaocol,i),t.showColorData(),t.changeshowLogo())),t.datalist0.selectedIndex=-1}},t.prototype.listchangeC=function(e){var t=this,a=t.datalist1.selectedItem;if(t.costnum=0,a){t.m_chooselogoAll=null;var i=a.id,n=game.ComlogoVO.getlogonum(t.m_chooselogo,logoType.type_tiaocol),o=game.ComlogoVO.getlogonum(t.m_chooselogo,logoType.type_bgcol);isNaN(n)||isNaN(o)||(i==n||i==o?i==n&&FLOAT.NShowPutong([Language.ins.logo_tip0]):(t.m_chooselogo=game.ComlogoVO.setlogonum(t.m_chooselogo,logoType.type_bgcol,i),t.showColorData(),t.changeshowLogo())),t.datalist1.selectedIndex=-1}},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.CLUB_LOGO_CHANGE:this.changeShow(!1)}},t.prototype.touchTapFun=function(e){for(var t,a=this,i=e.target,n=a.m_tabbtnarr,o=0,r=n.length;r>o;o++)if(t=n[o],t==i)return a._choosemode=o,a.changeShow(!0),void a.changebtnlist();switch(e.target){case a.closebtn:a.close();break;case a.panel_bg.closebtn:a.close();break;case a.okbtn:a.changelogo();break;case a.canelbtn:a.m_chooselogoAll=null,a.m_chooselogo=ParamLoader.instance.ServerIniLogo,a.changeShow(!1)}},t.prototype.changelogo=function(){var e=this;if(e.costnum>0){var t=new AlertVO;t.info=Language.ins.fight_ti30,t.showCancel=!0,t.okLabel=Language.ins.fight_tip3,t.tipbl=!0,t.tipstr=Language.ins.fight_tip4,t.tipitemid=GlobalEnum.itemid_ug,t.tipcostid=ug_cost_type.buy_logo,t.tipitemnum=e.costnum,JAlert.show(t,Language.ins.title_buy,e.clickfastbuy,e)}else{var a;a=e.m_chooselogoAll?e.m_chooselogoAll:e.m_chooselogo,GlobalAllProxy.getInstance().gameProxy.NetModifyLogo(a)}},t.prototype.clickfastbuy=function(){var e,t=this;e=t.m_chooselogoAll?t.m_chooselogoAll:t.m_chooselogo,GlobalAllProxy.getInstance().gameProxy.NetModifyLogo(e)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SetUpLogoRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showDataB=function(e,t){var a=this,i=e,n=a.datalist0;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SetUpLogoCorRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollB;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showDataC=function(e,t){var a=this,i=e,n=a.datalist1;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=SetUpLogoCorRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollC;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.type_kuang=0,t.type_tiao=1,t.type_zhuang=2,t.type_col=3,t.type_all=4,t}(e.VM);e.SetUpLogoView=t,__reflect(t.prototype,"vm.SetUpLogoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.mysharid=4,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.BuildSharSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.build_id=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.clubData,i=GlobalConfig.getClubgradeVO(a.grade);t.heroimg.source=ResName.getBuildImg(stafftype.type_player,i.clubgrade,!1,!1);var n=GlobalConfig.getShareVO(share_type.type_buildshar),o=n.reward.split(",");t.tiptxt.text=Language.ins.shar_tip_txt+o[1]},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_buildshar,0),t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_buildshar)}},t}(e.VM);e.BuildSharView=t,__reflect(t.prototype,"vm.BuildSharView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.random_id=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.GameFollowSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);PFAll.followMe()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;default:t.close()}},t}(e.VM);e.GameFollowView=t,__reflect(t.prototype,"vm.GameFollowView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.PlayerSharSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.hero_id=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.getPlayerPorpertyVO(t.hero_id),i=a,n=new game.SResponsePlayer;n.initData(i),t.heroicon.setData(n);var o=GlobalConfig.getShareVO(share_type.type_playershar),r=o.reward.split(",");t.tiptxt.text=Language.ins.shar_tip_txt+r[1]},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_playershar,0),t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_playershar)}},t}(e.VM);e.PlayerSharView=t,__reflect(t.prototype,"vm.PlayerSharView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.random_id=0,t.mysharid=4,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.RandomSharSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.sendbtn.label=Language.ins.game_canling_p,a.close1btn.label=Language.ins.game_canling_p),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.random_id=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.getShareVO(t.random_id);if(a){var i=utils.GameComUtil.getItemVoArr(a.reward);t.showData(i,!0),t.contenttxt.text=a.desc,t.sendbtn.label=a.des2,t.close1btn.label=a.des1,t.showimg.source=a.icon}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:GlobalAllProxy.getInstance().playerProxy.randomDeliveryId=0,a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:case t.close1btn:GlobalAllProxy.getInstance().gameProxy.NetShare(t.random_id,0),t.close();break;case t.sendbtn:PFAll.shareGame(t.random_id)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.RandomSharView=t,__reflect(t.prototype,"vm.RandomSharView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.random_id=0,t.mysharid=4,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareCollectSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.destxt.text=Language.ins.share_tip14,a.sendbtn.label=Language.ins.share_tip15),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.random_id=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.getShareVO(share_type.type_desktop);if(a){var i=utils.GameComUtil.getItemVoArr(a.reward);t.showData(i,!0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:GlobalAllProxy.getInstance().playerProxy.randomDeliveryId=0,a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.sendbtn:t.close(),PFAll.collectGame()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.ShareCollectView=t,__reflect(t.prototype,"vm.ShareCollectView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareEvaluateSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);GlobalConfig.getShareVO(share_type.type_evaluate)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.nobtn:GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_evaluate,0),GlobalAllProxy.getInstance().playerProxy.addShareTime(share_type.type_evaluate,1),t.close();break;case t.okbtn:GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_evaluate,1),GlobalAllProxy.getInstance().playerProxy.addShareTime(share_type.type_evaluate,1),egret.setTimeout(function(){PFAll.toIosEvaluation()},t,500),t.close()}},t}(e.VM);e.ShareEvaluateView=t,__reflect(t.prototype,"vm.ShareEvaluateView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareEverydaySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),utils.GameComUtil.removeListData(this.datalist),egret.clearTimeout(a.m_timenum)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.weeklyshare;if(t.getbtn.enabled=!1,t.sendbtnimg.visible=!1,t.getbtnimg.visible=!1,Global.severNE==Global.severNE_wanba?t.sendbtn.label=Language.ins.share_tip12:PFAll.isdujiaoshouhun()?t.sendbtn.label=Language.ins.share_tip25:t.sendbtn.label=Language.ins.share_tip13,i&&i.dailyShare){var n=i.dailyShare,o=GlobalConfig.getShareVO(share_type.type_shareevery);if(o){var r=utils.GameComUtil.getItemVoArr(o.reward),s=0;if(r.length){var l=r[0];s=l.count}t.awardtxt.text=s;var p=a.getShareTime(share_type.type_shareevery),c=+o.limit,u=c-p;0>u&&(u=0),t.timetxt.text=FormatString.format(Language.ins.share_tip0,u,c),t.tiptxt.visible=!1,u>0&&(n.coolingTime>0?(t.timefun(),t.tiptxt.visible=!0):t.sendbtnimg.visible=!0);var m=n.inviteLogin,g=ParamLoader.instance.ShareLoginnum;t.tiptxt0.text=FormatString.format(Language.ins.share_tip5,m,g);var _=ParamLoader.instance.ShareLoginlimit,h=n.remainder;t.tiptxt1.text=FormatString.format(Language.ins.share_tip6,h,_);var d=ParamLoader.instance.ShareLoginreward;t.ugimg.source="",d.length&&(t.labelDisplay.text=d[0][1],t.ugimg.source=ResName.getMinItemIcon(+d[0][0])),m>=g&&h>0&&2!=n.loginReward&&(t.getbtn.enabled=!0,t.getbtnimg.visible=!0)}for(var y=n.invites,v=1,f=y.length;f>=v;v++)y[v-1].index=v;t.showData(y,!0)}var b=PFAll.getPFOpenFun(pf_openfun.invitation);b?(t.heroG.visible=!0,t.mainCont.height=810):(t.heroG.visible=!1,t.mainCont.height=210)},t.prototype.timefun=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.weeklyshare,a="";if(egret.clearTimeout(e.m_timenum),t&&t.dailyShare){var i=t.dailyShare.coolingTime,n=utils.GameComUtil.getTimeNum(i);a=FormatString.format(Language.ins.share_tip1,n),i>0?e.m_timenum=egret.setTimeout(e.timefun,e,1e3):e.tiptxt.visible=!0}e.tiptxt.text=a},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.addMessage(game.GameCommands.SHARE_AWARD_CHANGE,e.eventChange),e.addMessage(game.GameCommands.SHARE_EVERY_AWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.removeMessage(game.GameCommands.SHARE_EVERY_AWARD,e.eventChange),e.removeMessage(game.GameCommands.SHARE_AWARD_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:case game.GameCommands.SHARE_EVERY_AWARD:case game.GameCommands.SHARE_AWARD_CHANGE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_shareevery);break;case t.getbtn:GlobalAllProxy.getInstance().playerProxy.NetShareRewards(3,0,0)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShareEveryRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.ShareEverydayView=t,__reflect(t.prototype,"vm.ShareEverydayView")}(vm||(vm={}));var ShareGetGifViewOpenVo=function(){function e(){}return e}();__reflect(ShareGetGifViewOpenVo.prototype,"ShareGetGifViewOpenVo");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareGetGifSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.pf_tip12,a.panel_bg.setTitleBgshow(!1)),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openvo=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_openvo;if(a){var i=GlobalConfig.getGifBagVOid(a.itemId);if(i){var n=utils.GameComUtil.getItemVoArr(i.reward);t.showData(n,!0)}var o=a.status;o?(t.panel_bg.titlename.text=Language.ins.pf_tip12,t.tishiimg.source="tab_fx_b2"):(t.panel_bg.titlename.text=Language.ins.pf_tip13,t.tishiimg.source="tab_fx_b3")}t.destxt.text=Language.ins.pf_tip11},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.panel_bg.closebtn:t.close();var a=t.m_openvo;a&&EventBus.sendMessage(game.GameCommands.ON_ENTER_GAME_INIT)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.ShareGetGifView=t,__reflect(t.prototype,"vm.ShareGetGifView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareNewSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.sendbtn.label=Language.ins.share_tip16),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalConfig.getShareVO(share_type.type_sharenew);if(a){var i=utils.GameComUtil.getItemVoArr(a.reward);t.showData(i,!0)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:a.close()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:GlobalAllProxy.getInstance().gameProxy.NetShare(share_type.type_sharenew,0),t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_sharenew)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender2,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.ShareNewView=t,__reflect(t.prototype,"vm.ShareNewView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShareRegalSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),a.m_minnum=1,a.m_curnum=1,t&&(a.sendbtn.label=Language.ins.build_tip56,a.refusebtn.label=Language.ins.game_canling_p,a.fristbtn.label=Language.ins.share_tip17,a.lastbtn.label=Language.ins.share_tip18,a.ftiptxt0.text=Language.ins.share_tip19,a.ftiptxt1.text=Language.ins.share_tip20),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(a&&a.magnate){for(var i,n,o=a.magnate,r=o.invites,s=o.receiveGrade,l=GlobalConfig.shareinviterich_data,p=0,c=l.length;c>p;p++)if(i=l[p],-1==s.indexOf(i.id)){n=i;break}if(n||(n=i),r.length?n&&(t.nametxt.text=n.des2):t.nametxt.text=Language.ins.share_tip2,t.refusebtn.enabled=!1,t.refusebtn.label=utils.GameComUtil.getAddSpace(Language.ins.game_canling),n){t.clubbar.setValue(o.totalAmount,n.chargediamond),t.clubbar.showLabel(o.totalAmount+"/"+n.chargediamond);var u=utils.GameComUtil.getItemVoArr(n.reward);if(u.length){var m=u[0];t.ugtxt.text=FormatString.format(Language.ins.share_tip3,m.count),t.tiptxt.text=FormatString.format(Language.ins.share_tip4,n.chargediamond),t.ugimg.source=ResName.getMinItemIcon(m.itemid)}t.numtxt.text=n.id,t.m_awardindex=n.id,o.totalAmount>=n.chargediamond&&(-1==o.receiveGrade.indexOf(n.id)?t.refusebtn.enabled=!0:t.refusebtn.label=Language.ins.game_reallyling)}var g,_=[],h=r.length;for(g=0;h>g;g++)_.push(r[g]);var d=3-h%3;for(g=0;d>g;g++)_.push(null);var c=_.length,y=Math.ceil(c/3);t.m_allnum=y,t.m_dparr=_,t.changeshowlist()}},t.prototype.changeshowlist=function(){var e=this,t=e.m_dparr,a=e.m_curnum,i=e.m_allnum;e.indextxt.text=a+"/"+i;for(var n=[],o=3*(a-1),r=3*a,s=o;r>s;s++)n.push(t[s]);e.showData(n,!0)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.addMessage(game.GameCommands.SHARE_EVERY_AWARD,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.removeMessage(game.GameCommands.SHARE_EVERY_AWARD,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:case game.GameCommands.SHARE_EVERY_AWARD:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_regal);break;case t.refusebtn:GlobalAllProxy.getInstance().playerProxy.NetShareRewards(1,0,t.m_awardindex);break;case t.leftbtn:t.listbtn(!0);break;case t.rightbtn:t.listbtn(!1);break;case t.fristbtn:t.m_curnum=t.m_minnum,t.changeshowlist();break;case t.lastbtn:t.m_curnum=t.m_allnum,t.changeshowlist()}},t.prototype.listbtn=function(e){var t=this,a=t.m_curnum,i=t.m_allnum;e?a>t.m_minnum&&t.m_curnum--:i>a&&t.m_curnum++,t.changeshowlist()},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShareRegalRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.ShareRegalView=t,__reflect(t.prototype,"vm.ShareRegalView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.WeeklySharSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.getweeklybtn.label=Language.ins.game_canling_p,a.sendbtn.label=Language.ins.share_tip10,a.getbtn.label=Language.ins.game_canling_p,a.sendbtn0.label=Language.ins.share_tip24,a.ftiptxt0.text=Language.ins.share_tip21,a.ftiptxt1.text=Language.ins.share_tip22,a.ftiptxt2.text=Language.ins.share_tip23),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=!0,i=GlobalConfig.getShareVO(share_type.type_weeklyshar),n=GlobalConfig.getShareVO(share_type.type_invitingfriends),o=GlobalAllProxy.getInstance().playerProxy.weeklyshare;if(t.hongimg.visible=!1,t.hongimg0.visible=!1,t.sendbtnimg.visible=!1,Global.severNE==Global.severNE_wanba?t.sendbtn.label=Language.ins.share_tip10:PFAll.isdujiaoshouhun()?t.sendbtn.label=Language.ins.share_tip25:t.sendbtn.label=Language.ins.share_tip11,i&&o){var r=utils.GameComUtil.getItemVoArr(i.reward),s=!1;0==o.weekShare.shareStatus?(t.getweeklybtn.enabled=!1,t.sendbtnimg.visible=!0):1==o.weekShare.shareStatus?(t.getweeklybtn.enabled=!0,t.hongimg.visible=!0):2==o.weekShare.shareStatus&&(s=!0,t.getweeklybtn.enabled=!1,t.getweeklybtn.label=Language.ins.month_tip1);for(var l=0,p=r.length;p>l;l++)r[l].addnum=s?1:0;t.showData(r,!0)}if(n&&o){var c=n.reward.split(",")[0],u=GlobalConfig.getItemVo(c),m=GlobalConfig.getPlayerPorpertyVO(+u.parameter);t.heroid=+c;var g=m,_=new game.SResponsePlayer;_.initData(g),t.heroicon.setData(_),t.sharnumtxt.text=o.weekShare.inviteNum+"/"+n.param1,0==o.weekShare.inviteStatus?t.getbtn.enabled=!1:1==o.weekShare.inviteStatus?(t.getbtn.enabled=!0,t.hongimg0.visible=!0):2==o.weekShare.inviteStatus&&(t.getbtn.enabled=!1,t.getbtn.label=Language.ins.month_tip1,a=!1)}var h=PFAll.getPFOpenFun(pf_openfun.invitation);a&&h?(t.heroG.visible=!0,t.mainCont.height=567):(t.heroG.visible=!1,t.mainCont.height=316)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.addMessage(game.GameCommands.SHARE_REWAED,e.eventChange)
},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.SHARE_SUCCESS,e.eventChange),e.removeMessage(game.GameCommands.SHARE_REWAED,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.SHARE_SUCCESS:var i=GlobalAllProxy.getInstance().playerProxy.weeklyshare;+e==share_type.type_weeklyshar&&2!=i.weekShare.shareStatus&&(i.weekShare.shareStatus=1),a.changeShow();break;case game.GameCommands.SHARE_REWAED:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.sendbtn:PFAll.shareGame(share_type.type_weeklyshar);break;case t.sendbtn0:PFAll.shareGame(share_type.type_invitingfriends);break;case t.heroicon:t.showhero();break;case t.getweeklybtn:GlobalAllProxy.getInstance().playerProxy.NetshareWeek(1);break;case t.getbtn:GlobalAllProxy.getInstance().playerProxy.NetshareWeek(2)}},t.prototype.showhero=function(){var e=this;if(e.heroid){var t=e.heroid,a=GlobalConfig.getItemVo(t),i=a.type,n=GlobalConfig.getPlayerPorpertyVO(+a.parameter);if(i==item_type.type_player||i==item_type.type_playerpiece){var o=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(o,n.playerid,n,!0))}}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=MailAwardRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.WeeklySharView=t,__reflect(t.prototype,"vm.WeeklySharView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._choosemode=0;var a=t;return t.m_tabbtnarr=[],a.indexarr=[showitemtype.type_teshu,showitemtype.type_ug,showitemtype.type_rong,showitemtype.type_friend],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.ShopBgSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(!0),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_shop),a.addChild(a.m_toppanel),t&&(a.showTar(),a.ftiptxt0.text=Language.ins.shop_tip20,a.ftiptxt1.text=Language.ins.shop_tip21,a.ftiptxt2.text=Language.ins.shop_tip22),GlobalAllProxy.getInstance().backpackProxy.shopBuyArr||GlobalAllProxy.getInstance().backpackProxy.NetStoreInit(),a.resizefun(),a.changeTipMC()},t.prototype.showTar=function(){for(var e,t,a=this,i=Language.ins.shop_tiparr,n=a.m_tabbtnarr,o=n.length,r=0,s=i.length;s>r;r++)e=i[r],t=a.tabG.getChildAt(r),t||(t=new TableBraButton10),r>=o&&a.m_tabbtnarr.push(t),t.label=e},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.changebtnlist=function(){for(var e,t=this,a=t.m_tabbtnarr,i=t._choosemode,n=0,o=a.length;o>n;n++)e=a[n],i==n?e.selected=!0:e.selected=!1},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow(!0)},t.prototype.changeshow=function(e){void 0===e&&(e=!1);var t,a,i=this,n=i._choosemode,o=GlobalConfig.shop_DATA,r=[],s=GlobalAllProxy.getInstance().backpackProxy,l=GlobalAllProxy.getInstance().playerProxy.playerinfo.level,p=n,c=i.indexarr,u=c[p]+1;if(c[p]==showitemtype.type_teshu){var m,g=GlobalConfig.getChargeArrVO(3),_=g.length,h=[];if(g)for(var d=0;_>d;d++)m=new ShopSaleRenderVO,m.vo=g[d],m.rank=d,m.isbuynum=!1,h.push(m);i.showTopData(h),i.oldshopG.visible=!1,i.saleshop.visible=!0;var y,_;if(s.dailyLimitation){r=[],y=s.dailyLimitation,_=y.length;for(var d=0;_>d;d++)a=GlobalConfig.getShopVO(y[d]),t=new ShopHotRenderVO,t.vo=a,t.rank=a.rank,t.buynum=s.getShopNum(a.id),r.push(t);i.showTopData1(r)}if(s.weeklyLimitation){r=[],y=s.weeklyLimitation,_=y.length;for(var d=0;_>d;d++)a=GlobalConfig.getShopVO(y[d]),t=new ShopHotRenderVO,t.vo=a,t.rank=a.rank,t.buynum=s.getShopNum(a.id),r.push(t);i.showTopData2(r)}}else{for(var v in o)a=o[v],a.shoptype==u&&a.lvlimit<l&&(t=new ShopHotRenderVO,t.vo=a,t.rank=a.rank,t.buynum=s.getShopNum(a.id),r.push(t));r.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),i.showData(r,e),i.oldshopG.visible=!0,i.saleshop.visible=!1}var f="";c[p]==showitemtype.type_ug?f=Language.ins.shop_tip12:c[p]==showitemtype.type_rong?f=Language.ins.shop_tip11:c[p]==showitemtype.type_friend&&(f=Language.ins.shop_tip13),i.tiptxt.text=f,i.changeBtn(),i.changebtnlist()},t.prototype.changeBtn=function(){var e,t,a,i,n=this,o=GlobalAllProxy.getInstance().backpackProxy,r=n._choosemode,s=n.indexarr,l=s.length,p=!1;PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])&&(p=!0);for(var c=0;l>c;c++)c==r&&(t=s[r],e=0,a=n.getitemid(r),i=GlobalConfig.getItemVo(a),e=o.getItemCount(a),p||(n.numtxt.text=e.toString()),n.itemname.text=i.name,n.useicon.source=ResName.getMinItemIcon(a))},t.prototype.getitemid=function(e){var t,a=this,i=a.indexarr,n=i[e];return n==showitemtype.type_ug?t=GlobalEnum.itemid_ug:n==showitemtype.type_qiutan?t=GlobalEnum.itemid_qiucar:n==showitemtype.type_teshu?t=GlobalEnum.itemid_ug:n==showitemtype.type_rong?t=GlobalEnum.itemid_rong:n==showitemtype.type_friend&&(t=GlobalEnum.itemid_love),t},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){TipMcVO.shopSpeFist=!1,e.prototype.onHide.call(this,t),this.removeAddEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.datalist2.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.SHOP_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e),e.datalist2.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e)},t.prototype.listchangeA=function(e){var t=this,a=t.datalist.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=(o.type,new ShopBuyViewOpenVO(i.vo.id,1));PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],r),t.datalist.selectedIndex=-1}},t.prototype.listchangeB=function(e){var t=this,a=t.datalist1.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player||r==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist1.selectedIndex=-1}},t.prototype.listchangeC=function(e){var t=this,a=t.datalist2.selectedItem;if(a instanceof ShopHotRenderVO){var i=a,n=i.vo.objectid,o=GlobalConfig.getItemVo(n),r=o.type;if(r==item_type.type_player||r==item_type.type_playerpiece){var s=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(s,n,i,!1,!0,!0))}else{var l=new ShopBuyViewOpenVO(i.vo.id,1);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shopbuy,0],l)}t.datalist2.selectedIndex=-1}},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changeBtn();break;case game.GameCommands.SHOP_DATA_CHANGE:a.changeshow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipSpeShop(t.getTipForArr(null,[GlobalEnum.tipmc_specialshop]))},t.prototype.touchTapFun=function(e){for(var t,a=this,i=e.target,a=(PanelDM.getIns(),this),n=e.target,o=a.m_tabbtnarr,r=0,s=o.length;s>r;r++)if(t=o[r],t==n)return a._choosemode=r,a.changeshow(!0),void a.changebtnlist();switch(i){case a.m_toppanel.closebtn:a.close();break;case a.closebtn:a.close();break;case a.ugG:var l=a._choosemode,p=game.TipSimpleObject.type_item,c=a.getitemid(l),u=new game.ComItemGroupVo(c,1);utils.GameComUtil.ShowTip(a.ugG,c,p,u)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopHotRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showTopData=function(e){var t=this,a=e,i=t.datalist0;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=ShopSaleRender,i.dataProvider=new eui.ArrayCollection(a))},t.prototype.showTopData1=function(e){var t=this,a=e,i=t.datalist1;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=ShopHotRender,i.dataProvider=new eui.ArrayCollection(a))},t.prototype.showTopData2=function(e){var t=this,a=e,i=t.datalist2;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=ShopHotRender,i.dataProvider=new eui.ArrayCollection(a))},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.showTipSpeShop=function(e){var t=this,a=e,i=t.tabbtn0,n="tipktabbtn0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.tabbtn0.addChild(t[n]),t[n].visible=a)},t.type_teshu=0,t.type_ug=1,t.type_rong=2,t.type_friend=3,t.type_qiutan=5,t}(e.VM);e.ShopBgView=t,__reflect(t.prototype,"vm.ShopBgView")}(vm||(vm={}));var ShopBuyViewOpenVO=function(){function e(e,t,a,i){void 0===t&&(t=0/0),void 0===a&&(a=0/0),void 0===i&&(i=0/0),this.otherid=e,this.buynum=t,this.buymax=a,this.type=i}return e}();__reflect(ShopBuyViewOpenVO.prototype,"ShopBuyViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.isshop=!1,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShopBuySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_shopbuytitle,a.infodextxt0.text=Language.ins.shop_tip23,a.infodextxt1.text=Language.ins.shop_tip23,a.tiptxt1.text=Language.ins.shop_tip24,a.tiptxt0.text=Language.ins.shop_tip25,a.tpitxt.text=Language.ins.shop_tip26,a.useusebtn.label=Language.ins.game_shopbuy),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),this.m_openvo=null,utils.GameComUtil.removeTextFlow(this.infodextxt0),utils.GameComUtil.removeTextFlow(this.infodextxt1),utils.GameComUtil.removeTextFlow(this.infonumtxt)},t.prototype.readPanelVO=function(){var e,t=this;if(t.panelVo){var a=t.panelVo.panelobj;a&&(e=a,e.otherid&&(t.m_itemid=+e.otherid),t.m_openvo=e)}if(0==t.panelVo.childtype||e&&0!=e.otherid?t.isshop=!0:(t.isshop=!1,t.otheritemid=t.panelVo.childtype),t.m_type=shopbuy_type.shop,e&&!isNaN(e.type)){var i=e.type;switch(t.m_type=i,i){case shopbuy_type.dekaronshp:t.isshop=!1,t.otheritemid=t.panelVo.childtype,t.m_itemid=+e.otherid}}},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=20;t.tpitxt.visible=!1;var i,n=t.m_openvo,o=t.m_type,r=0;if(t.m_itemid){if(o==shopbuy_type.dekaronshp){var s=GlobalConfig.getTowerShopVO(t.m_itemid);i=GlobalConfig.getItemVo(s.object);var l=s.getCostArr();if(l.length>1){var p=ResName.getItemIcon(+l[0]);t.sellcostimg0.source=p;var c=n.buymax,u=GlobalAllProxy.getInstance().fightProxy.dekaronData;u&&(c=s.num-u.getStoreBuyRecordNum(t.m_itemid));var m=c,g=n.buynum;r=+l[1]*g,t.sellCnumtxt0.text=r,t.usechange.setdata(1,m,g),t.usechange.addEventFun()}}else if(t.isshop){var _=GlobalConfig.getShopVO(t.m_itemid);i=GlobalConfig.getItemVo(_.objectid);var h=GlobalAllProxy.getInstance().backpackProxy,d=h.getShopNum(t.m_itemid),y=n.type==shopbuy_type.betshop?GlobalAllProxy.getInstance().playerProxy.playerinfo.guessCoin:h.getItemCount(_.costid),v=1e3,f=1;n&&(isNaN(n.buymax)||(v=n.buymax),isNaN(n.buynum)||(f=n.buynum)),_.sdes&&(v=_.sdes-d,0>v&&(v=0));var b=Math.floor(y/_.price);+_.objectid==GlobalEnum.itemid_scouttencar&&(b=t.getCalBuyTenCar(+_.objectid,y,_.price)),v=Math.min(b,v);var p=ResName.getItemIcon(_.costid);t.sellcostimg0.source=p,v?(f>v&&(f=v),t.usechange.setdata(1,v,f)):(t.usechange.setdata(1,1,1),f=1);var G=f*_.price;+_.objectid==GlobalEnum.itemid_scouttencar&&(G=t.getTenCarCost(+_.objectid,f,+_.price)),t.sellCnumtxt0.text=G,t.usechange.addEventFun()}else i=GlobalConfig.getItemVo(t.otheritemid);t.infoitem.setIdAndNum(i.objectid,1,!1,0,!1,!1,!1);var x=GlobalAllProxy.getInstance().backpackProxy.getItemCount(i.objectid),C="";C+=FormatString.format(Language.ins.game_zisize,a,Language.ins.tips_tip11),C+="\n"+i.des;var T="";if(T+=FormatString.format(Language.ins.game_zisize,a,Language.ins.tips_tip0),T+="\n"+FormatString.format(Language.ins.game_col,4299987,i.des2),+i.objectid==GlobalEnum.itemid_scouttencar){var P=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(P&&P.scoutReward){var A=P.scoutReward,w=GlobalConfig.getComActivityshangjingVO(A.actRelationId);w&&(C+="\n"+w.des)}}t.infonametxt.text=i.name,t.infodextxt0.textFlow=utils.GameComUtil.getHtmlText(C),t.infodextxt1.textFlow=utils.GameComUtil.getHtmlText(T);var k=0;x&&(k=x);var I=utils.GameUtil.getNumToStr(k);t.infonumtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.backpack_tip2,I)),t.usechangefun()}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.usechange.addEventListener(egret.Event.CHANGE,e.usechangefun,e)},t.prototype.usechangefun=function(e){void 0===e&&(e=null);var t=this,a=t.usechange.getValue();if(t.m_itemid){var i,n,o=t.m_type;if(o==shopbuy_type.dekaronshp){var r=GlobalConfig.getTowerShopVO(t.m_itemid),s=r.getCostArr();s.length>1&&(i=+s[1]),n=i*a}else{var l=GlobalConfig.getShopVO(t.m_itemid);i=l.price,n=i*a,+l.objectid==GlobalEnum.itemid_scouttencar&&(n=t.getTenCarCost(+l.objectid,a,+i))}t.sellCnumtxt0.text=n}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.usechange.removeEventFun(),e.usechange.removeEventListener(egret.Event.CHANGE,e.usechangefun,e),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.useusebtn:var a=t.usechange.getValue();a?t.buyFun(a):FLOAT.NShowPutong([Language.ins.shop_tip2])}},t.prototype.getCalBuyTenCar=function(e,t,a){var i=Math.floor(t/a),n=t;if(e==GlobalEnum.itemid_scouttencar){var o=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(o&&o.scoutReward){var r=o.scoutReward,s=r.todayScoutBuyTimes,l=GlobalConfig.getComActivityshangjingVO(r.actRelationId);if(l){i=0;var p=parseFloat(l.firstdis),c=parseFloat(l.otherdis),u=a*p,m=a*c;s?i+=Math.floor(n/m):n>=u&&(i+=1,n-=u,i+=Math.floor(n/m))}}}return i},t.prototype.getTenCarCost=function(e,t,a){var i=t*a;if(e==GlobalEnum.itemid_scouttencar){var n=GlobalAllProxy.getInstance().operationProxy.operateActivityLoginPush;if(n&&n.scoutReward){var o=n.scoutReward,r=o.todayScoutBuyTimes,s=GlobalConfig.getComActivityshangjingVO(o.actRelationId);if(i=0,t&&s){var l=parseFloat(s.firstdis),p=parseFloat(s.otherdis),c=0;r||(c=1,i+=a*l),i+=(t-c)*(a*p)}}}return i},t.prototype.buyFun=function(e){var t=this;if(t.m_itemid){var a=t.m_type;if(a==shopbuy_type.dekaronshp){var i=GlobalConfig.getTowerShopVO(t.m_itemid),n=i.getCostArr();if(n.length>1){var o=+n[0];if(c=GlobalConfig.getItemVo(i.object),o==GlobalEnum.itemid_ug){var r=+n[1]*e,s=new AlertVO;s.showCancel=!0;var l=FormatString.format(Language.ins.shop_tip5,c.name,e);s.info=l,s.tipbl=!0,s.tipstr=Language.ins.fight_tip4,s.tipitemid=GlobalEnum.itemid_ug,s.tipcostid=ug_cost_type.shop_buy,s.tipitemnum=r,JAlert.show(s,Language.ins.title_tishi,t.dekaronshpbuy,t)}else t.dekaronshpbuy()}}else if(a==shopbuy_type.leagueshop)GlobalAllProxy.getInstance().fightProxy.NetCrossGloryCoinRequest(t.m_itemid,e);else{var p=GlobalConfig.getShopVO(t.m_itemid);if(p&&p.costid==GlobalEnum.itemid_ug){var r=p.price*e;+p.objectid==GlobalEnum.itemid_scouttencar&&(r=t.getTenCarCost(+p.objectid,e,p.price));var s=new AlertVO;s.showCancel=!0;var c=GlobalConfig.getItemVo(t.m_itemid),l=FormatString.format(Language.ins.shop_tip5,p.name,e);s.info=l,s.tipbl=!0,s.tipstr=Language.ins.fight_tip4,s.tipitemid=GlobalEnum.itemid_ug,s.tipcostid=ug_cost_type.shop_buy,s.tipitemnum=r,JAlert.show(s,Language.ins.title_tishi,t.buyToServer,t)}else t.buyToServer()}}},t.prototype.dekaronshpbuy=function(){var e=this,t=e.usechange.getValue();t&&GlobalAllProxy.getInstance().fightProxy.NetbabelstorebuyRequest(+e.m_itemid,t)},t.prototype.buyToServer=function(){var e=this,t=e.usechange.getValue();t&&GlobalAllProxy.getInstance().backpackProxy.NetStoreBuy(+e.m_itemid,t)},t.prototype.onkeyfun=function(){},t}(e.VM);e.ShopBuyView=t,__reflect(t.prototype,"vm.ShopBuyView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.ShopPaySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.getbtn.label=Language.ins.shop_tip27,a.gifbar.ShowLabel=!0,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_shop_pay,PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?FntUtil.showFntRight(a.ftipBZG,ResName.fnt_title,Language.ins.shop_tip28,ResName.spa_title_b):FntUtil.showFntLeft(a.ftipBZG,ResName.fnt_title,Language.ins.shop_tip28,ResName.spa_title_b)),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),this.m_payvo=null,utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t,a,i,n=this,o=PFAll.isiosopen(iostest_type.pay),t=o?GlobalConfig.charge_DATA:GlobalConfig.chargeios_DATA,r=[],s=GlobalAllProxy.getInstance().playerProxy.playerinfo,l=s.vipLevel,p=s.vipExp;n.viptxt.text=l;var c=p,u=GlobalConfig.getVipLevelVO(c),m=c-u.minexp,g=Math.abs(u.maxexp-u.minexp),_=g;u.maxexp?n.gifbar.setValue(m,_):n.gifbar.setValue(u.minexp,u.minexp);var h=GlobalAllProxy.getInstance().backpackProxy;for(var d in t)i=t[d],i.type==pay_type.pay&&(a=new ShopPayRenderVO,a.vo=i,a.rank=d,a.type=i.type,a.buynum=h.getShopNum(i.id),r.push(a));var y=GlobalAllProxy.getInstance().playerProxy.vipData;if(y){var v,f=GlobalConfig.getVipVO(l+1);if(f){var b=f.minexp-s.vipExp;n.costtxt.text=b,v=FormatString.format(Language.ins.vip_tip9,f.viplv),FntUtil.showFntLeft(n.tipBZG,ResName.fnt_title,v,ResName.spa_title_b)}else n.costtxt.text=0,v=FormatString.format(Language.ins.vip_tip9,l),FntUtil.showFntLeft(n.tipBZG,ResName.fnt_title,v,ResName.spa_title_b)}r.sort(utils.GameUtil.sortMatckFun(["rank"],[0])),n.showData(r,!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.listchangeA=function(e){var t,a,i=this,n=i.datalist.selectedItem;Global.severNE!=Global.severNE_debug?n instanceof ShopPayRenderVO&&(t=n,a=t.vo,PFAll.PFPay(a.id)):n instanceof ShopPayRenderVO&&(t=n,a=t.vo,a&&(i.m_payvo=a,JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,i.gopay,i,!0))),i.datalist.selectedIndex=-1},t.prototype.gopay=function(){var e=this.m_payvo;e&&GlobalAllProxy.getInstance().gameProxy.NetRecharg(e.id)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.MY_INFO_CHANGW:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close(),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE);break;case t.panel_bg.closebtn:t.close(),EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE);break;case t.getbtn:t.close(),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_vip])}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=ShopPayRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.ShopPayView=t,__reflect(t.prototype,"vm.ShopPayView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_ismoveing=!1,t.percentWidth=t.percentHeight=100,t.m_xyarr=[[-5,105,.72,.6],[127,41,1,1],[373,105,.72,.6]],t.m_logoArr=[],t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.SignCreatClubSkinDR;e.runto(this,[])},t.prototype.getAdvanceDRArr=function(){return[skins.MainSkinDR]},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this,i=Math.floor(ParamLoader.instance.Servernamemax)/2;PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])&&(i=Math.floor(ParamLoader.instance.Servernamemax)),a.initAddEvent(),t&&(a.nametiptxt.text=Language.ins.login_tip7,a.idtiptxt.text=Language.ins.login_tip8,a.downbtn.label=Language.ins.login_tip9,a.m_parr0=["tab_dlcj_b1","tab_dlcj_b2","tab_dlcj_b3"],a.m_ziarr=["tab_dlcj_a7","tab_dlcj_c3","tab_dlcj_c4"],a.m_radarr=["tab_dlcj_a9","tab_dlcj_d1","tab_dlcj_d2"],a.m_posarr=["tab_dlcj_b4","tab_dlcj_b5","tab_dlcj_b6"],a.m_bodyarr=["tab_dlcj_a5","tab_dlcj_c8","tab_dlcj_c9"],a.m_bgarr=["tab_dlcj_b8","tab_dlcj_c1","tab_dlcj_b9"],a.m_logoArr=ParamLoader.instance.ServerInitialLogo.split(";"),FntUtil.showFnt(a.titleBZG,ResName.fnt_title,Language.ins.login_tip6,ResName.spa_title_a),a.m_playerbodyX=a.playerbody.y),a.nameTipG.visible=!1;var n=ParamLoader.instance.ServerLoginPlayer;n.length;a.m_initstr=FormatString.format(Language.ins.game_creat_init,i),a.idtxt.text=a.m_initstr;var o=3;a.m_chooseindex=Math.floor(Math.random()*o);var n=ParamLoader.instance.ServerLoginPlayer,r=n[a.m_chooseindex];a.m_chooseplayid=r,a.m_ismoveing=!1;var s=a.ranName();a.idtxt.text=s,a.changeShow(),a.resizefun()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,a=t.logintype;a?(e.touchChildren=!0,e.changeshowLogo(),e.showPlayerData(),e.changeHeroData(),""==e.idtxt.text?e.idtiptxt.visible=!0:e.idtiptxt.visible=!1):e.touchChildren=!1},t.prototype.changeshowLogo=function(e){void 0===e&&(e=0/0);var t,a=this,i=a.m_logoArr,n=i.length;if(isNaN(e))a.m_logoindex=Math.floor(Math.random()*n);else{var o=a.m_logoindex;o+=e,0>o&&(o+=n),o>=n&&(o-=n),a.m_logoindex=o}a.logoimg.setLogoUrl("sjdh_tu_1"),t=i[a.m_logoindex],a.logoimg.setLogoUrl(t),a.m_chooselogo=t},t.prototype.showPlayerData=function(){var e=this,t=ParamLoader.instance.ServerLoginPlayer,a=t[e.m_chooseindex];e.m_chooseplayid=a;for(var i=e.m_chooseindex,n=e.m_ziarr,o=e.m_parr0,r=e.m_radarr,s=e.m_bgarr,l=e.m_bodyarr,p=0,c=t.length;c>p;p++)p==i?(e.desimg.source=n[p],e.raderimg.source=r[p],e.zibg.source=s[p],e.playerbody.source=l[p],e.playchoose.x=e["playG"+p].x-11,utils.GameUtil.setColorBrightness(e["playG"+p],0,!1)):utils.GameUtil.setColorBrightness(e["playG"+p],-50,!0),e["playimg"+p].source=o[p]},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.CREAT_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.GAME_LOGIN_COM,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.selectaccountxt=function(e){var t=this;e.target.alpha=1,e.target.text==t.m_initstr&&(e.target.text=""),""==t.idtxt.text?t.idtiptxt.visible=!0:t.idtiptxt.visible=!1,t.idtxt.text=utils.GameComUtil.getNameLenghtStr(t.idtxt.text,utils.GameComUtil.getNameLenght())},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.CREAT_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.GAME_LOGIN_COM,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.CREAT_DATA_CHANGE:a.changeShow();break;case game.GameCommands.GAME_LOGIN_COM:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main]);break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.downbtn:t.playdownFun();break;case t.suibtn:var a=t.ranName();t.idtxt.text=a;break;case t.leftbtn:case t.logochangebtn:t.changeshowLogo(1);break;case t.playG0:t.chooseMove(0);break;case t.playG1:t.chooseMove(1);break;case t.playG2:t.chooseMove(2)}},t.prototype.chooseMove=function(e){var t=this;t.m_ismoveing||(t.m_chooseindex=e,t.m_ismoveing=!0,t.changeHeroData(!0))},t.prototype.changeHeroData=function(e){void 0===e&&(e=!1);var t=this;t.showPlayerData();var a=183,i=t.playerbody;a=i.x,i.x=a+100,i.alpha=0,i.y=t.m_playerbodyX,TweenLite.killTweensOf(i,!0),TweenLite.to(i,.3,{delay:.2,x:a,alpha:1,onComplete:t.moveDown.bind(t)}),i=t.zibg,a=i.x,i.x=a+100,i.alpha=0,TweenLite.to(i,.3,{x:a,alpha:1}),i=t.desimg,a=i.x,i.x=a+100,i.alpha=0,TweenLite.to(i,.3,{delay:.1,x:a,alpha:1}),i=t.raderimg,a=i.x,i.x=a-100,i.alpha=0,TweenLite.to(i,.3,{delay:.2,x:a,alpha:1})},t.prototype.moveDown=function(){var e=this;e.m_ismoveing=!1,e.showArrowMc(!0)},t.prototype.showArrowMc=function(e){void 0===e&&(e=!0);var t=this,a=t.playerbody;return TweenLite.killTweensOf(a,!0),e?(a.visible=!0,void TweenLite.to(a,1.6,{y:t.m_playerbodyX-20,ease:Cubic.easeInOut,onComplete:t.tweenComplete.bind(t)})):void(a.visible=!1)},t.prototype.tweenComplete=function(){var e=this,t=e.playerbody;TweenLite.killTweensOf(t,!0),TweenLite.to(t,1.6,{y:e.m_playerbodyX,ease:Cubic.easeInOut,onComplete:e.showArrowMc.bind(e)})},t.prototype.chooseplayerfun=function(e){var t=this,a=ParamLoader.instance.ServerLoginPlayer,i=a.length;i>e&&(t.m_chooseplayid=a[e],t.changeShow())},t.prototype.ranName=function(){var e="",t="",a="",i=GlobalConfig.fnamearr_DATA,n=GlobalConfig.lnamearr_DATA,o=i.length,r=n.length,s=Math.floor(Math.random()*o),l=Math.floor(Math.random()*r);return e=i[s],t=n[l],a=e+t},t.prototype.playdownFun=function(){var e=this,t=e.idtxt.text,a=ParamLoader.instance.Servernamemax,i=0;if(PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])){var n=t.replace(/\ /gi,"").replace(/\r/gi,""),o=new egret.ByteArray;o.writeUTFBytes(n),i=o.length}else i=FormatString.ASCLengthNew(t);if(t==e.m_initstr||""==t)return void FLOAT.NShowPutong([Language.ins.game_creat_tip0]);var r=t;r=r.toLowerCase(),r=GlobalConfig.excludeSpecialRemove(r);var s=new RegExp(GlobalConfig.keyWordStr,"g"),l=s.test(n);return l||i>a?void FLOAT.NShowPutong([Language.ins.tip_login_error2]):(debugDM.log("@创角:game_shareid:"+PFAll.game_shareid),void GlobalAllProxy.getInstance().gameProxy.NetUserLogin(creatType.type_palyerid,t,e.m_chooselogo,e.m_chooseplayid,PFAll.game_figureurl,PFAll.game_shareid))},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.SignCreatClubView=t,__reflect(t.prototype,"vm.SignCreatClubView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_isloading=!1,t.m_islogin=!1,t.accounstr="",t.m_barxA=-24,t.m_barxB=-24,t.m_barnum=0,t.m_barmax=100,t.Random_value=2,t.m_chooseindex=0,t.percentHeight=100,t.percentWidth=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.SignLoginSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;if(a.m_blshowlist=!1,a.showListMove(!1,!1),a.m_isloading=!1,a.m_islogin=!1,a.getListData(),t&&(a.ftiptxt0.text=Language.ins.login_tip10,a.ftiptxt1.text=Language.ins.login_tip11,a.ftiptxt2.text=Language.ins.login_tip13,a.loadtxt.text=Language.ins.login_tip4,a.loginbtn.label=Language.ins.dekaron_tip49,a.okbtn.label=Language.ins.dekaron_tip49,a.refusebtn.label=Language.ins.login_tip12),a.virtxt.text=Language.ins.login_tip14+PFAll.game_version,a.idtxt.text=Language.ins.game_login_name,a.listG.touchChildren=!0,a.btnG.touchChildren=!0,a.loginbtn.visible=!0,a.okbtn.visible=!0,a.initAddEvent(),a.changeshow(),a.resizefun(),a.loadwmcfun(),a.dectxt.text=Language.ins.login_tip5,egret.clearTimeout(a.m_destime),a.m_destime=egret.setTimeout(a.showdes,a,4e3),Global.severNE==Global.severNE_debug){var i=SaveUtil.getItem(SaveUtil.type_debug_name);i&&(a.idtxt.text=i)}PFAll.game_change_logo&&(this.bgimg0.source=null,this.bgimg0.source=PFAll.game_change_logo),PFAll.game_change_bg&&(this.bgimg.source=null,this.bgimg.source=PFAll.game_change_bg),PFAll.isIosTest()&&(this.bgimg0.visible=!1,this.virtxt.visible=!1),a.wxG&&(a.wxG.visible=!1,PFAll.isNowPF([Global.servrNE_wxgame])&&(a.wxG.visible=!0)),PFAll.isNowPF([Global.servrNE_wxgame])&&PFwxgame.getInstance().setGameClubShow(!0)},t.prototype.changeshow=function(){var e=this,t=Language.ins.game_tip6,a=PFAll.isiosopen(iostest_type.activity);e.dectxt0.text=a?t:"",e.dectxt1.text=Language.ins.game_tip1,PFAll.isNowPF([Global.severNE_japan])&&(e.dectxt0.text=Language.ins.game_tip1,e.dectxt1.text="");var i=Global.severNE,n=Global.severNE_debug;e.listG.visible=!1,e.btnG.visible=!1,e.loadingG.visible=!1,e.inviteG.visible=!1;var o=utils.GameComUtil.getNowSeverVO();if(o){e.severtxt.text=FormatString.format(Language.ins.login_tip0,o.svrId,o.name);var r=(Language.ins.list_sever_statas,ResName.sever_stata_arr);e.severicon.source=r[parseInt(o.status)]}if(Global.isPT_Moli)return void(i==n?(e.idtxt.text=Global.PT_Moli_name,e.logingame()):e.logingame());if(i==n)e.btnG.visible=!0;else{e.listchooseG.visible=!0,e.okbtn.visible=!0;var s=!1,l=GlobalAllProxy.getInstance().gameProxy.severlistData;if(l){e.listG.visible=!0;var p=utils.GameComUtil.getNowSeverVO();if(e.changeListShow(),p.status==sever_stata.state_service)s=!0;else if(l.lastLogin&&l.lastLogin.length){var c=SaveUtil.getItem(SaveUtil.type_seve_list_num);
(!c||+c<l.noticeId||"null"==c)&&(SaveUtil.setItem(SaveUtil.type_seve_list_num,l.noticeId+""),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_note])),s=!0}else{if(p){var u=new SGameLastSeverVO;u.serverid=p.svrId,l.lastLogin=[u]}e.logingame(),e.listchooseG.visible=!1,e.okbtn.visible=!1,s=!1}}}e.invitetxt.text=""},t.prototype.showdes=function(){var e=this;egret.clearTimeout(e.m_destime);var t=GlobalConfig.tip_dataArr;if(t){var a=t.length,i=Math.floor(Math.random()*a),n=t[i];e.dectxt.text=n.text}e.m_destime=egret.setTimeout(e.showdes,e,4e3)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeAddEvent(),egret.clearInterval(this.m_time),a.showLoadMc(!1),egret.clearTimeout(a.m_destime)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.GAME_LOGIN_COM,e.eventchange),e.addMessage(game.GameCommands.GET_SEVER_LIST,e.eventchange),e.addMessage(game.GameCommands.SOCKET_OPEN,e.eventchange),e.addMessage(game.GameCommands.SOCKET_CLOSE,e.eventchange),e.addMessage(game.GameCommands.SOCKET_ERROR,e.eventchange),e.idtxt.addEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.addEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),e.datalist2.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.datalist3.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.GAME_LOGIN_COM,e.eventchange),e.removeMessage(game.GameCommands.GET_SEVER_LIST,e.eventchange),e.removeMessage(game.GameCommands.SOCKET_OPEN,e.eventchange),e.removeMessage(game.GameCommands.SOCKET_CLOSE,e.eventchange),e.removeMessage(game.GameCommands.SOCKET_ERROR,e.eventchange),e.idtxt.removeEventListener(egret.TextEvent.CHANGE,e.selectaccountxt,e),e.idtxt.removeEventListener(egret.TextEvent.FOCUS_IN,e.selectaccountxt,e),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,e.onResourceProgress,e),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,e.onResourceLoadComplete,e),e.datalist2.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeC,e),e.datalist3.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeB,e)},t.prototype.selectaccountxt=function(e){var t=this,a=16;e.target.alpha=1,e.target.text==Language.ins.game_login_name&&(e.target.text=""),FormatString.ASCLength(e.target.text)>a?e.target.text=t.accounstr:t.accounstr=e.target.text},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.GAME_LOGIN_COM:a.logincomFun();break;case game.GameCommands.GET_SEVER_LIST:a.changeshow();break;case game.GameCommands.SOCKET_OPEN:a.SockConnect();break;case game.GameCommands.SOCKET_CLOSE:case game.GameCommands.SOCKET_ERROR:a.m_islogin=!1}},t.prototype.logincomFun=function(){var e=this;e.loadingStart()},t.prototype.touchTapFun=function(e){var t=this,a=e.target,i=PanelDM.getIns(),n=!1;switch(a){case t.loginbtn:t.logingame();break;case t.okbtn:t.m_blshowlist&&(t.m_blshowlist=!1,t.showListMove(!1,!0)),t.logingame();break;case t.listchooseG:n=!0,t.showListMove(!0,!0);break;case t.notebtn:i.goWindow([GlobalViewIDEnum.pType_note]);break;case t.virtxt:PFAll.game_shareid&&""!=PFAll.game_shareid&&(t.virtxt.text="@邀请者id:"+PFAll.game_shareid,PFAll.game_shareid="");var o=Global.severNE,r=Global.severNE_debug;o==r&&(t.inviteG.visible=!0);break;case t.rectimg:t.m_blshowlist=!1,t.showListMove(!1,!0);break;case t.closebtn:t.m_blshowlist=!1,t.showListMove(!1,!0);break;case t.lastG:t.m_chooseindex=0,t.showlistf(),t.showlistb(),t.listGbgimg.source="tab_xzfq_a6"}},t.prototype.showListMove=function(e,t){var a=this;e&&(a.m_blshowlist=!a.m_blshowlist),a.severlistG.visible=a.m_blshowlist;var i=a.rectimg;a.severlistG.visible?i.touchEnabled=!0:i.touchEnabled=!1},t.prototype.logingame=function(){var e=this;PFAll.ReportLog(report_type.choosesever),e.inviteG.visible&&(e.invitetxt.text&&(PFAll.game_shareid=e.invitetxt.text),e.futxt.text&&(PFAll.game_serverId=+e.futxt.text));var t=utils.GameComUtil.getNowSeverVO();if(t&&t.status==sever_stata.state_service){var a=Language.ins.game_is_wait,i=GlobalAllProxy.getInstance().gameProxy.severlistData;return i&&i.maintenanceNotice&&(a=i.maintenanceNotice,i.isCanResh()&&(GlobalAllProxy.getInstance().gameProxy.NetGameNotice(PFAll.game_pf,PFAll.game_platform,PFAll.game_userid,PFAll.game_token,PFAll.game_pf_channel),i.reshWaitTime())),void JAlert.showinfostr(a,Language.ins.title_tishi,null,null,!1)}if(e.m_islogin)return void e.loginingfun();if(e.m_islogin=!0,Global.severNE!=Global.severNE_debug){var n=GlobalAllProxy.getInstance().gameProxy.chooseSeverVO;if(n||Global.isPT_Moli){Global.isPT_Moli?PFAll.game_userid=Global.PT_Moli_name:(Global.chathost=n.host,Global.chatport=n.port);var o=BufHandler.instance.socket;o.isConnected()?this.SockConnect():o.connect(Global.chathost,Global.chatport)}}else{var o=BufHandler.instance.socket;o.isConnected()?this.SockConnect():o.connect(Global.chathost,Global.chatport)}},t.prototype.loginingfun=function(){FLOAT.NShowPutong([Language.ins.game_is_loging])},t.prototype.waitloginchange=function(){var e=this;e.m_islogin=!0},t.prototype.SockConnect=function(){var e=this;if(Global.severNE!=Global.severNE_debug)PFAll.loginGame();else{var t=e.idtxt.text,e=this,a=new RegExp("^[A-Za-z0-9]*$");if(t==Language.ins.game_login_name||""==t)return FLOAT.NShowPutong([Language.ins.tip_login_name]),void(e.m_islogin=!1);if(!a.test(t))return FLOAT.NShowPutong([Language.ins.tip_login_error]),void(e.m_islogin=!1);var i=t;i=i.toLowerCase(),t&&""!=t&&(PFAll.game_userid=t,PFAll.loginGame(),SaveUtil.setItem(SaveUtil.type_debug_name,t))}egret.setTimeout(e.waitloginchange,e,2e3)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.loadingStart=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.logintype;e.m_isloading=!0,e.listG.touchChildren=!1,e.btnG.touchChildren=!1,e.loadingG.visible=!0,e.loginbtn.visible=!1,e.btnG.visible=!1,e.okbtn.visible=!1,e.wxG&&e.wxG.visible&&(e.wxG.visible=!1),PFAll.isNowPF([Global.servrNE_wxgame])&&PFwxgame.getInstance().setGameClubShow(!1);var a,i=[];a=Global.isconfigZip?i.concat(["preload"]):i.concat(["preload"]),t?(a.push("signcreat"),a.push("guideload")):a.push("signmain"),RES.createGroup(GlobalEnum.res_signload,a,!0),RES.loadGroup(GlobalEnum.res_signload),egret.clearInterval(this.m_time),e.airBar.setValue(0,100,e.m_barxA,""),e.airallBar.setValue(0,100,e.m_barxB,"0%"),e.m_time=egret.setInterval(e.timefun,e,30)},t.prototype.onResourceProgress=function(e){var t=this;e.groupName==GlobalEnum.res_signload&&t.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.onResourceLoadComplete=function(e){var t=this,a=e.groupName;a==GlobalEnum.res_signload?(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.onResourceLoadComplete,t),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,t.onResourceProgress,t),t.setProgress(100,100),egret.setTimeout(t.createScene,t,100)):a==ResName.animo_login_all&&t.showLoadMc(!0)},t.prototype.createScene=function(){var e=GlobalAllProxy.getInstance().gameProxy.logintype;e?(Global.setMusicBl(!0),PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_sign_creatclub])):EventBus.sendMessage(game.GameCommands.ON_ENTER_GAME_INIT)},t.prototype.setProgress=function(e,t){var a=this;t&&e==t?(e&&egret.clearInterval(this.m_time),a.airBar.setValue(a.m_barmax,a.m_barmax,a.m_barxA)):a.timefun();var i=Math.floor(e/t*100),n=i+"%";a.airallBar.setValue(e,t,a.m_barxB,n)},t.prototype.timefun=function(){var e=this;e.m_barnum+=e.Random_value;var t=e.m_barnum,a=e.m_barmax;t>a&&(t=a),e.airBar.setValue(t,a,e.m_barxA,""),e.m_barnum>=a&&(e.m_barnum=0,e.Random_value=+(3*Math.random()).toFixed(1)+1)},t.prototype.loadwmcfun=function(){for(var e=this,t=ResName.getDragonFastArr(ResName.mc_login_guang),a=!0,i=0,n=t.length;n>i;i++)RES.getRes(t[i])||(a=!1);if(a)e.showLoadMc(!0);else{var o=ResName.animo_login_all;RES.createGroup(o,t,!0),RES.loadGroup(o)}},t.prototype.showLoadMc=function(e){var t=this,a=ResName.mc_login_guang,i=utils.GameComUtil.getArmature(a,a,t);i?e&&(i.animation.play("effect"),t.loginmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i)},t.prototype.changeListShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.severlistData;if(a){a.lastLogin,a.svrlst}t.showlistf(),t.showlistb()},t.prototype.showData=function(e,t,a){var i=e,n=t;n.itemRenderer||(n.itemRenderer=a),n.dataProvider=new eui.ArrayCollection(i)},t.prototype.showlistf=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy.severlistData;if(t)for(var a,i=t.svrlst,n=Math.ceil(i.length/ParamLoader.instance.login_num),o=[],r=1;n>=r;r++)a=new SGameListSeverVO,a.index=r,a.downnum=1+(r-1)*ParamLoader.instance.login_num,a.upnum=r*ParamLoader.instance.login_num,e.m_chooseindex==r?a.ischoose=!0:a.ischoose=!1,o.push(a);o.sort(utils.GameUtil.sortMatckFun(["index"],[1])),e.showData(o,e.datalist2,SignChooseRender1)},t.prototype.showlistb=function(){var e,t=this,a=GlobalAllProxy.getInstance().gameProxy.severlistData;if(a)if(0!=t.m_chooseindex){e=a.svrlst;var i,n=t.m_chooseindex*ParamLoader.instance.login_num,o=[],r=n;n>e.length&&(r=e.length);for(var s=(t.m_chooseindex-1)*ParamLoader.instance.login_num;r>s;s++)i=e[s],o.push(i);o.sort(utils.GameUtil.sortMatckFun(["svrId"],[1])),t.showData(o,t.datalist3,SignChooseRender)}else{e=a.lastLogin;for(var l,p,o=[],c=0,u=e.length;u>c;c++)p=e[c],p.serverid&&(l=a.getListVO(p.serverid),o.push(l));t.showData(o,t.datalist3,SignChooseRender)}},t.prototype.listchangeB=function(e){var t=this,a=e.target.selectedItem;a&&(t.m_blshowlist=!1,t.showListMove(!1,!0),GlobalAllProxy.getInstance().gameProxy.setChooseSever(a),t.sendMessage(game.GameCommands.GET_SEVER_LIST))},t.prototype.listchangeC=function(e){var t=this,a=e.target.selectedItem;a&&(t.m_chooseindex=a.index,t.showlistf(),t.showlistb(),t.listGbgimg.source="tab_xzfq_a7")},t.prototype.getListData=function(){return},t}(e.VM);e.SignLoginView=t,__reflect(t.prototype,"vm.SignLoginView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.panelArr=["vm.TacticsFormaPanel","vm.TacticsStudyPanel"],t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TacticsBgSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_tactics),a.addChild(a.m_toppanel),t){a.showTar();var i=GlobalEnum.itemid_qiutan;a.itemimg.source=ResName.getMinItemIcon(i)}a.resizefun()},t.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;t&&(e.numtxt.text=t.potions)},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_tactics;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},t.prototype.changeshow=function(){var e=this;e.hitalllist();var t=e.panelArr[e._choosemode],a=e[t];null==a?(a=Manifest.getIns(egret.getDefinitionByName(t)),e.contentGroup.addChild(a),a.visible=!0,e[t]=a,e.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,e.contentGroup.addChild(a))},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.hitalllist(),this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.GET_TACTICAL_CENTER,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.GET_TACTICAL_REWARD,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.GET_TACTICAL_REWARD,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.GET_TACTICAL_CENTER,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changedata();break;case game.GameCommands.GET_TACTICAL_CENTER:case game.GameCommands.GET_TACTICAL_REWARD:a.changedata();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_qiutan,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.type_forma=0,t.type_study=1,t}(e.VM);e.TacticsBgView=t,__reflect(t.prototype,"vm.TacticsBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsFormaInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.ftiptxt0.text=Language.ins.tactics_tip_4,a.upbtn.label=Language.ins.game_uplv_s,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tactics_formainfo),a.changeShow(),a.rightbtn.visible=!1,a.leftbtn.visible=!1},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(a){var i,n=t.panelVo.panelobj.data;if(n){t.curformeid=n.id,t.formaGroup.setData(t.curformeid,null),i=a.getFormeLevel(n.id);var o=GlobalConfig.getFormationProperVO(t.curformeid,i);t.destxt.text=o.remark;var r=n,s=r.vo;t.nametxt.text=s.name,t.lvtxt.text=Language.ins.game_lv_s+i,t.chooseG.visible=r.ischoose,t.zhanlitxt.text=Math.round(r.zhanli)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.upbtn:t.curformeid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_tacticsformainupgrade],{id:t.curformeid});break;case t.panel_bg.closebtn:t.close()}},t}(e.VM);e.TacticsFormaInfoView=t,__reflect(t.prototype,"vm.TacticsFormaInfoView")}(vm||(vm={}));var TacticsFormaVO=function(){function e(e,t,a,i){void 0===t&&(t=1),void 0===a&&(a=0),void 0===i&&(i=!1);var n=this;n.vo=e,n.id=e.id,n.lv=t,n.zhanli=a,n.ischoose=i}return e}();__reflect(TacticsFormaVO.prototype,"TacticsFormaVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsFormaSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tactics_forma),a.initAddEvent(),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i,n,o,r=GlobalConfig.formation_DATE,s=[],l=t.fighting;for(var p in r)a=r[p],n=t.getFormeLevel(a.id),o=t.formid==a.id?!0:!1,i=new TacticsFormaVO(a,n,l,o),s.push(i);s.sort(utils.GameUtil.sortMatckFun(["id"],[0])),e.showData(s,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.panel_bg.closebtn:t.close()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TacticsFormaRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.TacticsFormaPanel=t,__reflect(t.prototype,"vm.TacticsFormaPanel")}(vm||(vm={}));var TacticsFormationVO=function(){function e(e,t,a,i){void 0===t&&(t=1),void 0===a&&(a=0),void 0===i&&(i=!1);var n=this;n.vo=e,n.id=e.id,n.lv=t,n.zhanli=a,n.ischoose=i}return e}();__reflect(TacticsFormationVO.prototype,"TacticsFormationVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.m_indexDroA=-1,t.m_droAnums=[];var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsFormationSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),t&&(a.savebtn.label=Language.ins.btn_ok,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tactics_forma);var i=GlobalAllProxy.getInstance().playerProxy.tacticsData;i&&(a.formaArr=GlobalAllProxy.getInstance().playerProxy.getFormaPlayerArr(a.m_chooseid)),a.initPanelData(),a.initAddEvent(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;this.m_chooseid=0,e.panelVo&&e.panelVo.panelobj&&(this.m_chooseid=+e.panelVo.panelobj)},t.prototype.initPanelData=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i,n=GlobalConfig.formation_DATE,o=t.formLevel,r=[],s=[],l=0,p=0,c=Language.ins.tactics_tip_13;for(var u in n)a=n[u],e.m_chooseid==n.id&&(l=p),i=FormatString.format(c,a.name,o),r.push(i),s.push(a.id),p++;e.m_droAnums=s}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var a,i,n,o,r=GlobalConfig.formation_DATE,s=[],l=t.fighting,p=e.m_chooseid;p||(p=t.formid);for(var c in r)a=r[c],n=t.getFormeLevel(a.id),o=p==a.id?!0:!1,i=new TacticsFormationVO(a,n,l,o),s.push(i);s.sort(utils.GameUtil.sortMatckFun(["id"],[0]));for(var u=0,m=s.length;m>u;u++)i=s[u],i.ischoose=!1,i.id==p&&(e.m_indexDroA=u,i.ischoose=!0);e.showData(s,!1),e.datalist.selectedIndex=e.m_indexDroA;var t=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t){var g=t.formid,_=GlobalAllProxy.getInstance().playerProxy.tacticsData.getFormeLevel(g),h=GlobalConfig.getFormationVO(g),d=Language.ins.hero_tip28+" "+h.name,y=FormatString.format(Language.ins.tactics_tip_12,d,_);e.titletxt.text=y}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.datalist.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e)},t.prototype.chooseDragonA=function(e){var t=this;t.m_indexDroA=t.datalist.selectedIndex,t.m_chooseid=t.m_droAnums[t.m_indexDroA];var a=t.datalist.selectedItem;if(a instanceof TacticsFormationVO){var i=a.vo;t.formatxt.text=i.name;var n=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();if(!(i.unlocklv<=n)){var o=t.datalist.getVirtualElementAt(t.datalist.selectedIndex);return o&&(o.selected=!1),t.datalist.selectedIndex=-1,void FLOAT.NShowPutong([Language.ins.title_tacticsconter+i.unlocklv+Language.ins.level_opening+""])}}t.changeShow()},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.panel_bg.closebtn:t.close();break;case t.savebtn:t.saveForma()}},t.prototype.saveForma=function(){for(var e,t,a,i,n=this,o=[],r=n.formaArr,s=0,l=r.length;l>s;s++)i=r[s],e=new PlayerPosition,e.player_id=i.playerid,e.position=i.position,t=BufHandler.instance.getMessage(BufRequests.PlayerPosition),a=new t(e),o.push(a);var p=GlobalConfig.formation_DATE,c=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();if(p[n.m_chooseid].unlocklv<=c)n.sendMessage(game.GameCommands.GET_CHANGE_CHOOSE_NEWFORMA,n.m_chooseid),n.close();else{var u=FormatString.format(Language.ins.tactics_tip_9,Language.ins.title_tacticsconter,p[n.m_chooseid].unlocklv);FLOAT.NShowPutong([u])}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.datalist.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.chooseDragonA,e)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=HeroFormation1Render,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.TacticsFormationPanel=t,__reflect(t.prototype,"vm.TacticsFormationPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsFormaUpgradeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.curlvtxt1.text=Language.ins.tactics_tip_5,a.tipnametxt.text=Language.ins.train_add_tip30,a.upbtn.label=Language.ins.game_uplv_s,a.panel_bg.titlename.text=Language.ins.title_tactics_formaup,a.maximg.visible=!1,a.upneedG.visible=!0,a.maxtiptxt.text=Language.ins.max_tip_forma),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalistA),utils.GameComUtil.removeTextFlow(this.curlvtxt0)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t.curformeid=t.panelVo.panelobj.id,t.maximg.visible=!1,t.upneedG.visible=!0,t.curlvtxt0.text=!0,t.curlvtxt1.text=!0,a){var i=a.getFormeLevel(t.curformeid),n=i+1,o=(GlobalConfig.getFormationVO(t.curformeid),GlobalConfig.getFormationProperVO(t.curformeid,i)),r=GlobalConfig.getFormationProperVO(t.curformeid,n);t.curlvtxt.text=Language.ins.game_lv_s+i,t.curlvtxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.tactics_tip_3,n));GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();if(r){var s=utils.GameComUtil.getItemVoArr(o.cost,null),l=new game.ComItemGroupVo,p=o.clv,l=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,p);s.push(l),t.setCostListA(s);var c=CostItemRender.getItemOkArr(s);t.upbtn.enabled=c?!0:!1,t.tiphimg.visible=c?!0:!1,t.uplvtxt.text=Language.ins.game_lv_s+n}else t.maximg.visible=!0,t.upneedG.visible=!1,t.curlvtxt0.text=!1,t.curlvtxt1.text=!1,t.uplvtxt.text=Language.ins.game_lv_s+i;for(var u,m,g=game.ComFormaPorVO.FProArr,_=game.ComFormaPorVO.FProNameArr,h=[],d=0,y=g.length;y>d;d++)u=g[d],o&&o[u]&&(m=new TacticsFormaUpRanderVO,m.namestr=Language.ins.tactics_tip_10,m.prostr=_[d],m.num=o[u],r&&r[u]&&(m.add=r[u]-o[u]),h.push(m));t.showDataA(h,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_FORMA_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.GET_TACTICAL_FORMA_UPGRADE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.upbtn:this.curformeid&&GlobalAllProxy.getInstance().playerProxy.NetFormationUpgrade(this.curformeid);break;case t.panel_bg.closebtn:t.close()}},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalistA;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TacticsFormaUpRander,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.TacticsFormaUpgradeView=t,__reflect(t.prototype,"vm.TacticsFormaUpgradeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsStudyInfoSkinDR;e.runto(this,[])},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo)e.cerstudyid=e.panelVo.childtype;else{var t=GlobalAllProxy.getInstance().playerProxy.tacticsData;t&&(e.cerstudyid=t.att_tactical)}var a=[];if(e.cerstudyid){var i=GlobalConfig.getTacticstoPorPertyVO(e.cerstudyid,1),n=!1;i.ttype==study_type.type_attack&&(n=!0);var o=GlobalConfig.getTacticsPorPertyArrVO(n);for(var r in o)i=o[r],a.push(i.tid)}e.m_studyids=a},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.tipnametxt.text=Language.ins.train_add_tip30,a.upbtn.label=Language.ins.game_uplv_s,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tactics_actstudy,a.maximg.visible=!1,a.upneedG.visible=!0),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt),utils.GameComUtil.removeTextFlow(this.destxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.cerstudyid;if(t.maximg.visible=!1,t.upneedG.visible=!0,a){var i=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i){var n=i.formid,o=(GlobalAllProxy.getInstance().playerProxy.getTacticsLevel(),i.getStudyLevel(a)),r=o+1,s=GlobalConfig.getTacticstoPorPertyVO(a,o),l=s.remark.split(","),p=GlobalConfig.getTacticstoPorPertyVO(a,r);if(p){var c=utils.GameComUtil.getItemVoArr(s.cost,null),u=(GlobalAllProxy.getInstance().playerProxy.getTacticsLevel(),s.clv),m=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,u);c.push(m),t.setCostListA(c);var g=CostItemRender.getItemOkArr(c);t.upbtn.enabled=g?!0:!1,t.tiphimg.visible=g?!0:!1,h=s.ttype==study_type.type_attack?Language.ins.game_lv_next_tip+FormatString.formatArr(Language.ins.game_lv_b_text,[l[0],"0x53FF00",p.porperty/100]):Language.ins.game_lv_next_tip+FormatString.formatArr(Language.ins.game_lv_b_text1,[l[0],"0xFF0000",p.porperty/100])}else t.maximg.visible=!0,t.upneedG.visible=!1,h=Language.ins.game_lv_now_tip+FormatString.formatArr(Language.ins.game_lv_b_text,[l[0],"0x53FF00",s.porperty/100]);t.tiptxt.textFlow=utils.GameComUtil.getHtmlText(h),t.formaGroup.setData(n,a);var _=!1;s.ttype==game.ComTacticsPorVO.ttype_act?(_=i.att_tactical==a?!0:!1,t.panel_bg.titlename.text=Language.ins.title_tactics_actstudy,t.iconimg.source="tab_zs_b6"):(_=i.def_tacical==a?!0:!1,t.panel_bg.titlename.text=Language.ins.title_tactics_defstudy,t.iconimg.source="tab_zs_b7"),t.nametxt.text=s.tname,t.lvtxt.text=Language.ins.game_lv_s+o,t.chooseG.visible=_;var h;h=s.ttype==study_type.type_attack?FormatString.formatArr(Language.ins.game_lv_s_text,[l[0],"0x53FF00",s.porperty/100,"0x53FF00",l[1],"0xFF0000",l[2]]):FormatString.formatArr(Language.ins.game_lv_s_text1,[l[0],"0xFF0000",s.porperty/100,"0x53FF00",l[1],"0xFF0000",l[2]]),t.destxt.textFlow=utils.GameComUtil.getHtmlText(h)}t.listmove(0/0)}},t.prototype.listmove=function(e){var t=this,a=t.cerstudyid,i=t.m_studyids,n=i.indexOf(a),o=i.length;return isNaN(e)||-1==n?(t.leftbtn.visible=!1,t.rightbtn.visible=!1,void(-1!=n&&(n>0&&(t.leftbtn.visible=!0),o-1>n&&(t.rightbtn.visible=!0)))):(n+=e,0>n&&(n=o-1),n>o-1&&(n=0),t.cerstudyid=i[n],void t.changeShow())},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.GET_TACTICAL_STUDY_UPGRADE:a.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.upbtn:t.cerstudyid&&GlobalAllProxy.getInstance().playerProxy.NetTacticsUpgrade(this.cerstudyid);break;case t.leftbtn:t.listmove(-1);break;case t.rightbtn:t.listmove(1);break;case t.panel_bg.closebtn:t.close()}},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.TacticsStudyInfoView=t,__reflect(t.prototype,"vm.TacticsStudyInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TacticsStudyUpgradeSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.ftiptxt0.text=Language.ins.tactics_tip_6,a.tiptxt.text=Language.ins.tactics_tip_8,a.upbtn.label=Language.ins.game_uplv_s,a.mapAwardListG.setGroupAlign(egret.HorizontalAlign.CENTER),a.panel_bg.titlename.text=Language.ins.title_tactics_studyup),a.changeShow()
},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalistA)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(t.curformeid=t.panelVo.panelobj.id,a){var i=a.getStudyLevel(t.curformeid),n=i+1,o=GlobalConfig.getTacticstoPorPertyVO(t.curformeid,i),r=GlobalConfig.getTacticstoPorPertyVO(t.curformeid,n);t.namtxt.text=o.tname,t.curlvtxt.text=Language.ins.game_lv_s+i,t.uplvtxt.text=Language.ins.game_lv_s+n;var s=utils.GameComUtil.getItemVoArr(o.cost,null);t.mapAwardListG.setDataArr(s,"",!1,!0,!0,!0,!0,!0);var l=GlobalAllProxy.getInstance().playerProxy.getTacticsLevel();t.needtxt.text=FormatString.format(Language.ins.tactics_tip_7,n),l>=n?(t.needicon.source="tab_kjzx_g3",t.needtxt.textColor="0x3FCF77"):(t.needicon.source="tab_jy_g5",t.needtxt.textColor="0xff002b");var p=o.porperty,c=GlobalConfig.getTacticstoFormationVO(t.curformeid,a.formid),u=c.getlocationsArr(),m=Math.floor(p/u.length),g=0;if(r){var _=r.porperty;g=Math.floor(_/u.length)}for(var h,d,y,v,f=[],b=0,G=u.length;G>b;b++)h=parseInt(u[b]),d=h%10,y=Math.floor(h/10),o&&(v=new TacticsFormaUpRanderVO,v.namestr=Language.ins.studyNameArr[y],v.prostr=Language.ins.tactics_tip_11,v.num=m,v.add=g-v.num,f.push(v));t.showDataA(f,!1)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.GET_TACTICAL_STUDY_UPGRADE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.GET_TACTICAL_STUDY_UPGRADE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.upbtn:this.curformeid&&GlobalAllProxy.getInstance().playerProxy.NetTacticsUpgrade(this.curformeid);break;case t.panel_bg.closebtn:t.close()}},t.prototype.showDataA=function(e,t){var a=this,i=e,n=a.datalistA;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TacticsFormaUpRander,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t}(e.VM);e.TacticsStudyUpgradeView=t,__reflect(t.prototype,"vm.TacticsStudyUpgradeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t.m_mcstrsA=["icon_101","icon_102","icon_103","icon_104","icon_105"],t.m_mcstrsB=["icon_105","icon_106"],t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.DayTaskSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.tiptxt0.text=Language.ins.task_tip3,a.gifbar.ShowLabel=!1),a.m_oldhuoyue=0,a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_daytask),a.addChild(a.m_toppanel),a.changeShow(!0),GlobalAllProxy.getInstance().gameProxy.daytask||GlobalAllProxy.getInstance().gameProxy.NetDaily(),a.resizefun()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;utils.GameComUtil.removeAnimoSelf(a.gifmc0),utils.GameComUtil.removeAnimoSelf(a.gifmc1),utils.GameComUtil.removeAnimoSelf(a.gifmc2),utils.GameComUtil.removeAnimoSelf(a.gifmc3),utils.GameComUtil.removeAnimoSelf(a.gifmc4),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.zhougiftxt)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t=this,a=GlobalAllProxy.getInstance().gameProxy.daytask,i=GlobalAllProxy.getInstance().playerProxy.clubData;if(a){var n,o,r,s,l,p,c,u,m=GlobalConfig.active_DATA,g=GlobalConfig.activebag_DATA,_=[],h=(i.level,a.lists),d=h.length,y=GlobalConfig.getClubVO(i.level);for(var v in m)if(n=m[v],n.lv){for(r=new DayTaskRenderVO,r.id=n.id,r.name=n.name,r.des=n.des,r.maxnum=n.param1,r.jump=n.jump,r.iconimg=n.icon,s=0,p=0,o=0;d>o;o++)if(l=h[o],l.type==n.id){s=l.value,p=l.is_get;break}c=[],u=new game.ComItemGroupVo,u.itemid=GlobalEnum.itemid_exp,u.count=y.activerate*n.cexp,c.push(u),r.award=c,r.curnum=s,r.addnum=n.score,r.isget=p,r.iscom=r.curnum>=r.maxnum?1:0,r.lv=n.lv,r.rank=n.rank,_.push(r)}_.sort(utils.GameUtil.sortMatckFun(["isget","iscom","rank"],[0,1,0])),t.showData(_,e);var f,b,G=a.daily_num,x=a.daily_num,C=a.week_num,T=0,P=0,A=a.reward_status;d=A.length;var w=0;t.zhougifling0.visible=!1,t.zhougifling1.visible=!1;for(var k=0,I=g.length;I>k;k++){for(f=g[k],p=0,o=0;d>o;o++)if(b=A[o],b.type==f.id){p=b.status;break}var S,E=t.m_mcstrsA,R=t.m_mcstrsB;1==f.bagtype?(S=E[T],utils.GameUtil.setColorGrey(t["gifimg"+T],!1),w=Math.max(w,f.score),t["gifnum"+T].text=f.score,t["gifling"+T].visible=p?!0:!1,G>=f.score?(t["gifnum"+T].textColor=16686337,p?(utils.GameUtil.playGifMc(T,!1,t,S),utils.GameUtil.setColorGrey(t["gifimg"+T],!0)):utils.GameUtil.playGifMc(T,!0,t,S)):(t["gifnum"+T].textColor=16777215,utils.GameUtil.playGifMc(T,!1,t,S)),t["gifG"+T]&&(t["gifG"+T].touchEnabled=!1,t["gifmcG"+T].touchEnabled=!1,t["gifmcG"+T].touchChildren=!1),T++):(S=R[P],t["zhougiftxt"+P].textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.task_tip1,f.score)),C>=f.score?p?(utils.GameUtil.playGifMc(P+5,!1,t,S),utils.GameUtil.setColorGrey(t["zhougif"+P],!0),t["zhougifling"+P].visible=!0):utils.GameUtil.playGifMc(P+5,!0,t,S):utils.GameUtil.playGifMc(P+5,!1,t,S),t["zhougif"+P]&&(t["gifmcG"+(P+5)].touchEnabled=!1,t["gifmcG"+(P+5)].touchChildren=!1),P++)}var L=t.m_oldhuoyue;t.gifbar.setTweenValue(L,G,w),t.m_oldhuoyue=G;var O="0xffaa00",V=FormatString.format(Language.ins.game_col,O,C);t.zhougiftxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.task_tip0,V)),t.numtxt.text=x}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.DAYTASK_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.DAY_TASK_BARCHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.DAYTASK_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.DAY_TASK_BARCHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.DAYTASK_DATA_CHANGE:this.changeShow();break;case game.GameCommands.DAY_TASK_BARCHANGE:this.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.gifrct0:t.getGiffun(1,0,t.gifimg0);break;case t.gifrct1:t.getGiffun(1,1,t.gifimg1);break;case t.gifrct2:t.getGiffun(1,2,t.gifimg2);break;case t.gifrct3:t.getGiffun(1,3,t.gifimg3);break;case t.gifrct4:t.getGiffun(1,4,t.gifimg4);break;case t.zhougif0:t.getGiffun(2,0,t.zhougif0);break;case t.zhougif1:t.getGiffun(2,1,t.zhougif1)}},t.prototype.getGiffun=function(e,t,a){var i,n,o,r=GlobalConfig.activebag_DATA,s=0,l=0,p=GlobalAllProxy.getInstance().gameProxy.daytask;if(p){var c,u,m,g,_=p.daily_num,h=p.week_num,d=p.reward_status;m=d.length;for(var y=0,v=r.length;v>y;y++){for(i=r[y],c=0,u=0;m>u;u++)if(g=d[u],g.type==i.id){c=g.status;break}1==i.bagtype?(e==i.bagtype&&s==t&&((c&&_>=i.score||_<i.score)&&(o=i),n=i.id),s++):(e==i.bagtype&&l==t&&(n=i.id,(c&&h>=i.score||h<i.score)&&(o=i)),l++)}if(o){var f=utils.GameComUtil.getItemVoArr(o.getAwardStr());utils.GameComUtil.ShowTip(a,null,game.TipSimpleObject.type_awardarr,f)}else n&&GlobalAllProxy.getInstance().gameProxy.NetDailyGetReward(n)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=DayTaskRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.DayTaskView=t,__reflect(t.prototype,"vm.DayTaskView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t.touchChildren=!1,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.startLoadRes=function(){var e=new skins.TaskFollowSkinDR,t=[];e.runto(this,t)},t.prototype.getLayer=function(){return PanelLayer.guidePanel},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.firstShowArraw=!0,a.arrowicon2.visible=!1,game.GuideProxy.isTaskFollow=!0,a.panelVo&&a.panelVo.panelobj?(a._followvo=a.panelVo.panelobj,a._followvo.window&&a._followvo.hasArrow()?a.playStep(a._followvo):a.close()):a.close(),a.initAddEvent()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;a.removeEvent(),a.arrowicon2.visible=!1,game.GuideProxy.isTaskFollow=!1},t.prototype.playStep=function(e,a){void 0===a&&(a=!1);var i=this;t.s_nArrowRotation=i.arrowiconGroup.rotation,t.s_nArrowRotationDif=e.getArrowRotation()-i.arrowiconGroup.rotation},t.prototype.enter_frame_locate=function(){var e=this,t=e._followvo,a=t.getStrPro(t.focuswidget),i=t.getStrPro(t.window),n=t.hasArrow();if(null!=t&&i&&a){var o=game.Injector.getInstance(egret.getDefinitionByName(i)),r=!1;if(null!=o){var s,l=a.split(",");if(s=l.length>1?e.seekitem(o,l):o[a],null!=s&&s.stage&&s.width){var p=t.getfocusRect();r=!0;var c,u,m,g,_,h,d;null!=p?(c=utils.GameComUtil.getLocalToGlobal(s,parseInt(p[0]),parseInt(p[1])),g=c.x,_=c.y,u=parseInt(p[2]),m=parseInt(p[3]),-1==u&&(u=s.width),-1==m&&(m=s.height),d=new egret.Rectangle(g,_,u,m)):(c=utils.GameComUtil.getLocalToGlobal(s.parent,s.x,s.y),u=s.width,m=s.height,g=c.x,_=c.y,h=s.anchorOffsetX,h&&h>0&&(g-=s.anchorOffsetX,_-=s.anchorOffsetY),d=new egret.Rectangle(g,_,u,m));var y=t.getoffrect();d=game.GuideEnum.ScaleRect(d,parseFloat(y[0]),parseFloat(y[1])),d=game.GuideEnum.offsetRect(d,parseFloat(y[2]),parseFloat(y[3]));for(var v=1,f=1,b=s.parent,G=Global.stage;null!=b&&b!=G;)v*=b.scaleX,f*=b.scaleY,b=b.parent;v&&f&&(1!=v||1!=f)&&(d.width=Math.floor(d.width*v),d.height=Math.floor(d.height*f)),n&&1==s.visible?(e._showArrow(d),e.firstShowArraw=!1,e.arrowiconGroup.visible=!0):e.arrowiconGroup.visible=!1}else null!=s&&(e.arrowiconGroup.visible=!1)}r||(d=new egret.Rectangle(0,0,0,0))}},t.prototype.seekitem=function(e,t){for(var a,i=e,n=0,o=t.length;o>n&&(a=t[n],i[a]);n++)if(i=i[a],n==o-1)return i;return null},t.prototype._showArrow=function(e){var a=this;if(null!=a.arrowiconGroup){a.arrowicon2.visible=!0,a.arrowiconGroup.visible=!0;var i=a._followvo;if(null!=i){var n=i.getArrowLocation(e),o=egret.Point.interpolate(t.s_obLastArrowPos,n,.8);t.s_obLastArrowPos.setTo(o.x,o.y),a.arrowiconGroup.x=t.s_obLastArrowPos.x,a.arrowiconGroup.y=t.s_obLastArrowPos.y;var r=.2*t.s_nArrowRotationDif;if(t.s_nArrowRotationDif*=.8,.01>r?a.arrowiconGroup.rotation=i.getArrowRotation():(t.s_nArrowRotation+=r,a.arrowiconGroup.rotation=t.s_nArrowRotation),a.firstShowArraw){a._chooseY2=-114;var s=a._chooseY2-10;a.arrowicon2.y=s,egret.Tween.get(a.arrowicon2,{loop:!0}).to({y:s+20},200).to({y:s},200)}}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.Event.ENTER_FRAME,e.enter_frame_locate,e),e.addMessage(game.GameCommands.guide_MsgTaskFollowClick,e.eventChange)},t.prototype.removeEvent=function(){var e=this;egret.Tween.removeTweens(e.arrowicon2),e.removeEventListener(egret.Event.ENTER_FRAME,e.enter_frame_locate,e),e.addMessage(game.GameCommands.guide_MsgTaskFollowClick,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.guide_MsgTaskFollowClick:a.close()}},t.s_obLastArrowPos=new egret.Point,t.s_nArrowRotationDif=0,t.s_nArrowRotation=0,t}(e.VM);e.TaskFollowView=t,__reflect(t.prototype,"vm.TaskFollowView")}(vm||(vm={}));var TaskFollowVO=function(e){function t(){var t=e.call(this)||this;return t.strarr=["offrect","focusRect","window","focuswidget"],t.c_tempPoint=new egret.Point,t}return __extends(t,e),t.prototype.objectToThis=function(e){var t,a;for(t in e)a=e[t],-1!=this.strarr.indexOf(t)?this[t]=a.toString():this[t]=isNaN(parseInt(a))?a.toString():parseInt(a)},t.prototype.getArrowLocation=function(e){var t=this;switch(t.arrowDirection){case 0:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y;break;case 1:t.c_tempPoint.x=e.x+e.width/2,t.c_tempPoint.y=e.y;break;case 2:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y;break;case 3:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y+e.height/2;break;case 4:t.c_tempPoint.x=e.x+e.width,t.c_tempPoint.y=e.y+e.height;break;case 5:t.c_tempPoint.x=e.x+e.width/2,t.c_tempPoint.y=e.y+e.height;break;case 6:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y+e.height;break;case 7:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y+e.height/2;break;default:t.c_tempPoint.x=e.x,t.c_tempPoint.y=e.y}return t.c_tempPoint},t.prototype.getArrowRotation=function(){return this.arrowDirection<=5?Math.floor(45*(this.arrowDirection-1))%360:Math.floor(45*(this.arrowDirection-1)-360)%360},t.prototype.getfocusRect=function(){return this.focusRect&&"0"!=this.focusRect?this.focusRect.split(","):null},t.prototype.getStrPro=function(e){return e&&"0"!=e&&""!=e?e:null},t.prototype.getoffrect=function(){var e=this,t=[0,0,0,0],a=e.getStrPro(e.offrect);return a&&(t=a.split(/\,/)),t},t.prototype.hasArrow=function(){return!isNaN(this.arrowDirection)&&0!=this.arrowDirection},t}(game.BaseVO);__reflect(TaskFollowVO.prototype,"TaskFollowVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.panelArr=["vm.TechEquipPanel","vm.TechEquipStudyPanel"],t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TechBgSkinDR;e.runto(this,[])},t.prototype.getAdvanceDRArr=function(){return[skins.TechEquipSkinDR,skins.TechEquipStudySkinDR]},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_tech),a.addChild(a.m_toppanel),t){a.showTar();var i=GlobalEnum.itemid_techdian;a.itemimg.source=ResName.getMinItemIcon(i)}a.changeTipMC(),a.resizefun()},t.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scienceData;t&&(e.numtxt.text=t.points)},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_tech;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},t.prototype.changeshow=function(){var e=this;e.hitalllist();var t=e.panelArr[e._choosemode],a=e[t];null==a?(a=Manifest.getIns(egret.getDefinitionByName(t)),e.contentGroup.addChild(a),a.visible=!0,e[t]=a,e.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,e.contentGroup.addChild(a))},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.hitalllist(),this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.addMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.EQUIP_BOOK_DATA_CHANGE,e.eventchange),e.addMessage(game.GameCommands.EQUIP_DATA_STRENGTHEN,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventchange),e.removeMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.EQUIP_BOOK_DATA_CHANGE,e.eventchange),e.removeMessage(game.GameCommands.EQUIP_DATA_STRENGTHEN,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.MY_INFO_CHANGW:a.changedata();break;case game.GameCommands.EQUIP_DATA_CHANGE:case game.GameCommands.EQUIP_BOOK_DATA_CHANGE:case game.GameCommands.EQUIP_DATA_STRENGTHEN:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_techdian,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcEquipUp(t.getTipForArr(null,[GlobalEnum.tipmc_equipupgrade,GlobalEnum.tipmc_equipuporder])),e.showTipMcstudybook(t.getTipForArr(null,[GlobalEnum.tipmc_studyequipbook]))},t.prototype.showTipMcstudybook=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcEquipUp=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.type_equip=0,t.type_study=1,t}(e.VM);e.TechBgView=t,__reflect(t.prototype,"vm.TechBgView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.shengjiexishu=1,t.shengpinxishu=1;var a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TechEquipSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.changebtn.label=Language.ins.tech_tip6,t.changebtn0.label=Language.ins.tech_tip7,t.ftiptxt0.text=Language.ins.tech_tip8,t.etiptxt1.text=Language.ins.tech_tip9,t.etiptxt2.text=Language.ins.tech_tip9,t.etiptxt3.text=Language.ins.tech_tip9,t.etiptxt4.text=Language.ins.tech_tip9,t.etiptxt5.text=Language.ins.tech_tip9,t.infobar.ShowLabel=!1),t.tipG0.visible=!1,t.initAddEvent(),t.changeShow()},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeTextFlow(this.infolvtxt),utils.GameComUtil.removeTextFlow(this.infotiptxt0)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.equipArr;if(t){var a,i,n,o,r,s,l,p=t.length,c=GlobalConfig,u=100,m=[];for(a=0;p>a;a++)i=t[a],m.push(i.quality),u=Math.min(u,i.grade),n=i.eid,o=c.getEquipStrengThenVO(n,i.level),r=c.getEquipQualityVO(n,i.quality),e["enametxt"+n].text=r.name,e["elvtxt"+n].text=Language.ins.game_lv_s+i.level,e["eitem"+n].setitemdata(i),s=Math.floor(i.exp-o.minexp),l=o.exp,e["ebar"+n].ShowLabel=!0,e["ebar"+n].setValue(Math.floor(i.exp-o.minexp),o.exp);for(var g,_=0,h=GlobalConfig.EQUIPCLASSSUIT_DATA,d=0,y=h.length;y>d;d++)if(g=h[d],!_&&g.classlv>=u){_=g.classlv;break}var v=GlobalConfig.getEquipQualityQuitVOArr(m);e.pinaddtxt.text="("+v.length+"/"+GlobalConfig.EQUIPQUALITYSUIT_DATA.length+")",e.changeTipMC(),e.shengjiexishu=0,e.shengpinxishu=0,t.sort(utils.GameUtil.sortMatckFun(["grade"],[0]));var f,b=GlobalConfig.getEquipClassSuitVOForMin(t[0].grade);0==b.classlv?(e.jingtip0.text=FormatString.format(Language.ins.tech_book_tip24,b.classlv),e.jingtip1.text=Language.ins.tech_book_tip26):(f=Math.floor(100*+b.classrate),e.jingtip0.text=FormatString.format(Language.ins.tech_book_tip24,b.classlv),e.jingtip1.text=FormatString.format(Language.ins.tech_book_tip25,f),e.shengjiexishu=+b.classrate);var G=GlobalConfig.getEquipClassSuitVO(b.id+1);null==G?(e.jingtip2.text=Language.ins.tech_book_tip26,e.jingtip3.text=Language.ins.tech_book_tip26):(f=Math.floor(100*+G.classrate),e.jingtip2.text=FormatString.format(Language.ins.tech_book_tip24,G.classlv),e.jingtip3.text=FormatString.format(Language.ins.tech_book_tip25,f)),t.sort(utils.GameUtil.sortMatckFun(["quality"],[0]));var x=t[0].quality,C=GlobalConfig.getEquipQualityQuitNewVO(x),T=C.des.split("/");e.jingtip4.text=T[0],e.jingtip5.text=T[1];var P=GlobalConfig.getEquipQualityQuitNewVO(x+1);if(null==P)e.jingtip6.text=Language.ins.tech_book_tip26,e.jingtip7.text=Language.ins.tech_book_tip26;else{var A=P.des.split("/");e.jingtip6.text=A[0],e.jingtip7.text=A[1],e.shengpinxishu=+C.qualityrate}t.sort(utils.GameUtil.sortMatckFun(["eid"],[0]))}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange);var t=dm.VDM.s_root;t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e)},t.prototype.onMouseUp=function(e){var t=this;t.tipG0.visible=!1},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.EQUIP_DATA_CHANGE:a.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this;switch(t.tipG0.visible=!1,e.target){case t.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_techequipupgrade,0]);break;case t.changebtn0:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_techequipupgrade,1]);break;case t.pinG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_techequipquality]);break;case t.equpG1:t.showequipinfo(1);break;case t.equpG2:t.showequipinfo(2);break;case t.equpG3:t.showequipinfo(3);break;case t.equpG4:t.showequipinfo(4);break;case t.equpG5:t.showequipinfo(5)}},t.prototype.showequipinfo=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.equipArr,i=Language.ins;if(a){var n=t["equpG"+e],o=t.tipG0;o.visible=!0;var r=59,s=17;o.x=n.x+r,o.y=n.y+s,n.x+t.tipG0.width+r>=Global.stageWidth?o.x=Global.stageWidth-t.tipG0.width:o.x=n.x+r;var l,p,c,u,m,g,_,h,d,y,v,f,b=a.length,G=GlobalConfig,x="",C=65331,T=20,P=ColorUtil.tip_hui,A=ColorUtil.tip_blue;for(l=0;b>l;l++)if(p=a[l],p.eid==e){c=p.eid,u=G.getEquipStrengThenVO(c,p.level),m=G.getEquipQualityVO(c,p.quality),t.infonametxt.text=m.name,t.infolvtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(i.game_col,P,i.tips_tip2)+i.game_lv_s+p.level),_=Math.floor(p.exp-u.minexp),h=u.exp,y=Math.floor(p.exp-u.minexp),v=u.exp,t.infobar.setValue(Math.floor(p.exp-u.minexp),u.exp),t.infoaddtxt.text=y+"/"+v,d=utils.GameComUtil.getItemVoArr(u.porperty),t.tipitem.setitemdata(p,!1,0,!1,!1,!1);var w=0;p.level&&(x+=FormatString.format(i.game_zisize,T,i.tips_tip18),d=utils.GameComUtil.getItemVoArr(u.porperty),d.length?(f=game.ComPorpertyTypeVO.getnumdes(d[0].itemid,d[0].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[0].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w))):x+="\n"+FormatString.format(i.tech_book_tip26),d.length>1&&(f=game.ComPorpertyTypeVO.getnumdes(d[1].itemid,d[1].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[1].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w)))),g=G.getEquipClassVO(c,p.grade),x+="\n\n"+FormatString.format(i.game_zisize,T,i.tips_tip5),d=utils.GameComUtil.getItemVoArr(g.porperty),d.length?(f=game.ComPorpertyTypeVO.getnumdes(d[0].itemid,d[0].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[0].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w))):x+="\n"+FormatString.format(i.tech_book_tip26),d.length>1&&(f=game.ComPorpertyTypeVO.getnumdes(d[1].itemid,d[1].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[0].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w))),p.quality&&(x+="\n\n"+FormatString.format(i.game_zisize,T,i.tips_tip17),d=utils.GameComUtil.getItemVoArr(m.porperty),d.length?(f=game.ComPorpertyTypeVO.getnumdes(d[0].itemid,d[0].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[1].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w))):x+="\n"+FormatString.format(i.tech_book_tip26),d.length>1&&(f=game.ComPorpertyTypeVO.getnumdes(d[1].itemid,d[1].count," +",C),x+="\n"+FormatString.format(i.game_col,A,f),(0!=t.shengjiexishu||0!=t.shengpinxishu)&&(w=Math.round(d[1].count*(t.shengjiexishu+t.shengpinxishu)),x+=FormatString.format(i.tech_book_tip33,w)))),x+="\n\n"+FormatString.format(i.game_zisize,T,i.tips_tip3),x+="\n"+FormatString.format(i.game_col,P,m.des);break}t.infotiptxt0.textFlow=utils.GameComUtil.getHtmlText(x)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange);var t=dm.VDM.s_root;t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e)},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcEquipUp(t.getTipForArr(null,[GlobalEnum.tipmc_equipupgrade])),e.showTipMcEquipUpP(t.getTipForArr(null,[GlobalEnum.tipmc_equipuporder]))},t.prototype.showTipMcEquipUp=function(e){var t=this,a=e,i=t.changebtn,n="tipmcchangebtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.changebtnG.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcEquipUpP=function(e){var t=this,a=e,i=t.changebtn0,n="tipmcchangebtn0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.changebtnG0.addChild(t[n]),t[n].visible=a)},t}(e.InnerVM);e.TechEquipPanel=t,__reflect(t.prototype,"vm.TechEquipPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TechEquipQualitySkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVo(),t&&(a.ftiptxt0.text=Language.ins.tech_tip2,a.ftiptxt1.text=Language.ins.tech_tip3,a.ftiptxt2.text=Language.ins.tech_tip3,a.ftiptxt3.text=Language.ins.tech_tip3,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tech_equipquality),a.showTar(),a.changeShow()},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_equp_quality;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;e.tabGroup.setButtonWidth(300),a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var a=this;a.noneG.visible=!1,utils.GameComUtil.setVisibleHitPanel(a.comG1,a.comG,!1),utils.GameComUtil.setVisibleHitPanel(a.comG0,a.comG,!1);var i,n=GlobalAllProxy.getInstance().playerProxy.equipArr,o=[];if(n){for(var r=0,s=n.length;s>r;r++)i=n[r],o.push(i.quality);if(o.sort(function(e,t){return t-e}),a._choosemode==t.type_all){utils.GameComUtil.setVisibleHitPanel(a.comG1,a.comG,!0);var l=game.ComEquipQualitySuitVO.getAllAddArr(o),p="",c="",u=0;for(var m in l)10>u?p+=game.ComPorpertyTypeVO.getnumdes(m,parseFloat(l[m]))+"\n":c+=game.ComPorpertyTypeVO.getnumdes(m,parseFloat(l[m]))+"\n",u++;a.destxt.text=p,a.destxt1.text=c,""==p&&""==c&&(a.noneG.visible=!0);var g,_,h={},d=o.length;for(g=0;d>g;g++)_=o[g],h[_]?h[_]+=1:h[_]=1;for(g=0;5>g;g++)_=g+2,h[_]?a["infotxt"+g].text=h[_]:a["infotxt"+g].text="0"}else{utils.GameComUtil.setVisibleHitPanel(a.comG0,a.comG,!0);for(var y,v,f=GlobalConfig.EQUIPQUALITYSUIT_DATA,b=[],r=0,s=f.length;s>r;r++)y=f[r],v=new TechEquipQualityRenderVO,v.id=y.id,v.isdown=y.isunlock(o)?1:0,v.vo=y,v.showarr=y.getShowArr(o,!1),b.push(v);b.sort(utils.GameUtil.sortMatckFun(["isdown","id"],[0,0])),a.showData(b,!1)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.EQUIP_DATA_CHANGE:this.changeShow(e)}},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TechEquipQualityRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.type_all=0,t.type_add=1,t}(e.VM);e.TechEquipQualityView=t,__reflect(t.prototype,"vm.TechEquipQualityView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.time=0,t.starArr=[],t.pointArr=[{x:60,y:30},{x:176,y:30},{x:292,y:30},{x:408,y:30},{x:524,y:30}];var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){for(var e=new skins.TechEquipStudySkinDR,t=[],a=[ResName.mc_qiuyuanzhuangbei,ResName.mc_qiuyuanzhuangbei2],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));t=t.concat(ResName.getDragonArr(ResName.mc_award_lingqu)),e.runto(this,t)},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt.text=Language.ins.tech_tip10,t.studytiptxt.text=Language.ins.tech_tip13,t.studywaittxt.text=Language.ins.tech_tip14,t.ftiptxt0.text=Language.ins.tech_tip20,t.ftiptxt1.text=Language.ins.tech_tip21,t.ftiptxt2.text=Language.ins.tech_tip22,t.ftiptxt3.text=Language.ins.tech_tip23,t.recoverbtn.label=Language.ins.hero_tip66,t.cancelbtn.label=Language.ins.btn_cancel,t.redbtn.label=Language.ins.hero_tip66,t.zhuanbtn.label=Language.ins.tech_tip10,t.custombtn.label=Language.ins.tech_tip15,t.infobtn.label=Language.ins.tech_tip16,t.changebtn.label=Language.ins.tech_tip17,t.changebtn0.label=Language.ins.tech_tip18,t.changebtn1.label=Language.ins.tech_tip18,t.changebtn2.label=Language.ins.tech_tip19,t.sbar0.ShowLabel=!0),t.tipG0.visible=!1,t.tisspr.visible=!1,t.initAddEvent(),t.changeShow()
},t.prototype.onHide=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.scienceData;a&&a.clearCustom(),t.removeEvent();for(var i=t.starArr.length,n=0;i>n;n++)t.starArr[n]&&egret.Tween.removeTweens(t.starArr[n]);t.luckimg&&egret.Tween.removeTweens(t.luckimg),t.flashG&&egret.Tween.removeTweens(t.flashG);for(var o=0;6>o;o++)t["taskmc"+o]&&utils.GameComUtil.removeAnimoSelf(t["taskmc"+o]),t["eitem"+o]&&t["eitem"+o].setIsShowmcBl(!1);utils.GameComUtil.removeListData(t.datalist1),utils.GameComUtil.removeTextFlow(this.infolvtxt),utils.GameComUtil.removeTextFlow(this.infotiptxt0),utils.GameComUtil.removeTextFlow(this.lvtxt),utils.GameComUtil.removeTextFlow(this.addexptxt),utils.GameComUtil.removeTextFlow(this.desctxt),t.timer&&(t.timer.removeEventListener(egret.TimerEvent.TIMER,t.timerFunc1,t),t.timer.stop(),t.timer=null)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scienceData,a=GlobalAllProxy.getInstance().playerProxy.equipArr;if(t&&a){e.oldeqarr=[];for(var i=0,n=t.book.length;n>i;i++)e.oldeqarr.push(t.book[i]);if(t.book.length<=0){e.hadbook.visible=!1,e.nobook.visible=!0;for(var o=1;6>o;o++)e["eitem"+o]&&e["eitem"+o].setIsShowmcBl(!1),e["eitem"+o].setitemdata(null),e["elock"+o].source="tab_kjzx_n5"}else{e.hadbook.visible=!0,e.nobook.visible=!1;var r=game.ComMonthCarVO.getNumDiamondresearch();r?utils.GameComUtil.setVisibleHitPanel(e.monthcarG,e.hadbook,!0,1):utils.GameComUtil.setVisibleHitPanel(e.monthcarG,e.hadbook,!1);var s,l,p=t.book;if(p)for(var c=1,u=p.length+1;u>c;c++)s=p[c-1],l=new ScienceBooks,l.level=s.level,l.quality=s.quality,l.type=s.type,e["eitem"+c].setitemdata(l,!0),0==s.lock?e["elock"+c].source="tab_kjzx_n5":1==s.lock&&(e["elock"+c].source="tab_kjzx_n9"),s.quality==GlobalEnum.book_quality?(t.book[c-1].isshowmc=1,e["eitem"+c].setIsShowmcBl(!0)):e["eitem"+c].setIsShowmcBl(!1)}var m=GlobalConfig.getTechCenterVO(t.getLevel()),g=GlobalEnum.itemid_techdian;m&&(e.changebtn.icon=ResName.getMinItemIcon(g),e.changebtn.number=m.refresh,e.changebtn0.icon=ResName.getMinItemIcon(g),e.changebtn0.number=m.refresh,e.changebtn1.icon=ResName.getMinItemIcon(GlobalEnum.itemid_ug),e.changebtn1.number=ParamLoader.instance.ServerBookCost,e.changebtn1.showtip(!0),e.changebtn2.icon="",e.changebtn2.number="");var _=ParamLoader.instance.ServerBookLuckyMax;e.sbar0.setValue(t.luck,_),e.showData(a,!1),e.coolingTime=t.coolingTime,e.coolingTime>0?(e.timer||(e.timer=new egret.Timer(1e3),e.timer.addEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e)),e.timestxt0.text=Language.ins.tech_book_tip23+" "+utils.GameComUtil.getTimeNum(e.coolingTime,!0),e.timestxt0.textColor=16711680,e.timer.start(),e.clearbtn.enabled=!0):(e.timestxt0.text=Language.ins.tech_book_tip23+" "+Language.ins.tech_book_tip27,e.timestxt0.textColor=2544703,e.clearbtn.enabled=!1);var h=0,d=GlobalConfig.getVipVO(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel);d&&(h=d.researchcd);var y=h-t.clearCooling;e.clearbtn.label=FormatString.format(Language.ins.tech_book_tip36,y)}e.changeTipMC()},t.prototype.timerFunc1=function(e){var t=this;return t.coolingTime--,t.coolingTime<0?(t.timer&&t.timer.stop(),void(t.clearbtn.enabled=!1)):void(t.timestxt0.text=Language.ins.tech_book_tip23+" "+utils.GameComUtil.getTimeNum(t.coolingTime,!0))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.EQUIP_BOOK_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.EQUIP_DATA_STRENGTHEN,e.eventChange),e.datalist1.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e);var t=dm.VDM.s_root;t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e)},t.prototype.onMouseUp=function(e){var t=this;t.tipG0.visible=!1,t.tisspr.visible=!1},t.prototype.listchange=function(e){var t=this,a=t.datalist1.selectedIndex;t.showequipinfo(a+1),t.datalist1.selectedIndex=-1},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.EQUIP_BOOK_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.EQUIP_DATA_STRENGTHEN,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.datalist1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchange,e);var t=dm.VDM.s_root;t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onMouseUp,e),e.timer&&(e.timer.stop(),e.timer.removeEventListener(egret.TimerEvent.TIMER,e.timerFunc1,e),e.timer=null)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.EQUIP_BOOK_DATA_CHANGE:a.checkbook();case game.GameCommands.EQUIP_DATA_CHANGE:a.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.EQUIP_DATA_STRENGTHEN:this.showmc(),a.time=0}},t.prototype.checkbook=function(){for(var e=this,t=GlobalAllProxy.getInstance().playerProxy.scienceData,a=t.book,i=a.length,n=-1,o=0;i>o;o++)a[o].quality==GlobalEnum.book_quality&&0==a[o].isshowmc&&(n=o+1,t.book[o].isshowmc=1),a[o].quality==GlobalEnum.book_quality&&e.oldeqarr[o]&&e.oldeqarr[o].quality==GlobalEnum.book_quality||a[o].lock?e.showtaskMcA(o+1,!1):e.showtaskMcA(o+1,!0);if(0==t.luck&&-1!=n){e.luckimg||(e.luckimg=new eui.Image,e.luckimg.source="syls_32",e.luckimg.x=e.downG.x+e.lucksimg.x,e.luckimg.y=e.downG.y+e.lucksimg.y,e.contgroup.addChild(e.luckimg));var r=e["equpG"+n].x+10,s=e["equpG"+n].y+10;e.luckimg.visible=!0,egret.Tween.get(e.luckimg).to({x:r,y:s},1e3,egret.Ease.cubicOut).call(e.stopluckmc,e)}e.changeShow()},t.prototype.stopluckmc=function(){var e=this;e.luckimg.x=e.downG.x+e.lucksimg.x,e.luckimg.y=e.downG.y+e.lucksimg.y,e.luckimg.visible=!1},t.prototype.showmc=function(){var e=this;if(e.starArr.length<=0)for(var t=1;6>t;t++){var a=new eui.Image;a.source="syls_32",a.x=e["equpG"+t].x+16,a.y=e["equpG"+t].y+10,e.contgroup.addChild(a),e.starArr.push(a)}else for(var i,t=1;6>t;t++)i=e.starArr[t-1],i.x=e["equpG"+t].x+16,i.y=e["equpG"+t].y+10,i.visible=!0;for(var n,o=e.starArr.length,r=0;o>r;r++){n=e.starArr[r];var s=e.pointArr[r];egret.Tween.get(n).to({x:s.x,y:s.y},1e3,egret.Ease.cubicOut).call(e.stopmc,e)}},t.prototype.stopmc=function(){var e=this;if(4!=e.time)return void e.time++;if(e.flashG.visible=!0,egret.Tween.get(e.flashG).to({alpha:0},100).to({alpha:1},100).to({alpha:0},100).to({alpha:1},100).to({alpha:0},100).to({alpha:1},100).call(function(){e.flashG.visible=!1},e),e.starArr.length>0)for(var t,a=1;6>a;a++)t=e.starArr[a-1],t.visible=!1;e.changeShow()},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.changebtn:GlobalAllProxy.getInstance().playerProxy.NetScienceRfreshBook(1),t.showtaskMcB(!0);break;case t.elock1:t.updataLock(1);break;case t.elock2:t.updataLock(2);break;case t.elock3:t.updataLock(3);break;case t.elock4:t.updataLock(4);break;case t.elock5:t.updataLock(5);break;case t.changebtn2:GlobalAllProxy.getInstance().playerProxy.NetScienceExchangeBook();break;case t.changebtn0:GlobalAllProxy.getInstance().playerProxy.NetScienceRfreshBook(1),t.showtaskMcB(!0);break;case t.changebtn1:GlobalAllProxy.getInstance().playerProxy.NetScienceRfreshBook(2),t.showtaskMcB(!0);break;case t.info1:t.showbookinfo(0);break;case t.info2:t.showbookinfo(1);break;case t.info3:t.showbookinfo(2);break;case t.info4:t.showbookinfo(3);break;case t.info5:t.showbookinfo(4);break;case t.clearbtn:t.cleartimefun()}},t.prototype.cleartimefun=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.scienceData;if(t&&t.coolingTime>0){var a=t.clearCooling,i=a+1,n=GlobalConfig.getPriceVO(i),o=0,r=GlobalConfig.getVipVO(GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel);r&&(o=r.researchcd);var s=o-t.clearCooling;if(s){if(n&&n.researchcdcost){var l=new AlertVO;l.info=Language.ins.tech_book_tip35,l.showCancel=!0,l.tipbl=!0,l.tipstr=Language.ins.fight_tip4,l.tipitemid=GlobalEnum.itemid_ug,l.tipcostid=ug_cost_type.equip_study,l.tipitemnum=n.researchcdcost,JAlert.show(l,Language.ins.title_buy,e.clickfastbuy,e)}}else FLOAT.NShowPutong([Language.ins.tech_book_tip34])}},t.prototype.clickfastbuy=function(){GlobalAllProxy.getInstance().playerProxy.NetScienceClearCooling()},t.prototype.updataLock=function(e){var t=GlobalAllProxy.getInstance().playerProxy.scienceData,a=0;if(!(t.book.length<=0)){var i=t.book[e-1];0==i.lock?a=1:1==i.lock&&(a=0),GlobalAllProxy.getInstance().playerProxy.NetScienceEquipment(e,a)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist1;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TechTitleRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showequipinfo=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.equipArr,i=Language.ins;if(a){var n=t.datalist1.getChildAt(e-1),o=t.tipG0;o.visible=!0;var r=59;o.x=n.x+r,n.x+t.tipG0.width+r>=Global.stageWidth?o.x=Global.stageWidth-t.tipG0.width:o.x=n.x+r;var s,l,p,c,u,m,g,_,h,d,y,v,f=a.length,b=GlobalConfig,G="",x=65331,C=20,T=ColorUtil.tip_hui,P=ColorUtil.tip_blue;for(s=0;f>s;s++)if(l=a[s],l.eid==e){p=l.eid,c=b.getEquipStrengThenVO(p,l.level),u=b.getEquipQualityVO(p,l.quality),t.infonametxt.text=u.name,t.infolvtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(i.game_col,T,i.tips_tip2)+i.game_lv_s+l.level),g=Math.floor(l.exp-c.minexp),_=c.exp,d=Math.floor(l.exp-c.minexp),y=c.exp,t.infobar.setValue(Math.floor(l.exp-c.minexp),c.exp),t.infoaddtxt.text=d+"/"+y,h=utils.GameComUtil.getItemVoArr(c.porperty),t.tipitem.setitemdata(l,!1,0,!1,!1,!1);var A=0,w=0;a.sort(utils.GameUtil.sortMatckFun(["grade"],[0]));var k=GlobalConfig.getEquipClassSuitVOForMin(a[0].grade);0!=k.classlv&&(A=+k.classrate),a.sort(utils.GameUtil.sortMatckFun(["quality"],[0]));var I=a[0].quality,S=GlobalConfig.getEquipQualityQuitNewVO(I),E=GlobalConfig.getEquipQualityQuitNewVO(I+1);null!=E&&(w=+S.qualityrate),a.sort(utils.GameUtil.sortMatckFun(["eid"],[0]));var R=0;l.level&&(G+=FormatString.format(i.game_zisize,C,i.tips_tip18),h=utils.GameComUtil.getItemVoArr(c.porperty),h.length?(v=game.ComPorpertyTypeVO.getnumdes(h[0].itemid,h[0].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[0].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R))):G+="\n"+FormatString.format(i.tech_book_tip26),h.length>1&&(v=game.ComPorpertyTypeVO.getnumdes(h[1].itemid,h[1].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[1].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R)))),m=b.getEquipClassVO(p,l.grade),G+="\n\n"+FormatString.format(i.game_zisize,C,i.tips_tip5),h=utils.GameComUtil.getItemVoArr(m.porperty),h.length?(v=game.ComPorpertyTypeVO.getnumdes(h[0].itemid,h[0].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[0].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R))):G+="\n"+FormatString.format(i.tech_book_tip26),h.length>1&&(v=game.ComPorpertyTypeVO.getnumdes(h[1].itemid,h[1].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[0].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R))),l.quality&&(G+="\n\n"+FormatString.format(i.game_zisize,C,i.tips_tip17),h=utils.GameComUtil.getItemVoArr(u.porperty),h.length?(v=game.ComPorpertyTypeVO.getnumdes(h[0].itemid,h[0].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[1].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R))):G+="\n"+FormatString.format(i.tech_book_tip26),h.length>1&&(v=game.ComPorpertyTypeVO.getnumdes(h[1].itemid,h[1].count," +",x),G+="\n"+FormatString.format(i.game_col,P,v),(0!=A||0!=w)&&(R=Math.round(h[1].count*(A+w)),G+=FormatString.format(i.tech_book_tip33,R)))),G+="\n\n"+FormatString.format(i.game_zisize,C,i.tips_tip3),G+="\n"+FormatString.format(i.game_col,T,u.des);break}t.infotiptxt0.textFlow=utils.GameComUtil.getHtmlText(G)}},t.prototype.showbookinfo=function(e){var t,a,i=this,n=GlobalAllProxy.getInstance().playerProxy.scienceData,o=Language.ins;if(n&&n.book&&n.book.length>0){var r=i["equpG"+(e+1)],s=i.tisspr;s.visible=!0;r.y>400?s.y=r.y-s.height:s.y=r.y+r.height,t=n.book,a=t[e];var l,p=GlobalConfig.getTechBookVO(a.level,a.quality,a.type);l=new ScienceBooks,l.level=a.level,l.quality=a.quality,l.type=a.type,i.itempanel.setitemdata(l,!1,0,!1,!1,!1),i.nametxt.text=p.name,i.lvtxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(o.tech_book_tip28,p.booklv)),i.addexptxt.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(o.tech_book_tip29,p.baseexp)),i.desctxt.textFlow=utils.GameComUtil.getHtmlText(p.tips)}},t.prototype.showtaskMcA=function(e,t){var a=this,i=ResName.mc_qiuyuanzhuangbei2,n="taskmc"+e,o=utils.GameComUtil.getArmature(i,n,a);o&&(t?(o.animation.play("effect",1),a["infoAmcG"+e].addChild(o)):utils.GameComUtil.removeAnimoSelf(o))},t.prototype.showtaskMcB=function(e){var t=this,a=ResName.mc_qiuyuanzhuangbei,i=utils.GameComUtil.getArmature(a,t.taskmc0,t);i&&(e?(i.animation.play("effect",1),t.infoAmcG0.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,a=t.getTipForArr(null,[GlobalEnum.tipmc_studyequipbook]);e.showTipMcEquipUp(a)},t.prototype.showTipMcEquipUp=function(e){var t=this,a=e,i=t.changebtn,n="tipmcchangebtn";i.anchorOffsetX=i.width>>1,i.anchorOffsetY=i.height>>1,null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.nobook.addChild(t[n]),t[n].visible=a)},t}(e.InnerVM);e.TechEquipStudyPanel=t,__reflect(t.prototype,"vm.TechEquipStudyPanel")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){for(var e=new skins.TechEquipUpGradeSkinDR,t=[],a=[ResName.mc_tech_gailiang,ResName.mc_gailiang2],i=0,n=a.length;n>i;i++)t=t.concat(ResName.getDragonFastArr(a[i]));e.runto(this,t)},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.flashG.visible=!1,a.m_getid=0/0,a.m_blShowmc=!1,a.initAddEvent(),a.readPanelVo(),e&&(a.ftiptxt0.text=Language.ins.tech_tip24,a.tipnametxt.text=Language.ins.train_add_tip30,a.changebtn.label=Language.ins.game_uplv_s,a.listGroup.setGroupGap(80),a.listGroup.setGroupAlign(egret.HorizontalAlign.CENTER)),0==a._choosemode?a.panel_bg.titlename.text=Language.ins.title_tech_equipup:a.panel_bg.titlename.text=Language.ins.title_tech_equipup_pin,a.showTar(),a.changeShow()},a.prototype.showTar=function(){var e=(Language.ins.list_btn_equp_up,new game.KLayoutInfo);e.gap=GlobalEnum.tbr_6},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;this.removeEvent(),utils.GameComUtil.removeAnimoSelf(a.mc_gailiang2),utils.GameComUtil.removeAnimoSelf(a.mc_tech_gailiang),utils.GameComUtil.removeListData(this.datalist),a.flashG&&egret.Tween.removeTweens(a.flashG),utils.GameComUtil.removeTextFlow(this.infogradetxt)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,i=GlobalAllProxy.getInstance().playerProxy.equipArr;if(t.addtxt0.text="",t.addtxt1.text="",t.addtxt2.text="",t.starmaxG0.visible=!1,t.datalist.visible=!1,i){var n,o,r,s,l=i.length;for(n=0;l>n;n++)o=i[n],r=o.eid,t["eitem"+r].setitemdata(o),t["eitem"+r].setChooseBl(r==t.choose_equip),r==t.choose_equip&&(s=o);var p=GlobalConfig.getEquipQualityVO(s.eid,s.quality);GlobalConfig.getEquipStrengThenVO(s.eid,s.level);if(t.chooseimg.source=p.icon,t.infoG0.visible=!1,t.infoG1.visible=!1,t._choosemode==a.type_up){t.showtaskMcA(!1),t.showtaskMcB(!0),t.infoG0.visible=!0,t.changebtn.label=Language.ins.btn_tech_equip_grade,t.eshowimg.visible=!0,t.changebtn.visible=!1;var c=s.grade,u=s.grade+1,m=GlobalConfig.getEquipClassVO(s.eid,c),g=GlobalConfig.getEquipClassVO(s.eid,u);t.tiptxt0.text=p.name+"+"+c;var _=utils.GameComUtil.getStringVoArr(m.porperty);if(_.length&&(t.tiptxt1.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[0][0]),parseInt(_[0][1]))),_.length>1&&(t.tiptxt2.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[1][0]),parseInt(_[1][1]))),g){t.datalist.visible=!0,t.changebtn.visible=!0;var h=utils.GameComUtil.getItemVoArr(m.cost,null);t.listGroup.setDataArr(h,"",!1,!0,!0,!0,!0,!0);var d=new game.ComItemGroupVo,y=m.clv,d=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,y);h.push(d),t.setCostListA(h),t.numtxt0.text=p.name+"+"+u,_=utils.GameComUtil.getStringVoArr(g.porperty),_.length&&(t.numtxt1.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[0][0]),parseInt(_[0][1]))),_.length>1&&(t.numtxt2.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[1][0]),parseInt(_[1][1])))}else t.numtxt0.text=Language.ins.game_remax,t.numtxt1.text=Language.ins.game_remax,t.numtxt2.text=Language.ins.game_remax,t.starmaxG0.visible=!0,t.maxtiptxt0.text=Language.ins.equip_tip2;t.showDataA(),i.sort(utils.GameUtil.sortMatckFun(["grade"],[0]));var v=GlobalConfig.getEquipClassSuitVOForMin(i[0].grade),f=GlobalConfig.getEquipClassSuitVO(v.id+1);null==f?t.tiptxt.text=Language.ins.tech_book_tip32:(isNaN(t.m_getid)||f.id==t.m_getid||(t.m_blShowmc=!0),t.m_getid=f.id,PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])?t.tiptxt.text=FormatString.format(Language.ins.tech_book_tip24,f.classlv)+" "+Language.ins.tech_book_tip30+"  "+FormatString.format(Language.ins.tech_book_tip25,100*+f.classrate):t.tiptxt.text=FormatString.format(Language.ins.tech_book_tip24,f.classlv)+Language.ins.tech_book_tip30+"  "+FormatString.format(Language.ins.tech_book_tip25,100*+f.classrate),t.tiptxt5.text=FormatString.format(Language.ins.tech_book_tip25,100*+f.classrate))}else{t.showtaskMcA(!0),t.showtaskMcB(!1);var b=GlobalConfig.getEquipQualityVO(s.eid,s.quality),G=GlobalConfig.getEquipQualityVO(s.eid,s.quality+1);t.infoG1.visible=!0,t.changebtn.label=Language.ins.btn_tech_equip_quality,t.eshowimg.visible=!1,t.changebtn.visible=!1;var h=utils.GameComUtil.getItemVoArr(p.cost,null);t.listGroup.setDataArr(h,"",!1,!0,!0,!0,!0,!0),t.setCostListA(h);var x=(s.quality,s.quality+1),C=GlobalConfig.getEquipQualityVO(s.eid,x);t.tiptxt0.text=p.name;var _=utils.GameComUtil.getStringVoArr(b.porperty);if(G)var T=utils.GameComUtil.getStringVoArr(G.porperty);var P=p.getratenum();_.length&&(t.tiptxt1.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[0][0]),parseInt(_[0][1]))),_.length>1&&(t.tiptxt2.text=game.ComPorpertyTypeVO.getnumdes(parseInt(_[1][0]),parseInt(_[1][1])));var A=!1;C?(t.datalist.visible=!0,t.changebtn.visible=!0,A=!0,t.numtxt0.text=C.name,P=C.getratenum(),_.length&&(t.numtxt1.text=game.ComPorpertyTypeVO.getnumdes(parseInt(T[0][0]),parseInt(T[0][1]))),_.length>1&&(t.numtxt2.text=game.ComPorpertyTypeVO.getnumdes(parseInt(T[1][0]),parseInt(T[1][1])))):(t.numtxt0.text=Language.ins.game_remax,t.numtxt1.text=Language.ins.game_remax,t.numtxt2.text=Language.ins.game_remax,t.starmaxG0.visible=!0,t.maxtiptxt0.text=Language.ins.equip_tip3),t.showDataB(s.eid,A),i.sort(utils.GameUtil.sortMatckFun(["quality"],[0]));var w=i[0].quality,k=GlobalConfig.getEquipQualityQuitNewVO(w+1);if(null==k)t.tiptxt3.text=Language.ins.tech_book_tip31,t.tiptxt4.text="";else{isNaN(t.m_getid)||k.id==t.m_getid||(t.m_blShowmc=!0),t.m_getid=k.id;var I=k.des.split("/");t.tiptxt3.text=I[0]+Language.ins.tech_book_tip30+"  "+I[1],t.tiptxt4.text=I[1]}}t.changeTipMC(),i.sort(utils.GameUtil.sortMatckFun(["eid"],[0])),t.tipimg.x=32+118*(t.choose_equip-1)}},a.prototype.showDataA=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.equipArr;if(t){var a,i,n=t.length,o=100;for(a=0;n>a;a++)i=t[a],o=Math.min(o,i.grade);for(var r,s,l=0,p=GlobalConfig.EQUIPCLASSSUIT_DATA,c=0,u=p.length;u>c;c++)r=p[c],l||r.classlv>o&&(l=r.classlv,s=r);for(var m,g={},_=0,h=5;h>_;_++)utils.GameComUtil.setVisibleHitPanel(e["addnumtxt"+_],e.addnumG,!1),e.tiptxt.text="";if(s){m=utils.GameComUtil.getStringVoArr(s.porperty);var d;for(var y in m)d=m[y],g[parseInt(d[0])]=parseInt(d[1]);var v=0;for(var f in g)e["addnumtxt"+v]&&(utils.GameComUtil.setVisibleHitPanel(e["addnumtxt"+v],e.addnumG,!0),e["addnumtxt"+v].text=game.ComPorpertyTypeVO.getnumdes(f,parseFloat(g[f]))),v+=1}}},a.prototype.showDataB=function(t,a){var i=this,n=GlobalAllProxy.getInstance().playerProxy.equipArr;if(n){for(var o,r=[],s=[],l=0,p=n.length;p>l;l++)o=n[l],r.push(o.quality),o.eid==t&&a?s.push(o.quality+1):s.push(o.quality);s.sort(function(e,t){return t-e});for(var c,u,m,g,_,h,d,y=GlobalConfig.EQUIPQUALITYSUIT_DATA,l=y.length-1;l>=0&&(c=y[l],u=c.getShowArr(s,!0),m=c.getShowArr(r,!0),!d&&m&&m.length&&(d=m[0]),!h&&u&&u.length&&(g=c,_=u,h=u[0]),!d||!h);l--);h&&d&&h.id==d.id&&(g=null),utils.GameComUtil.setVisibleHitPanel(i.infogradeG0,i.gradeinfoG,!1),utils.GameComUtil.setVisibleHitPanel(i.infogradeG1,i.gradeinfoG,!1),utils.GameComUtil.setVisibleHitPanel(i.infogradetxtG,i.gradeinfoG,!1),i.infogradetxt.textFlow="";var v=ResName.equip_tao_arr;if(g){for(var f,b=_.length,G=0,x=0;b>x;x++)f=_[x],i["infogradetxt"+G].text=f.allnum,i["infogradeimg"+G].source=v[f.quality-1],utils.GameComUtil.setVisibleHitPanel(i["infogradeG"+G],i.gradeinfoG,!0),G+=1;utils.GameComUtil.setVisibleHitPanel(i.infogradetxtG,i.gradeinfoG,!0),i.infogradetxt.textFlow=utils.GameComUtil.getHtmlText(g.des)}}utils.GameComUtil.buttonUnLock(null,[GlobalViewIDEnum.pType_tech,e.TechBgView.type_study],!1)},a.prototype.showchangemc=function(){var e=this;e.m_blShowmc=!1,e.flashG.visible=!0,egret.Tween.get(e.flashG).to({alpha:0},100).to({alpha:1},100).to({alpha:0},100).to({alpha:1},100).to({alpha:0},100).to({alpha:1},100).call(function(){e.flashG.visible=!1},e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.addMessage(game.GameCommands.EFFECT_ZHANLI_OVER,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.EQUIP_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.removeMessage(game.GameCommands.EFFECT_ZHANLI_OVER,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.EQUIP_DATA_CHANGE:this.changeShow(e);break;case game.GameCommands.EFFECT_ZHANLI_OVER:var i=e;i==panelmc_type.type_equipupgrade&&a.m_blShowmc&&a.showchangemc()}},a.prototype.readPanelVo=function(){var e=this,t=e.panelVo;e._choosemode=0,null!=t&&(e._choosemode=t.childtype),e.choose_equip=equipType.type_clothes},a.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.eitem1:t.chooseItem(1);break;case t.eitem2:t.chooseItem(2);break;case t.eitem3:t.chooseItem(3);break;case t.eitem4:t.chooseItem(4);break;case t.eitem5:t.chooseItem(5);break;case t.changebtn:t._choosemode==a.type_up?GlobalAllProxy.getInstance().playerProxy.NetScienceEquipUpgrade(t.choose_equip,1):GlobalAllProxy.getInstance().playerProxy.NetScienceEquipUpgrade(t.choose_equip,2)}},a.prototype.chooseItem=function(e){this.choose_equip=e,this.changeShow()},a.prototype.showtaskMcA=function(e){var t=this,a=ResName.mc_gailiang2,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.infoAmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.showtaskMcB=function(e){var t=this,a=ResName.mc_tech_gailiang,i=utils.GameComUtil.getArmature(a,a,t);i&&(e?(i.animation.play("effect"),t.infoBmcG.addChild(i)):utils.GameComUtil.removeAnimoSelf(i))},a.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy,i=!1,n=!1,o=!1,r=GlobalAllProxy.getInstance().playerProxy.equipArr;if(r){i=t.getTipForArr(null,[GlobalEnum.tipmc_equipupgrade]),n=t.getTipForArr(null,[GlobalEnum.tipmc_equipuporder]);var s,l,p;if(e._choosemode==a.type_up)for(s=0,l=r.length;l>s;s++)p=r[s],o=t.getTipForArr(null,[GlobalEnum.tipmc_equipupgrade],p.eid),e.showTipMcEquipUpItem(p.eid,o);else for(s=0,l=r.length;l>s;s++)p=r[s],o=t.getTipForArr(null,[GlobalEnum.tipmc_equipuporder],p.eid),e.showTipMcEquipUpItem(p.eid,o);e.showTipMcEquipUpGrade(i),e.showTipMcEquipUpOrder(n)}},a.prototype.showTipMcEquipUpItem=function(e,t){var a=this,i=t,n="eitem"+e,o=a[n],r="tipmc"+n;null!=o&&(a[r]=utils.GameComUtil.getTipMcImg(a[r],o,!1,!1),a.itemG.addChild(a[r]),a[r].visible=i)},a.prototype.showTipMcEquipUpGrade=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},a.prototype.showTipMcEquipUpOrder=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},a.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},a.type_up=0,a.type_order=1,a}(e.VM);e.TechEquipUpGradeView=t,__reflect(t.prototype,"vm.TechEquipUpGradeView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.skinName=TipSkin,a.visible=!1,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.startLoadRes=function(){var e=new skins.TipAwardSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.percentWidth=a.percentHeight=100,t&&(a.tisspr.visible=!1),a.panelVo&&a.showToolTip(a.panelVo.panelobj,0,0,!1),a.visible=!0},t.prototype.onHide=function(e){var t=dm.VDM.s_root,a=this;t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseUp,a),a.removeEventListener(egret.TouchEvent.TOUCH_TAP,a.touchTapFun,a),utils.GameComUtil.removeListData(this.datalist)},t.prototype.showToolTip=function(e,t,a,i){void 0===i&&(i=!0);var n=this,o=e;if(o){var r=o.type;o.trigger&&n.SetTipTrigger(o.trigger),n._itemData=o.itemData;Language.ins;switch(r){case game.TipSimpleObject.type_awardarr:n.showData(n._itemData,!0)}n.showspr();var s=dm.VDM.s_root;s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n.onMouseUp,n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.touchTapFun,n)}},t.prototype.touchTapFun=function(e){},t.prototype.onMouseUp=function(e){var t=this;e.target;t.close()},t.prototype.SetTipTrigger=function(e){this.m_obTrigger=e},t.prototype.getTipTrigger=function(){return this.m_obTrigger},t.prototype.closeToolTip=function(){},t.prototype._ShowTip=function(e,t,a){void 0===a&&(a=0),this.showToolTip(e,t,a)},t.prototype._CloseTip=function(){this.closeToolTip()},t.prototype.showspr=function(){var e=this,t=16;if(e.tisspr&&e.m_obTrigger){e.tisspr.visible=!0;var a=e.m_obTrigger,i=a.localToGlobal(0,0);a.parent&&(i=utils.GameComUtil.getLocalToGlobal(a.parent,a.x,a.y));var n=a.width,o=a.height,r=e.tisspr.width,s=20,l=i.x+n+r;if(l>Global.stageWidth?e.tisspr.x=i.x-r+.5*n-t:e.tisspr.x=i.x+.5*n+t,e.tisspr.x<s&&(e.tisspr.x=s),e.tisspr.height>=.5*Global.stageHeight)e.tisspr.y=Global.stageHeight-e.tisspr.height,e.tisspr.y<0&&(e.tisspr.y=0);else{var p=i.y-e.tisspr.height;0>=p?e.tisspr.y=i.y+.5*o+t:e.tisspr.y=i.y-e.tisspr.height+.5*o-t}e.tisspr.y<s&&(e.tisspr.y=s)}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=BackPackRender,n.dataProvider=new eui.ArrayCollection(i))},t.prototype.getLayer=function(){return PanelLayer.tip},t}(e.VM);e.TipAwardView=t,__reflect(t.prototype,"vm.TipAwardView")}(vm||(vm={}));var game;!function(e){var t=function(){function e(e){void 0===e&&(e=0),this.type=0,this.id=0,this.level=0,this.type=e}return e.type_common=1,e.type_equip=2,e.type_item=3,e.type_skill=4,e.type_hero=5,e.type_awardarr=6,e}();e.TipSimpleObject=t,__reflect(t.prototype,"game.TipSimpleObject")}(game||(game={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.skinName=TipSkin,a.visible=!1,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.startLoadRes=function(){var e=new skins.TipSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.percentWidth=a.percentHeight=100,t&&(a.tisspr.visible=!1),a.panelVo&&a.showToolTip(a.panelVo.panelobj,0,0,!1),a.visible=!0},t.prototype.onHide=function(e){var t=dm.VDM.s_root,a=this;t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onMouseUp,a),a.removeEventListener(egret.TouchEvent.TOUCH_TAP,a.touchTapFun,a),utils.GameComUtil.removeTextFlow(this.desctxt),utils.GameComUtil.removeTextFlow(this.comdesctxt),utils.GameComUtil.removeTextFlow(this.desctxt1),utils.GameComUtil.removeTextFlow(this.statetxt)},t.prototype.showToolTip=function(e,t,a,i){void 0===i&&(i=!0);var n=this,o=e;if(o){var r=o.type;n.nametxt.text=o.name,n.desctxt.textFlow=utils.GameComUtil.getHtmlText(o.desc),n.comdesctxt.textFlow=utils.GameComUtil.getHtmlText(""),n.lookbtn.visible=!1,o.trigger&&n.SetTipTrigger(o.trigger),n.itempanel.visible=!1,n.skillicon.visible=!1,n._itemData=o.itemData;var s=!1,l=175;n.nametxt.textColor=ColorUtil.white;var p="",c="",u="",m=20,g=340,_=ColorUtil.tip_hui,h=ColorUtil.tip_blue,d=Language.ins;switch(utils.GameComUtil.setVisibleHitPanel(n.desG0,n.tisspr,!1),utils.GameComUtil.setVisibleHitPanel(n.desG1,n.tisspr,!1),utils.GameComUtil.setVisibleHitPanel(n.comdesG,n.tisspr,!1),utils.GameComUtil.setVisibleHitPanel(n.itempanel,n.tisspr,!1),utils.GameComUtil.setVisibleHitPanel(n.skillicon,n.tisspr,!1),r){case game.TipSimpleObject.type_item:if(n.itempanel.visible=!0,utils.GameComUtil.setVisibleHitPanel(n.itempanel,n.tisspr,!0),u=FormatString.format(d.game_zisize,m,d.tips_tip11),u+="\n"+FormatString.format(d.game_col,_,o.desc),o.itemData){n.itempanel.setitemdata(o.itemData,!1,0,!1,!1,!1,!1);var y=GlobalConfig.getItemVo(o.itemData.itemid);if(y){(y.type==item_type.type_player||y.type==item_type.type_playerpiece)&&(g=374,n.lookbtn.visible=!0);var v=GlobalAllProxy.getInstance().backpackProxy.getItemCount(y.objectid);if(v){var f=FormatString.format(d.game_col,h,utils.GameUtil.getNumToStr(v)),b=FormatString.format(d.tips_tip15,f);c=FormatString.format(d.game_col,_,b)}}if(y&&y.des2){var G="\n\n"+FormatString.format(d.game_zisize,m,d.tips_tip0)+"\n",x=FormatString.format(d.game_col,h,y.des2);u+=G+x}}n.desctxt.textFlow=utils.GameComUtil.getHtmlText(c),n.desctxt1.textFlow=utils.GameComUtil.getHtmlText(u),utils.GameComUtil.setVisibleHitPanel(n.desG0,n.tisspr,!0),utils.GameComUtil.setVisibleHitPanel(n.desG1,n.tisspr,!0);break;case game.TipSimpleObject.type_common:n.desctxt.textFlow=utils.GameComUtil.getHtmlText(""),n.desctxt1.textFlow=utils.GameComUtil.getHtmlText(""),n.comdesctxt.textFlow=utils.GameComUtil.getHtmlText(o.desc),utils.GameComUtil.setVisibleHitPanel(n.comdesG,n.tisspr,!0);break;case game.TipSimpleObject.type_skill:g=374,n.skillicon.visible=!0,utils.GameComUtil.setVisibleHitPanel(n.skillicon,n.tisspr,!0);var C,T,P=o.itemData,A=P.playerstar,w=P.playerid,k=GlobalConfig.getSkillVO(o.id);if(k.stype==skill_type.type_fetter){var I=GlobalConfig.getFetterVO(w);I&&(C=I.partner,T=GlobalConfig.getPlayerPorpertyVO(C))}n.skillicon.setitemdata(o.id,o.level,!1,!1,!0,A,o.itemData.playerid),n.nametxt.textColor=ColorUtil.getSkillNameCol(k.sclass);var S=0;if(!isNaN(w)&&w){var E=ParamLoader.instance.ServerSkillUnlock,R=GlobalConfig.getPlayerPorpertyVO(w),L=R.getskillindex(o.id);S=E[L]}c+=FormatString.format(d.game_col,_,d.tips_tip1)+FormatString.format(d.game_col,h,k.typedes);var O;if(T&&(O=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(C)),A>=S)c+="\n"+FormatString.format(d.game_col,_,d.tips_tip2)+FormatString.format(d.game_col,h,d.game_lv_s+o.level),T&&(O?(p=FormatString.format(d.game_col,ColorUtil.green,d.tips_tip9),c+="\n"+FormatString.format(d.game_col,_,d.tips_tip13)+p):(p=FormatString.format(d.game_col,_,d.tips_tip16),c+="\n"+FormatString.format(d.game_col,_,d.tips_tip13)+p));
else{var V=FormatString.format(d.tips_tip10,S);c+="\n"+FormatString.format(d.game_col,_,d.tips_tip13)+FormatString.format(d.game_col,ColorUtil.red,V),p=FormatString.format(d.game_col,_,d.train_add_tip25)}if(T){var D=ColorUtil.getPlayerNameCol(T["class"]),G=FormatString.format(d.game_col,D,T.name);u+=FormatString.format(d.tips_tip7,G),O||(y=GlobalConfig.getItemIdForPlayerId(T.playerid),u+=y&&GlobalAllProxy.getInstance().backpackProxy.getItemCount(y.objectid)?FormatString.format(d.game_col,ColorUtil.red,d.tips_tip14):FormatString.format(d.game_col,ColorUtil.red,d.tips_tip19))}""!=u&&(u+="\n\n"),u+=FormatString.format(d.game_zisize,m,d.tips_tip12),u+="\n"+FormatString.format(d.game_col,_,o.desc),n.desctxt.textFlow=utils.GameComUtil.getHtmlText(c),n.desctxt1.textFlow=utils.GameComUtil.getHtmlText(u),utils.GameComUtil.setVisibleHitPanel(n.desG0,n.tisspr,!0),utils.GameComUtil.setVisibleHitPanel(n.desG1,n.tisspr,!0)}n.statetxt.textFlow=utils.GameComUtil.getHtmlText(p),s||(r==game.TipSimpleObject.type_skill?(n.desctxt.validateNow(),153>l&&(l=153)):l=153),n.tisspr.width=g,n.showspr();var N=dm.VDM.s_root;N.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n.onMouseUp,n),n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.touchTapFun,n)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.lookbtn:var a=t._itemData;if(a&&a.itemid){var i=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid,n=GlobalConfig.getItemVo(a.itemid);if(n&&n.parameter){var o=GlobalConfig.getPlayerPorpertyVO(+n.parameter);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(i,n.parameter,o,!0))}}else t.close()}},t.prototype.onMouseUp=function(e){var t=this,a=e.target;a!=t&&a!=t.tisspr&&a!=t.maskrect&&a!=t.lookbtn&&t.close()},t.prototype.SetTipTrigger=function(e){this.m_obTrigger=e},t.prototype.getTipTrigger=function(){return this.m_obTrigger},t.prototype.closeToolTip=function(){},t.prototype._ShowTip=function(e,t,a){void 0===a&&(a=0),this.showToolTip(e,t,a)},t.prototype._CloseTip=function(){this.closeToolTip()},t.prototype.showspr=function(){var e=this;if(e.tisspr&&e.m_obTrigger){e.tisspr.visible=!0;var t=e.m_obTrigger,a=t.localToGlobal(0,0);t.parent&&(a=utils.GameComUtil.getLocalToGlobal(t.parent,t.x,t.y));var i=20,n=a.x+t.width+e.tisspr.width;if(n>Global.stageWidth?e.tisspr.x=a.x-e.tisspr.width:e.tisspr.x=a.x+t.width,e.tisspr.x<i&&(e.tisspr.x=i),e.tisspr.height>=.5*Global.stageHeight)e.tisspr.y=Global.stageHeight-e.tisspr.height,e.tisspr.y<0&&(e.tisspr.y=0);else{var o=a.y-e.tisspr.height;0>=o?e.tisspr.y=a.y+t.height:e.tisspr.y=a.y-e.tisspr.height}e.tisspr.y<i&&(e.tisspr.y=i)}},t.prototype.getLayer=function(){return PanelLayer.tip},t}(e.VM);e.TipView=t,__reflect(t.prototype,"vm.TipView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.titletype=0,t.titlelevel=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TitleAdvancedPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_tip_6,a.maxtiptxt0.text=Language.ins.title_tip_4),a.changeShow(!0)},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.titletype=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=!1);var t,a=this,i=GlobalAllProxy.getInstance().playerProxy.titledata;i&&i.club&&(t=i.club.title);var n,o=a.titletype,r=a.gettitlelevel();n=0!=r?GlobalConfig.getTitleVO(o,r):GlobalConfig.getTitleVO(o,r+1);for(var s,l,p,c,u=GlobalConfig.getTitleVO(o,r+1),m=n.porperty.split(";"),g=m.length,_=0;g>_;_++)if(s=m[_].split(",")[0],l=GlobalConfig.getPorpertytypeVO(s),a["addtxt"+_].text=l.name,p=+m[_].split(",")[1],a["addnum"+_].text=p,c=0,u){var h=u.porperty.split(";"),d=+h[_].split(",")[1];c=d-p,a["addc"+_].text="+"+c,a["allnum"+_].text=d}else a["addc"+_].text="+0",a["allnum"+_].text=p;a.tiptxt.text=Language.ins.title_tip_0,a.upbtn.label=Language.ins.title_tip_2;var y;if(u?(a.upG.visible=!0,a.tipG.visible=!1,y=a.getneedarr(u),a.setCostListA(y),a.upiconimg.source=u.icon,a.nowiconimg.source=n.icon,2==u.level?a.upiconimg0.source="tab_tx_c2":3==u.level?a.upiconimg0.source="tab_tx_c3":a.upiconimg0.source="",2==n.level?a.nowiconimg0.source="tab_tx_c2":3==n.level?a.nowiconimg0.source="tab_tx_c3":a.nowiconimg0.source=""):(a.upG.visible=!1,a.tipG.visible=!0,a.upiconimg.source=n.icon,a.nowiconimg.source=n.icon,a.upiconimg0.source="tab_tx_c3",a.nowiconimg0.source="tab_tx_c3"),y){var v=CostItemRender.getItemOkArr(y);a.upbtn.enabled=v?!0:!1}},t.prototype.gettitlelevel=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.titledata;if(t&&t.club)for(var a=t.club,i=a.title,n=0,o=i.length;o>n;n++)if(e.titletype==i[n].type)return e.titlelevel=i[n].level,e.titlelevel},t.prototype.getneedarr=function(e){var t=[],a=new game.ComItemGroupVo;switch(t=utils.GameComUtil.getItemVoArr(e.cost),e.conditiontype){case GlobalEnum.title_conditiontype_1:a.itemid=GlobalEnum.itemid_tourmatch;break;case GlobalEnum.title_conditiontype_2:a.itemid=GlobalEnum.itemid_promotionmatch;break;case GlobalEnum.title_conditiontype_3:a.itemid=GlobalEnum.itemid_dekaron;break;case GlobalEnum.title_conditiontype_4:a.itemid=GlobalEnum.itemid_achievementlv;break;case GlobalEnum.title_conditiontype_5:a.itemid=GlobalEnum.itemid_fighting;break;case GlobalEnum.title_conditiontype_7:a.itemid=GlobalEnum.itemid_equipmentquality;break;case GlobalEnum.title_conditiontype_8:a.itemid=GlobalEnum.itemid_playerstarty;break;case GlobalEnum.title_conditiontype_11:a.itemid=GlobalEnum.itemid_peakseason;break;case GlobalEnum.title_conditiontype_12:a.itemid=GlobalEnum.itemid_clublv;break;case GlobalEnum.title_conditiontype_13:a.itemid=GlobalEnum.itemid_playerquality;break;case GlobalEnum.title_conditiontype_14:a.itemid=GlobalEnum.itemid_clubgrade}return 0!=e.conditiontype&&e.conditiontype!=GlobalEnum.title_conditiontype_5001?(a.count=e.pram1,a.addnum=e.pram2,a.addnum2=e.des,t.push(a)):e.conditiontype==GlobalEnum.title_conditiontype_5001&&(t=[]),t},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TITLE_UP,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TITLE_UP,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TITLE_UP:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.upbtn:GlobalAllProxy.getInstance().playerProxy.NetTitleActivate(t.titletype)}},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer||(i.itemRenderer=CostItemRender),i.dataProvider=new eui.ArrayCollection(a)},t}(e.VM);e.TitleAdvancedPanel=t,__reflect(t.prototype,"vm.TitleAdvancedPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.titleArr=[0,1,2,3],t.m_chooseN=0;var a=t;return a.percentWidth=a.percentHeight=100,a.touchEnabled=!1,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TitleDetailsPanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&(t.tiptxt.text=Language.ins.title_tip_3,t.maxtiptxt0.text=Language.ins.title_tip_4),t.initAddEvent(),t.changeShow(),t.changeTypeList()},t.prototype.onHide=function(e){this.removeEvent()},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.titledata;if(t&&t.club){e.titleArr=t.club.title;var a,i=e.titleArr[e.m_chooseN].type,n=e.titleArr[e.m_chooseN].level,o=GlobalConfig.getTitleVO(i,n+1);e.tstiptxt.visible=!1;var r=GlobalAllProxy.getInstance().playerProxy.getOneTitleZhanli(e.titleArr[e.m_chooseN]),s=new UserTitleObj;s.type=i,s.level=n+1;var l=GlobalAllProxy.getInstance().playerProxy.getOneTitleZhanli(s);if(0==n){e.tiptxt1.text=Language.ins.title_tip_1,e.upbtn.label=Language.ins.train_add_tip50,e.upbtn.visible=!0,e.upG.visible=!0,e.tipG.visible=!1,a=e.getneedarr(o),e.setCostListA(a);var p=CostItemRender.getItemOkArr(a);e.needtxt.textColor=p?"0x17FF00":"0xFF0000",e.needtxt.text=FormatString.format(Language.ins.title_tip_21,l),o.titlestyle==GlobalEnum.title_titlestyle_teshu&&(e.tstiptxt.visible=!0,e.tstiptxt.text=FormatString.format(Language.ins.title_tip_20,o.des),e.upbtn.visible=!1,e.needtxt.textColor="0xFF0000")}else if(e.tiptxt1.text=Language.ins.title_tip_0,e.upbtn.label=Language.ins.title_tip_2,o){e.upG.visible=!0,e.tipG.visible=!1,e.upbtn.visible=!0,a=e.getneedarr(o),e.setCostListA(a),e.needtxt.text=FormatString.format(Language.ins.title_tip_22,l);var p=CostItemRender.getItemOkArr(a);e.needtxt.textColor=p?"0x17FF00":"0xFF0000"}else e.upG.visible=!1,e.tipG.visible=!0,e.needtxt.text=FormatString.format(Language.ins.title_tip_23,r),e.needtxt.textColor="0x17FF00";var c=GlobalConfig.getTitleVO(i,n);e.titleiconimg.source=c.icon;for(var u,m,g,_,h=c.porperty.split(";"),d=h.length,y=0;d>y;y++){u=h[y].split(",")[0],m=GlobalConfig.getPorpertytypeVO(u),e["addtxt"+y].text=m.name,g=+h[y].split(",")[1],e["addnum"+y].text=g,_=0;var v=GlobalConfig.getTitleVO(i,n+1);if(v){var f=v.porperty.split(";"),b=+f[y].split(",")[1];_=b-g,e["addc"+y].text="+"+_,e["allnum"+y].text=b}else e["addc"+y].text="+0",e["allnum"+y].text=g}if(2==n?e.iconbgimg.source="tab_tx_c2":3==n?e.iconbgimg.source="tab_tx_c3":e.iconbgimg.source="",a){var p=CostItemRender.getItemOkArr(a);e.upbtn.enabled=p?!0:!1}}},t.prototype.getneedarr=function(e){var t=[],a=new game.ComItemGroupVo;switch(t=utils.GameComUtil.getItemVoArr(e.cost),e.conditiontype){case GlobalEnum.title_conditiontype_1:a.itemid=GlobalEnum.itemid_tourmatch;break;case GlobalEnum.title_conditiontype_2:a.itemid=GlobalEnum.itemid_promotionmatch;break;case GlobalEnum.title_conditiontype_3:a.itemid=GlobalEnum.itemid_dekaron;break;case GlobalEnum.title_conditiontype_4:a.itemid=GlobalEnum.itemid_achievementlv;break;case GlobalEnum.title_conditiontype_5:a.itemid=GlobalEnum.itemid_fighting;break;case GlobalEnum.title_conditiontype_7:a.itemid=GlobalEnum.itemid_equipmentquality;break;case GlobalEnum.title_conditiontype_8:a.itemid=GlobalEnum.itemid_playerstarty;break;case GlobalEnum.title_conditiontype_11:a.itemid=GlobalEnum.itemid_peakseason;break;case GlobalEnum.title_conditiontype_12:a.itemid=GlobalEnum.itemid_clublv;break;case GlobalEnum.title_conditiontype_13:a.itemid=GlobalEnum.itemid_playerquality;break;case GlobalEnum.title_conditiontype_14:a.itemid=GlobalEnum.itemid_clubgrade}return 0!=e.conditiontype&&e.conditiontype!=GlobalEnum.title_conditiontype_5001?(a.count=e.pram1,a.addnum=e.pram2,a.addnum2=e.des,t.push(a)):e.conditiontype==GlobalEnum.title_conditiontype_5001&&(t=[]),t},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TITLE_UP,e.eventChange),e.addMessage(game.GameCommands.TITLE_DETAILSPANEL0,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TITLE_UP:a.changeShow();break;case game.GameCommands.TITLE_DETAILSPANEL0:a.chargeChoose(e),a.changeTypeList()}},t.prototype.chargeChoose=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.titledata;if(a&&a.club)for(var i,n=a.club,o=n.title,r=0,s=o.length;s>r;r++)if(i=GlobalConfig.getTitleVO(o[r].type,o[r].level),i.titletype==e)return void(t.m_chooseN=r)},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.upbtn:t.clickupbtn();break;case t.leftbtn:t.m_chooseN--,t.changeTypeList();break;case t.rightbtn:t.m_chooseN++,t.changeTypeList()}},t.prototype.clickupbtn=function(){var e=this,t=e.titleArr[e.m_chooseN].type;GlobalAllProxy.getInstance().playerProxy.NetTitleActivate(t)},t.prototype.changeTypeList=function(){var e=this;e.m_chooseN<0&&(e.m_chooseN=0),e.leftbtn.visible=!0,e.rightbtn.visible=!0,0==e.m_chooseN&&(e.leftbtn.visible=!1),e.m_chooseN==e.titleArr.length-1&&(e.rightbtn.visible=!1),e.changeShow()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TITLE_UP,e.eventChange),e.removeMessage(game.GameCommands.TITLE_DETAILSPANEL0,e.eventChange)},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.InnerVM);e.TitleDetailsPanel=t,__reflect(t.prototype,"vm.TitleDetailsPanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._choosemode=0;var a=t;return a.percentWidth=a.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TitleManagePanelSkinDR;e.runto(this,[])},t.prototype.onShow=function(e){var t=this;e&&t.showTar(),t.initAddEvent(),t.changeShow()},t.prototype.showTar=function(){var e=this,t=Language.ins.title_tip_8;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.onHide=function(e){this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=GlobalAllProxy.getInstance().playerProxy.titledata;if(a&&a.club){var i=a.club;e.zhanlitxt.text=a.club.titleFighting;for(var n,o=i.title,r=[],s=0,l=o.length;l>s;s++){n=GlobalConfig.getTitleVO(o[s].type,o[s].level);var p=new TitleRenderVO;p.titletype=o[s].type,p.lv=o[s].level,p.titlestyle=n.titlestyle,p.fightnum=t.getOneTitleZhanli(i.title[s]),n.titlestyle==GlobalEnum.title_titlestyle_putong&&0==e._choosemode?r.push(p):n.titlestyle==GlobalEnum.title_titlestyle_teshu&&1==e._choosemode&&r.push(p)}e.showData(r,!0)}e.changeTipMC()},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.addMessage(game.GameCommands.TITLE_UP,e.eventChange),e.addMessage(game.GameCommands.TITLE_GET_NEW,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TITLE_UP:case game.GameCommands.TITLE_GET_NEW:a.changeShow()}},t.prototype.touchTapFun=function(e){e.target},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e),e.removeMessage(game.GameCommands.TITLE_UP,e.eventChange)},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer||(n.itemRenderer=TitleRender),n.dataProvider=new eui.ArrayCollection(i)},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcputongTitle(t.getTipForArr(null,[GlobalEnum.tipmc_title_putong])),e.showTipMcteshuTitle(t.getTipForArr(null,[GlobalEnum.tipmc_title_teshu]))},t.prototype.showTipMcputongTitle=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcteshuTitle=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},t.type_0=0,t.type_1=1,t}(e.InnerVM);e.TitleManagePanel=t,__reflect(t.prototype,"vm.TitleManagePanel")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.panelArr=["vm.TitleDetailsPanel","vm.TitleManagePanel"],t._choosemode=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TitleSkinDR;e.runto(this,[])},t.prototype.getAdvanceDRArr=function(){return[skins.TitleDetailsPanelSkinDR,skins.TitleManagePanelSkinDR]},t.prototype.onShow=function(t){var a=this;if(e.prototype.onShow.call(this,t),a.readPanelVo(),a.initAddEvent(),a.changeshow(),a.changedata(),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_title_mainui),a.addChild(a.m_toppanel),t){a.showTar();var i=GlobalEnum.itemid_firstpass;a.itemimg.source=ResName.getMinItemIcon(i)}a.resizefun(),a.changeTipMC()},t.prototype.changedata=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.titledata;t&&t.integral&&(e.numtxt.text=t.integral)},t.prototype.showTar=function(){var e=this,t=Language.ins.list_btn_title;e.tabGroup.m_class=TableBraButton6;var a=new game.KLayoutInfo;a.gap=GlobalEnum.tbr_6,e.tabGroup.setLayoutInfo(a),e.tabGroup.setListData(t),e.tabGroup.setView(e)},t.prototype.readPanelVo=function(){var e=this,t=e.panelVo;null!=t&&t.childtype&&(e._choosemode=t.childtype),e.tabGroup.setSelectIndex(e._choosemode)},t.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeshow()},t.prototype.changeshow=function(){var e=this;e.hitalllist();var t=e.panelArr[e._choosemode],a=e[t];null==a?(a=Manifest.getIns(egret.getDefinitionByName(t)),e.contentGroup.addChild(a),a.visible=!0,e[t]=a,e.reshTop()):(!a.isNeedLoad(!0)&&a._isSubCreated&&a.onShow(!1),a.visible=!0,e.contentGroup.addChild(a))},t.prototype.hitalllist=function(){var e,t,a=this,i=a.panelArr;for(var n in i)e=i[n],t=a[e],t&&t._isSubCreated&&(t.onHide(),utils.GameComUtil.removeSelf(t),t.visible=!1)},t.prototype.reshTop=function(){},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.hitalllist(),this.removeAddEvent()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TITLE_UP,e.eventchange),e.addMessage(game.GameCommands.TITLE_DETAILSPANEL,e.eventchange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.removeAddEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TITLE_UP,e.eventchange),e.removeMessage(game.GameCommands.TITLE_DETAILSPANEL,e.eventchange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.TITLE_UP:a.changedata(),a.changeTipMC();break;case game.GameCommands.TITLE_DETAILSPANEL:a._choosemode=0,a.tabGroup.setSelectIndex(0),a.changeshow(),EventBus.sendMessage(game.GameCommands.TITLE_DETAILSPANEL0,e);break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;PanelDM.getIns();switch(a){case t.m_toppanel.closebtn:t.close();break;case t.closebtn:t.close();break;case t.itemG:var i=game.TipSimpleObject.type_item,n=GlobalEnum.itemid_firstpass,o=new game.ComItemGroupVo(n,0);utils.GameComUtil.ShowTip(t.itemG,n,i,o)}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcAllTitle(t.getTipForArr(null,[GlobalEnum.tipmc_title]))},t.prototype.showTipMcAllTitle=function(e){var t=this,a=e,i=t.kbuttontab1,n="tipkbuttontab1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab1.addChild(t[n]),t[n].visible=a)},t}(e.VM);e.TitleView=t,__reflect(t.prototype,"vm.TitleView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.TrainBeRebornSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.pnametxt1.text=Language.ins.hero_tip49,a.prtip0.text=Language.ins.hero_tip50,a.prtip1.text=Language.ins.hero_tip51,a.pnametxt2.text=Language.ins.hero_tip52,a.prtip2.text=Language.ins.hero_tip53,a.prtip3.text=Language.ins.hero_tip54,a.pnametxt3.text=Language.ins.hero_tip55,a.prtip4.text=Language.ins.hero_tip56,a.prtip5.text=Language.ins.hero_tip57,a.pnametxt4.text=Language.ins.hero_tip58,a.prtip6.text=Language.ins.hero_tip59,a.prtip7.text=Language.ins.hero_tip60,a.pnametxt5.text=Language.ins.hero_tip61,a.prtip8.text=Language.ins.hero_tip62,a.prtip9.text=Language.ins.hero_tip63,a.changebtn.label=Language.ins.train_add_tip52,a.atiptxt0.text=Language.ins.coach_tip33,a.atiptxt1.text=Language.ins.club_tip25,a.atiptxt2.text=Language.ins.club_tip26,a.atiptxt3.text=Language.ins.train_add_tip35,a.tipnametxt.text=Language.ins.train_add_tip53,a.berebornbtn.label=Language.ins.train_add_tip54,a.maxtiptxt.text=Language.ins.train_add_tip55,a.adegreeG.setGroupAlign(egret.HorizontalAlign.RIGHT),a.maximg.visible=!1,a.upneedG.visible=!0),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_trainbereborn),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun()},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.prtxt0),utils.GameComUtil.removeTextFlow(this.prtxt1),utils.GameComUtil.removeTextFlow(this.prtxt2),utils.GameComUtil.removeTextFlow(this.prtxt3),utils.GameComUtil.removeTextFlow(this.prtxt4),utils.GameComUtil.removeTextFlow(this.prtxt5),utils.GameComUtil.removeTextFlow(this.prtxt6),utils.GameComUtil.removeTextFlow(this.prtxt7),utils.GameComUtil.removeTextFlow(this.prtxt8),utils.GameComUtil.removeTextFlow(this.prtxt9),GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr=[],GlobalAllProxy.getInstance().gameProxy.mainuserarr=[]},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();if(a){t.m_chooseplayerid=a;var i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.m_chooseplayerid),n=i.level,o=i.stars,r=i.stars,s=GlobalConfig.getPlayerExpVO(i.card_trait,o,n),l=GlobalConfig.getPlayerStarVO(i.card_trait,r);t.showPlayerData(i,l);var p=parseFloat(i.exp)-s.minpexp;0>p&&(p=0);var c,u="1340001",m=1,g=i.skill,_=g.length;t.skillG.removeChildren();for(var h=0;4>h;h++)c=t["skillicon"+h],_>h?(u=g[h].skill_id,m=g[h].level,c.setitemdata(u,m,!0,!0,!0,i.stars,i.playerid),utils.GameComUtil.setVisibleHitPanel(c,t.skillG,!0),c.setTip(!0)):c.visible=!1}t.changeTipMC()},a.prototype.showPlayerData=function(e,t){var a=this;a.maximg.visible=!1,a.upneedG.visible=!0;var i=GlobalConfig.getPlayerPorpertyVO(e.playerid);GlobalConfig.getCountryStr(i.country);a.anumtxt0.text=i.club,a.anumtxt2.text=Language.ins.game_lv_s+e.level+"/"+t.bookgrade;var n,o=game.SResponsePlayer.getMaxBeBronNum(e.card_trait),r=!1,s=e.transform,l="",p=s+1,c=e.stars,u=0;e.transform;n||(n=e.getRadarData(),e.radarVO=n);var m,g=GlobalConfig.getEvaluateVO(n.attack)["class"],_=GlobalConfig.getEvaluateVO(n.defense)["class"],h=GlobalConfig.getEvaluateVO(n.body)["class"],d=GlobalConfig.getEvaluateVO(n.skill)["class"],y=GlobalConfig.getEvaluateVO(n.porters)["class"];m=ResName.getPingimg(g),m.length>0&&(a.icon1.source=m[0]),m.length>1?a.iconfu1.source=m[1]:a.iconfu1.source="",m=ResName.getPingimg(_),m.length>0&&(a.icon2.source=m[0]),m.length>1?a.iconfu2.source=m[1]:a.iconfu2.source="",m=ResName.getPingimg(d),m.length>0&&(a.icon3.source=m[0]),m.length>1?a.iconfu3.source=m[1]:a.iconfu3.source="",m=ResName.getPingimg(h),m.length>0&&(a.icon4.source=m[0]),m.length>1?a.iconfu4.source=m[1]:a.iconfu4.source="",m=ResName.getPingimg(y),m.length>0&&(a.icon5.source=m[0]),m.length>1?a.iconfu5.source=m[1]:a.iconfu5.source="";var v=e,f=Math.floor(v.js_shoot),b=Math.floor(v.js_break_through),G=Math.floor(v.js_steal),x=Math.floor(v.js_marking),C=Math.floor(v.js_pass),T=Math.floor(v.js_trap),P=Math.floor(v.js_speed),A=Math.floor(v.js_strong),w=Math.floor(v.js_response),k=Math.floor(v.js_one_to_one);a.zhanlitxt0.text=Math.round(e.rankzhanli),a.zhanlitxt1.text=Math.round(e.rankzhanli);var I=!1;o?o==s?(l=s+"/"+o,a.maximg.visible=!0,a.upneedG.visible=!1):(I=!0,u=game.SResponsePlayer.getMaxRebornForStar(p),c>=u?(r=!0,l=s+"/"+o):l=FormatString.format(Language.ins.train_add_tip28,u)):l=Language.ins.train_add_tip27;var S=game.ComSkillVO.getSkillPost(e.stars,e.transform);if(a.skilladdtxt0.text=S+"",a.skilladdtxt1.text=S+"",I){a.upiconG1.visible=!0,a.upiconG2.visible=!0,a.upiconG3.visible=!0,a.upiconG4.visible=!0,a.upiconG5.visible=!0,a.pjian1.visible=!0,a.pjian2.visible=!0,a.pjian3.visible=!0,a.pjian4.visible=!0,a.pjian5.visible=!0;var E;E=e.getRadarData(0/0,p);var m,g=GlobalConfig.getEvaluateVO(E.attack)["class"],_=GlobalConfig.getEvaluateVO(E.defense)["class"],h=GlobalConfig.getEvaluateVO(E.body)["class"],d=GlobalConfig.getEvaluateVO(E.skill)["class"],y=GlobalConfig.getEvaluateVO(E.porters)["class"];m=ResName.getPingimg(g),m.length>0&&(a.upicon1.source=m[0]),m.length>1?a.upiconfu1.source=m[1]:a.upiconfu1.source="",m=ResName.getPingimg(_),m.length>0&&(a.upicon2.source=m[0]),m.length>1?a.upiconfu2.source=m[1]:a.upiconfu2.source="",m=ResName.getPingimg(d),m.length>0&&(a.upicon3.source=m[0]),m.length>1?a.upiconfu3.source=m[1]:a.upiconfu3.source="",m=ResName.getPingimg(h),m.length>0&&(a.upicon4.source=m[0]),m.length>1?a.upiconfu4.source=m[1]:a.upiconfu4.source="",m=ResName.getPingimg(y),m.length>0&&(a.upicon5.source=m[0]),m.length>1?a.upiconfu5.source=m[1]:a.upiconfu5.source="";var R=2994220,L=v.getCurZhanli(!1,v.stars,v.level,p,!1,v.card_trait),O=Math.floor(L.shoot-f),V=Math.floor(L.break_through-b),D=Math.floor(L.steal-G),N=Math.floor(L.marking-x),F=Math.floor(L.pass-C),M=Math.floor(L.trap-T),B=Math.floor(L.speed-P),U=Math.floor(L.strong-A),H=Math.floor(L.response-w),j=Math.floor(L.one_to_one-k);f+=FormatString.format(Language.ins.game_col,R,"+"+O),b+=FormatString.format(Language.ins.game_col,R,"+"+V),G+=FormatString.format(Language.ins.game_col,R,"+"+D),x+=FormatString.format(Language.ins.game_col,R,"+"+N),C+=FormatString.format(Language.ins.game_col,R,"+"+F),T+=FormatString.format(Language.ins.game_col,R,"+"+M),P+=FormatString.format(Language.ins.game_col,R,"+"+B),A+=FormatString.format(Language.ins.game_col,R,"+"+U),w+=FormatString.format(Language.ins.game_col,R,"+"+H),k+=FormatString.format(Language.ins.game_col,R,"+"+j);var z=e.getCurZhanli(!1,e.stars,e.level,p,!1,e.card_trait);a.zhanlitxt1.text=Math.round(z.zhanglinum),S=game.ComSkillVO.getSkillPost(e.stars,p),a.skilladdtxt1.text=S+""}else a.upiconG1.visible=!1,a.upiconG2.visible=!1,a.upiconG3.visible=!1,a.upiconG4.visible=!1,a.upiconG5.visible=!1,a.pjian1.visible=!1,a.pjian2.visible=!1,a.pjian3.visible=!1,a.pjian4.visible=!1,a.pjian5.visible=!1;a.prtxt0.textFlow=utils.GameComUtil.getHtmlText(f),a.prtxt1.textFlow=utils.GameComUtil.getHtmlText(b),a.prtxt2.textFlow=utils.GameComUtil.getHtmlText(G),a.prtxt3.textFlow=utils.GameComUtil.getHtmlText(x),a.prtxt4.textFlow=utils.GameComUtil.getHtmlText(C),a.prtxt5.textFlow=utils.GameComUtil.getHtmlText(T),a.prtxt6.textFlow=utils.GameComUtil.getHtmlText(P),a.prtxt7.textFlow=utils.GameComUtil.getHtmlText(A),a.prtxt8.textFlow=utils.GameComUtil.getHtmlText(w),a.prtxt9.textFlow=utils.GameComUtil.getHtmlText(k);for(var q,W=0;3>W;W++)q=W+1,s>=q?a["dayimg"+W].visible=!0:a["dayimg"+W].visible=!1,o>=q?a["rebornG"+W].visible=!0:a["rebornG"+W].visible=!1,u=game.SResponsePlayer.getMaxRebornForStar(q),u>c?(a["lockrect"+W].visible=!0,a["locktxt"+W].visible=!0):(a["lockrect"+W].visible=!1,a["locktxt"+W].visible=!1),a["retxt"+W].text=q+Language.ins.train_add_tip32,a["locktxt"+W].text=FormatString.format(Language.ins.train_add_tip23,u);a.anumtxt3.text=l,a.adegreeG.setDataArr(e.getlogArr()),a.heroicon.setData(e);var Y=GlobalConfig.getItemIdForPlayerId(e.playerid);if(a.berebornbtn.enabled=!1,a.showTipHeroBereborn(!1),Y){u=game.SResponsePlayer.getMaxRebornForStar(p);var K=game.SResponsePlayer.getBeBronCar(p),Q=(Y.name,[]),Z=new game.ComItemGroupVo(GlobalEnum.itemid_herocar,K);Z.addnum=Y.objectid,Q.push(Z),Z=new game.ComItemGroupVo(GlobalEnum.itemid_herostar,u),Z.addnum=e.stars,Q.push(Z),a.setCostListA(Q),a.needitemarr=Q;var X=CostItemRender.getItemOkArr(Q);a.berebornbtn.enabled=X?!0:!1,a.showTipHeroBereborn(X)}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.HERO_BEREBORN_COM,e.eventChange),e.addMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.CHOOSEHERO_MAIN,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.HERO_BEREBORN_COM,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.CHOOSEHERO_MAIN,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.HERO_BEREBORN_COM:a.changeShow();break;case game.GameCommands.TRAIN_CHOOSE_HERO:GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr=[],GlobalAllProxy.getInstance().gameProxy.mainuserarr=[],a.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.CHOOSEHERO_MAIN:a.changeShow()}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.berebornbtn:a.berebornfun();break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainchoose],e.TrainChooseView.type_beborn)}},a.prototype.berebornfun=function(){var e=this;if(e.m_chooseplayerid){for(var t,a=0,i=0,a=e.needitemarr.length;a>i;i++){var n=GlobalConfig.getItemVo(e.needitemarr[i].addnum);n&&4==n.type&&(t=e.needitemarr[i])}var o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(t.addnum),r=GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr,s=GlobalAllProxy.getInstance().gameProxy.mainuserarr;if(t.count<=o+r.length)if(r.length>0)GlobalAllProxy.getInstance().playerProxy.NetReincarnation(e.m_chooseplayerid,s);else{for(var l=[],i=0,a=+t.count;a>i;i++)l.push(t.addnum);GlobalAllProxy.getInstance().playerProxy.NetReincarnation(e.m_chooseplayerid,l)}GlobalAllProxy.getInstance().gameProxy.mainchooseheroarr=[],GlobalAllProxy.getInstance().gameProxy.mainuserarr=[]}},a.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},a.prototype.changeTipMC=function(){var e,t=this,a=GlobalEnum,i=GlobalAllProxy.getInstance().gameProxy,n=GlobalAllProxy.getInstance().playerProxy,o=!1,r=!1;if(n)for(var s,l=n.getUpPlayer(),p=t.m_chooseplayerid,c=0,u=l.length;u>c;c++)e=l[c],e.playerid==p?(s=i.getTipForArr(null,[a.tipmc_herobereborn],e.playerid),s&&(o=s)):(s=i.getTipForArr(null,[a.tipmc_herobereborn],e.playerid),s&&(r=s));t.showTipOtherHeroBereborn(r)},a.prototype.showTipOtherHeroBereborn=function(e){var t=this,a=e,i=t.changebtn,n="tipmcchangebtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-20,-10)),t.playerG.addChild(t[n]),t[n].visible=a)
},a.prototype.showTipHeroBereborn=function(e){var t=this,a=e,i=t.berebornbtn,n="tipmcberebornbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.upneedG.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.TrainBeRebornView=t,__reflect(t.prototype,"vm.TrainBeRebornView")}(vm||(vm={}));var TrainBreachChooseViewOpenVO=function(){function e(e,t){this.playerid=e,this.posnum=t}return e}();__reflect(TrainBreachChooseViewOpenVO.prototype,"TrainBreachChooseViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TrainBreachChooseSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.tipnametxt.text=Language.ins.train_add_tip56,a.tipnametxt0.text=Language.ins.train_add_tip57,a.ftiptxt0.text=Language.ins.train_add_tip58,a.ftiptxt1.text=Language.ins.train_add_tip59,a.uplvbtn0.label=Language.ins.train_add_tip60,a.uplvbtn1.label=Language.ins.train_add_tip61,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_train_breachchoose,a.luckbar.ShowLabel=!0),a.changeShow()},t.prototype.readPanelVO=function(){var e=this,t=e.panelVo.panelobj;t&&(e.m_playerid=t.playerid,e.m_chooosepos=t.posnum)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalist0)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.getSeverPlayerVO(t.m_playerid),n=i.getlogArr(),o=n.length,r=ParamLoader.instance,s=[],l=[],p=new game.ComItemGroupVo(GlobalEnum.itemid_ug,r.Serverlocationexpand);s.push(p);var c=r.Serverlocationcard,u=0;i.card_trait==playertrait.trait_SSR&&(o+=2),i.card_trait==playertrait.trait_UR&&(o+=4),c.length>=o&&(u=parseInt(c[o-1][1]));var p=new game.ComItemGroupVo(GlobalEnum.itemid_breachcar,u);l.push(p),t.setCostListA(s),t.setCostListB(l);var m=CostItemRender.getItemOkArr(s);t.uplvbtn0.enabled=m?!0:!1,m=CostItemRender.getItemOkArr(l),t.uplvbtn1.enabled=m?!0:!1,t.postxt.text=Language.ins.degree_names[t.m_chooosepos-1],t.playerimg.source=ResName.getRankPlayerbg(t.m_chooosepos,!1,!1,!0);var g=a.playerinfo.lucky,_=ParamLoader.instance.Serverluckymax;t.luckbar.setValue(g,_)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TRAIN_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.uplvbtn0:GlobalAllProxy.getInstance().playerProxy.NetTrainingPositionExtension(t.m_playerid,t.m_chooosepos,1);break;case t.uplvbtn1:GlobalAllProxy.getInstance().playerProxy.NetTrainingPositionExtension(t.m_playerid,t.m_chooosepos,2)}},t.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t.prototype.setCostListB=function(e){var t=this,a=e,i=t.datalist0;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.TrainBreachChooseView=t,__reflect(t.prototype,"vm.TrainBreachChooseView")}(vm||(vm={}));var TrainBreachViewOpenVO=function(){function e(e,t){void 0===t&&(t=0/0),this.playerid=e,this.openlog=t}return e}();__reflect(TrainBreachViewOpenVO.prototype,"TrainBreachViewOpenVO");var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.TrainBreachSkinDR;e.runto(this,[])},a.prototype.getAdvanceDRArr=function(){return[skins.TrainBreachChooseSkinDR]},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.initAddEvent(),a.readPanelVO(),e&&(a.changebtn.label=Language.ins.train_add_tip62,a.atiptxt0.text=Language.ins.coach_tip33,a.atiptxt1.text=Language.ins.club_tip25,a.atiptxt2.text=Language.ins.club_tip26,a.anumtxt3.text="",a.adegreeG.setGroupAlign(egret.HorizontalAlign.RIGHT)),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_trainbreach),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun()},a.prototype.readPanelVO=function(){var e=this;if(e.panelVo&&e.panelVo.panelobj){var t=e.panelVo.panelobj;if(t instanceof TrainBreachViewOpenVO){var a=t;GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(a.playerid),isNaN(a.openlog)||e.showOpenFun(a.playerid,a.openlog)}else GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(e.panelVo.panelobj)}},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.anumtxt3)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();if(t.notipimg.visible=!1,i){t.m_chooseplayerid=i;var n=a.getSeverPlayerVO(t.m_chooseplayerid),o=n.stars,r=GlobalConfig.getPlayerStarVO(n.card_trait,o);t.showPlayerData(n,r),n.location==playerlocation.location_14&&(t.notipimg.visible=!0)}t.trainPitch.setData(t.m_chooseplayerid)},a.prototype.showPlayerData=function(e,t){var a=this,i=GlobalConfig.getPlayerPorpertyVO(e.playerid);GlobalConfig.getCountryStr(i.country);a.anumtxt0.text=i.club,a.anumtxt2.text=Language.ins.game_lv_s+e.level+"/"+t.bookgrade,a.anumtxt3.textFlow=utils.GameComUtil.getHtmlText(Language.ins.train_add_tip97),a.adegreeG.setDataArr(e.getlogArr()),a.heroicon.setData(e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},a.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TRAIN_CHOOSE_HERO:this.changeShow(e);break;case game.GameCommands.TRAIN_DATA_CHANGE:this.changeShow(e);break;case game.GameCommands.MY_INFO_CHANGW:this.changeShow(e);break;case game.GameCommands.STAGE_RESIZE:this.resizefun()}},a.prototype.showOpenFun=function(e,t){if(e){var a=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(e);if(a){var i=GlobalConfig.getLocationexpandVO(a.location),n=i.expandlocations,o=n.concat([a.location]),r=a.getlogArr(),s=r.length;if(utils.GameComUtil.ArrayToChange(o),-1==r.indexOf(t))if(s<ParamLoader.instance.Serverlocationlimit){var l=GlobalConfig.getLocationrelation(t),p=new TrainBreachChooseViewOpenVO(e,l);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbreachchoose],p)}else FLOAT.NShowPutong([Language.ins.train_add_tip4]);else FLOAT.NShowPutong([Language.ins.train_add_tip10])}}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;if(i instanceof TrainBerachPlayer){if(a.m_chooseplayerid){var n=i,o=n.index,r=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a.m_chooseplayerid),s=r.getlogArr(),l=s.length,p=n.state;if(p==TrainBerachPlayer.state_really)FLOAT.NShowPutong([Language.ins.train_add_tip10]);else if(p==TrainBerachPlayer.state_init)FLOAT.NShowPutong([Language.ins.train_add_tip9]);else if(n.isCanOpen()&&-1==s.indexOf(o))if(l<ParamLoader.instance.Serverlocationlimit){var c=new TrainBreachChooseViewOpenVO(a.m_chooseplayerid,o);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbreachchoose],c)}else FLOAT.NShowPutong([Language.ins.train_add_tip4])}}else switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainchoose],e.TrainChooseView.type_berach)}},a.prototype.resizefun=function(){var e=this,t=utils.GameUtil.getScalePanel(1138,e.trainPitch.height-160);e.trainPitch.scaleX=e.trainPitch.scaleY=t,utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.TrainBreachView=t,__reflect(t.prototype,"vm.TrainBreachView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e.sortnumarr=[],e.sortnamearr=[];var a=e;return a.percentWidth=e.percentHeight=100,a.sortnumarr=[0],a.sortnamearr=["exp"],e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.TrainChooseSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.sortnumarr=[0],a.readPanelVO(),a.initAddEvent(),e&&(a.ftiptxt0.text=Language.ins.club_tip25,a.ftiptxt1.text=Language.ins.club_tip27,a.ftiptxt2.text=Language.ins.train_add_tip64,a.ftiptxt3.text=Language.ins.train_add_tip65,a.tiptxt.text=Language.ins.train_add_tip66,a.sorttxt0.text=Language.ins.club_tip26,a.sorttxt1.text=Language.ins.train_add_tip63,a.luckbar.ShowLabel=!0,a.degreeG.setGroupAlign(egret.HorizontalAlign.LEFT),a.stargroup.setGroupGap(-8),a.stargroup.setGroupAlign(egret.HorizontalAlign.LEFT),a.panel_bg.titlename.text=Language.ins.title_hero_change),a.changeShow()},a.prototype.readPanelVO=function(){var e=this,t=e.panelVo.panelobj;t?a.m_curtype=t:a.m_curtype=a.type_berach},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.borntxt1)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,i=GlobalAllProxy.getInstance().playerProxy,n=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();t.m_playerid=n,utils.GameComUtil.setVisibleHitPanel(t.degreeG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.skillinfoG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.starinfoG,null,!1),utils.GameComUtil.setVisibleHitPanel(t.beborninfoG,null,!1);var o=0;if(t.tiptxt.visible=!1,t.m_playerid){var r=i.getSeverPlayerVO(t.m_playerid);t.stargroup.setDataArr(r.stars,"tab_kjzx_e1"),t.nametxt.text=r.name,t.nametxt.textColor=ColorUtil.getPlayerNameCol(r.card_trait);var s=Language.ins.degree_wait;if(r.position){var l=GlobalConfig.getLocationrelation(r.position);s=Language.ins.degree_names[l-1],t.posimg.source=ResName.getRankPlayerbg(l,!1)}else t.posimg.source="";t.postxt.text=s,t.lvtxt.text=Language.ins.game_lv_s+r.level,t.classimg.source=ResName.getTraitPathMin(r.card_trait),t.bebornimg.source=ResName.getMinHeroRebornImg(r.transform);var p=a.m_curtype;if(p==a.type_berach)t.degreeG.setDataArr(r.getlogArr()),t.degreeG.visible=!0,t.sorttxt1.text=Language.ins.train_add_tip16,utils.GameComUtil.setVisibleHitPanel(t.degreeG,null,!0);else if(p==a.type_skill){for(var c,u,m="1340001",g=1,_=1,h=r.skill,d=h.length,y=0;4>y;y++)d>y?(c=h[y],m=c.skill_id,g=c.level,_=c.mastery,u=GlobalConfig.getSkillVO(m),t["skillimg"+y].source=GlobalEnum.getSkillIconName(u.icon),t["skillG"+y].visible=!0):t["skillG"+y].visible=!1;t.sorttxt1.text=Language.ins.train_add_tip17,utils.GameComUtil.setVisibleHitPanel(t.skillinfoG,null,!0)}else if(p==a.type_star){var v=r.level,f=r.stars,b=GlobalConfig.getPlayerStarVO(r.card_trait,f),G=b.bookgrade,x=GlobalConfig.getPlayerExpVO(r.card_trait,f,v);if(v>=G)t.startipG.visible=!0,t.luckbar.visible=!1;else{t.startipG.visible=!1,t.luckbar.visible=!0;var C=parseFloat(r.exp)-x.minpexp;0>C&&(C=0),t.luckbar.setValue(C,x.prate)}t.sorttxt1.text=Language.ins.train_add_tip18,utils.GameComUtil.setVisibleHitPanel(t.starinfoG,null,!0)}else if(p==a.type_beborn){var T=game.SResponsePlayer.getMaxBeBronNum(r.card_trait),P=r.transform;t.borntxt.text=P+"/"+T;var A="";if(t.bornimg.source="",T)if(T==P)t.bornimg.source="tab_xlzx1_b8",A=FormatString.format(Language.ins.game_col,ColorUtil.white,Language.ins.train_add_tip33);else{var w=P+1,k=game.SResponsePlayer.getMaxRebornForStar(w);if(k<=r.stars){var I=GlobalConfig.getItemIdForPlayerId(r.playerid);if(I){var S=game.SResponsePlayer.getBeBronCar(w),E=GlobalAllProxy.getInstance().backpackProxy.getItemCount(I.objectid);E>=S&&(A=FormatString.format(Language.ins.game_col,ColorUtil.green," "+Language.ins.train_add_tip34))}}}t.borntxt1.textFlow=utils.GameComUtil.getHtmlText(A),utils.GameComUtil.setVisibleHitPanel(t.beborninfoG,null,!0),t.sorttxt1.text=Language.ins.train_add_tip35,o=game.SResponsePlayer.getMinBornCardTrait(),t.tiptxt.text=Language.ins.train_add_tip66,t.tiptxt.visible=!0}else if(p==a.type_fettern){var R=this.getHeroFetterObj(n),L=R.fnum,O=R.fall;t.borntxt.text=L+"/"+O;var A="";t.bornimg.source="",O&&L==O&&(t.bornimg.source="tab_xlzx1_b8",A=FormatString.format(Language.ins.game_col,ColorUtil.white,Language.ins.train_add_tip91)),t.borntxt1.textFlow=utils.GameComUtil.getHtmlText(A),utils.GameComUtil.setVisibleHitPanel(t.beborninfoG,null,!0),t.sorttxt1.text=Language.ins.train_add_tip87,o=game.SResponsePlayer.getMinFetterCardTrait(),t.tiptxt.text=Language.ins.train_add_tip88,t.tiptxt.visible=!0}}var V=GlobalAllProxy.getInstance().playerProxy.playerArr;V.sort(utils.GameUtil.sortMatckFun(["position","rankzhanli"],[1,1]));for(var D,N,R,F=[],M=0,B=V.length;B>M;M++)D=V[M],D.card_trait>=o&&D.playerid!=t.m_playerid&&(N=new TrainChooseRenderVO,N.vo=D,N.exp=D.exp,N.level=D.level,N.position=D.position,N.playerid=D.playerid,N.card_trait=D.card_trait,N.isforma=D.position?1:0,N.fetterall=0,N.fetternum=0,p==a.type_fettern&&(R=t.getHeroFetterObj(D.playerid),N.fetternum=R.fnum,N.fetterall=R.fall),F.push(N));t.dpDataArr=F,t.sortChange()},a.prototype.getHeroFetterObj=function(t){var a=0,i=0,n=GlobalConfig.getFetterVO(t);if(n){var o,r,s,l,p,c,u,m,g,_,h,d=n.getFnameArr(),y=(ParamLoader.instance,GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t)),v=!1;y&&y.position&&(v=!0);for(var f=playertrait.trait_SSR,b=0,G=d.length;G>b;b++){for(o=d[b],r=o[0],s=o[1],l=s.split(","),p=e.HeroInfoView.getRenderArr(l,v),_=!0,h=0,c=0,u=p.length;u>c;c++)m=p[c],m.vo["class"]==f&&h++,m.star?m.addstr=g:(_=!1,m.addstr=0/0);if(_){for(c=0,u=p.length;u>c;c++)p[c].iscom=_;a+=1}i+=1}}return{fnum:a,fall:i}},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},a.prototype.listchangeA=function(e){var t=this,a=t.datalistA.selectedItem;a&&(GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(a.playerid),EventBus.sendMessage(game.GameCommands.TRAIN_CHOOSE_HERO,a.playerid),t.close(),GlobalAllProxy.getInstance().guideProxy.isPlayGuide()&&EventBus.getIns().sendMessage(game.GameCommands.guide_MsgGuideClickRectTrigger))},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.datalistA.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.listchangeA,e)},a.prototype.eventChange=function(e,t){},a.prototype.sortChange=function(){for(var t=this,a=t.sortnumarr,i=t.sortnamearr,n=0,o="",r=0,s=a.length;s>r;r++)t["sortup"+r]&&(a[r]?(n=a[r],o=i[r],n==e.HeroListPanel.sorttype_up?(t["sortup"+r].source="tab_zx_c3",t["sortdown"+r].source="tab_zx_c2"):n==e.HeroListPanel.sorttype_down&&(t["sortup"+r].source="tab_zx_c1",t["sortdown"+r].source="tab_zx_c4")):(t["sortup"+r].source="tab_zx_c1",t["sortdown"+r].source="tab_zx_c2"));var l=t.dpDataArr;if(l){if(n){var p=n==e.HeroListPanel.sorttype_up?0:1;l.sort(utils.GameUtil.sortMatckFun(["isforma",o],[1,p]))}else l.sort(utils.GameUtil.sortMatckFun(["position"],[1]));var c=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();if(c){for(var u,m,g=0,_=0,h=l.length;h>_;_++)u=l[_],u.card_trait>g&&(g=u.card_trait,m=u);if(m){var d=l.indexOf(m);-1!=d&&(l.splice(d,1),l.unshift(m))}}t.showDataA(l,!1)}},a.prototype.touchTapFun=function(t){var a=this,i=t.target,n=i.name,o="sortG";if(-1!=n.indexOf(o)){for(var r=parseInt(n.substr(o.length)),s=a.sortnumarr,l=0,p=s.length;p>l;l++)if(l==r){var c=s[r];c=c==e.HeroListPanel.sorttype_init?e.HeroListPanel.sorttype_down:c==e.HeroListPanel.sorttype_up?e.HeroListPanel.sorttype_down:e.HeroListPanel.sorttype_up,s[l]=c}else s[l]=e.HeroListPanel.sorttype_init;return void a.sortChange()}switch(i){case a.closebtn:a.close();break;case a.panel_bg.closebtn:a.close()}},a.prototype.showDataA=function(e,t){var a=this,i=e;a.datalistA.selectedIndex=-1;var n=a.datalistA;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TrainChooseRender,n.dataProvider=new eui.ArrayCollection(i))},a.type_berach=1,a.type_skill=2,a.type_star=3,a.type_beborn=4,a.type_fettern=5,a}(e.VM);e.TrainChooseView=t,__reflect(t.prototype,"vm.TrainChooseView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_panelstrArr=[GlobalViewIDEnum.pType_trainupstar,GlobalViewIDEnum.pType_trainupskill,GlobalViewIDEnum.pType_trainbreach,GlobalViewIDEnum.pType_trainbereborn,GlobalViewIDEnum.pType_train_fetter],t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TrainEnterSkinDR;e.runto(this,[])},t.prototype.getAdvanceDRArr=function(){var e=[skins.TrainUpStarSkinDR];return e},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.ftiptxt0.text=Language.ins.train_add_tip67,a.ftiptxt1.text=Language.ins.train_add_tip68,a.ftiptxt2.text=Language.ins.train_add_tip69,a.ftiptxt3.text=Language.ins.train_add_tip68,a.ftiptxt4.text=Language.ins.train_add_tip70,a.ftiptxt5.text=Language.ins.train_add_tip68,a.ftiptxt6.text=Language.ins.train_add_tip71,a.ftiptxt7.text=Language.ins.train_add_tip83),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_trainenter),a.addChild(a.m_toppanel),GlobalAllProxy.getInstance().playerProxy.reshPlayerZhanli(),a.guidemoveshow(),a.changeShow(),a.resizefun(),a.changeTipMC()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(e.panelVo.panelobj)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);for(var t,a,i=this,n=i.m_panelstrArr,o=0,r=n.length;r>o;o++)t=n[o],a=utils.GameComUtil.getUnLockTip([t]),a?(i["locktxt"+o].text=a,i["lockG"+o].visible=!0):i["lockG"+o].visible=!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.addEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventchange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventchange),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_START,e.scrollchange,e),e.buildscrol.removeEventListener(eui.UIEvent.CHANGE_END,e.scrollEndFun,e)},t.prototype.scrollchange=function(e){this.buildscrol.touchChildren=!1},t.prototype.scrollEndFun=function(e){this.buildscrol.touchChildren=!0},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.TIP_MC_CHANGE:a.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.breachG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbreach]);break;case t.upstarG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainupstar]),GlobalAllProxy.getInstance().gameProxy.check_offline=!1;break;case t.skillG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainskill]);break;case t.upgradeG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbereborn]);break;case t.fetterG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_train_fetter]);break;case t.otherG:FLOAT.NShowPutong([Language.ins.game_no_down]);break;case t.m_toppanel.closebtn:t.close()}},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight);var t=utils.GameUtil.getScalePanel(1e3,e.centerG.height);e.centerG.scaleX=e.centerG.scaleY=t},t.prototype.changeTipMC=function(){var e=this,t=GlobalEnum,a=GlobalAllProxy.getInstance().gameProxy;e.showTipHeroBereborn(a.getTipForArr(null,[t.tipmc_herobereborn])),e.showTipHeroSkillUp(a.getTipForArr(null,[t.tipmc_heroskillup,t.tipmc_skill_partnerbag])),e.showTipHeroFetterUp(a.getTipForArr(null,[t.tipmc_herofetter])),e.showTipHeroisOffline(a.getTipForArr(null,[t.tipmc_heroisoffline]))},t.prototype.showTipHeroisOffline=function(e){var t=this,a=e,i=t.infoG0,n="tipmcinfoG0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-43,48)),t.infoG0.addChild(t[n]),t[n].visible=a)},t.prototype.showTipHeroFetterUp=function(e){var t=this,a=e,i=t.infoG4,n="tipmcinfoG4";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-43,48)),t.infoG4.addChild(t[n]),t[n].visible=a)},t.prototype.showTipHeroSkillUp=function(e){var t=this,a=e,i=t.infoG1,n="tipmcinfoG1";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-43,48)),t.infoG1.addChild(t[n]),t[n].visible=a)},t.prototype.showTipHeroBereborn=function(e){var t=this,a=e,i=t.infoG3,n="tipmcinfoG3";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0,new egret.Point(-43,48)),t.infoG3.addChild(t[n]),t[n].visible=a)},t.prototype.guidemoveshow=function(){var e=this,t=GlobalAllProxy.getInstance().guideProxy;if(t.isPlayGuide()){var a,i=t.playerGuideId,n=GuideSyncData.TransTOGuideID(i),o=GuideSyncData.TransTOStepID(i),r=GlobalConfig.getGuideVo(n),s=r.getStepItem(o),l=r.getNextStepItemByStepId(o);if(a=s&&"vm.TrainEnterView"==s.window?s:l&&"vm.TrainEnterView"==l.window?l:s,a&&"vm.TrainEnterView"==a.window){var p=a.focuswidget,c=0;switch(p){case"upstarG":case"skillG":case"breachG":case"fetterG":c=0;break;case"otherG":case"upgradeG":c=e[p].y}var u=e.buildscrol;if(c){var m=function(){u.stopAnimation();var e=u.viewport.contentHeight,t=e-u.height,a=t;a>=t&&(a=t),0>a&&(a=0),u.viewport.scrollV=a+3};egret.setTimeout(m,e,100)}else 0>c&&(c=0),e.buildscrol.viewport.scrollV=c}}},t}(e.VM);e.TrainEnterView=t,__reflect(t.prototype,"vm.TrainEnterView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;e.sortnumarr=[],e.sortnamearr=[];var a=e;return a.percentWidth=e.percentHeight=100,a.sortnumarr=[0,0,0],a.sortnamearr=["clubfetterall","countryfetterall","fetternum"],e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.viPanel},a.prototype.startLoadRes=function(){var e=new skins.TrainFetterListSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.sortnumarr=[0,0,2],a.readPanelVO(),a.initAddEvent(),e&&(a.tiptxt0.text=Language.ins.train_add_tip89,a.tiptxt.text=Language.ins.train_add_tip90,a.ftiptxt0.text=Language.ins.rank_tip7,a.sorttxt0.text=Language.ins.game_club_s,a.sorttxt1.text=Language.ins.train_add_tip93,a.sorttxt2.text=Language.ins.train_add_tip94,a.panel_bg.titlename.text=Language.ins.title_train_fetterlist),a.changeShow()},a.prototype.readPanelVO=function(){var e=this;e.panelVo.panelobj},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.borntxt1)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=(GlobalAllProxy.getInstance().playerProxy,GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer(),0),i=GlobalAllProxy.getInstance().playerProxy.playerArr;i.sort(utils.GameUtil.sortMatckFun(["position","rankzhanli"],[1,1]));for(var n,o,r=[],s={},l=0,p=i.length;p>l;l++)n=i[l],n.card_trait>=a&&n.position&&t.getHeroFetterObj(n.playerid,s);var c,u={},m={};for(var g in s)c=GlobalConfig.getPlayerPorpertyVO(parseInt(g)),o=new TrainFetterListRenderVO,o.playerid=g,o.name=c.name,o.card_trait=c["class"],o.country=GlobalConfig.getCountryStr(c.country),o.clubname=c.club,o.fetternum=s[g],o.clubfetterall=0,o.countryfetterall=0,m[o.country]||(m[o.country]=0),m[o.country]+=o.fetternum,u[o.clubname]||(u[o.clubname]=0),u[o.clubname]+=o.fetternum,r.push(o);var _,h,d;for(_=0,h=r.length;h>_;_++)o=r[_],d=u[o.clubname],d&&(o.clubfetterall=d),d=m[o.country],d&&(o.countryfetterall=d);t.dpDataArr=r,t.sortChange()},a.prototype.getHeroFetterObj=function(e,t){var a=GlobalConfig.getFetterVO(e);if(a)for(var i,n,o,r,s,l,p,c,u=a.getFnameArr(),m=(ParamLoader.instance,playertrait.trait_SSR,GlobalAllProxy.getInstance().playerProxy),g=0,_=u.length;_>g;g++)for(i=u[g],n=i[0],o=i[1],r=o.split(","),s=0,l=r.length;l>s;s++)p=parseInt(r[s]),c=m.getSeverPlayerVO(p),c||(t[p]||(t[p]=0),t[p]+=1)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},a.prototype.eventChange=function(e,t){},a.prototype.sortChange=function(){for(var t=this,a=t.sortnumarr,i=t.sortnamearr,n=0,o="",r=0,s=a.length;s>r;r++)t["sortup"+r]&&(a[r]?(n=a[r],o=i[r],n==e.HeroListPanel.sorttype_up?(t["sortup"+r].source="tab_zx_c3",t["sortdown"+r].source="tab_zx_c2"):n==e.HeroListPanel.sorttype_down&&(t["sortup"+r].source="tab_zx_c1",t["sortdown"+r].source="tab_zx_c4")):(t["sortup"+r].source="tab_zx_c1",t["sortdown"+r].source="tab_zx_c2"));var l=t.dpDataArr;if(l){if(n){var p=n==e.HeroListPanel.sorttype_up?0:1;"fetternum"==o?l.sort(utils.GameUtil.sortMatckFun([o],[p])):l.sort(utils.GameUtil.sortMatckFun([o,"fetternum"],[p,1]))}else l.sort(utils.GameUtil.sortMatckFun(["fetternum"],[1]));var c=GlobalAllProxy.getInstance().guideProxy.isPlayGuide();if(c){for(var u,m,g=0,_=0,h=l.length;h>_;_++)u=l[_],u.card_trait>g&&(g=u.card_trait,m=u);if(m){var d=l.indexOf(m);-1!=d&&(l.splice(d,1),l.unshift(m))}}t.showDataA(l,!1)}},a.prototype.touchTapFun=function(t){var a=this,i=t.target,n=i.name,o="sortG";if(-1!=n.indexOf(o)){for(var r=parseInt(n.substr(o.length)),s=a.sortnumarr,l=0,p=s.length;p>l;l++)if(l==r){var c=s[r];c=c==e.HeroListPanel.sorttype_init?e.HeroListPanel.sorttype_down:c==e.HeroListPanel.sorttype_up?e.HeroListPanel.sorttype_down:e.HeroListPanel.sorttype_up,s[l]=c}else s[l]=e.HeroListPanel.sorttype_init;return void a.sortChange()}switch(i){case a.closebtn:a.close();break;case a.panel_bg.closebtn:a.close()}},a.prototype.showDataA=function(e,t){var a=this,i=e;a.datalistA.selectedIndex=-1;var n=a.datalistA;n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TrainFetterListRender,n.dataProvider=new eui.ArrayCollection(i))},a}(e.VM);e.TrainFetterListView=t,__reflect(t.prototype,"vm.TrainFetterListView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e._choosemode=0,e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.TrainFetterSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.readPanelVO(),a.initAddEvent(),a.showTar(),e&&(a.relationNonetxt0.text=Language.ins.hero_tip29,a.relationNonetxt1.text=Language.ins.hero_tip30,a.changebtn.label=Language.ins.train_add_tip62,a.atiptxt0.text=Language.ins.coach_tip33,a.atiptxt1.text=Language.ins.club_tip25,a.atiptxt2.text=Language.ins.club_tip26,a.anumtxt3.text=Language.ins.train_add_tip49,a.ftiptxt0.text=Language.ins.train_add_tip86,a.tiptxt2.textFlow=utils.GameComUtil.getHtmlText(Language.ins.hero_tip27),a.adegreeG.setGroupAlign(egret.HorizontalAlign.RIGHT),PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])||(FntUtil.showFnt(a.packBZG,ResName.fnt_main,Language.ins.train_add_tip104,ResName.spa_main_a),FntUtil.showFnt(a.packBZG0,ResName.fnt_main,Language.ins.train_add_tip105,ResName.spa_main_a))),a.tisspr.visible=!1,a.tabGroup.setSelectIndex(a._choosemode),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_train_fetter),a.addChild(a.m_toppanel),a.changeShow(!0),a.resizefun()},a.prototype.showTar=function(){var t,a=this,i=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();i&&(t=GlobalConfig.getPlayerPorpertyVO(i));var n=[],o=[];t&&(t["class"]>=playertrait.trait_SR&&(n.push(e.HeroInfoView.type_fetter),o.push(Language.ins.hero_info_tip4)),t.isRelation()&&(n.push(e.HeroInfoView.type_relation),o.push(Language.ins.hero_info_tip5))),a.m_indexarr=n,a.tabGroup.m_class=TableBraButton6;var r=new game.KLayoutInfo;a.tabGroup.setButtonWidth(118),r.gap=GlobalEnum.tbr_6,a.tabGroup.setLayoutInfo(r),a.tabGroup.setListData(o),a.tabGroup.setView(a)},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(e.panelVo.panelobj)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.anumtxt3)},a.prototype.changeShow=function(t){void 0===t&&(t=!1);var a=this;a.hitalllist();var i,n=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer(),o=1,r=a.m_indexarr,s=r[a._choosemode];if(n){a.m_playerid=n;var l=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a.m_playerid);o=l.stars;var p=GlobalConfig.getPlayerStarVO(l.card_trait,o);a.showPlayerData(l,p),i=GlobalConfig.getPlayerPorpertyVO(n),s==e.HeroInfoView.type_fetter?(a.showFetter(i,t),utils.GameComUtil.setVisibleHitPanel(a.fetterG,a.conGroup,!0)):s==e.HeroInfoView.type_relation&&(a.showRelation(i,t),utils.GameComUtil.setVisibleHitPanel(a.relationG,a.conGroup,!0))}a.changeTipMC()},a.prototype.hitalllist=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.fetterG,e.conGroup,!1),utils.GameComUtil.setVisibleHitPanel(e.relationG,e.conGroup,!1)},a.prototype.showFetter=function(t,a){var i=this,n=[],o=t.playerid,r=GlobalConfig.getFetterVO(o);if(r){for(var s,l,p,c,u,m,g,_,h,d,y,v=r.getFnameArr(),f=ParamLoader.instance,b=f.ServerFetterPorperty,G=f.FetterGradeExtra,x=f.FetterGradeExtraUR,C={},T=0,P=b.length;P>T;T++)d=b[T],C[parseInt(d[0])]=parseInt(d[1]);var A,w,k,I,S,E=f.ServerFetterExtre,R=E[0],L=(E[1],GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(o)),O=!1;L&&L.position&&(O=!0);for(var V=playertrait.trait_SSR,D=playertrait.trait_UR,N=0,F=v.length;F>N;N++){for(s=v[N],l=s[0],p=s[1],c=p.split(","),m=new HeroFetterRenderVO,u=e.HeroInfoView.getRenderArr(c,O),A=0,k=!0,I=0,S=0,g=0,_=u.length;_>g;g++)h=u[g],h.vo["class"]==V?I++:h.vo["class"]==D&&S++,h.star?(w=(h.star-1)*R+100*h.transform,A+=w,h.addstr=w):(k=!1,h.addstr=0/0);if(y=C[_],y=y+I*G+S*x,m.titlestr=l,m.numstr=y,m.addstr=A,m.listarr=u,m.iscom=k,k)for(g=0,_=u.length;_>g;g++)u[g].iscom=k;n.push(m)}}i.setFetterData(n,a)},a.prototype.setFetterData=function(e,t){var a=this,i=e,n=a.fetterdatalist;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroFetterRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;
o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showRelation=function(t,a){var i=this;i.relationinfotxt0.text=Language.ins.hero_tip18,i.relationinfotxt1.text=Language.ins.hero_tip19;var n,o=t.getrepartnerArr(),r=t.getrefetterArr();i.relationNone0.visible=!1,i.relationNone1.visible=!1,i.relationinfolist0.visible=!1,i.relationinfolist1.visible=!1,o.length?(n=e.HeroInfoView.getRenderArr(o),i.setRelatoinDataA(n,a),i.relationinfolist0.visible=!0):i.relationNone0.visible=!0,r.length?(n=e.HeroInfoView.getRenderArr(r),i.setRelatoinDataB(n,a),i.relationinfolist1.visible=!0):i.relationNone1.visible=!0},a.prototype.setRelatoinDataB=function(e,t){var a=this,i=e,n=a.relationinfolist1;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroPartnerRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.setRelatoinDataA=function(e,t){var a=this,i=e,n=a.relationinfolist0;if(n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=HeroPartnerRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.fetterScr;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},a.prototype.showSkillTip=function(e,t){var a=this,i=e,n=a["supbtn"+t],o="tipmcsupbtn"+t;null!=n&&(a[o]=utils.GameComUtil.getTipMcImg(a[o],n,!1,!1),a["skillG"+t].addChild(a[o]),a[o].visible=i)},a.prototype.showPlayerData=function(e,t){var a=this,i=GlobalConfig.getPlayerPorpertyVO(e.playerid);GlobalConfig.getCountryStr(i.country);a.anumtxt0.text=i.club,a.anumtxt2.text=Language.ins.game_lv_s+e.level+"/"+t.bookgrade,a.anumtxt3.textFlow=utils.GameComUtil.getHtmlText(Language.ins.train_add_tip96),a.adegreeG.setDataArr(e.getlogArr()),a.heroicon.setData(e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.tabGroup.addEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.tabGroup.removeEventListener(eui.UIEvent.CHANGING,e.onBarItemClick,e)},a.prototype.onBarItemClick=function(e){var t=this;t._choosemode=e.itemIndex,t.changeShow(!0)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TRAIN_CHOOSE_HERO:case game.GameCommands.TRAIN_DATA_CHANGE:case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:this.changeShow(!0);break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainchoose],e.TrainChooseView.type_fettern);break;case a.showallbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_hero_groomteam]);break;case a.fetterbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_train_fetterlist]);break;case a.helpbtn:return void(a.tisspr.visible=!0)}a.tisspr.visible=!1},a.prototype.upskill=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.m_playerid),i=a.skill[e].skill_id,n=new TrainUpSkillViewOpenVO(t.m_playerid,i);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainupskill],n)},a.prototype.changeTipMC=function(){var e,t=this,a=GlobalEnum,i=GlobalAllProxy.getInstance().gameProxy,n=GlobalAllProxy.getInstance().playerProxy,o=!1;if(n)for(var r,s=n.getUpPlayer(),l=t.m_playerid,p=0,c=s.length;c>p;p++)if(e=s[p],e.playerid==l);else if(r=i.getTipForArr(null,[a.tipmc_herofetter],e.playerid)){o=r;break}t.showTipOtherHeroSkillUp(o);var u,m=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();m&&(u=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(m)),u&&(u.position?t.showTipHeroFetter(i.getTipForArr(null,[GlobalEnum.tipmc_herofetter],u.playerid)):t.showTipHeroFetter(!1))},a.prototype.showTipHeroFetter=function(e){var t=this,a=e,i=t.kbuttontab0,n="tipkbuttontab0";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!0),t.kbuttontab0.addChild(t[n]),t[n].visible=a)},a.prototype.showTipOtherHeroSkillUp=function(e){var t=this,a=e,i=t.changebtn,n="tipmcchangebtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-20,-10)),t.playerG.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.TrainFetterView=t,__reflect(t.prototype,"vm.TrainFetterView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_choosetype=0,t.chooseindex=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.TrainSkillGroupSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.m_chooseid=0,a.tiptxt.text=Language.ins.train_add_tip10),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_skill_group),a.addChild(a.m_toppanel),a.changeShow()},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t,a,i=this,n=i.m_chooseid;if(i.showtitle(n),t=GlobalConfig.getComTrainSkillGroupVO(n+1),t&&t.length>0){i.skillcontentxt.text=t[0].des,i.tiptxt.text=t[0].name;for(var o=[],r=0,s=t.length;s>r;r++)a=new TrainSkillGTRenderVO,a.skillid=t[r].skillid,a.des2=t[r].des2,a.skillname=t[r].skillname,a.index=t[r].index,o.push(a);i.showData(o,!1)}},t.prototype.showtitle=function(e){for(var t,a=this,i=e,n=0,o=5;o>n;n++)t=GlobalConfig.getComTrainSkillGroupVO(n+1),t&&t.length>0&&(a["titlename"+n].source=t[0].icon2,a["titleicon"+n].source=t[0].icon1),a["selectimg"+n].visible=n==i?!0:!1},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_SKILL_DAPEI,e.eventchange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_COMPLETE_CHANGE,e.eventchange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_SKILL_DAPEI,e.eventchange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_COMPLETE_CHANGE,e.eventchange)},t.prototype.eventchange=function(e,t){var a=this;switch(t){case game.GameCommands.TRAIN_SKILL_DAPEI:a.chooseindex=e,a.showskill();break;case game.GameCommands.SCOUT_RECRUIT_COMPLETE_CHANGE:a.showskill()}},t.prototype.showskill=function(){var e=this,t=GlobalConfig.getOneComTrainSkillGroupVO(e.chooseindex);if(t){e.datascrollA.visible=!1,e.skillinfoG.visible=!0,e.skillnametxt.text=t.skillname,e.skillinfotxt.text=t.des2;var a=GlobalConfig.getSkillVO(t.skillid);e.skillimg.source=GlobalEnum.getSkillIconName(a.icon);var i;(2==a.stype||3==a.stype||4==a.stype)&&(4==a.sclass?i="tab_xlzx1_m6":5==a.sclass&&(i="tab_xlzx1_m7")),e.steimg.source=i;for(var n=[],o=GlobalAllProxy.getInstance().playerProxy.playerArr,r=0,s=o.length;s>r;r++)n.push(o[r].playerid);for(var l,p,c=GlobalAllProxy.getInstance().backpackProxy,u=c.backItemArr,m=[],g=item_type.type_player,_=0,h=u.length;h>_;_++)l=u[_],l&&l.count&&(p=GlobalConfig.getItemVo(l.itemid),p.type==g&&m.push(parseInt(p.parameter)));for(var d,y,v=t.player.split(","),f=[],b=0,G=v.length;G>b;b++){if(y=GlobalConfig.getPlayerPorpertyVO(+v[b]),d=new TrainSkillHeroRenderVO,d.vo=y,d.isown=0,-1!=n.indexOf(+v[b]))for(var x=0,C=o.length;C>x;x++)o[x].playerid==+v[b]&&0!=o[x].position?d.isown=1:o[x].playerid==+v[b]&&0==o[x].position&&(d.isown=3);else-1!=m.indexOf(+v[b])&&(d.isown=2);f.push(d)}for(var T=[],b=0,G=f.length;G>b;b++)0==e.m_choosetype&&f[b].vo["class"]>=4?T.push(f[b]):1==e.m_choosetype&&f[b].vo["class"]>=3&&T.push(f[b]);e.showData0(T)}0==e.m_choosetype?e.ischooseimg.visible=!0:e.ischooseimg.visible=!1},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.m_toppanel.closebtn:t.close();break;case t.skillzuheG0:t.m_chooseid=0,t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.changeShow();break;case t.skillzuheG1:t.m_chooseid=1,t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.changeShow();break;case t.skillzuheG2:t.m_chooseid=2,t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.changeShow();break;case t.skillzuheG3:t.m_chooseid=3,t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.changeShow();break;case t.skillzuheG4:t.m_chooseid=4,t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.changeShow();break;case t.backbtn:t.datascrollA.visible=!0,t.skillinfoG.visible=!1,t.m_choosetype=0;break;case t.istypeimg:0==t.m_choosetype?t.m_choosetype=1:t.m_choosetype=0,t.showskill()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=TrainSkillGTRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.showData0=function(e){var t=this,a=e,i=t.datalist0;i.itemRenderer?i.dataProvider.replaceAll(a):(i.itemRenderer=TrainSkillHeroRender,i.dataProvider=new eui.ArrayCollection(a))},t}(e.VM);e.TrainSkillGroupView=t,__reflect(t.prototype,"vm.TrainSkillGroupView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.TrainSkillSkinDR;e.runto(this,[])},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;if(a.skillcostobj={},a.readPanelVO(),a.initAddEvent(),e){a.changebtn.label=Language.ins.train_add_tip62,a.atiptxt0.text=Language.ins.coach_tip33,a.atiptxt1.text=Language.ins.club_tip25,a.atiptxt2.text=Language.ins.club_tip26,a.anumtxt3.text=Language.ins.train_add_tip49,a.supbtn0.label=Language.ins.train_add_tip49,a.supbtn1.label=Language.ins.train_add_tip49,a.supbtn2.label=Language.ins.train_add_tip49,a.supbtn3.label=Language.ins.train_add_tip49,a.btiptxt0.text=Language.ins.train_add_tip98,a.stipcost0.text=Language.ins.alert_tip1,a.stipcost1.text=Language.ins.alert_tip1,a.stipcost2.text=Language.ins.alert_tip1,a.stipcost3.text=Language.ins.alert_tip1,a.adegreeG.setGroupAlign(egret.HorizontalAlign.RIGHT);for(var i=0;4>i;i++)a["skillitem"+i].setTip(!0)}a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_trainskill),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun(),a.timer||(a.timer=new egret.Timer(1e3),a.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc1,this)),a.timer.start()},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(e.panelVo.panelobj)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);var a=this;this.removeEvent(),utils.GameComUtil.removeTextFlow(this.anumtxt3),a.timer&&(a.timer.removeEventListener(egret.TimerEvent.TIMER,a.timerFunc1,a),a.timer.stop(),a.timer=null)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.skillcostobj={};var a,i,n=[],o=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer(),r=1;if(o&&(t.m_playerid=o,a=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.m_playerid),r=a.stars,i=GlobalConfig.getPlayerStarVO(a.card_trait,r),t.showPlayerData(a,i),n=a.skill),a)for(var s,l,p,c,u,m,g,_,h,d,y=n.length,v=a.stars,f=ParamLoader.instance.ServerSkillUnlock,b=!1,G=GlobalAllProxy.getInstance().gameProxy,x=GlobalAllProxy.getInstance().backpackProxy,C=0,T=0;4>T;T++){if(b=!1,y>T){if(u=Language.ins.train_add_tip49,l=n[T],t["skillG"+T].visible=!0,c=f[T],s=GlobalConfig.getSkillVO(l.skill_id),C=game.ComSkillVO.getSkillPost(a.stars,a.transform),h=FormatString.format(Language.ins.train_add_tip103,s.sname,l.level,C),t["snametxt"+T].text=h,t["snametxt"+T].textColor=ColorUtil.getSkillNameCol(s.sclass),p=GlobalConfig.getSkillGradeVO(s.sclass,l.level),g=s.getdec(l.level,r),m=utils.GameComUtil.getHtmlText(g),t["stiptxt"+T].textFlow=m,_=p.getCostArr(),t["scostimg"+T].source=ResName.getMinItemIcon(_[0].itemid),t["tipnumtxt"+T].text=utils.GameUtil.getNumToStr(_[0].count),t.skillcostobj[l.skill_id]=_[0].count,t["skillitem"+T].setitemdata(l.skill_id,l.level,!0,!1,!0,r,a.playerid),d=l.level>=C?!0:!1,t["supbtn"+T].enabled=!0,v>=c)if(t["clubicon"+T].visible=!1,t["supbtn"+T].visible=!0,b=G.getTipForArr(null,[GlobalEnum.tipmc_heroskillup],{playerid:o,skillid:l.skill_id}),s.stype==skill_type.type_fetter){var P=GlobalConfig.getFetterVO(a.playerid);if(P){var A=P.partner,w=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(A);if(w)t["scostG"+T].visible=!0,d&&(t["supbtn"+T].enabled=!1),utils.GameUtil.setColorGrey(t["clubicon"+T],!1);else{if(!b){var k=GlobalConfig.getItemIdForPlayerId(A);k&&x.getItemCount(k.objectid)>0&&(b=!0)}u=Language.ins.train_add_tip50,utils.GameUtil.setColorGrey(t["clubicon"+T],!0)}}}else t["scostG"+T].visible=!0,d&&(t["supbtn"+T].enabled=!1),utils.GameUtil.setColorGrey(t["clubicon"+T],!1);else t["scostG"+T].visible=!1,t["snametxt"+T].textColor=16777215,utils.GameUtil.setColorGrey(t["clubicon"+T],!0),t["clubicon"+T].visible=!0,t["supbtn"+T].visible=!1;t["supbtn"+T].label=u,t["sbgimg"+T].source="tab_yys_c5",t["steimg"+T].visible=!1;for(var I=0,S=GlobalEnum.skill_stype.length;S>I;I++)if(s.stype==GlobalEnum.skill_stype[I]){t["sbgimg"+T].source="tab_xlzx1_m8",t["steimg"+T].visible=!0,3==a.card_trait?t["steimg"+T].source="tab_xlzx1_m6":4==a.card_trait?t["steimg"+T].source="tab_xlzx1_m7":5==a.card_trait&&(t["steimg"+T].source="tab_xlzx1_q9");break}}else t["skillG"+T].visible=!1;t.showSkillTip(b,T)}t.changeTipMC(),t.changevipNum()},a.prototype.timerFunc1=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy,a=t.playerinfo.skillPoint,i=t.playerinfo.getAddSkillTime();if(e.anumtxt.text="",e.anumtxt1.text="",e.atipimg.visible=!1,e.addpostbtn.visible=!1,!isNaN(i)){var n=utils.GameComUtil.getTimeNum(i,!1);if(a)e.atipimg.visible=!0,a>=e.m_skillvippt?e.anumtxt.text=FormatString.format(Language.ins.train_add_tip102,a):e.anumtxt.text=a+"("+n+")";else{var o=FormatString.format(Language.ins.train_add_tip99,n);e.anumtxt1.text=o,e.addpostbtn.visible=!0}}},a.prototype.changevipNum=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,a=GlobalConfig.getVipVO(t);a&&(e.m_skillvippt=a.skillpt),e.timerFunc1()},a.prototype.showSkillTip=function(e,t){var a=this,i=e,n=a["supbtn"+t],o="tipmcsupbtn"+t;null!=n&&(a[o]=utils.GameComUtil.getTipMcImg(a[o],n,!1,!1),a["skillG"+t].addChild(a[o]),a[o].visible=i)},a.prototype.showPlayerData=function(e,t){var a=this,i=GlobalConfig.getPlayerPorpertyVO(e.playerid);GlobalConfig.getCountryStr(i.country);a.anumtxt0.text=i.club,a.anumtxt2.text=Language.ins.game_lv_s+e.level+"/"+t.bookgrade,a.anumtxt3.textFlow=utils.GameComUtil.getHtmlText(Language.ins.train_add_tip29),a.adegreeG.setDataArr(e.getlogArr()),a.heroicon.setData(e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TRAIN_CHOOSE_HERO:case game.GameCommands.TRAIN_DATA_CHANGE:case game.GameCommands.SCOUT_RECRUIT_INFO_CHANGE:this.changeShow(e);break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun();break;case game.GameCommands.MY_INFO_CHANGW:this.changevipNum()}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainchoose],e.TrainChooseView.type_skill);break;case a.supbtn0:a.upskill(0);break;case a.supbtn1:a.upskill(1);break;case a.supbtn2:a.upskill(2);break;case a.supbtn3:a.upskill(3);break;case a.addpostbtn:a.goBuySkillpot();break;case a.skillzuheG:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_skill_group])}},a.prototype.goBuySkillpot=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.playerinfo.buySkillPointNum,a=GlobalConfig.getPriceVO(t+1),i=0;a&&(i=+a.skill);var n=new AlertVO;n.showCancel=!0,n.okLabel=Language.ins.title_shopbuy,n.info=FormatString.format(Language.ins.train_add_tip101,ParamLoader.instance.SkillBuyPoint),n.tipbl=!0,n.tipstr=Language.ins.fight_tip4,n.tipitemid=GlobalEnum.itemid_ug,n.tipcostid=ug_cost_type.buy_skillpot,n.tipitemnum=i,JAlert.show(n,Language.ins.title_buy_skillpot,e.buyskillpot,e)},a.prototype.buyskillpot=function(){GlobalAllProxy.getInstance().playerProxy.NetBuySkillPoint()},a.prototype.upskill=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy,i=a.getSeverPlayerVO(t.m_playerid),n=i.skill[e].skill_id,o=GlobalConfig.getSkillVO(n),r=!1;if(o.stype==skill_type.type_fetter){var s=GlobalConfig.getFetterVO(i.playerid);if(s){var l=s.partner,p=a.getSeverPlayerVO(l);if(p)r=!0;else{var c=new TrainUpSkillViewOpenVO(t.m_playerid,n);PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainupskill],c)}}}else r=!0;if(r){var u=a.playerinfo,m=t.skillcostobj,g=GlobalAllProxy.getInstance().backpackProxy.getItemCount(GlobalEnum.itemid_coin);m[n]&&m[n]>g?a.goBuyCoin():u.skillPoint<=0?t.goBuySkillpot():a.NetTrainingPlayerSkilUpgrade(t.m_playerid,n)}},a.prototype.changeTipMC=function(){var e,t=this,a=GlobalEnum,i=GlobalAllProxy.getInstance().gameProxy,n=GlobalAllProxy.getInstance().playerProxy,o=!1;if(n)for(var r,s=n.getUpPlayer(),l=t.m_playerid,p=0,c=s.length;c>p;p++)if(e=s[p],e.playerid==l);else if(r=i.getTipForArr(null,[a.tipmc_heroskillup],{playerid:e.playerid})){o=r;break}t.showTipOtherHeroSkillUp(o)},a.prototype.showTipOtherHeroSkillUp=function(e){var t=this,a=e,i=t.changebtn,n="tipmcchangebtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-20,-10)),t.playerG.addChild(t[n]),t[n].visible=a)},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.TrainSkillView=t,__reflect(t.prototype,"vm.TrainSkillView")}(vm||(vm={}));var TrainUpSkillViewOpenVO=function(){function e(e,t){this.playerid=e,this.skillid=t}return e}();__reflect(TrainUpSkillViewOpenVO.prototype,"TrainUpSkillViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TrainUpSkillSkinDR,t=ResName.getDragonFastArr(ResName.mc_manlevel);e.runto(this,t)},t.prototype.getAdvanceDRArr=function(){return[skins.TrainUpSkillSkinDR]},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.stiptxt0.text=Language.ins.train_add_tip72,a.partnersignbtn.label=Language.ins.hero_tip65,a.partnergetbtn.label=Language.ins.train_add_tip74,a.panel_bg.titlename.text=Language.ins.title_train_skillactiva),a.changeShow()},t.prototype.readPanelVO=function(){var e=this,t=e.panelVo.panelobj;t&&(e.m_playerid=t.playerid,e.m_skillid=t.skillid)},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeTextFlow(this.partnernametxt),utils.GameComUtil.removeTextFlow(this.partnernametxt1),utils.GameComUtil.removeTextFlow(this.partnerdextxt)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_playerid,i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.m_playerid),n=i.getSkillForID(t.m_skillid),o=GlobalConfig.getSkillVO(t.m_skillid),r=n.level,s=r+1;GlobalConfig.getSkillGradeVO(o.sclass,r),GlobalConfig.getSkillGradeVO(o.sclass,s);t.skillitem0.setitemdata(n.skill_id,n.level,!0,!1,!0,i.stars,i.playerid);var l=i.stars,p=o.getdec(n.level,l),c=utils.GameComUtil.getHtmlText(p);t.stiptxt0.textFlow=c;o.getValueString(r,l);if(t.snametxt0.text=o.sname,t.snametxt0.textColor=ColorUtil.getSkillNameCol(o.sclass),t.partnersignbtn.visible=!1,t.partnergetbtn.visible=!1,t.m_partnerId=null,t.heromask.visible=!1,o.stype==skill_type.type_fetter){t.partnerG.visible=!0;var u=GlobalConfig.getFetterVO(a);t.m_partnerId=u.partner;var m,g,_=GlobalConfig.getPlayerPorpertyVO(u.partner),h=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(u.partner),d="",y="",v=7895160,f=ColorUtil.white;if(t.partnerhero.setData(_),m=ColorUtil.getPlayerNameCol(_["class"]),h)g=f,d=Language.ins.train_add_tip40,y=Language.ins.train_add_tip44;else{t.heromask.visible=!0,g=v,y=Language.ins.train_add_tip45;var b=GlobalConfig.getItemIdForPlayerId(u.partner);b&&GlobalAllProxy.getInstance().backpackProxy.getItemCount(b.objectid)?(d=Language.ins.train_add_tip42,t.partnersignbtn.visible=!0):(d=Language.ins.train_add_tip41,t.partnergetbtn.visible=!0)}t.partnernametxt.textFlow=utils.GameComUtil.getHtmlText(y),t.partnernametxt.textColor=g,t.partnernametxt1.textFlow=utils.GameComUtil.getHtmlText(_.name),t.partnernametxt1.textColor=m,t.partnerdextxt.textFlow=utils.GameComUtil.getHtmlText(d),t.partnerdextxt.textColor=g}else t.partnerG.visible=!1;t.changeTipMC()},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.TRAIN_DATA_CHANGE:this.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.partnersignbtn:if(t.m_playerid){var a=t.m_playerid,i=GlobalConfig.getFetterVO(a),n=GlobalConfig.getItemIdForPlayerId(i.partner);if(n){var o=GlobalAllProxy.getInstance().backpackProxy.getItemCount(n.objectid);if(o){var r=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(r,n.objectid,null,!1,!0))}}}break;case t.partnergetbtn:if(t.m_partnerId){var s=GlobalConfig.getPlayerPorpertyVO(t.m_partnerId),l=new MainGetwayViewOpenVO;l.tiltestr=Language.ins.title_getway_hero,l.tipstr=Language.ins.train_add_tip43,l.getwaystr=s.getway,l.heroid=s.playerid,PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_main_geyway],l)}}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.m_playerid&&e.showTipMcskillpartnerbag(t.getTipForArr(null,[GlobalEnum.tipmc_skill_partnerbag],{playerid:e.m_playerid}))},t.prototype.showTipMcskillpartnerbag=function(e){var t=this,a=e,i=t.partnergetbtn,n="tippartnergetbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1),t.partnerG.addChild(t[n]),t[n].visible=a)},t}(e.VM);e.TrainUpSkillView=t,__reflect(t.prototype,"vm.TrainUpSkillView")}(vm||(vm={}));var TrainUpStarInfoViewOpenVO=function(){function e(e,t){this.isuplv=e,this.playerid=t}return e}();__reflect(TrainUpStarInfoViewOpenVO.prototype,"TrainUpStarInfoViewOpenVO");var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.TrainUpStarInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),t&&(a.panel_bg.titlename.text=Language.ins.title_train_uplvinfo),a.readPanelVO(),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_openvo=t,e.m_openvo.isuplv?(e.panel_bg.titlename.text=Language.ins.title_train_uplvinfo,e.tiptxt.text=Language.ins.train_add_tip14):(e.tiptxt.text=Language.ins.train_add_tip15,e.panel_bg.titlename.text=Language.ins.title_train_upstarinfo))}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=this.m_openvo;if(a){var i=(GlobalAllProxy.getInstance().playerProxy,GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(a.playerid)),n=GlobalAllProxy.getInstance().playerProxy.tacticsData;if(i&&n){var o=i.stars,r=i.level,s=a.isuplv?o:o+1,l=a.isuplv?r+1:1,p=0,c=0,u=0;i.position&&(p=n.formid,c=n.getFormeLevel(p),u=GlobalConfig.getLocationrelation(i.position));var m,g=i.getCurZhanli(!1,o,r,0,!1,i.card_trait),_=GlobalConfig.getPlayerExpVO(i.card_trait,s,l);_&&(m=i.getCurZhanli(!1,s,l,0,!1,i.card_trait)),m||(m=g);var h=[],d=new TrainUpStarInfoRenderVO;d.iconurl="tab_qy_c3",d.num0=g.shoot,d.addnum0=m.shoot,d.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_shoot).name,d.num1=g.break_through,d.addnum1=m.break_through,d.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_break_through).name,h.push(d);var d=new TrainUpStarInfoRenderVO;d.iconurl="tab_qy_c4",d.num0=g.steal,d.addnum0=m.steal,d.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_steal).name,d.num1=g.marking,d.addnum1=m.marking,d.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_marking).name,h.push(d);var d=new TrainUpStarInfoRenderVO;d.iconurl="tab_qy_c6",d.num0=g.pass,d.addnum0=m.pass,d.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_pass).name,d.num1=g.trap,d.addnum1=m.trap,d.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_trap).name,h.push(d);var d=new TrainUpStarInfoRenderVO;d.iconurl="tab_qy_c5",d.num0=g.speed,d.addnum0=m.speed,d.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_speed).name,d.num1=g.strong,d.addnum1=m.strong,d.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_strong).name,h.push(d);var d=new TrainUpStarInfoRenderVO;d.iconurl="tab_qy_c7",d.num0=g.response,d.addnum0=m.response,d.namestr0=GlobalConfig.getPorpertytypeVO(porpertyType.num_response).name,d.num1=g.one_to_one,d.addnum1=m.one_to_one,d.namestr1=GlobalConfig.getPorpertytypeVO(porpertyType.num_one_to_one).name,h.push(d),t.showData(h,!1)}}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;n.itemRenderer?i&&i.length?n.dataProvider.replaceAll(i):n.dataProvider=new eui.ArrayCollection(i):(n.itemRenderer=TrainUpStarInfoRender,n.dataProvider=new eui.ArrayCollection(i))},t}(e.VM);e.TrainUpStarInfoView=t,__reflect(t.prototype,"vm.TrainUpStarInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(t){function a(){var e=t.call(this)||this;return e.percentWidth=e.percentHeight=100,e}return __extends(a,t),a.prototype.getLayer=function(){return PanelLayer.panel},a.prototype.startLoadRes=function(){var e=new skins.TrainUpStarSkinDR;e.runto(this,[])},a.prototype.getAdvanceStrArr=function(){for(var e,t=[ResName.mc_starlv_246],a=[],i=0,n=t.length;n>i;i++)e=t[i],a=a.concat(ResName.getDragonFastArr(e));return a},a.prototype.onShow=function(e){t.prototype.onShow.call(this,e);var a=this;a.readPanelVO(),a.initAddEvent(),e&&(a.stiptxt0.text=Language.ins.train_add_tip75,a.stiptxt1.text=Language.ins.train_add_tip100,a.stiptxt2.text=Language.ins.train_add_tip76,a.stiptxt3.text=Language.ins.train_add_tip77,a.changebtn.label=Language.ins.train_add_tip52,a.atiptxt0.text=Language.ins.coach_tip33,a.atiptxt1.text=Language.ins.club_tip25,a.atiptxt2.text=Language.ins.club_tip26,a.atiptxt3.text=Language.ins.train_add_tip35,a.curlvtxt.text=Language.ins.train_add_tip78,a.tipnametxt.text=Language.ins.train_add_tip31,a.uplvbtn.label=Language.ins.game_uplv_s,a.uplvbtn0.label=Language.ins.game_uplv_s10,a.upstarbtn.label=Language.ins.train_add_tip79,a.maxtiptxt.text=Language.ins.train_add_tip79,a.lvbar.ShowLabel=!0,a.stargroup0.setGroupGap(-6),a.stargroup1.setGroupGap(-6),a.stargroup0.setGroupAlign(egret.HorizontalAlign.RIGHT),a.stargroup1.setGroupAlign(egret.HorizontalAlign.RIGHT),a.adegreeG.setGroupAlign(egret.HorizontalAlign.RIGHT)),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_trainupstar),a.addChild(a.m_toppanel),a.changeShow(),a.resizefun()},a.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.panelobj&&GlobalAllProxy.getInstance().gameProxy.settrainChoosePlayer(e.panelVo.panelobj)},a.prototype.onHide=function(e){t.prototype.onHide.call(this,e);this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(this.datalistB),utils.GameComUtil.removeTextFlow(this.tiptxt)},a.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this;t.lvinfoG.visible=!1,t.starshowG.visible=!1,t.infobtn.enabled=!1,t.uplvbtn.visible=!1,t.uplvbtn0.visible=!1,t.upstarbtn.visible=!1,t.starinfoG.visible=!1,t.btnG.visible=!1;var a=GlobalAllProxy.getInstance().gameProxy.gettrainChoosePlayer();if(t.starmaxG.visible=!1,t.maximg.visible=!1,t.upneedG.visible=!0,a){t.m_chooseplayerid=a;var i=GlobalAllProxy.getInstance().playerProxy.getSeverPlayerVO(t.m_chooseplayerid),n=i.level,o=i.stars,r=n+1,s=i.stars,l=GlobalConfig.getPlayerExpVO(i.card_trait,o,n),p=GlobalConfig.getPlayerStarVO(i.card_trait,s);t.showPlayerData(i,p);var c=parseFloat(i.exp)-l.minpexp;0>c&&(c=0);var u=p.bookgrade;if(n>=u){t.m_isuplv=!1;var m=game.SResponsePlayer.getMaxStarNum(i.card_trait),g=s+1,_=null;m>=g&&(_=GlobalConfig.getPlayerStarVO(i.card_trait,g)),t.showupstarData(p,_,i,n),t.starshowG.visible=!0,_&&(t.btnG.visible=!0,t.starinfoG.visible=!0,t.upstarbtn.visible=!0),t.tipnametxt.text=Language.ins.train_add_tip31}else{t.m_isuplv=!0;var h=GlobalConfig.getPlayerExpVO(i.card_trait,o,r);t.showupgradeData(l,h,i,c,o,n,r),t.lvinfoG.visible=!0,t.starshowG.visible=!0,t.uplvbtn.visible=!0,t.uplvbtn0.visible=!0,t.tipnametxt.text=Language.ins.train_add_tip30,t.btnG.visible=!0
}var d,y="1340001",v=1,f=i.skill,b=f.length;t.skillG.removeChildren();for(var G=0;4>G;G++)d=t["skillicon"+G],b>G?(y=f[G].skill_id,v=f[G].level,d.setitemdata(y,v,!0,!0,!0,i.stars,i.playerid),utils.GameComUtil.setVisibleHitPanel(d,t.skillG,!0),d.setTip(!0)):d.visible=!1}},a.prototype.hitdatafun=function(){var e=this;utils.GameComUtil.setVisibleHitPanel(e.dataG0,e.datainfoG,!1,1),utils.GameComUtil.setVisibleHitPanel(e.dataG1,e.datainfoG,!1,2),utils.GameComUtil.setVisibleHitPanel(e.dataG2,e.datainfoG,!1,3),utils.GameComUtil.setVisibleHitPanel(e.dataG3,e.datainfoG,!1,4)},a.prototype.showupgradeData=function(e,t,a,i,n,o,r){var s=this,l=a.getCurZhanli(!1,n,o,0,!1,a.card_trait),p=GlobalConfig.getPlayerStarVO(a.card_trait,n);if(s.scurtip2.text=Math.round(l.zhanglinum),s.slvtxt0.text=Language.ins.game_lv_s+o,s.stargroup0.setDataArr(p.pstar),s.stargroup1.setDataArr(p.pstar),s.hitdatafun(),utils.GameComUtil.setVisibleHitPanel(s.dataG2,s.datainfoG,!0,3),t){s.infobtn.enabled=!0,s.lvbar.setValue(i,e.prate);var c=a.getCurZhanli(!1,n,r,0,!1,a.card_trait),u=e.prate-i;0>u&&(u=0),s.m_neednum=u,s.slvtxt1.text=Language.ins.game_lv_s+r,s.suptip2.text=Math.round(c.zhanglinum);var m=new game.ComItemGroupVo(GlobalEnum.itemid_playerexp,u),g=[m];s.setCostListB(g);CostItemRender.getItemOkArr(g);s.uplvbtn.enabled=!0,s.uplvbtn0.enabled=!0}else s.m_neednum=0,s.uplvbtn.enabled=!1,s.uplvbtn0.enabled=!1,s.suptip2.text=Language.ins.game_remax},a.prototype.showupstarData=function(e,t,a,i){var n,o=this,r=a.getCurZhanli(!1,e.pstar,i,0,!1,a.card_trait);o.slvtxt0.text=Language.ins.game_lv_s+i,o.scurtip0.text=e.bookgrade,n=game.ComSkillVO.getSkillPost(e.pstar,a.transform),o.scurtip1.text=n+"",o.scurtip2.text=Math.round(r.zhanglinum);var s,l=game.SResponsePlayer.getCurStarReborn(e.pstar);if(s=l?FormatString.format(Language.ins.hero_tip24,l):Language.ins.hero_tip23,o.scurtip3.text=s,o.hitdatafun(),utils.GameComUtil.setVisibleHitPanel(o.dataG0,o.datainfoG,!0,1),utils.GameComUtil.setVisibleHitPanel(o.dataG1,o.datainfoG,!0,2),utils.GameComUtil.setVisibleHitPanel(o.dataG2,o.datainfoG,!0,3),utils.GameComUtil.setVisibleHitPanel(o.dataG3,o.datainfoG,!0,4),t){var p=1;o.infobtn.enabled=!0;var c=a.getCurZhanli(!1,t.pstar,p,0,!1,a.card_trait);o.stargroup0.setDataArr(e.pstar),o.stargroup1.setDataArr(t.pstar),o.slvtxt1.text=Language.ins.game_lv_s+p,o.suptip0.text=t.bookgrade,n=game.ComSkillVO.getSkillPost(t.pstar,a.transform),o.suptip1.text=n+"",o.suptip2.text=Math.round(c.zhanglinum),l=game.SResponsePlayer.getCurStarReborn(t.pstar),s=l?FormatString.format(Language.ins.hero_tip24,l):Language.ins.hero_tip23,o.suptip3.text=s;var u=utils.GameComUtil.getItemVoArr(e.cost,null);if(e.limitlv){var m=new game.ComItemGroupVo(GlobalEnum.itemid_clublv,e.limitlv);u.push(m)}o.setCostListA(u);var g=CostItemRender.getItemOkArr(u);o.upstarbtn.enabled=g?!0:!1}else o.stargroup0.setDataArr(e.pstar),o.stargroup1.setDataArr(e.pstar),o.suptip0.text=Language.ins.game_remax,o.suptip1.text=Language.ins.game_remax,o.suptip2.text=Language.ins.game_remax,o.suptip3.text=Language.ins.game_remax,o.slvtxt1.text=Language.ins.game_remax,o.starmaxG.visible=!0,o.maximg.visible=!0,o.upneedG.visible=!1},a.prototype.showPlayerData=function(e,t){var a=this,i=GlobalConfig.getPlayerPorpertyVO(e.playerid);GlobalConfig.getCountryStr(i.country);a.anumtxt0.text=i.club,a.anumtxt2.text=Language.ins.game_lv_s+e.level+"/"+t.bookgrade;var n=game.SResponsePlayer.getMaxBeBronNum(e.card_trait);a.berebornbtn.visible=!1;var o=!1,r=e.transform,s="";if(n)if(n==r)s=r+"/"+n;else{var l=game.SResponsePlayer.getMaxRebornForStar(r+1);l<=e.stars?(o=!0,s=r+"/"+n):s=FormatString.format(Language.ins.train_add_tip28,l)}else s=Language.ins.train_add_tip27;a.anumtxt3.text=s,a.berebornbtn.visible=o,o?a.anumtxt3.right=48:a.anumtxt3.right=17,a.tiptxt.textFlow=utils.GameComUtil.getHtmlText(Language.ins.train_add_tip24),a.adegreeG.setDataArr(e.getlogArr()),a.heroicon.setData(e)},a.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.addMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.addMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.addMessage(game.GameCommands.TRAIN_UPGRADESTAR_ANIMO,e.eventChange),e.addMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.TRAIN_CHOOSE_HERO,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange),e.removeMessage(game.GameCommands.BACKPACK_DATACHANGE,e.eventChange),e.removeMessage(game.GameCommands.TRAIN_UPGRADESTAR_ANIMO,e.eventChange),e.removeMessage(game.GameCommands.MY_INFO_CHANGW,e.eventChange)},a.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.TRAIN_CHOOSE_HERO:case game.GameCommands.TRAIN_DATA_CHANGE:case game.GameCommands.BACKPACK_DATACHANGE:case game.GameCommands.MY_INFO_CHANGW:this.changeShow();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},a.prototype.touchTapFun=function(t){var a=this,i=t.target;switch(i){case a.closebtn:a.close();break;case a.m_toppanel.closebtn:a.close();break;case a.changebtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainchoose],e.TrainChooseView.type_star);break;case a.uplvbtn:a.uplevelFun(1);break;case a.uplvbtn0:a.uplevelFun(10);break;case a.upstarbtn:a.m_chooseplayerid&&JAlert.showinfostr(Language.ins.train_add_tip19,Language.ins.title_tishi,a.upstarfun,a);break;case a.infobtn:a.m_chooseplayerid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_train_upstarinfo],new TrainUpStarInfoViewOpenVO(a.m_isuplv,a.m_chooseplayerid));break;case a.berebornbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_trainbereborn])}},a.prototype.uplevelFun=function(e){var t=this,a=egret.getTimer();if(!(t.m_uplevelT&&a-t.m_uplevelT<100)&&(t.m_uplevelT=a,t.m_chooseplayerid)){var i=t.m_neednum,n=GlobalAllProxy.getInstance().backpackProxy,o=n.getItemCount(GlobalEnum.itemid_playerexp);if(i&&i>o){var r,s=GlobalEnum.itemid_heroexpcarA,l=n.getItemCount(s);if(l&&(r=s),r||(s=GlobalEnum.itemid_heroexpcarB,l=n.getItemCount(s),l&&(r=s)),r||(s=GlobalEnum.itemid_heroexpcarC,l=n.getItemCount(s),l&&(r=s)),r||(s=GlobalEnum.itemid_heroexpcarD,l=n.getItemCount(s),l&&(r=s)),r){t.m_usecarid=r;var p=GlobalConfig.getItemVo(r),c=FormatString.format(Language.ins.train_add_tip21,p.name);JAlert.showinfostr(c,Language.ins.title_tishi,t.okusecar,t,!0)}else FLOAT.NShowPutong([Language.ins.train_add_tip20])}else GlobalAllProxy.getInstance().playerProxy.NetTrainingPlayerUpgrade(t.m_chooseplayerid,e)}},a.prototype.okusecar=function(){var e=this;e.m_usecarid&&PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_backpackinfo],new BackPackInfoViewOpenVO(e.m_usecarid,!0))},a.prototype.upstarfun=function(){var e=this;e.m_chooseplayerid&&GlobalAllProxy.getInstance().playerProxy.NetTrainingPlayerStar(e.m_chooseplayerid)},a.prototype.setCostListA=function(e){var t=this,a=e,i=t.datalist;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},a.prototype.setCostListB=function(e){var t=this,a=e,i=t.datalistB;i.itemRenderer?a&&a.length?i.dataProvider.replaceAll(a):i.dataProvider=new eui.ArrayCollection(a):(i.itemRenderer=CostItemRender,i.dataProvider=new eui.ArrayCollection(a))},a.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},a}(e.VM);e.TrainUpStarView=t,__reflect(t.prototype,"vm.TrainUpStarView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.m_choosetype=0,t.monthcar_heroid=0,t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.MonthCarSkinDR,t=ResName.getDragonArr(ResName.mc_award_lingqu);e.runto(this,t)},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.lookbtn1.label=Language.ins.monthcard_tip_4,a.lookbtn2.label=Language.ins.monthcard_tip_4,a.lookbtn3.label=Language.ins.monthcard_tip_4),a.changeShow()},t.prototype.readPanelVO=function(){GlobalAllProxy.getInstance().playerProxy.vipData},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeEvent(),a.m_dparr=null},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.vipData;if(a&&a.monthCard){for(var i,n,o,r,s,l=a.monthCard,p=l.length,c=[],u=0;p>u;u++)r=new MonthCarRenderVo,i=l[u],n=GlobalConfig.getMonthCarVO(i.type),o=GlobalConfig.getChargeVO(i.type),r.isget=i.dailyGiftBag,r.lastday=i.numDays,r.type=i.type,r.des=n.des,r.rewardarr=utils.GameComUtil.getItemVoArr(n.reward),r.bagvalue=n.bagvalue,r.id=o.id,r.icon=o.icon,r.icon2=o.icon2,r.getug=o.diamond,r.chargenum=o.chargenum,r.days=o.days,r.index=u,c.push(r),s=!1,t["daytxt"+i.type].text=i.numDays,t["diamondtxt"+i.type].text=o.diamond,t["destxt"+i.type].textFlow=utils.GameComUtil.getHtmlText(o.des),t["lookbtn"+i.type].enabled=!0,i.numDays>0||-1==i.numDays?1==i.dailyGiftBag?(s=!0,t["lookbtn"+i.type].label=Language.ins.month_tip12,t["lookbtn"+i.type].txticon="btn_common_3"):(t["lookbtn"+i.type].enabled=!1,t["lookbtn"+i.type].txticon="btn_common_3",t["lookbtn"+i.type].label=Language.ins.month_tip13):(t["lookbtn"+i.type].txticon="btn_common_4",t["lookbtn"+i.type].label=FormatString.format(Language.ins.month_tip11,o.chargenum)),t.showTipMcbtn(s,i.type),o.id==GlobalEnum.monthcar_nian&&(t.monthcar_heroid=+o.carddes,t.headimg.source=ResName.getPlayerIcon(o.carddes));t.m_dparr=c;var m,g=!1;c[t.m_choosetype]&&(m=c[t.m_choosetype],(m.lastday>0||-1==m.lastday)&&(g=!0));var _=MonthCarInfo.getInstance();_.setData(m,g),PFAll.isNowPF([Global.severNE_english,Global.severNE_russia])||(_.x=-12),t.infoG.addChild(_),t.infoG.height=374,t.contenttxt.text=Language.ins.monthcarddes}},t.prototype.showTipMcbtn=function(e,t){var a=this,i=e,n=a["lookbtn"+t],o="tipmclookbtn"+t;n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,null!=n&&(a[o]=utils.GameComUtil.getTipMcImg(a[o],n,!1,!1,new egret.Point(-20,-10)),a.comG.addChild(a[o]),a[o].visible=i)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.BUY_MONTHCAR,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.BUY_MONTHCAR,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.BUY_MONTHCAR:this.changeShow()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:EventBus.sendMessage(game.GameCommands.TIP_MC_CHANGE),t.close();break;case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetGetMonthGift(0);break;case t.monthG1:t.m_choosetype=0,t.bgimg1.visible=!0,t.bgimg2.visible=!1,t.bgimg3.visible=!1,t.changeShow();break;case t.monthG2:t.m_choosetype=1,t.bgimg1.visible=!1,t.bgimg2.visible=!0,t.bgimg3.visible=!1,t.changeShow();break;case t.monthG3:t.m_choosetype=2,t.bgimg1.visible=!1,t.bgimg2.visible=!1,t.bgimg3.visible=!0,t.changeShow();break;case t.lookbtn1:t.m_choosetype=0,t.bgimg1.visible=!0,t.bgimg2.visible=!1,t.bgimg3.visible=!1,t.changeShow(),t.buyMonthCar(0);break;case t.lookbtn2:t.buyMonthCar(1),t.m_choosetype=1,t.bgimg1.visible=!1,t.bgimg2.visible=!0,t.bgimg3.visible=!1,t.changeShow();break;case t.lookbtn3:t.buyMonthCar(2),t.m_choosetype=2,t.bgimg1.visible=!1,t.bgimg2.visible=!1,t.bgimg3.visible=!0,t.changeShow();break;case t.heroinfoimg:var a=GlobalConfig.getPlayerPorpertyVO(t.monthcar_heroid),i=GlobalAllProxy.getInstance().playerProxy.playerinfo.uid;PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_heroinfo],new HeroInfoViewOpenVO(i,a.playerid,a,!0))}},t.prototype.buyMonthCar=function(e){var t=this,a=t.m_dparr[e];if(t.choosetype=e,a){var i=Number(a.id);1==a.isget?GlobalAllProxy.getInstance().gameProxy.NetGetMonthGift(i):0==a.isget&&(Global.severNE!=Global.severNE_debug?PFAll.PFPay(i):JAlert.showinfostr(Language.ins.shop_tip6,Language.ins.title_tishi,t.gopay,t,!0))}},t.prototype.gopay=function(){var e=this,t=e.m_dparr[e.choosetype];t&&GlobalAllProxy.getInstance().gameProxy.NetRecharg(t.id)},t}(e.VM);e.MonthCarView=t,__reflect(t.prototype,"vm.MonthCarView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.VipAwardInfoSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.titlename.text=Language.ins.vip_tip11),a.changeShow()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){var t=e.panelVo.panelobj;t&&(e.m_itemarr=t)}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent()},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=t.m_itemarr;if(a&&a.length)for(var i,n=a.length,o=0;4>o;o++)n>o?(i=a[o],t["item"+o].setitemdata(i,!0),t["item"+o].setTip(!0)):(t["item"+o].setitemdata(null,!0),t["item"+o].setTip(!1))},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.TECH_DATA_CHANGE:this.changeShow(e)}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.clickrect:t.close()}},t}(e.VM);e.VipAwardInfoView=t,__reflect(t.prototype,"vm.VipAwardInfoView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.viPanel},t.prototype.startLoadRes=function(){var e=new skins.VipObtainSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.initAddEvent(),a.readPanelVO(),t&&(a.getbtn.label=Language.ins.friend_tip8,a.ftiptxt0.text=Language.ins.vip_tip12,a.ftiptxt1.text=Language.ins.vip_tip13,a.getbtn.label=Language.ins.friend_tip8,a.gifbar.ShowLabel=!1,a.panel_bg.setImgBg(""),a.panel_bg.titlename.text=Language.ins.title_vip_obtain),a.changeShow(),a.changeTipMC()},t.prototype.readPanelVO=function(){var e=this;if(e.panelVo){e.panelVo.panelobj}},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t),this.removeEvent(),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeTextFlow(this.tiptxt1)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.vipData;if(a){var i=ParamLoader.instance.ServerLoginVip,n=i.length,o=GlobalAllProxy.getInstance().playerProxy.continuousLogin,r=GlobalConfig.vipacess_DATA;t.showData(r,!1);var s=o-1;s>=n&&(s=n-1);var l=i[s],p=FormatString.format(Language.ins.vip_tip7,o,l);t.tiptxt1.textFlow=utils.GameComUtil.getHtmlText(p),t.numtxt.text=o;for(var c,u,m,g,_=t.gifbar.x,h=t.gifbar.width,d=0,y=100,v=0,f=0,b=[],G=[],x=Language.ins.vip_tip8,C=0,n=i.length;n>C;C++)m=C+1,u=i[C],t["gifxian"+C].visible=!1,g=FormatString.format(x,m),m==n&&(g+="+"),t["gifname"+C].text=g,t["gifnum"+C].text=i[C],c=t["gifG"+C].x+t["gifxian"+C].x-_+3,G.push(c/h),b.push(m),o>=m&&(v=C);var T;if(v>=b.length)d=y;else{var P=b[v],A=G[v];if(v>0){var w=b[v-1],k=G[v-1];T=(o-w)/(b[v]-w),d=100*(k+(A-k)*T)}else T=o/P,d=A*T*100}var f=a.loginExp;f?(t.getbtn.enabled=!1,t.getbtn.label=Language.ins.game_reallyling):(t.getbtn.enabled=!0,t.getbtn.label=Language.ins.game_get2),t.gifbar.setValue(d,y)}},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.VIP_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.VIP_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange)},t.prototype.eventChange=function(e,t){switch(t){case game.GameCommands.VIP_DATA_CHANGE:this.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC()}},t.prototype.touchTapFun=function(e){var t=this;switch(e.target){case t.closebtn:t.close();break;case t.panel_bg.closebtn:t.close();break;case t.getbtn:GlobalAllProxy.getInstance().gameProxy.NetGetVipLogin()}},t.prototype.showData=function(e,t){var a=this,i=e,n=a.datalist;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=VipObtainRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollA;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcVIP(t.getTipForArr(null,[GlobalEnum.tipmc_vipobtain]))},t.prototype.showTipMcVIP=function(e){var t=this,a=e,i=t.getbtn,n="tipgetbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-10,-10)),t.topG.addChild(t[n]),t[n].visible=a)},t}(e.VM);e.VipObtainView=t,__reflect(t.prototype,"vm.VipObtainView")}(vm||(vm={}));var vm;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t}return __extends(t,e),t.prototype.getLayer=function(){return PanelLayer.panel},t.prototype.startLoadRes=function(){var e=new skins.VipSkinDR;e.runto(this,[])},t.prototype.onShow=function(t){e.prototype.onShow.call(this,t);var a=this;a.readPanelVO(),a.initAddEvent(),t&&(a.tiptxt1.text=Language.ins.vip_tip14,a.tiptxt3.text=Language.ins.vip_tip15,a.getbtn.label=Language.ins.vip_tip16,a.getdaybtn.label=Language.ins.game_canling_p,a.labelDisplay.text=Language.ins.btn_pay_p,a.daytiptxt1.text=Language.ins.vip_tip17,a.buytiptxt0.text=Language.ins.vip_tip18,a.buytiptxt1.text=Language.ins.vip_tip19,a.gifbar.ShowLabel=!0,a.daytiptxt1.text=Language.ins.vip_tip5,a.vipPrivilegeTip.text=Language.ins.vip_tip22,a.vipAddedTip.text=Language.ins.vip_tip23,a.vipPromoteTip0.text=Language.ins.vip_tip24),a.m_toppanel=MainTop2Panel.getInstance(),a.m_toppanel.setData(GlobalViewIDEnum.pType_vip),a.addChild(a.m_toppanel),a.changeShow(),a.changeTipMC(),a.resizefun()},t.prototype.readPanelVO=function(){var e=this;e.panelVo&&e.panelVo.childtype?e.m_chooseindex=e.panelVo.childtype:e.m_chooseindex=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel},t.prototype.onHide=function(t){e.prototype.onHide.call(this,t);var a=this;this.removeEvent(),utils.GameComUtil.removeAnimoSelf(a.gifmc0),utils.GameComUtil.removeAnimoSelf(a.gifmc1),utils.GameComUtil.removeAnimoSelf(a.gifmc2),utils.GameComUtil.removeListData(this.datalist),utils.GameComUtil.removeListData(a.nextLevelDataList),utils.GameComUtil.removeTextFlow(this.tiptxt5),utils.GameComUtil.removeTextFlow(this.tiptxt0)},t.prototype.changeShow=function(e){void 0===e&&(e=null);var t=this,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=a.vipLevel,n=a.vipExp;t.viptxt.text=i;var o=n,r=GlobalConfig.getVipLevelVO(o),s=o-r.minexp,l=r.maxexp-r.minexp,p=l;15==r.viplv?t.gifbar.setValue(r.minexp,r.minexp):t.gifbar.setValue(s,p),t.changeshowInfo()},t.prototype.changeshowInfo=function(){var e=this,t=GlobalAllProxy.getInstance().playerProxy.vipData,a=GlobalAllProxy.getInstance().playerProxy.playerinfo,i=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,n=e.m_chooseindex;n<GlobalConfig.minviplv+1&&(n=GlobalConfig.minviplv+1);for(var o,r=n,s=GlobalConfig.getVipVO(r),l=s.getdesArr(),p=l.length,c=p,u=[],m=0;c>m;m++)o=new VipRenderVO,p>m&&(o.upstr=l[m]),u.push(o);e.nextLevelTip0.textFlow=(new egret.HtmlTextParser).parser(s.des1);var g=s.getdes2Arr(),_=[];for(m=0;m<g.length;m++)o=new VipRenderVO,o.upstr=g[m],_.push(o);e.showData(u,_,!1),e.leftbtn.visible=!1,e.rightbtn.visible=!1,n>GlobalConfig.minviplv+1&&(e.leftbtn.visible=!0),n<GlobalConfig.maxviplv&&(e.rightbtn.visible=!0);var h=utils.GameComUtil.getItemVoArr(s.dailygift);e.daylistGroup.setDataArr(h,"",!0,!1,!0),h=utils.GameComUtil.getItemVoArr(s.vipgift),e.buylistGroup.setDataArr(h,"",!0,!1,!0),e.buyoldtxt.text=s.desprice,e.buynumtxt.text=s.cost;var d=FormatString.format(Language.ins.vip_tip21,n);e.viptiptxt.text=d,e.daytiptxt.text=FormatString.format(Language.ins.vip_tip0,n),e.buytiptxt.text=FormatString.format(Language.ins.vip_tip3,n),e.tiptxt5.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.vip_tip4,s.minexp));var y;y=r>i?r:i+1;var v,f=GlobalConfig.getVipVO(y);if(f){var b=f.minexp-a.vipExp;e.tiptxt2.text=b+GlobalConfig.getItemVo(GlobalEnum.itemid_ug).name,v=FormatString.format(Language.ins.vip_tip21,f.viplv),e.tiptxt4.text=v}else e.tiptxt2.text=0+GlobalConfig.getItemVo(GlobalEnum.itemid_ug).name,v=FormatString.format(Language.ins.vip_tip21,i),e.tiptxt4.text=v;var i=a.vipLevel;if(e.buyimg.visible=!1,e.buyitemG.visible=!1,e.getdaybtn.visible=!1,e.tipmcbackgetbtn.visible=!1,e.dayimg.visible=!1,e.daytiptxt1.visible=!1,e.getdaybtn.enabled=!0,t){var G=t.exclusiveGiftBag;if(-1==G.indexOf(n)){if(i>=n)e.buybtn.label=Language.ins.game_shopbuy,e.buybtn.enabled=!0,e.tipmcbuybtn.visible=!0;else{var x=FormatString.format(Language.ins.vip_tip20,n);e.buybtn.label=x,e.buybtn.enabled=!1,e.tipmcbuybtn.visible=!1}e.buyitemG.visible=!0}else e.buyimg.visible=!0;var C=ParamLoader.instance.ServerLoginVip,T=C.length,P=GlobalAllProxy.getInstance().playerProxy.continuousLogin,A=P-1;A>=T&&(A=T-1);var w=C[A];e.tiptxt0.textFlow=utils.GameComUtil.getHtmlText(FormatString.format(Language.ins.vip_tip1,w)),i==n?t.dailyGift?e.dayimg.visible=!0:(e.getdaybtn.visible=!0,e.tipmcbackgetbtn.visible=!0):e.daytiptxt1.visible=!0}e.showTipMcVIPGif(!1)},t.prototype.initAddEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.addMessage(game.GameCommands.VIP_DATA_CHANGE,e.eventChange),e.addMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.addMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.touchTapFun,e),e.removeMessage(game.GameCommands.VIP_DATA_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.TIP_MC_CHANGE,e.eventChange),e.removeMessage(game.GameCommands.STAGE_RESIZE,e.eventChange)},t.prototype.eventChange=function(e,t){var a=this;switch(t){case game.GameCommands.VIP_DATA_CHANGE:this.changeShow();break;case game.GameCommands.TIP_MC_CHANGE:this.changeTipMC();break;case game.GameCommands.STAGE_RESIZE:a.resizefun()}},t.prototype.touchTapFun=function(e){var t=this,a=e.target;switch(a){case t.closebtn:t.close();break;case t.m_toppanel.closebtn:t.close();break;case t.getbtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_vip_obtain]);break;case t.getdaybtn:GlobalAllProxy.getInstance().playerProxy.NetDailyVipGiftBag();break;case t.leftbtn:t.changechoose(-1);break;case t.rightbtn:t.changechoose(1);break;case t.paybtn:PanelDM.getIns().goWindow([GlobalViewIDEnum.pType_shop_pay]);break;case t.buybtn:t.buyFun(this.m_chooseindex)}},t.prototype.buyFun=function(e){var t=this;if(this.m_chooseindex){var a=this.m_chooseindex,i=GlobalConfig.getVipVO(a),n=i.cost,o=new AlertVO;o.showCancel=!0;var r=FormatString.format(Language.ins.shop_tip9,a);o.info=r,o.tipbl=!0,o.tipstr=Language.ins.fight_tip4,o.tipitemid=GlobalEnum.itemid_ug,o.tipcostid=ug_cost_type.vip_buy,o.tipitemnum=n,JAlert.show(o,Language.ins.title_tishi,t.buyToServer,t)}},t.prototype.buyToServer=function(){GlobalAllProxy.getInstance().playerProxy.NetVipExclusiveGiftBag(this.m_chooseindex)},t.prototype.changechoose=function(e){var t=this.m_chooseindex,a=t+e;a>=GlobalConfig.minviplv&&a<=GlobalConfig.maxviplv&&(this.m_chooseindex=a,this.changeshowInfo())},t.prototype.showData=function(e,t,a){var i=this,n=e,o=i.datalist;if(o.itemRenderer?o.dataProvider.replaceAll(n):(o.itemRenderer=VipRender,o.dataProvider=new eui.ArrayCollection(n)),a){var r=i.datascrollA;r&&(r.stopAnimation(),r.viewport.scrollV=0)}i.show_datascrollNextLevel(t,a)},t.prototype.show_datascrollNextLevel=function(e,t){var a=this,i=e?e:[],n=a.nextLevelDataList;if(n.itemRenderer?n.dataProvider.replaceAll(i):(n.itemRenderer=VipRender,n.dataProvider=new eui.ArrayCollection(i)),t){var o=a.datascrollNextLevel;o&&(o.stopAnimation(),o.viewport.scrollV=0)}},t.prototype.changeTipMC=function(){var e=this,t=GlobalAllProxy.getInstance().gameProxy;e.showTipMcVIP(t.getTipForArr(null,[GlobalEnum.tipmc_vipobtain]))},t.prototype.showTipMcVIP=function(e){var t=this,a=e,i=t.getbtn,n="tipgetbtn";null!=i&&(t[n]=utils.GameComUtil.getTipMcImg(t[n],i,!1,!1,new egret.Point(-10,-10)),t.getbtnG.addChild(t[n]),t[n].visible=a)},t.prototype.showTipMcVIPGif=function(e){var t=this,a=GlobalAllProxy.getInstance().playerProxy.vipData,i=!1,n=!1;if(a){var o,r=GlobalAllProxy.getInstance().playerProxy.playerinfo.vipLevel,s=1,l=(GlobalConfig.maxviplv,t.m_chooseindex),p=a.exclusiveGiftBag;for(o=s;l>o;o++)-1==p.indexOf(o)&&(i=!0);for(o=l+1;r>=o;o++)-1==p.indexOf(o)&&(n=!0)}var c=t.leftbtn,u="tipmcleftbtn",m=t.rightbtn,g="tipmcrightbtn";null!=c&&(t[u]=utils.GameComUtil.getTipMcImg(t[u],c,!1,!1,new egret.Point(-40,-10)),t.contentGroup.addChild(t[u]),t[u].visible=i),null!=m&&(t[g]=utils.GameComUtil.getTipMcImg(t[g],m,!1,!1,new egret.Point(-36,-10)),t.contentGroup.addChild(t[g]),t[g].visible=n)},t.prototype.resizefun=function(){var e=this;utils.GameComUtil.resizeBgImage(e.bgimg,Global.bginitWight,Global.bginitHeight)},t}(e.VM);e.VipView=t,__reflect(t.prototype,"vm.VipView")}(vm||(vm={}));